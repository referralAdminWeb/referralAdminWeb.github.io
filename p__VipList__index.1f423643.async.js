"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64317:function(Se,Q,t){var y=t(1413),o=t(91),X=t(22270),P=t(67294),q=t(66758),C=t(56297),D=t(85893),g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],ie=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],_=function(m,b){var A=m.fieldProps,E=m.children,M=m.params,c=m.proFieldProps,H=m.mode,K=m.valueEnum,W=m.request,N=m.showSearch,a=m.options,G=(0,o.Z)(m,g),le=(0,P.useContext)(q.Z);return(0,D.jsx)(C.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,X.h)(K),request:W,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:a,mode:H,showSearch:N,getPopupContainer:le.getPopupContainer},A),ref:b,proFieldProps:c},G),{},{children:E}))},ee=P.forwardRef(function(n,m){var b=n.fieldProps,A=n.children,E=n.params,M=n.proFieldProps,c=n.mode,H=n.valueEnum,K=n.request,W=n.options,N=(0,o.Z)(n,ie),a=(0,y.Z)({options:W,mode:c||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},b),G=(0,P.useContext)(q.Z);return(0,D.jsx)(C.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,X.h)(H),request:K,params:E,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:G.getPopupContainer},a),ref:m,proFieldProps:M},N),{},{children:A}))}),O=P.forwardRef(_),ne=ee,U=O;U.SearchSelect=ne,U.displayName="ProFormComponent",Q.Z=U},18820:function(Se,Q,t){t.r(Q),t.d(Q,{default:function(){return Le}});var y=t(15009),o=t.n(y),X=t(99289),P=t.n(X),q=t(5574),C=t.n(q),D=t(6742),g=t(65763),ie=t(90930),_=t(38521),ee=t(37476),O=t(5966),ne=t(64317),U=t(94272),n=t(2453),m=t(83622),b=t(85265),A=t(38925),E=t(71230),M=t(15746),c=t(67294),H=t(20040),K=t(93463),W=t(96068),N=t(96074),a=t(85893),G=function(de){var Y=de.guid,oe=(0,c.useState)(),J=C()(oe,2),T=J[0],ae=J[1],V=n.ZP.useMessage(),w=C()(V,2),te=w[0],ue=w[1],h=(0,U.useIntl)(),ve=(0,c.useRef)(),pe=[{title:"",dataIndex:"type",key:"type"},{title:h.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],re=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:h.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:h.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:h.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:h.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(f){return"$"+(0,g.B)(f,6)}},{title:h.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(f){return"$"+(0,g.B)(f,6)}},{title:h.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(f){return"$"+(0,g.B)(f,6)}},{},{span:2,render:function(f,r){if(!r||!r.inviteeCountList||!r.inviteeVolume24HList||r.inviteeCountList.length!==5||r.inviteeVolume24HList.length!==5)return(0,a.jsx)("div",{});var L=[{type:h.formatMessage({id:"pages.vipList.invitee"}),total:r.totalInviteeCount+"",level1:r.inviteeCountList[0]+"",level2:r.inviteeCountList[1]+"",level3:r.inviteeCountList[2]+"",level4:r.inviteeCountList[3]+"",level5:r.inviteeCountList[4]+""},{type:h.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,g.B)(r.totalInviteeVolume24H,6),level1:"$"+(0,g.B)(r.inviteeVolume24HList[0],6),level2:"$"+(0,g.B)(r.inviteeVolume24HList[1],6),level3:"$"+(0,g.B)(r.inviteeVolume24HList[2],6),level4:"$"+(0,g.B)(r.inviteeVolume24HList[3],6),level5:"$"+(0,g.B)(r.inviteeVolume24HList[4],6)}];return(0,a.jsx)(W.Z,{columns:pe,dataSource:L,pagination:!1})}}],Pe=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:h.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(f,r,L,$){return"$"+(0,g.B)(f,3)}}];return(0,c.useEffect)(function(){var x=function(){var f=P()(o()().mark(function r(){var L;return o()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return te.loading("load..."),v.prev=1,v.next=4,(0,D.DJ)(Y);case 4:L=v.sent,ae(L),v.next=11;break;case 8:v.prev=8,v.t0=v.catch(1),n.ZP.error(h.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:te.destroy();case 12:case"end":return v.stop()}},r,null,[[1,8]])}));return function(){return f.apply(this,arguments)}}();x()},[]),(0,a.jsxs)("div",{children:[T&&(0,a.jsx)(H.ZP,{column:2,title:h.formatMessage({id:"pages.vipList.detail.view"}),request:P()(o()().mark(function x(){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:T||{}});case 1:case"end":return r.stop()}},x)})),params:{guid:T==null?void 0:T.guid},columns:re}),(0,a.jsx)(N.Z,{}),(0,a.jsx)("div",{children:h.formatMessage({id:"pages.userDailyStatisticalOfTier1"})}),(0,a.jsx)(_.Z,{actionRef:ve,rowKey:"index",search:!1,pagination:{pageSize:10,pageSizeOptions:[10]},request:function(){var x=P()(o()().mark(function f(r){var L,$,v,B,F;return o()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return r.page=r==null?void 0:r.current,delete r.current,R.next=4,(0,K.eD)(Y,r.page);case 4:return F=R.sent,console.log({data:(L=F.data)===null||L===void 0?void 0:L.list,success:F.code==0,total:($=F.data)===null||$===void 0?void 0:$.total}),R.abrupt("return",{data:(v=F.data)===null||v===void 0?void 0:v.list,success:F.code==0,total:(B=F.data)===null||B===void 0?void 0:B.total});case 7:case"end":return R.stop()}},f)}));return function(f){return x.apply(this,arguments)}}(),columns:Pe})]})},le=G,z={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",row:"row___H12AQ"},xe=function(){var de=(0,c.useState)(!1),Y=C()(de,2),oe=Y[0],J=Y[1],T=(0,c.useState)(),ae=C()(T,2),V=ae[0],w=ae[1],te=(0,c.useState)(),ue=C()(te,2),h=ue[0],ve=ue[1],pe=n.ZP.useMessage(),re=C()(pe,2),Pe=re[0],x=re[1],f=(0,c.useState)(!1),r=C()(f,2),L=r[0],$=r[1],v=(0,c.useRef)(),B=(0,c.useRef)(),F=(0,c.useState)(!1),me=C()(F,2),R=me[0],Ce=me[1],Z=(0,c.useRef)(),je=(0,c.useState)(void 0),Me=C()(je,2),p=Me[0],ce=Me[1],s=(0,U.useIntl)(),ye=function(){var I=P()(o()().mark(function l(i){var d,u;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p!=null){e.next=3;break}return n.ZP.error(s.formatMessage({id:"pages.overall.user.null"})),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,(0,D.fA)(p==null?void 0:p.guid,i.vip,i.remark);case 6:return n.ZP.success(s.formatMessage({id:"pages.overall.newSvip.add.success"})),Z==null||(d=Z.current)===null||d===void 0||d.resetFields(),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(3),console.error(e.t0),e.t0!="this user is already VIP"){e.next=19;break}return n.ZP.error(s.formatMessage({id:"pages.overall.newSvip.add.exists"})),Z==null||(u=Z.current)===null||u===void 0||u.resetFields(),ce(void 0),e.abrupt("return",!1);case 19:return n.ZP.error(s.formatMessage({id:"pages.overall.newSvip.add.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},l,null,[[3,11]])}));return function(i){return I.apply(this,arguments)}}(),Fe=function(){var I=P()(o()().mark(function l(i){var d,u;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,D.Nq)(V.guid,i);case 5:if(u=e.sent,u.code===0){e.next=11;break}if(u.code!=-2){e.next=10;break}return n.ZP.error(u.msg),e.abrupt("return",!1);case 10:throw u.msg;case 11:return n.ZP.success(s.formatMessage({id:"pages.vipList.update.success"})),(d=v.current)===null||d===void 0||d.reload(),w(void 0),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),n.ZP.error(s.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},l,null,[[2,17]])}));return function(i){return I.apply(this,arguments)}}(),De=function(){var I=P()(o()().mark(function l(i){var d,u;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.target.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,D.V8)(i.target.value);case 5:d=e.sent,d!==void 0&&(u={guid:d.guid,tgUsername:d.tgUsername,email:d.email,vip:d.vip},ce(u)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),ce(void 0),n.ZP.error(s.formatMessage({id:"pages.overall.user.notFound"}));case 13:case"end":return e.stop()}},l,null,[[0,9]])}));return function(i){return I.apply(this,arguments)}}(),Ee=[{title:"ID",dataIndex:"id",hideInSearch:!0,sorter:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:s.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:s.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:s.formatMessage({id:"pages.vipList.invitee1Count"}),dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:s.formatMessage({id:"pages.vipList.invitee1Count24"}),dataIndex:"invitee1Count24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:s.formatMessage({id:"pages.vipList.invitee1Volume24"}),dataIndex:"invitee1Volume24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0,renderText:function(l){return"$"+(0,g.B)(l,3)}},{title:s.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",hideInSearch:!0,hideInDescriptions:!0,renderText:function(l){return"$"+(0,g.B)(l,3)}},{title:s.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:s.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(l,i){var d=[(0,a.jsx)(m.ZP,{type:"link",onClick:function(){var j;w(i),(j=B.current)===null||j===void 0||j.setFieldValue("remark",i.remark),requestAnimationFrame(function(){J(!0)})},children:s.formatMessage({id:"pages.vipList.editRemark"})}),(0,a.jsx)(m.ZP,{type:"link",onClick:function(){w(i),$(!0)},children:s.formatMessage({id:"pages.vipList.detail"})},"view")];return d}}];return(0,a.jsxs)(ie._z,{children:[(0,a.jsx)(_.Z,{actionRef:v,rowKey:"guid",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsx)("div",{children:(0,a.jsx)(m.ZP,{type:"link",onClick:function(){Ce(!0)},children:s.formatMessage({id:"pages.overall.vip.newVip"})})})]},request:function(){var I=P()(o()().mark(function l(i,d){var u,j,e,fe,ge,he,Ie,se,k;return o()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:ge=!1,he="",S.t0=o()().keys(d);case 3:if((S.t1=S.t0()).done){S.next=11;break}return Ie=S.t1.value,he=Ie,se=d[Ie],(se==null?void 0:se.toString())=="descend"&&(ge=!0),S.abrupt("break",11);case 11:return i.page=i==null?void 0:i.current,delete i.current,S.next=15,(0,D.zc)(i,he,ge);case 15:return k=S.sent,console.log({data:(u=k.data)===null||u===void 0?void 0:u.list,success:k.code==0,total:(j=k.data)===null||j===void 0?void 0:j.total}),S.abrupt("return",{data:(e=k.data)===null||e===void 0?void 0:e.list,success:k.code==0,total:(fe=k.data)===null||fe===void 0?void 0:fe.total});case 18:case"end":return S.stop()}},l)}));return function(l,i){return I.apply(this,arguments)}}(),columns:Ee}),(0,a.jsx)(ee.Y,{formRef:B,title:s.formatMessage({id:"pages.vipList.editRemark"}),open:oe,onFinish:Fe,onOpenChange:J,children:(0,a.jsx)(O.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,a.jsx)(b.Z,{width:600,open:L,onClose:function(){w(void 0),ve(void 0),$(!1)},closable:!1,children:V&&(0,a.jsx)(le,{guid:V==null?void 0:V.guid})}),(0,a.jsxs)(ee.Y,{title:"Add SVIP",layout:"horizontal",formRef:Z,labelCol:{span:8},wrapperCol:{span:16},open:R,onFinish:ye,onOpenChange:function(l){var i;Z==null||(i=Z.current)===null||i===void 0||i.resetFields(),Ce(l)},children:[(0,a.jsx)(O.Z,{width:"md",name:"refCode",label:s.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:s.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:De,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,a.jsx)(ne.Z,{width:"md",name:"vip",label:s.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:s.formatMessage({id:"pages.overall.vip.list.vip1"}),vip2:s.formatMessage({id:"pages.overall.vip.list.vip2"}),vip3:s.formatMessage({id:"pages.overall.vip.list.vip3"}),svip:s.formatMessage({id:"pages.overall.vip.list.svip"})},rules:[{required:!0,message:"Please select vip!"}]}),(0,a.jsx)(O.Z,{width:"md",name:"remark",label:s.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:s.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),p&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsxs)("div",{style:{width:400},children:[(0,a.jsx)(A.Z,{message:"User Found",type:"success",showIcon:!0}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(E.Z,{className:z.row,children:[(0,a.jsx)(M.Z,{className:z.label,span:6,children:"Guid:"}),(0,a.jsx)(M.Z,{span:12,children:p==null?void 0:p.guid})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsx)(M.Z,{className:z.label,span:6,children:"Tg Username:"}),(0,a.jsx)(M.Z,{span:12,children:p==null?void 0:p.tgUsername})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsx)(M.Z,{className:z.label,span:6,children:"Email:"}),(0,a.jsx)(M.Z,{span:12,children:p==null?void 0:p.email})]}),(0,a.jsxs)(E.Z,{children:[(0,a.jsx)(M.Z,{className:z.label,span:6,children:"Vip:"}),(0,a.jsx)(M.Z,{span:12,children:p==null?void 0:p.vip})]})]})]})})]})]})},Le=xe}}]);
