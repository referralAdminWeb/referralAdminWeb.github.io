(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[889],{53275:function(De,B,a){"use strict";a.r(B),a.d(B,{default:function(){return te}});var Q=a(64599),i=a.n(Q),X=a(15009),L=a.n(X),q=a(99289),U=a.n(q),_=a(5574),m=a.n(_),ee=a(21292),l=a(65763),g=a(94272),Y=a(45433),y=a(4393),C=a(83622),R=a(78957),s=a(78045),c=a(74330),h=a(74656),S=a(96068),Z=a(27484),p=a.n(Z),u=a(67294),x=a(84105),t=a(85893),T=Y.default.RangePicker,ae=function(){var W=(0,u.useState)("all"),P=m()(W,2),M=P[0],re=P[1],f=(0,g.useIntl)(),K=u.useState(!1),D=m()(K,2),N=D[0],j=D[1],H=u.useState([]),A=m()(H,2),V=A[0],k=A[1],F=u.useState("total"),w=m()(F,2),o=w[0],je=w[1],fe=[{value:"total",label:"\u5168\u90E8"},{value:"zh-cn",label:"\u4E2D\u6587"},{value:"en",label:"\u82F1\u8BED"},{value:"vi",label:"\u8D8A\u5357\u8BED"},{value:"id",label:"\u5370\u5C3C\u8BED"}],ne=p()().startOf("day"),ce=ne.add(-7,"day"),Ee=[ce,ne],Ie=u.useState(ce.format("YYYY-MM-DD")),ve=m()(Ie,2),le=ve[0],Ue=ve[1],Re=u.useState(ne.format("YYYY-MM-DD")),de=m()(Re,2),G=de[0],Ne=de[1],Te=function(r,e){Ue(e[0]),Ne(e[1])},se=[{title:f.formatMessage({id:"type"}),dataIndex:"type",key:"type",onCell:function(r,e){return e===void 0?{rowSpan:1}:e===0?{rowSpan:5}:e>0&&e<5?{rowSpan:0}:e===6?{rowSpan:5}:e>6&&e<11?{rowSpan:0}:e===11?{colSpan:2}:{rowSpan:1}}},{title:"\u5E73\u53F0",dataIndex:"platform",key:"platform",onCell:function(r,e){return e===11?{colSpan:0}:{rowSpan:1}}},{title:"\u603B\u4EA4\u6613\u91CF",dataIndex:"totalVolume",key:"totalVolume",render:function(r,e){return(0,l.BW)(e.totalVolume,3)}},{title:"\u603B\u4EA4\u6613\u7B14\u6570",dataIndex:"totalCount",key:"totalCount"},{title:"\u603B\u624B\u7EED\u8D39\u6536\u5165",dataIndex:"totalFee",key:"totalFee",render:function(r,e){return(0,l.BW)(e.totalFee,3)}},{title:"\u603B\u5171\u4EA4\u6613\u4F63\u91D1",dataIndex:"commissionFee",key:"commissionFee",render:function(r,e){return e.type==="tg"||e.type==="total"?(0,l.BW)(e.commissionFee,3):"-"}},{title:"\u603B\u4EA4\u6613\u5229\u6DA6",dataIndex:"platformFee",key:"platformFee",render:function(r,e){return(0,l.BW)(e.platformFee,3)}},{title:"\u603B\u6CE8\u518C\u7528\u6237\u6570",dataIndex:"totalUserCount",key:"totalUserCount",render:function(r,e){return e.type==="tg"||e.type==="total"?e.totalUserCount:"-"}},{title:"\u603B\u6D3B\u8DC3\u5730\u5740",dataIndex:"totalAciveWalletCount",key:"totalAciveWalletCount"},{title:"\u65B0\u589E\u6CE8\u518C\u7528\u6237",dataIndex:"NewUserCount",key:"NewUserCount",render:function(r,e){return e.type==="tg"||e.type==="total"?e.NewUserCount:"-"}},{title:"\u65B0\u589E\u4EA4\u6613\u7528\u6237",dataIndex:"NewTransferUserCount",key:"NewTransferUserCount",render:function(r,e){return e.type==="tg"||e.type==="total"?e.NewTransferUserCount:"-"}}],ie=function(){var n=U()(L()().mark(function r(){var e;return L()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j(!0),E.next=3,(0,ee.getBotData)(o,le,G,M=="exclude");case 3:e=E.sent,e.code===0&&e.data&&k(e.data),j(!1);case 6:case"end":return E.stop()}},r)}));return function(){return n.apply(this,arguments)}}();(0,u.useEffect)(function(){ie()},[]),(0,u.useEffect)(function(){ie()},[o,le,G,M]);function We(){var n=[];if(se){var r=[],e=i()(se),oe;try{for(e.s();!(oe=e.n()).done;){var E=oe.value;r.push(E.title)}}catch(I){e.e(I)}finally{e.f()}n.push(r);var b=i()(V),he;try{for(b.s();!(he=b.n()).done;){var d=he.value,v=[];v.push(d.type),v.push(d.platform),v.push(d.totalVolume),v.push(d.totalCount),v.push(d.totalFee),v.push(d.commissionFee),v.push(d.platformFee),v.push(d.totalUserCount),v.push(d.totalAciveWalletCount),v.push(d.NewUserCount),v.push(d.NewTransferUserCount),n.push(v)}}catch(I){b.e(I)}finally{b.f()}}var O=x.P6.aoa_to_sheet(n);O["!merges"]=[{s:{r:1,c:0},e:{r:5,c:0}},{s:{r:7,c:0},e:{r:11,c:0}},{s:{r:12,c:0},e:{r:12,c:1}}];for(var Ae=["F","H","J","K"],Fe=[7,8,9,10,11,12],ue=0,pe=Ae;ue<pe.length;ue++){var me=pe[ue],z=i()(Fe),ge;try{for(z.s();!(ge=z.n()).done;){var ye=ge.value;O["".concat(me).concat(ye)].v="-",O["".concat(me).concat(ye)].t="s"}}catch(I){z.e(I)}finally{z.f()}}console.log("worksheet",O);var Ce=x.P6.book_new();x.P6.book_append_sheet(Ce,O,"Sheet1");var Se="";M=="exclude"&&(Se="(".concat(f.formatMessage({id:"excludeAltcoinPairs"})).concat(G,")"));var xe="",J=i()(fe),Pe;try{for(J.s();!(Pe=J.n()).done;){var Me=Pe.value;if(Me.value===o){xe=Me.label;break}}}catch(I){J.e(I)}finally{J.f()}var Oe="".concat(le.replaceAll("-",""),"-").concat(G.replaceAll("-","")).concat(xe).concat(Se,".xlsx");x.NC(Ce,Oe)}return(0,t.jsx)(y.Z,{extra:(0,t.jsxs)("div",{className:"card-tools",children:[(0,t.jsx)(C.ZP,{className:"export",onClick:We,type:"link",children:f.formatMessage({id:"export"})}),(0,t.jsx)(R.Z,{children:(0,t.jsxs)(s.ZP.Group,{value:M,onChange:function(r){return re(r.target.value)},children:[(0,t.jsx)(s.ZP.Button,{value:"all",children:f.formatMessage({id:"all"})}),(0,t.jsx)(s.ZP.Button,{value:"exclude",children:f.formatMessage({id:"excludeAltcoinPairs"})})]})})]}),children:(0,t.jsxs)(c.Z,{spinning:N,tip:f.formatMessage({id:"loading"}),children:[(0,t.jsxs)("div",{className:"search",children:[(0,t.jsxs)("div",{className:"item",children:[(0,t.jsx)("div",{className:"label",children:f.formatMessage({id:"languageZon"})+":"}),(0,t.jsx)(h.Z,{style:{width:120},onChange:function(r){je(r)},options:fe,value:o})]}),(0,t.jsxs)("div",{className:"item",children:[(0,t.jsx)("div",{className:"label",children:f.formatMessage({id:"period"})+":"}),(0,t.jsx)(T,{onChange:Te,defaultValue:Ee})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(S.Z,{columns:se,dataSource:V,pagination:!1})})]})})},te=ae},65763:function(De,B,a){"use strict";a.d(B,{BW:function(){return _},q0:function(){return ee},rD:function(){return m}});var Q=a(64599),i=a.n(Q),X=a(27484),L=a.n(X),q=a(90482),U=a(84105);function _(l,g){if(!l)return"";var Y=new q.Z(l),y=l.split(".");if(y.length!==2)return l;for(var C=y[0],R=y[1],s=0,c="",h=0;h<R.length;h++){var S=R[h];if(c.length>=g)break;S=="0"&&c.length==0?s=s+1:c=c+S}return s>3?C+".0{"+s+"}"+c:C+"."+"0".repeat(s)+c}function m(l,g,Y,y,C,R){var s=new Set,c=new Set,h=i()(y),S;try{for(h.s();!(S=h.n()).done;){var Z=S.value;s.add(Z[l]),c.add(Z[g])}}catch(o){h.e(o)}finally{h.f()}console.log("mainKeyList",s),console.log("timeKeyList",c);var p=new Map,u=i()(y),x;try{for(u.s();!(x=u.n()).done;){var t=x.value,T=t[g],ae=t[l],te=t[Y];p.has(T)||p.set(T,new Map),p.get(T).set(ae,te)}}catch(o){u.e(o)}finally{u.f()}console.log("tempMap",p);var $=[],W=[];W.push("time");var P=i()(s),M;try{for(P.s();!(M=P.n()).done;){var re=M.value;W.push(re)}}catch(o){P.e(o)}finally{P.f()}$.push(W);var f=i()(c),K;try{for(f.s();!(K=f.n()).done;){var D=K.value,N=[];N.push(D);var j=i()(s),H;try{for(j.s();!(H=j.n()).done;){var A=H.value;p.has(D)&&p.get(D).has(A)?N.push(p.get(D).get(A)):N.push("")}}catch(o){j.e(o)}finally{j.f()}$.push(N)}}catch(o){f.e(o)}finally{f.f()}var V=U.P6.aoa_to_sheet($),k=U.P6.book_new();U.P6.book_append_sheet(k,V,"Sheet1");var F="";C=="daily"?F="(\u6BCF\u65E5)":C=="monthly"&&(F="(\u6BCF\u6708)");var w="".concat(L()().format("YYYYMMDDHHmmss")).concat(R.replaceAll(" ","")).concat(F,".xlsx");U.NC(k,w)}function ee(l){var g=parseFloat(l);return g.toLocaleString("en-US")}},20067:function(){}}]);
