(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[241],{57660:function(_,V,e){"use strict";e.r(V),e.d(V,{default:function(){return B}});var w=e(15009),v=e.n(w),G=e(99289),F=e.n(G),X=e(5574),C=e.n(X),Z=e(11698),U=e(65763),J=e(90930),Q=e(21657),z=e(94272),k=e(58073),u=e(86738),c=e(2453),K=e(83622),y=e(67294),T=e(37476),g=e(34994),P=e(55102),m=e(37804),W=e(72269),E=e(52720),a=e(85893),b=function(j){var D=j.visible,L=j.onVisibleChange,A=j.onFinish,o=j.currentUser,p=(0,y.useRef)(),I=(0,z.useIntl)(),R=function(){var f=F()(v()().mark(function t(n){var d,r;return v()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,r=o.guid,s.next=4,Z.Z.thirdParty.update(r,n.orgName,n.tradingFeeRate,n.commissionRate,n.icon,n.isPublic,n.maxDelegateWallets,n.chainWalletWriteLimit,n.delegateWalletWriteLimit);case 4:c.ZP.success("success"),L(!1),A(),(d=p.current)===null||d===void 0||d.resetFields(),s.next=15;break;case 10:return s.prev=10,s.t0=s.catch(0),console.error(s.t0),c.ZP.error("error: "+String(s.t0)),s.abrupt("return",!1);case 15:case"end":return s.stop()}},t,null,[[0,10]])}));return function(n){return f.apply(this,arguments)}}();return(0,y.useEffect)(function(){if(o){var f;(f=p.current)===null||f===void 0||f.setFieldsValue({orgName:o.orgName,tradingFeeRate:o.tradingFeeRate/100,commissionRate:o.commissionRate/100,icon:o.icon,isPublic:o.isPublic,maxDelegateWallets:o.maxDelegateWallets,chainWalletWriteLimit:o.chainWalletWriteLimit,delegateWalletWriteLimit:o.delegateWalletWriteLimit})}}),(0,a.jsxs)(T.Y,{open:D,onOpenChange:function(t){if(!t){var n;p==null||(n=p.current)===null||n===void 0||n.resetFields(),L(t)}},clearOnDestroy:!0,onFinish:R,formRef:p,children:[(0,a.jsx)(g.A.Item,{name:"orgName",label:I.formatMessage({id:"pages.thirdParty.orgName"}),rules:[{required:!0,message:"Please enter Organization Name!"}],normalize:function(t){return t==null?void 0:t.trim()},children:(0,a.jsx)(P.Z,{max:24})}),(0,a.jsx)(g.A.Item,{name:"tradingFeeRate",label:I.formatMessage({id:"pages.thirdParty.tradingFeeRate"}),rules:[{required:!0,message:"Please enter Trading Fee Rate!"}],initialValue:2,children:(0,a.jsx)(m.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:2})}),(0,a.jsx)(g.A.Item,{name:"commissionRate",label:I.formatMessage({id:"pages.thirdParty.commissionRate"}),rules:[{required:!0,message:"Please enter Commission Rate!"}],initialValue:30,children:(0,a.jsx)(m.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:60})}),(0,a.jsx)(g.A.Item,{name:"icon",label:I.formatMessage({id:"icon"}),children:(0,a.jsx)(E.Ur,{uploadFinish:function(t){var n;(n=p.current)===null||n===void 0||n.setFieldsValue({icon:t})},url:o==null?void 0:o.icon})}),(0,a.jsx)(g.A.Item,{name:"isPublic",label:I.formatMessage({id:"pages.thirdParty.isPublic"}),initialValue:!0,children:(0,a.jsx)(W.Z,{})}),(0,a.jsx)(g.A.Item,{name:"maxDelegateWallets",label:I.formatMessage({id:"pages.thirdParty.maxDelegateWallets"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:999999999})}),(0,a.jsx)(g.A.Item,{name:"chainWalletWriteLimit",label:I.formatMessage({id:"pages.thirdParty.chainWalletWriteLimit"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:99999})}),(0,a.jsx)(g.A.Item,{name:"delegateWalletWriteLimit",label:I.formatMessage({id:"pages.thirdParty.delegateWalletWriteLimit"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:99999})})]})},N=b,Y=function(){var j=(0,y.useState)(void 0),D=C()(j,2),L=D[0],A=D[1],o=(0,y.useState)(!1),p=C()(o,2),I=p[0],R=p[1],f=(0,y.useRef)(),t=(0,z.useIntl)(),n=[{title:t.formatMessage({id:"icon"}),dataIndex:"icon",hideInSearch:!0,render:function(r,i){return i.icon?(0,a.jsx)(k.Z,{src:i.icon,width:32,height:32}):(0,a.jsx)("div",{})}},{title:t.formatMessage({id:"name"}),dataIndex:"orgName",hideInSearch:!0},{title:"Guid",dataIndex:"guid",formItemProps:{normalize:function(r){return r==null?void 0:r.trim()}}},{title:"Email",dataIndex:"email",hideInSearch:!0},{title:t.formatMessage({id:"status"}),dataIndex:"status",hideInSearch:!0,valueEnum:{enabled:{text:"Enabled",color:"green"},disabled:{text:"Disabled",color:"red"}}},{title:t.formatMessage({id:"pages.thirdParty.userNums"}),dataIndex:"userNums",hideInSearch:!0},{title:t.formatMessage({id:"pages.thirdParty.volumes"}),dataIndex:"volumes",hideInSearch:!0,renderText:function(r){return"$"+(0,U.BW)(r,3)}},{title:t.formatMessage({id:"pages.thirdParty.txns"}),dataIndex:"txns",hideInSearch:!0},{title:t.formatMessage({id:"pages.thirdParty.feeRate"}),dataIndex:"tradingFeeRate",hideInSearch:!0,renderText:function(r){return r/100+"%"}},{title:t.formatMessage({id:"pages.thirdParty.commissionRate"}),dataIndex:"commissionRate",hideInSearch:!0,renderText:function(r){return r/100+"%"}},{title:t.formatMessage({id:"pages.thirdParty.channelCommission"}),dataIndex:"channelCommission",hideInSearch:!0,renderText:function(r){return"$"+(0,U.BW)(r,3)}},{title:"API Key",dataIndex:"apiKey",hideInSearch:!0},{title:"Package",dataIndex:"aveCloudLevel",hideInSearch:!0,valueEnum:{0:{text:"Free",color:"blue"},1:{text:"Level1",color:"green"},2:{text:"Level2",color:"green"},3:{text:"Level3",color:"green"},4:{text:"Enterprise",color:"red"}}},{title:"Chain Write Limit",dataIndex:"chainWalletWriteLimit",hideInSearch:!0},{title:"Bot Write Limit",dataIndex:"delegateWalletWriteLimit",hideInSearch:!0},{title:"Delegate Wallets",hideInSearch:!0,render:function(r,i){return"".concat(i.currentDelegateWalletCount,"/").concat(i.maxDelegateWallets)}},{title:"IsPublic",dataIndex:"isPublic",hideInSearch:!0,valueEnum:{true:{text:"Y",color:"green"},false:{text:"N",color:"red"}}},{title:t.formatMessage({id:"options"}),hideInSearch:!0,render:function(r,i){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{title:"Reset API Key",description:"Are you sure to Reset API Key?",onConfirm:F()(v()().mark(function s(){var S;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Z.Z.thirdParty.resetApiKey(i.guid);case 3:c.ZP.success("Reset API Key success"),(S=f.current)===null||S===void 0||S.reload(),h.next=12;break;case 7:return h.prev=7,h.t0=h.catch(0),console.error(h.t0),c.ZP.error("Reset API Key error:"+String(h.t0)),h.abrupt("return",!1);case 12:case"end":return h.stop()}},s,null,[[0,7]])})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(K.ZP,{type:"link",children:"Reset API Key"})}),(0,a.jsx)(u.Z,{title:"Send API Key",description:"Are you sure to Send API Key to ".concat(i.email,"?"),onConfirm:F()(v()().mark(function s(){return v()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Z.Z.thirdParty.sendApiKey(i.guid);case 3:c.ZP.success("Send API Key success"),l.next=11;break;case 6:return l.prev=6,l.t0=l.catch(0),console.error(l.t0),c.ZP.error("Send API Key error:"+String(l.t0)),l.abrupt("return",!1);case 11:case"end":return l.stop()}},s,null,[[0,6]])})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(K.ZP,{type:"link",children:"Send API Key"})}),(0,a.jsx)(K.ZP,{type:"link",onClick:function(){A(i),R(!0)},children:"Edit"})]})}}];return(0,a.jsxs)(J._z,{children:[(0,a.jsx)(Q.Z,{actionRef:f,rowKey:"guid",search:{labelWidth:120},columns:n,request:function(){var d=F()(v()().mark(function r(i,s){var S,l,h,x,q,$,H;return v()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:h=!1,x="",M.t0=v()().keys(s);case 3:if((M.t1=M.t0()).done){M.next=11;break}return q=M.t1.value,x=q,$=s[q],($==null?void 0:$.toString())=="descend"&&(h=!0),M.abrupt("break",11);case 11:return i.page=i==null?void 0:i.current,delete i.current,M.next=15,Z.Z.thirdParty.getPageList(i);case 15:return H=M.sent,M.abrupt("return",{data:(S=H.data)===null||S===void 0?void 0:S.list,success:H.code==0,total:(l=H.data)===null||l===void 0?void 0:l.total});case 17:case"end":return M.stop()}},r)}));return function(r,i){return d.apply(this,arguments)}}(),scroll:{x:!0}}),(0,a.jsx)(N,{visible:I,onVisibleChange:function(r){R(r),r||A(void 0)},onFinish:function(){var r;(r=f.current)===null||r===void 0||r.reload(),A(void 0)},currentUser:L||void 0})]})},B=Y},65763:function(_,V,e){"use strict";e.d(V,{BW:function(){return Z},Cd:function(){return Q},Cy:function(){return z},XI:function(){return k},q0:function(){return J},rD:function(){return U}});var w=e(64599),v=e.n(w),G=e(27484),F=e.n(G),X=e(90482),C=e(84105);function Z(u,c){if(!u)return"";var K=new X.Z(u),y=u.split(".");if(y.length!==2)return u;for(var T=y[0],g=y[1],P=0,m="",W=0;W<g.length;W++){var E=g[W];if(m.length>=c)break;E=="0"&&m.length==0?P=P+1:m=m+E}return P>3?T+".0{"+P+"}"+m:T+"."+"0".repeat(P)+m}function U(u,c,K,y,T,g){var P=new Set,m=new Set,W=v()(y),E;try{for(W.s();!(E=W.n()).done;){var a=E.value;P.add(a[u]),m.add(a[c])}}catch(x){W.e(x)}finally{W.f()}console.log("mainKeyList",P),console.log("timeKeyList",m);var b=new Map,N=v()(y),Y;try{for(N.s();!(Y=N.n()).done;){var B=Y.value,O=B[c],j=B[u],D=B[K];b.has(O)||b.set(O,new Map),b.get(O).set(j,D)}}catch(x){N.e(x)}finally{N.f()}console.log("tempMap",b);var L=[],A=[];A.push("time");var o=v()(P),p;try{for(o.s();!(p=o.n()).done;){var I=p.value;A.push(I)}}catch(x){o.e(x)}finally{o.f()}L.push(A);var R=v()(m),f;try{for(R.s();!(f=R.n()).done;){var t=f.value,n=[];n.push(t);var d=v()(P),r;try{for(d.s();!(r=d.n()).done;){var i=r.value;b.has(t)&&b.get(t).has(i)?n.push(b.get(t).get(i)):n.push("")}}catch(x){d.e(x)}finally{d.f()}L.push(n)}}catch(x){R.e(x)}finally{R.f()}var s=C.P6.aoa_to_sheet(L),S=C.P6.book_new();C.P6.book_append_sheet(S,s,"Sheet1");var l="";T=="daily"?l="(\u6BCF\u65E5)":T=="monthly"&&(l="(\u6BCF\u6708)");var h="".concat(F()().format("YYYYMMDDHHmmss")).concat(g.replaceAll(" ","")).concat(l,".xlsx");C.NC(S,h)}function J(u){var c=parseFloat(u);return c.toLocaleString("en-US")}function Q(u,c){return u?u.length<=2*c?u:u.slice(0,c)+"***"+u.slice(-c):""}var z=[{chain:"bsc",name:"BSC"},{chain:"solana",name:"Solana"},{chain:"eth",name:"ETH"},{chain:"base",name:"Base"},{chain:"core",name:"Core"},{chain:"ton",name:"Ton"},{chain:"tron",name:"Tron"},{chain:"sui",name:"Sui"},{chain:"hyperevm",name:"HyperEVM"},{chain:"polygon",name:"Polygon"},{chain:"xlayer",name:"XLayer"},{chain:"morph",name:"Morph"},{chain:"plasma",name:"Plasma"},{chain:"opbnb",name:"opBNB"},{chain:"arbitrum",name:"Arbitrum"},{chain:"monad",name:"Monad"}],k=[{chain:"bsc",name:"BSC"},{chain:"solana",name:"Solana"},{chain:"eth",name:"ETH"},{chain:"base",name:"Base"},{chain:"polygon",name:"Polygon"},{chain:"xlayer",name:"XLayer"}]},20067:function(){}}]);
