(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(je,ue,r){"use strict";r.d(ue,{F:function(){return ee}});var ve=r(15009),c=r.n(ve),ge=r(99289),N=r.n(ge),ce=r(5574),u=r.n(ce),fe=r(92276),me=r(6742),C=r(65763),J=r(94272),x=r(2453),b=r(96074),Y=r(96068),i=r(67294),O=r(92861),h={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},L=r(97857),l=r.n(L),E=r(93463),F=r(48096),e=r(85893),A=function(P){var v,T=P.guid,w=(0,i.useState)("1"),f=u()(w,2),I=f[0],R=f[1],$=(0,i.useState)(!1),j=u()($,2),S=j[0],B=j[1],z=(0,i.useState)([]),U=u()(z,2),H=U[0],Z=U[1],k=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),W=u()(k,2),y=W[0],m=W[1],o=(0,J.useIntl)(),_=[{key:"1",label:o.formatMessage({id:"tier1"})},{key:"2",label:o.formatMessage({id:"tier2"})},{key:"3",label:o.formatMessage({id:"tier3"})},{key:"4",label:o.formatMessage({id:"tier4"})},{key:"5",label:o.formatMessage({id:"tier5"})}],D=[{title:o.formatMessage({id:"date"}),dataIndex:"time"},{title:o.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:o.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:o.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,C.BW)(t,3)}},{title:o.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],K=function(t,n,d){var a;m({pagination:t}),t.pageSize!==((a=y.pagination)===null||a===void 0?void 0:a.pageSize)&&Z([])},V=function(){var g=N()(c()().mark(function t(){var n,d,a,p;return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return B(!0),a=Number(I),s.next=4,(0,E.getTierDailyStatisticaPageList)(T,a,(n=(d=y.pagination)===null||d===void 0?void 0:d.current)!==null&&n!==void 0?n:1);case 4:p=s.sent,p.data&&(Z(p.data.list),m(l()(l()({},y),{},{pagination:l()(l()({},y.pagination),{},{total:p.data.total})})),B(!1));case 6:case"end":return s.stop()}},t)}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){V()},[(v=y.pagination)===null||v===void 0?void 0:v.current]),(0,i.useEffect)(function(){V()},[I]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:o.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(F.Z,{defaultActiveKey:I,items:_,onChange:function(t){return R(t)}}),(0,e.jsx)(Y.Z,{columns:D,rowKey:function(t){return t.time},dataSource:H,pagination:y.pagination,loading:S,onChange:K})]})},X=A,le=r(74656),te=r(26915),re=r(83622),pe=r(27484),he=r.n(pe),se=function(P){var v,T=P.guid,w=(0,i.useState)(!1),f=u()(w,2),I=f[0],R=f[1],$=(0,i.useState)([]),j=u()($,2),S=j[0],B=j[1],z=(0,i.useState)("guid"),U=u()(z,2),H=U[0],Z=U[1],k=(0,i.useState)(""),W=u()(k,2),y=W[0],m=W[1],o=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),_=u()(o,2),D=_[0],K=_[1],V=(0,J.useIntl)(),g=[{title:"Register Time",dataIndex:"createTime",render:function(M,s){return he()(s.createTime).format("YYYY-MM-DD")}},{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"}],t=function(M,s,G){var Q;K({pagination:M}),M.pageSize!==((Q=D.pagination)===null||Q===void 0?void 0:Q.pageSize)&&B([])},n=function(){var p=N()(c()().mark(function M(){var s,G,Q,Se,ye,Ce,de;return c()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return R(!0),ye=(s=(G=D.pagination)===null||G===void 0?void 0:G.current)!==null&&s!==void 0?s:1,Ce=(Q=(Se=D.pagination)===null||Se===void 0?void 0:Se.pageSize)!==null&&Q!==void 0?Q:10,ne.next=5,O.Z.userData.getFirstTirerList(T,ye,Ce,H,y);case 5:de=ne.sent,de.data&&(B(de.data.list),K(l()(l()({},D),{},{pagination:l()(l()({},D.pagination),{},{total:de.data.total})})),R(!1));case 7:case"end":return ne.stop()}},M)}));return function(){return p.apply(this,arguments)}}();(0,i.useEffect)(function(){n()},[(v=D.pagination)===null||v===void 0?void 0:v.current]);var d=function(){var p=N()(c()().mark(function M(){return c()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:K(l()(l()({},D),{},{pagination:l()(l()({},D.pagination),{},{current:1})})),n();case 2:case"end":return G.stop()}},M)}));return function(){return p.apply(this,arguments)}}(),a=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:V.formatMessage({id:"pages.vipList.listOfTirer1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(le.Z,{options:a,value:H,onChange:Z})}),(0,e.jsx)("div",{children:(0,e.jsx)(te.Z,{value:y,onChange:function(M){return m(M.target.value)}})}),(0,e.jsx)("div",{children:(0,e.jsx)(re.ZP,{onClick:d,children:V.formatMessage({id:"search"})})})]}),(0,e.jsx)(Y.Z,{columns:g,rowKey:function(M){return M.guid},dataSource:S,pagination:D.pagination,loading:I,onChange:t})]})},ie=se,q=function(P){var v,T=P.guid,w=(0,i.useState)("1"),f=u()(w,2),I=f[0],R=f[1],$=(0,i.useState)(!1),j=u()($,2),S=j[0],B=j[1],z=(0,i.useState)([]),U=u()(z,2),H=U[0],Z=U[1],k=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),W=u()(k,2),y=W[0],m=W[1],o=(0,J.useIntl)(),_=[{key:"1",label:o.formatMessage({id:"tier1"})},{key:"2",label:o.formatMessage({id:"tier2"})},{key:"3",label:o.formatMessage({id:"tier3"})},{key:"4",label:o.formatMessage({id:"tier4"})},{key:"5",label:o.formatMessage({id:"tier5"})}],D=[{title:o.formatMessage({id:"date"}),dataIndex:"time"},{title:o.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:o.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:o.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,C.BW)(t,3)}},{title:o.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],K=function(t,n,d){var a;m({pagination:t}),t.pageSize!==((a=y.pagination)===null||a===void 0?void 0:a.pageSize)&&Z([])},V=function(){var g=N()(c()().mark(function t(){var n,d,a,p;return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return B(!0),a=Number(I),s.next=4,(0,E.getTierMonthlyStatisticaPageList)(T,a,(n=(d=y.pagination)===null||d===void 0?void 0:d.current)!==null&&n!==void 0?n:1);case 4:p=s.sent,p.data&&(Z(p.data.list),m(l()(l()({},y),{},{pagination:l()(l()({},y.pagination),{},{total:p.data.total})})),B(!1));case 6:case"end":return s.stop()}},t)}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){V()},[(v=y.pagination)===null||v===void 0?void 0:v.current]),(0,i.useEffect)(function(){V()},[I]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:o.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(F.Z,{defaultActiveKey:I,items:_,onChange:function(t){return R(t)}}),(0,e.jsx)(Y.Z,{columns:D,rowKey:function(t){return t.time},dataSource:H,pagination:y.pagination,loading:S,onChange:K})]})},oe=q,xe=function(P){var v=P.guid,T=(0,i.useState)(void 0),w=u()(T,2),f=w[0],I=w[1],R=(0,i.useState)(),$=u()(R,2),j=$[0],S=$[1],B=(0,i.useState)([]),z=u()(B,2),U=z[0],H=z[1],Z=x.ZP.useMessage(),k=u()(Z,2),W=k[0],y=k[1],m=(0,J.useIntl)(),o=[{title:"",dataIndex:"type",key:"type"},{title:m.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],_=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:m.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:m.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:m.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2}],D=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:m.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(t,n,d,a){return"$"+(0,C.BW)(t,3)}}],K=function(){var g=N()(c()().mark(function t(){var n;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.Z.rebate.getRebateDetail(v);case 2:n=a.sent,n.data&&I(n.data);case 4:case"end":return a.stop()}},t)}));return function(){return g.apply(this,arguments)}}(),V=function(){if(f){var t=[],n=[];return f.platformList.forEach(function(d){n.push(d.platform);var a="";d.platform=="tg"?a="Channel TG Rebate Ratio:":d.platform=="web"?a="Channel Web Rebate Ratio:":d.platform=="third"&&(a="3rd Party Channel Rebate Ratio:"),t.push((0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:a}),(0,e.jsxs)("span",{children:[" ",d.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",n.join("/")]})]}),t,(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:"Referral Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(f.refCommission,3)]})]}),(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:"Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(f.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:m.formatMessage({id:"pages.vipList.totalCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(f.totalCommission,3)]})]}),(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:m.formatMessage({id:"pages.vipList.unclaimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(f.unclaimedCommission,3)]})]}),(0,e.jsxs)("div",{className:h.row,children:[(0,e.jsx)("span",{className:h.label2,children:m.formatMessage({id:"pages.vipList.claimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(f.claimedCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,i.useEffect)(function(){var g=function(){var t=N()(c()().mark(function n(){var d,a,p;return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return W.loading("load..."),s.prev=1,s.next=4,(0,me.getVipDetail)(v);case 4:d=s.sent,S(d),a=d,p=[{type:m.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:m.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,C.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,C.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,C.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,C.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,C.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,C.BW)(a.inviteeVolume24HList[4],6)}],H(p),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),x.ZP.error(m.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 14:W.destroy();case 15:case"end":return s.stop()}},n,null,[[1,11]])}));return function(){return t.apply(this,arguments)}}();g(),K()},[]),(0,e.jsxs)("div",{children:[j&&(0,e.jsx)(fe.ZP,{column:2,title:m.formatMessage({id:"pages.vipList.detail.view"}),request:N()(c()().mark(function g(){return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:j||{}});case 1:case"end":return n.stop()}},g)})),params:{guid:j==null?void 0:j.guid},columns:_}),f&&V(),(0,e.jsx)(b.Z,{}),(0,e.jsx)(Y.Z,{columns:o,dataSource:U,pagination:!1}),(0,e.jsx)(b.Z,{}),(0,e.jsx)(X,{guid:v}),(0,e.jsx)(oe,{guid:v}),(0,e.jsx)(b.Z,{}),(0,e.jsx)(ie,{guid:v})]})},ee=xe},65763:function(je,ue,r){"use strict";r.d(ue,{BW:function(){return fe},Cd:function(){return J},q0:function(){return C},rD:function(){return me}});var ve=r(64599),c=r.n(ve),ge=r(27484),N=r.n(ge),ce=r(90482),u=r(84105);function fe(x,b){if(!x)return"";var Y=new ce.Z(x),i=x.split(".");if(i.length!==2)return x;for(var O=i[0],h=i[1],L=0,l="",E=0;E<h.length;E++){var F=h[E];if(l.length>=b)break;F=="0"&&l.length==0?L=L+1:l=l+F}return L>3?O+".0{"+L+"}"+l:O+"."+"0".repeat(L)+l}function me(x,b,Y,i,O,h){var L=new Set,l=new Set,E=c()(i),F;try{for(E.s();!(F=E.n()).done;){var e=F.value;L.add(e[x]),l.add(e[b])}}catch(S){E.e(S)}finally{E.f()}console.log("mainKeyList",L),console.log("timeKeyList",l);var A=new Map,X=c()(i),le;try{for(X.s();!(le=X.n()).done;){var te=le.value,re=te[b],pe=te[x],he=te[Y];A.has(re)||A.set(re,new Map),A.get(re).set(pe,he)}}catch(S){X.e(S)}finally{X.f()}console.log("tempMap",A);var se=[],ie=[];ie.push("time");var q=c()(L),oe;try{for(q.s();!(oe=q.n()).done;){var xe=oe.value;ie.push(xe)}}catch(S){q.e(S)}finally{q.f()}se.push(ie);var ee=c()(l),ae;try{for(ee.s();!(ae=ee.n()).done;){var P=ae.value,v=[];v.push(P);var T=c()(L),w;try{for(T.s();!(w=T.n()).done;){var f=w.value;A.has(P)&&A.get(P).has(f)?v.push(A.get(P).get(f)):v.push("")}}catch(S){T.e(S)}finally{T.f()}se.push(v)}}catch(S){ee.e(S)}finally{ee.f()}var I=u.P6.aoa_to_sheet(se),R=u.P6.book_new();u.P6.book_append_sheet(R,I,"Sheet1");var $="";O=="daily"?$="(\u6BCF\u65E5)":O=="monthly"&&($="(\u6BCF\u6708)");var j="".concat(N()().format("YYYYMMDDHHmmss")).concat(h.replaceAll(" ","")).concat($,".xlsx");u.NC(R,j)}function C(x){var b=parseFloat(x);return b.toLocaleString("en-US")}function J(x,b){return x?x.length<=2*b?x:x.slice(0,b)+"***"+x.slice(-b):""}},20067:function(){}}]);
