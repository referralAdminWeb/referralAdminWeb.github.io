"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[697],{5966:function(Q,L,e){var W=e(97685),d=e(1413),B=e(91),j=e(21770),Z=e(53025),C=e(55241),A=e(97435),T=e(67294),I=e(67550),_=e(85893),y=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],O="text",$=function(n){var t=n.fieldProps,r=n.proFieldProps,v=(0,B.Z)(n,y);return(0,_.jsx)(I.Z,(0,d.Z)({valueType:O,fieldProps:t,filedConfig:{valueType:O},proFieldProps:r},v))},U=function(n){var t=(0,j.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),r=(0,W.Z)(t,2),v=r[0],b=r[1];return(0,_.jsx)(Z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var c,x=M.getFieldValue(n.name||[]);return(0,_.jsx)(C.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return b(s)},content:(0,_.jsxs)("div",{style:{padding:"4px 0"},children:[(c=n.statusRender)===null||c===void 0?void 0:c.call(n,x),n.strengthText?(0,_.jsx)("div",{style:{marginTop:10},children:(0,_.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:v,children:n.children}))}})},S=function(n){var t=n.fieldProps,r=n.proFieldProps,v=(0,B.Z)(n,F),b=(0,T.useState)(!1),h=(0,W.Z)(b,2),M=h[0],c=h[1];return t!=null&&t.statusRender&&v.name?(0,_.jsx)(U,{name:v.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:M,onOpenChange:c,children:(0,_.jsx)("div",{children:(0,_.jsx)(I.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,A.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(p){var s;t==null||(s=t.onBlur)===null||s===void 0||s.call(t,p),c(!1)},onClick:function(p){var s;t==null||(s=t.onClick)===null||s===void 0||s.call(t,p),c(!0)}}),proFieldProps:r,filedConfig:{valueType:O}},v))})}):(0,_.jsx)(I.Z,(0,d.Z)({valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:O}},v))},R=$;R.Password=S,R.displayName="ProFormComponent",L.Z=R},68784:function(Q,L,e){e.r(L);var W=e(15009),d=e.n(W),B=e(99289),j=e.n(B),Z=e(5574),C=e.n(Z),A=e(58143),T=e(65763),I=e(90930),_=e(38521),y=e(37476),F=e(5966),O=e(34994),$=e(94272),U=e(83622),S=e(2453),R=e(37804),K=e(85265),n=e(67294),t=e(21056),r=e(85893),v=function(){var h,M,c=(0,n.useRef)(),x=(0,n.useState)(!1),p=C()(x,2),s=p[0],G=p[1],X=(0,n.useState)(void 0),H=C()(X,2),P=H[0],V=H[1],w=(0,n.useState)(!1),N=C()(w,2),k=N[0],Y=N[1],q=(0,n.useState)(),J=C()(q,2),ne=J[0],ee=J[1],E=(0,$.useIntl)(),te=[{title:"Guid",dataIndex:"guid",hideInSearch:!0},{title:"Tg Username",dataIndex:"tgUsername",hideInSearch:!0},{title:E.formatMessage({id:"email"}),dataIndex:"email",hideInSearch:!0},{title:E.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode",hideInSearch:!0},{title:"Commission Rate",dataIndex:"commissionRate",hideInSearch:!0,render:function(i,a){var l=[];return a.platformList.forEach(function(m){l.push(m.commissionRate/100+"%")}),(0,r.jsx)("div",{children:l.join("/")})}},{title:"Type",dataIndex:"type",hideInSearch:!0,render:function(i,a){var l=[];return a.platformList.forEach(function(m){l.push(m.platform)}),(0,r.jsx)("div",{children:l.join("/")})}},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Volume",dataIndex:"volume",hideInSearch:!0,renderText:function(i){return"$"+(0,T.B)(i,3)}},{title:"Txns24H",dataIndex:"txns24H",hideInSearch:!0},{title:"Volume24H",dataIndex:"volume24H",hideInSearch:!0,renderText:function(i){return"$"+(0,T.B)(i,3)}},{title:"Commission",dataIndex:"commission",hideInSearch:!0,renderText:function(i){return"$"+(0,T.B)(i,3)}},{title:E.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(i,a){var l=[],m=!1;return a.platformList.forEach(function(f){f.platform=="web"&&(m=!0)}),m&&l.push((0,r.jsx)(U.ZP,{type:"link",onClick:function(){V(a),G(!0)},children:E.formatMessage({id:"edit"})})),l.push((0,r.jsx)(U.ZP,{type:"link",onClick:function(){V(a),Y(!0)},children:E.formatMessage({id:"pages.vipList.detail"})})),l}}];return(0,r.jsxs)(I._z,{children:[(0,r.jsx)(_.Z,{actionRef:c,rowKey:"id",search:{labelWidth:120},request:function(){var u=j()(d()().mark(function i(a,l){var m,f,o,z,g;return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return a.page=a==null?void 0:a.current,delete a.current,D.next=4,A.Z.rebate.getChannelRebatePageList(a.page,a.pageSize?a.pageSize:20);case 4:return g=D.sent,console.log({data:(m=g.data)===null||m===void 0?void 0:m.list,success:g.code==0,total:(f=g.data)===null||f===void 0?void 0:f.total}),D.abrupt("return",{data:(o=g.data)===null||o===void 0?void 0:o.list,success:g.code==0,total:(z=g.data)===null||z===void 0?void 0:z.total});case 7:case"end":return D.stop()}},i)}));return function(i,a){return u.apply(this,arguments)}}(),columns:te}),P&&(0,r.jsxs)(y.Y,{title:"Edit Commission Rate",open:s,onFinish:function(){var u=j()(d()().mark(function i(a){var l,m;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,A.Z.rebate.editWebChannelRefCommissionRate(P.guid,a.commissionRate*100);case 3:return m=o.sent,S.ZP.success(E.formatMessage({id:"pages.vipList.update.success"})),(l=c.current)===null||l===void 0||l.reload(),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(0),S.ZP.error(E.formatMessage({id:"pages.vipList.update.error"})),o.abrupt("return",!1);case 13:case"end":return o.stop()}},i,null,[[0,9]])}));return function(i){return u.apply(this,arguments)}}(),onOpenChange:G,children:[(0,r.jsx)(F.Z,{name:"guid",label:"Guid",disabled:!0,initialValue:P.guid}),(0,r.jsx)(O.A.Item,{name:"commissionRate",label:E.formatMessage({id:"pages.thirdParty.tradingFeeRate"}),rules:[{required:!0,message:"Please enter commission rate!"}],initialValue:((h=(M=P.platformList.find(function(u){return u.platform=="web"}))===null||M===void 0?void 0:M.commissionRate)!==null&&h!==void 0?h:500)/100,children:(0,r.jsx)(R.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:100})})]}),(0,r.jsx)(K.Z,{width:600,open:k,onClose:function(){V(void 0),ee(void 0),Y(!1)},closable:!1,children:P&&(0,r.jsx)(t.F,{guid:P==null?void 0:P.guid})})]})};L.default=v}}]);
