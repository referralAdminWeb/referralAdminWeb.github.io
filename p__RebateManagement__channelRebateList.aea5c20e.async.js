"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[697],{5966:function(Q,W,e){var L=e(97685),_=e(1413),B=e(91),j=e(21770),Z=e(53025),C=e(55241),A=e(97435),T=e(67294),I=e(59348),u=e(85893),y=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],O="text",$=function(r){var n=r.fieldProps,s=r.proFieldProps,p=(0,B.Z)(r,y);return(0,u.jsx)(I.Z,(0,_.Z)({valueType:O,fieldProps:n,filedConfig:{valueType:O},proFieldProps:s},p))},U=function(r){var n=(0,j.Z)(r.open||!1,{value:r.open,onChange:r.onOpenChange}),s=(0,L.Z)(n,2),p=s[0],S=s[1];return(0,u.jsx)(Z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var v,x=M.getFieldValue(r.name||[]);return(0,u.jsx)(C.Z,(0,_.Z)((0,_.Z)({getPopupContainer:function(o){return o&&o.parentNode?o.parentNode:o},onOpenChange:function(o){return S(o)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(v=r.statusRender)===null||v===void 0?void 0:v.call(r,x),r.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:r.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},r.popoverProps),{},{open:p,children:r.children}))}})},K=function(r){var n=r.fieldProps,s=r.proFieldProps,p=(0,B.Z)(r,F),S=(0,T.useState)(!1),h=(0,L.Z)(S,2),M=h[0],v=h[1];return n!=null&&n.statusRender&&p.name?(0,u.jsx)(U,{name:p.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:M,onOpenChange:v,children:(0,u.jsx)("div",{children:(0,u.jsx)(I.Z,(0,_.Z)({valueType:"password",fieldProps:(0,_.Z)((0,_.Z)({},(0,A.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(P){var o;n==null||(o=n.onBlur)===null||o===void 0||o.call(n,P),v(!1)},onClick:function(P){var o;n==null||(o=n.onClick)===null||o===void 0||o.call(n,P),v(!0)}}),proFieldProps:s,filedConfig:{valueType:O}},p))})}):(0,u.jsx)(I.Z,(0,_.Z)({valueType:"password",fieldProps:n,proFieldProps:s,filedConfig:{valueType:O}},p))},R=$;R.Password=K,R.displayName="ProFormComponent",W.Z=R},68784:function(Q,W,e){e.r(W);var L=e(15009),_=e.n(L),B=e(99289),j=e.n(B),Z=e(5574),C=e.n(Z),A=e(75359),T=e(65763),I=e(90930),u=e(38521),y=e(37476),F=e(5966),O=e(34994),$=e(94272),U=e(83622),K=e(2453),R=e(37804),b=e(85265),r=e(67294),n=e(63624),s=e(85893),p=function(){var h,M,v=(0,r.useRef)(),x=(0,r.useState)(!1),P=C()(x,2),o=P[0],G=P[1],X=(0,r.useState)(void 0),H=C()(X,2),f=H[0],z=H[1],w=(0,r.useState)(!1),N=C()(w,2),k=N[0],Y=N[1],q=(0,r.useState)(),J=C()(q,2),ne=J[0],ee=J[1],c=(0,$.useIntl)(),te=[{title:"Guid",dataIndex:"guid",formItemProps:{normalize:function(t){return t==null?void 0:t.trim()}}},{title:"Tg Username",dataIndex:"tgUsername",formItemProps:{normalize:function(t){return t==null?void 0:t.trim()}}},{title:c.formatMessage({id:"email"}),dataIndex:"email",formItemProps:{normalize:function(t){return t==null?void 0:t.trim()}}},{title:c.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode",formItemProps:{normalize:function(t){return t==null?void 0:t.trim()}}},{title:c.formatMessage({id:"pages.commissionRate"}),dataIndex:"commissionRate",hideInSearch:!0,render:function(t,a){var d=[];return a.platformList.forEach(function(m){d.push(m.commissionRate/100+"%")}),(0,s.jsx)("div",{children:d.join("/")})}},{title:c.formatMessage({id:"type"}),dataIndex:"type",hideInSearch:!0,render:function(t,a){var d=[];return a.platformList.forEach(function(m){d.push(m.platform)}),(0,s.jsx)("div",{children:d.join("/")})}},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Volume",dataIndex:"volume",hideInSearch:!0,renderText:function(t){return"$"+(0,T.BW)(t,3)}},{title:"Txns24H",dataIndex:"txns24H",hideInSearch:!0},{title:"Volume24H",dataIndex:"volume24H",hideInSearch:!0,renderText:function(t){return"$"+(0,T.BW)(t,3)}},{title:"Commission",dataIndex:"commission",hideInSearch:!0,renderText:function(t){return"$"+(0,T.BW)(t,3)}},{title:c.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(t,a){var d=[],m=!1;return a.platformList.forEach(function(E){E.platform=="web"&&(m=!0)}),m&&d.push((0,s.jsx)(U.ZP,{type:"link",onClick:function(){z(a),G(!0)},children:c.formatMessage({id:"edit"})})),d.push((0,s.jsx)(U.ZP,{type:"link",onClick:function(){z(a),Y(!0)},children:c.formatMessage({id:"pages.vipList.detail"})})),d}}];return(0,s.jsxs)(I._z,{children:[(0,s.jsx)(u.Z,{actionRef:v,rowKey:"id",search:{labelWidth:120},request:function(){var i=j()(_()().mark(function t(a,d){var m,E,l,V,g;return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return a.page=a==null?void 0:a.current,delete a.current,D.next=4,A.Z.rebate.getChannelRebatePageList(a);case 4:return g=D.sent,console.log({data:(m=g.data)===null||m===void 0?void 0:m.list,success:g.code==0,total:(E=g.data)===null||E===void 0?void 0:E.total}),D.abrupt("return",{data:(l=g.data)===null||l===void 0?void 0:l.list,success:g.code==0,total:(V=g.data)===null||V===void 0?void 0:V.total});case 7:case"end":return D.stop()}},t)}));return function(t,a){return i.apply(this,arguments)}}(),columns:te}),f&&(0,s.jsxs)(y.Y,{title:"Edit Commission Rate",open:o,onFinish:function(){var i=j()(_()().mark(function t(a){var d,m;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,A.Z.rebate.editWebChannelRefCommissionRate(f.guid,a.commissionRate*100);case 3:return m=l.sent,K.ZP.success(c.formatMessage({id:"pages.vipList.update.success"})),(d=v.current)===null||d===void 0||d.reload(),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(0),K.ZP.error(c.formatMessage({id:"pages.vipList.update.error"})),l.abrupt("return",!1);case 13:case"end":return l.stop()}},t,null,[[0,9]])}));return function(t){return i.apply(this,arguments)}}(),onOpenChange:G,children:[(0,s.jsx)(F.Z,{name:"guid",label:"Guid",disabled:!0,initialValue:f.guid}),(0,s.jsx)(O.A.Item,{name:"commissionRate",label:c.formatMessage({id:"pages.thirdParty.tradingFeeRate"}),rules:[{required:!0,message:"Please enter commission rate!"}],initialValue:((h=(M=f.platformList.find(function(i){return i.platform=="web"}))===null||M===void 0?void 0:M.commissionRate)!==null&&h!==void 0?h:500)/100,children:(0,s.jsx)(R.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:100})})]}),(0,s.jsx)(b.Z,{width:800,open:k,onClose:function(){z(void 0),ee(void 0),Y(!1)},closable:!1,children:f&&(0,s.jsx)(n.F,{guid:f==null?void 0:f.guid})})]})};W.default=p}}]);
