"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[80],{5966:function(J,E,t){var j=t(97685),o=t(1413),x=t(91),T=t(21770),U=t(53025),M=t(55241),R=t(97435),b=t(67294),O=t(59348),f=t(85893),W=["fieldProps","proFieldProps"],$=["fieldProps","proFieldProps"],D="text",I=function(l){var r=l.fieldProps,v=l.proFieldProps,h=(0,x.Z)(l,W);return(0,f.jsx)(O.Z,(0,o.Z)({valueType:D,fieldProps:r,filedConfig:{valueType:D},proFieldProps:v},h))},g=function(l){var r=(0,T.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),v=(0,j.Z)(r,2),h=v[0],d=v[1];return(0,f.jsx)(U.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var P,F=L.getFieldValue(l.name||[]);return(0,f.jsx)(M.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(c){return c&&c.parentNode?c.parentNode:c},onOpenChange:function(c){return d(c)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(P=l.statusRender)===null||P===void 0?void 0:P.call(l,F),l.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:h,children:l.children}))}})},C=function(l){var r=l.fieldProps,v=l.proFieldProps,h=(0,x.Z)(l,$),d=(0,b.useState)(!1),Z=(0,j.Z)(d,2),L=Z[0],P=Z[1];return r!=null&&r.statusRender&&h.name?(0,f.jsx)(g,{name:h.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:L,onOpenChange:P,children:(0,f.jsx)("div",{children:(0,f.jsx)(O.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,R.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var c;r==null||(c=r.onBlur)===null||c===void 0||c.call(r,A),P(!1)},onClick:function(A){var c;r==null||(c=r.onClick)===null||c===void 0||c.call(r,A),P(!0)}}),proFieldProps:v,filedConfig:{valueType:D}},h))})}):(0,f.jsx)(O.Z,(0,o.Z)({valueType:"password",fieldProps:r,proFieldProps:v,filedConfig:{valueType:D}},h))},S=I;S.Password=C,S.displayName="ProFormComponent",E.Z=S},9255:function(J,E,t){t.r(E),t.d(E,{default:function(){return P}});var j=t(15009),o=t.n(j),x=t(99289),T=t.n(x),U=t(5574),M=t.n(U),R=t(75456),b=t(51042),O=t(90930),f=t(38521),W=t(37476),$=t(5966),D=t(94272),I=t(28248),g=t(2453),C=t(83622),S=t(86738),B=t(96068),l=t(27484),r=t.n(l),v=t(67294),h=[{path:"/user",layout:!1,routes:[{name:"login",path:"/user/login",component:"./User/Login"}]},{path:"/overall",name:"overall",icon:"DashboardOutlined",access:"checkAccess",component:"./Overall"},{path:"/account",routes:[{name:"setting",path:"/account/setting",component:"./Account/Setting"}]},{path:"/adminList",name:"adminList",icon:"UserOutlined",access:"isSuperAdmin",component:"./AdminList"},{path:"/role",name:"role",icon:"UserSwitchOutlined",access:"isSuperAdmin",component:"./Role"},{path:"/userInfo",name:"botUserData",icon:"TeamOutlined",access:"checkAccess",component:"./TradersRanking"},{path:"/botTradingData",name:"botTradingData",icon:"ShoppingCartOutlined",access:"checkAccess",routes:[{name:"botTradingData",path:"/botTradingData/btTradingData",component:"./BotTradingData/BotTradingData"},{name:"newUsersOnPlatforms",path:"/botTradingData/newUsers",component:"./BotTradingData/NewUsers"},{name:"channelTrafficAnalysis",path:"/botTradingData/channelTraffic",component:"./BotTradingData/ChannelTraffic"},{name:"traders",path:"/botTradingData/traders",component:"./BotTradingData/Traders"}]},{path:"/thirdPartyList",name:"thirdPartyList",icon:"ApiOutlined",access:"checkAccess",component:"./ThirdParty/ThirdPartyList"},{path:"/rebateManagement",name:"rebateManagement",icon:"TeamOutlined",access:"checkAccess",routes:[{name:"vipList",path:"/rebateManagement/vipList",component:"./VipList"},{name:"channelRebateList",path:"/rebateManagement/channelRebateList",component:"./RebateManagement/channelRebateList.tsx"}]},{path:"/wholePlatformData",name:"wholePlatformData",icon:"DatabaseOutlined",access:"checkAccess",component:"./WholePlatformData"},{path:"/promotionTrack",name:"promotionTrack",icon:"NodeIndexOutlined",access:"checkAccess",component:"./PromotionTrack"},{path:"/contract",name:"contract",icon:"AuditOutlined",access:"checkAccess",component:"./Contract"},{path:"/",redirect:"/overall"},{path:"*",layout:!1,component:"./404"}],d=t(85893),Z=[{title:"\u6743\u9650",dataIndex:"title"}],L=function(){var A=I.Z.useModal(),c=M()(A,2),ce=c[0],Q=c[1],X=(0,v.useState)(!1),w=M()(X,2),q=w[0],K=w[1],_=(0,v.useState)(!1),Y=M()(_,2),N=Y[0],H=Y[1],ee=(0,v.useState)(),z=M()(ee,2),G=z[0],te=z[1],ae=(0,v.useState)([]),V=M()(ae,2),re=V[0],ne=V[1],k=(0,v.useRef)(),p=(0,D.useIntl)(),se=function(){var m=T()(o()().mark(function n(a){var u,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.deleteRole)(a);case 3:if(i=e.sent,i.code===0){e.next=9;break}if(i.code!=-2){e.next=8;break}return g.ZP.error(i.msg),e.abrupt("return",!1);case 8:throw i.msg;case 9:return g.ZP.success(p.formatMessage({id:"pages.vipList.update.success"})),(u=k.current)===null||u===void 0||u.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),g.ZP.error(p.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},n,null,[[0,14]])}));return function(a){return m.apply(this,arguments)}}(),oe=function(){var m=T()(o()().mark(function n(a){var u,i;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.addRole)(a.role);case 3:if(i=e.sent,i.code===0){e.next=9;break}if(i.code!=-2){e.next=8;break}return g.ZP.error(i.msg),e.abrupt("return",!1);case 8:throw i.msg;case 9:return g.ZP.success(p.formatMessage({id:"pages.vipList.update.success"})),(u=k.current)===null||u===void 0||u.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),g.ZP.error(p.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},n,null,[[0,14]])}));return function(a){return m.apply(this,arguments)}}(),le=function(){var m=T()(o()().mark(function n(a){var u;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,R.getRoleAccessList)(a.role);case 2:u=s.sent,ne(u.data||[]),te(a),H(!0);case 6:case"end":return s.stop()}},n)}));return function(a){return m.apply(this,arguments)}}(),ie=[{title:"ID",dataIndex:"id",formItemProps:{normalize:function(n){return n==null?void 0:n.trim()}}},{title:p.formatMessage({id:"createTime"}),dataIndex:"createTime",hideInSearch:!0,render:function(n,a){return(0,d.jsx)(d.Fragment,{children:r()(a.createTime).format("YYYY-MM-DD HH:mm:ss")})}},{title:p.formatMessage({id:"updateTime"}),dataIndex:"updateTime",hideInSearch:!0,render:function(n,a){return(0,d.jsx)(d.Fragment,{children:r()(a.updateTime).format("YYYY-MM-DD HH:mm:ss")})}},{title:p.formatMessage({id:"role"}),dataIndex:"role",hideInSearch:!0,renderText:function(n,a){return p.formatMessage({id:a.role})}},{title:p.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(n,a){var u=[];return a.role!=="superAdmin"&&u.push((0,d.jsx)(C.ZP,{type:"link",onClick:function(){return le(a)},children:"\u4FEE\u6539\u6743\u9650"}),(0,d.jsx)(S.Z,{title:p.formatMessage({id:"pages.role.delete"}),description:p.formatMessage({id:"pages.role.delete.comfirm"},{role:a.role}),onConfirm:T()(o()().mark(function i(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(a.role);case 2:case"end":return e.stop()}},i)})),children:(0,d.jsxs)(C.ZP,{style:{marginRight:10},type:"link",children:[p.formatMessage({id:"delete"})," "]})})),u}}],de=function(){return h.filter(function(n){return n.name&&n.access=="checkAccess"}).map(function(n){return{title:p.formatMessage({id:"menu.".concat(n.name)}),key:n.name}})},ue=function(){var m=T()(o()().mark(function n(a,u){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,R.editRoleAccess)(G.role,a.key,u);case 3:s.next=8;break;case 5:s.prev=5,s.t0=s.catch(0),g.ZP.error("\u4FEE\u6539\u6743\u9650\u5931\u8D25");case 8:case"end":return s.stop()}},n,null,[[0,5]])}));return function(a,u){return m.apply(this,arguments)}}();return(0,d.jsxs)(O._z,{children:[(0,d.jsx)(f.Z,{actionRef:k,toolBarRender:function(){return[(0,d.jsxs)(C.ZP,{type:"primary",onClick:function(){K(!0)},children:[(0,d.jsx)(b.Z,{}),p.formatMessage({id:"new"})]},"primary")]},rowKey:"id",search:{labelWidth:120},request:function(){var m=T()(o()().mark(function n(a,u){var i,s,e;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return console.log(u),a.page=a==null?void 0:a.current,delete a.current,y.next=5,(0,R.getRolePageList)(a);case 5:return e=y.sent,y.abrupt("return",{data:(i=e.data)===null||i===void 0?void 0:i.list,success:e.code==0,total:(s=e.data)===null||s===void 0?void 0:s.total});case 7:case"end":return y.stop()}},n)}));return function(n,a){return m.apply(this,arguments)}}(),columns:ie}),(0,d.jsx)(W.Y,{title:p.formatMessage({id:"pages.role.new"}),open:q,onFinish:oe,onOpenChange:K,children:(0,d.jsx)($.Z,{name:"role",fieldProps:{maxLength:24},label:p.formatMessage({id:"role"}),rules:[{required:!0,message:"Please enter role!"},{min:2,message:"length min 2"}]})}),G&&N&&(0,d.jsx)(I.Z,{title:p.formatMessage({id:"editRole"}),open:N,onCancel:function(){return H(!1)},footer:null,children:(0,d.jsx)(B.Z,{rowSelection:{hideSelectAll:!0,type:"checkbox",onSelect:ue,defaultSelectedRowKeys:re},columns:Z,dataSource:de(),pagination:!1})}),Q]})},P=L}}]);
