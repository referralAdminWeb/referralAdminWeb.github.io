(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[889],{53275:function(De,B,t){"use strict";t.r(B),t.d(B,{default:function(){return ae}});var Q=t(64599),i=t.n(Q),X=t(15009),L=t.n(X),q=t(99289),U=t.n(q),_=t(5574),g=t.n(_),ee=t(21292),a=t(65763),m=t(94272),Y=t(45433),y=t(4393),S=t(83622),R=t(78957),o=t(78045),c=t(74330),h=t(74656),C=t(96068),Z=t(27484),p=t.n(Z),u=t(67294),x=t(84105),r=t(85893),A=Y.default.RangePicker,te=function(){var N=(0,u.useState)("all"),P=g()(N,2),M=P[0],re=P[1],f=(0,m.useIntl)(),K=u.useState(!1),D=g()(K,2),W=D[0],j=D[1],H=u.useState([]),T=g()(H,2),V=T[0],k=T[1],F=u.useState("total"),w=g()(F,2),s=w[0],je=w[1],fe=[{value:"total",label:"\u5168\u90E8"},{value:"zh-cn",label:"\u4E2D\u6587"},{value:"en",label:"\u82F1\u8BED"},{value:"vi",label:"\u8D8A\u5357\u8BED"},{value:"id",label:"\u5370\u5C3C\u8BED"}],ne=p()().startOf("day"),ce=ne.add(-7,"day"),Ee=[ce,ne],Ie=u.useState(ce.format("YYYY-MM-DD")),de=g()(Ie,2),le=de[0],Ue=de[1],Re=u.useState(ne.format("YYYY-MM-DD")),ve=g()(Re,2),G=ve[0],We=ve[1],Ae=function(n,e){Ue(e[0]),We(e[1])},oe=[{title:f.formatMessage({id:"type"}),dataIndex:"type",key:"type",onCell:function(n,e){return e===void 0?{rowSpan:1}:e===0?{rowSpan:5}:e>0&&e<5?{rowSpan:0}:e===6?{rowSpan:5}:e>6&&e<11?{rowSpan:0}:e===11?{colSpan:2}:{rowSpan:1}}},{title:"\u5E73\u53F0",dataIndex:"platform",key:"platform",onCell:function(n,e){return e===11?{colSpan:0}:{rowSpan:1}}},{title:"\u603B\u4EA4\u6613\u91CF",dataIndex:"totalVolume",key:"totalVolume",render:function(n,e){return(0,a.q0)((0,a.BW)(e.totalVolume,3))}},{title:"\u603B\u4EA4\u6613\u7B14\u6570",dataIndex:"totalCount",key:"totalCount",render:function(n,e){return(0,a.q0)(e.totalCount.toString())}},{title:"\u603B\u624B\u7EED\u8D39\u6536\u5165",dataIndex:"totalFee",key:"totalFee",render:function(n,e){return(0,a.q0)((0,a.BW)(e.totalFee,3))}},{title:"\u603B\u5171\u4EA4\u6613\u4F63\u91D1",dataIndex:"commissionFee",key:"commissionFee",render:function(n,e){return e.type==="tg"||e.type==="total"?(0,a.q0)((0,a.BW)(e.commissionFee,3)):"-"}},{title:"\u603B\u4EA4\u6613\u5229\u6DA6",dataIndex:"platformFee",key:"platformFee",render:function(n,e){return(0,a.q0)((0,a.BW)(e.platformFee,3))}},{title:"\u603B\u6CE8\u518C\u7528\u6237\u6570",dataIndex:"totalUserCount",key:"totalUserCount",render:function(n,e){return e.type==="tg"||e.type==="total"?(0,a.q0)(e.totalUserCount.toString()):"-"}},{title:"\u603B\u6D3B\u8DC3\u5730\u5740",dataIndex:"totalAciveWalletCount",key:"totalAciveWalletCount",render:function(n,e){return(0,a.q0)(e.totalAciveWalletCount.toString())}},{title:"\u65B0\u589E\u6CE8\u518C\u7528\u6237",dataIndex:"NewUserCount",key:"NewUserCount",render:function(n,e){return e.type==="tg"||e.type==="total"?(0,a.q0)(e.NewUserCount.toString()):"-"}},{title:"\u65B0\u589E\u4EA4\u6613\u7528\u6237",dataIndex:"NewTransferUserCount",key:"NewTransferUserCount",render:function(n,e){return e.type==="tg"||e.type==="total"?(0,a.q0)(e.NewTransferUserCount.toString()):"-"}}],ie=function(){var l=U()(L()().mark(function n(){var e;return L()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j(!0),E.next=3,(0,ee.getBotData)(s,le,G,M=="exclude");case 3:e=E.sent,e.code===0&&e.data&&k(e.data),j(!1);case 6:case"end":return E.stop()}},n)}));return function(){return l.apply(this,arguments)}}();(0,u.useEffect)(function(){ie()},[]),(0,u.useEffect)(function(){ie()},[s,le,G,M]);function Ne(){var l=[];if(oe){var n=[],e=i()(oe),se;try{for(e.s();!(se=e.n()).done;){var E=se.value;n.push(E.title)}}catch(I){e.e(I)}finally{e.f()}l.push(n);var b=i()(V),he;try{for(b.s();!(he=b.n()).done;){var v=he.value,d=[];d.push(v.type),d.push(v.platform),d.push(v.totalVolume),d.push(v.totalCount),d.push(v.totalFee),d.push(v.commissionFee),d.push(v.platformFee),d.push(v.totalUserCount),d.push(v.totalAciveWalletCount),d.push(v.NewUserCount),d.push(v.NewTransferUserCount),l.push(d)}}catch(I){b.e(I)}finally{b.f()}}var O=x.P6.aoa_to_sheet(l);O["!merges"]=[{s:{r:1,c:0},e:{r:5,c:0}},{s:{r:7,c:0},e:{r:11,c:0}},{s:{r:12,c:0},e:{r:12,c:1}}];for(var Te=["F","H","J","K"],Fe=[7,8,9,10,11,12],ue=0,pe=Te;ue<pe.length;ue++){var ge=pe[ue],z=i()(Fe),me;try{for(z.s();!(me=z.n()).done;){var ye=me.value;O["".concat(ge).concat(ye)].v="-",O["".concat(ge).concat(ye)].t="s"}}catch(I){z.e(I)}finally{z.f()}}console.log("worksheet",O);var Se=x.P6.book_new();x.P6.book_append_sheet(Se,O,"Sheet1");var Ce="";M=="exclude"&&(Ce="(".concat(f.formatMessage({id:"excludeAltcoinPairs"})).concat(G,")"));var xe="",J=i()(fe),Pe;try{for(J.s();!(Pe=J.n()).done;){var Me=Pe.value;if(Me.value===s){xe=Me.label;break}}}catch(I){J.e(I)}finally{J.f()}var Oe="".concat(le.replaceAll("-",""),"-").concat(G.replaceAll("-","")).concat(xe).concat(Ce,".xlsx");x.NC(Se,Oe)}return(0,r.jsx)(y.Z,{extra:(0,r.jsxs)("div",{className:"card-tools",children:[(0,r.jsx)(S.ZP,{className:"export",onClick:Ne,type:"link",children:f.formatMessage({id:"export"})}),(0,r.jsx)(R.Z,{children:(0,r.jsxs)(o.ZP.Group,{value:M,onChange:function(n){return re(n.target.value)},children:[(0,r.jsx)(o.ZP.Button,{value:"all",children:f.formatMessage({id:"all"})}),(0,r.jsx)(o.ZP.Button,{value:"exclude",children:f.formatMessage({id:"excludeAltcoinPairs"})})]})})]}),children:(0,r.jsxs)(c.Z,{spinning:W,tip:f.formatMessage({id:"loading"}),children:[(0,r.jsxs)("div",{className:"search",children:[(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("div",{className:"label",children:f.formatMessage({id:"languageZon"})+":"}),(0,r.jsx)(h.Z,{style:{width:120},onChange:function(n){je(n)},options:fe,value:s})]}),(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("div",{className:"label",children:f.formatMessage({id:"period"})+":"}),(0,r.jsx)(A,{onChange:Ae,defaultValue:Ee})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(C.Z,{columns:oe,dataSource:V,pagination:!1})})]})})},ae=te},65763:function(De,B,t){"use strict";t.d(B,{BW:function(){return _},q0:function(){return ee},rD:function(){return g}});var Q=t(64599),i=t.n(Q),X=t(27484),L=t.n(X),q=t(90482),U=t(84105);function _(a,m){if(!a)return"";var Y=new q.Z(a),y=a.split(".");if(y.length!==2)return a;for(var S=y[0],R=y[1],o=0,c="",h=0;h<R.length;h++){var C=R[h];if(c.length>=m)break;C=="0"&&c.length==0?o=o+1:c=c+C}return o>3?S+".0{"+o+"}"+c:S+"."+"0".repeat(o)+c}function g(a,m,Y,y,S,R){var o=new Set,c=new Set,h=i()(y),C;try{for(h.s();!(C=h.n()).done;){var Z=C.value;o.add(Z[a]),c.add(Z[m])}}catch(s){h.e(s)}finally{h.f()}console.log("mainKeyList",o),console.log("timeKeyList",c);var p=new Map,u=i()(y),x;try{for(u.s();!(x=u.n()).done;){var r=x.value,A=r[m],te=r[a],ae=r[Y];p.has(A)||p.set(A,new Map),p.get(A).set(te,ae)}}catch(s){u.e(s)}finally{u.f()}console.log("tempMap",p);var $=[],N=[];N.push("time");var P=i()(o),M;try{for(P.s();!(M=P.n()).done;){var re=M.value;N.push(re)}}catch(s){P.e(s)}finally{P.f()}$.push(N);var f=i()(c),K;try{for(f.s();!(K=f.n()).done;){var D=K.value,W=[];W.push(D);var j=i()(o),H;try{for(j.s();!(H=j.n()).done;){var T=H.value;p.has(D)&&p.get(D).has(T)?W.push(p.get(D).get(T)):W.push("")}}catch(s){j.e(s)}finally{j.f()}$.push(W)}}catch(s){f.e(s)}finally{f.f()}var V=U.P6.aoa_to_sheet($),k=U.P6.book_new();U.P6.book_append_sheet(k,V,"Sheet1");var F="";S=="daily"?F="(\u6BCF\u65E5)":S=="monthly"&&(F="(\u6BCF\u6708)");var w="".concat(L()().format("YYYYMMDDHHmmss")).concat(R.replaceAll(" ","")).concat(F,".xlsx");U.NC(k,w)}function ee(a){var m=parseFloat(a);return m.toLocaleString("en-US")}},20067:function(){}}]);
