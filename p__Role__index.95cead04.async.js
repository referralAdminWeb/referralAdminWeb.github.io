"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[80],{5966:function(X,Z,r){var j=r(97685),o=r(1413),k=r(91),T=r(21770),B=r(116),P=r(55241),A=r(98423),w=r(67294),C=r(22360),v=r(85893),F=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],O="text",I=function(i){var t=i.fieldProps,h=i.proFieldProps,f=(0,k.Z)(i,F);return(0,v.jsx)(C.Z,(0,o.Z)({valueType:O,fieldProps:t,filedConfig:{valueType:O},proFieldProps:h},f))},g=function(i){var t=(0,T.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),h=(0,j.Z)(t,2),f=h[0],d=h[1];return(0,v.jsx)(B.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(S){var M,L=S.getFieldValue(i.name||[]);return(0,v.jsx)(P.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(m){return m&&m.parentNode?m.parentNode:m},onOpenChange:function(m){return d(m)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(M=i.statusRender)===null||M===void 0?void 0:M.call(i,L),i.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},i.popoverProps),{},{open:f,children:i.children}))}})},y=function(i){var t=i.fieldProps,h=i.proFieldProps,f=(0,k.Z)(i,W),d=(0,w.useState)(!1),E=(0,j.Z)(d,2),S=E[0],M=E[1];return t!=null&&t.statusRender&&f.name?(0,v.jsx)(g,{name:f.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:S,onOpenChange:M,children:(0,v.jsx)("div",{children:(0,v.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,A.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(R){var m;t==null||(m=t.onBlur)===null||m===void 0||m.call(t,R),M(!1)},onClick:function(R){var m;t==null||(m=t.onClick)===null||m===void 0||m.call(t,R),M(!0)}}),proFieldProps:h,filedConfig:{valueType:O}},f))})}):(0,v.jsx)(C.Z,(0,o.Z)({valueType:"password",fieldProps:t,proFieldProps:h,filedConfig:{valueType:O}},f))},x=I;x.Password=y,x.displayName="ProFormComponent",Z.Z=x},9255:function(X,Z,r){r.r(Z),r.d(Z,{default:function(){return S}});var j=r(15009),o=r.n(j),k=r(99289),T=r.n(k),B=r(5574),P=r.n(B),A=r(75456),w=r(51042),C=r(90930),v=r(21657),F=r(37476),W=r(5966),O=r(94272),I=r(28248),g=r(2453),y=r(83622),x=r(86738),b=r(14e3),i=r(27484),t=r.n(i),h=r(67294),f=[{path:"/user",layout:!1,routes:[{name:"login",path:"/user/login",component:"./User/Login"}]},{path:"/overall",name:"overall",icon:"DashboardOutlined",access:"checkAccess",component:"./Overall"},{path:"/account",routes:[{name:"setting",path:"/account/setting",component:"./Account/Setting"}]},{path:"/adminList",name:"adminList",icon:"UserOutlined",access:"isSuperAdmin",component:"./AdminList"},{path:"/role",name:"role",icon:"UserSwitchOutlined",access:"isSuperAdmin",component:"./Role"},{path:"/userInfo",name:"botUserData",icon:"TeamOutlined",access:"checkAccess",component:"./TradersRanking"},{path:"/botTradingData",name:"botTradingData",icon:"ShoppingCartOutlined",access:"checkAccess",routes:[{name:"botTradingData",path:"/botTradingData/btTradingData",component:"./BotTradingData/BotTradingData"},{name:"newUsersOnPlatforms",path:"/botTradingData/newUsers",component:"./BotTradingData/NewUsers"},{name:"channelTrafficAnalysis",path:"/botTradingData/channelTraffic",component:"./BotTradingData/ChannelTraffic"},{name:"traders",path:"/botTradingData/traders",component:"./BotTradingData/Traders"}]},{path:"/thirdPartyList",name:"thirdPartyList",icon:"ApiOutlined",access:"checkAccess",component:"./ThirdParty/ThirdPartyList"},{path:"/rebateManagement",name:"rebateManagement",icon:"TeamOutlined",access:"checkAccess",routes:[{name:"vipList",path:"/rebateManagement/vipList",component:"./VipList"},{name:"channelRebateList",path:"/rebateManagement/channelRebateList",component:"./RebateManagement/channelRebateList.tsx"}]},{path:"/wholePlatformData",name:"wholePlatformData",icon:"DatabaseOutlined",access:"checkAccess",component:"./WholePlatformData"},{path:"/promotionTrack",name:"promotionTrack",icon:"NodeIndexOutlined",access:"checkAccess",component:"./PromotionTrack"},{path:"/contract",name:"contract",icon:"AuditOutlined",access:"checkAccess",component:"./Contract"},{path:"/tx",name:"transactionMonitor",icon:"LaptopOutlined",access:"checkAccess",routes:[{name:"monitor",path:"/tx/monitor",component:"./Tx/Monitor"},{name:"botErrorSwap",path:"/tx/botErrorSwap",component:"./Tx/BotErrorSwap"},{name:"aveswapErrorSwap",path:"/tx/aveswapErrorSwap",component:"./Tx/AveswapErrorSwap"},{name:"errorTxToken",path:"/tx/errorTxToken",component:"./Tx/ErrorTxToken"},{name:"errorTxWallet",path:"/tx/errorTxWallet",component:"./Tx/ErrorTxWallet"}]},{path:"https://tradeapiweb.github.io",name:"thirdTest",icon:"RocketOutlined",access:"checkAccess",target:"_blank"},{path:"https://tradelog.blabla.network/app/discover",name:"elkLog",icon:"BugOutlined",access:"checkAccess",target:"_blank"},{path:"/",redirect:"/overall"},{path:"*",layout:!1,component:"./404"}],d=r(85893),E=function(){var L=I.Z.useModal(),R=P()(L,2),m=R[0],q=R[1],_=(0,h.useState)(!1),$=P()(_,2),ee=$[0],K=$[1],ae=(0,h.useState)(!1),Y=P()(ae,2),N=Y[0],H=Y[1],re=(0,h.useState)(),z=P()(re,2),G=z[0],te=z[1],ne=(0,h.useState)([]),V=P()(ne,2),se=V[0],oe=V[1],ie=(0,h.useState)(!1),J=P()(ie,2),he=J[0],Q=J[1],U=(0,h.useRef)(),u=(0,O.useIntl)(),le=function(){var p=T()(o()().mark(function n(a){var c,l;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.deleteRole)(a);case 3:if(l=e.sent,l.code===0){e.next=9;break}if(l.code!=-2){e.next=8;break}return g.ZP.error(l.msg),e.abrupt("return",!1);case 8:throw l.msg;case 9:return g.ZP.success(u.formatMessage({id:"pages.vipList.update.success"})),(c=U.current)===null||c===void 0||c.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),g.ZP.error(u.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},n,null,[[0,14]])}));return function(a){return p.apply(this,arguments)}}(),de=function(){var p=T()(o()().mark(function n(a){var c,l;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.addRole)(a.role);case 3:if(l=e.sent,l.code===0){e.next=9;break}if(l.code!=-2){e.next=8;break}return g.ZP.error(l.msg),e.abrupt("return",!1);case 8:throw l.msg;case 9:return g.ZP.success(u.formatMessage({id:"pages.vipList.update.success"})),(c=U.current)===null||c===void 0||c.reload(),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),g.ZP.error(u.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 18:case"end":return e.stop()}},n,null,[[0,14]])}));return function(a){return p.apply(this,arguments)}}(),ce=function(){var p=T()(o()().mark(function n(a){var c;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A.getRoleAccessList)(a.role);case 2:c=s.sent,oe(c.data||[]),te(a),H(!0);case 6:case"end":return s.stop()}},n)}));return function(a){return p.apply(this,arguments)}}(),ue=[{title:"ID",dataIndex:"id",formItemProps:{normalize:function(n){return n==null?void 0:n.trim()}}},{title:u.formatMessage({id:"createTime"}),dataIndex:"createTime",hideInSearch:!0,render:function(n,a){return(0,d.jsx)(d.Fragment,{children:t()(a.createTime).format("YYYY-MM-DD HH:mm:ss")})}},{title:u.formatMessage({id:"updateTime"}),dataIndex:"updateTime",hideInSearch:!0,render:function(n,a){return(0,d.jsx)(d.Fragment,{children:t()(a.updateTime).format("YYYY-MM-DD HH:mm:ss")})}},{title:u.formatMessage({id:"role"}),dataIndex:"role",hideInSearch:!0,renderText:function(n,a){return u.formatMessage({id:a.role})}},{title:u.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(n,a){var c=[];return a.role!=="superAdmin"&&c.push((0,d.jsx)(y.ZP,{type:"link",onClick:function(){return ce(a)},children:"\u4FEE\u6539\u6743\u9650"}),(0,d.jsx)(x.Z,{title:u.formatMessage({id:"pages.role.delete"}),description:u.formatMessage({id:"pages.role.delete.comfirm"},{role:a.role}),onConfirm:T()(o()().mark(function l(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(a.role);case 2:case"end":return e.stop()}},l)})),children:(0,d.jsxs)(y.ZP,{style:{marginRight:10},type:"link",children:[u.formatMessage({id:"delete"})," "]})})),c}}],pe=function(){var n=f.filter(function(a){return a.name&&a.access=="checkAccess"}).map(function(a){return{title:u.formatMessage({id:"menu.".concat(a.name)}),key:a.name}});return n},me=function(){var p=T()(o()().mark(function n(a,c){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return Q(!0),s.prev=1,s.next=4,(0,A.editRoleAccess)(G.role,c.node.key,c.checked);case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),g.ZP.error("\u4FEE\u6539\u6743\u9650\u5931\u8D25");case 9:return s.prev=9,Q(!1),s.finish(9);case 12:case"end":return s.stop()}},n,null,[[1,6,9,12]])}));return function(a,c){return p.apply(this,arguments)}}();return(0,d.jsxs)(C._z,{children:[(0,d.jsx)(v.Z,{actionRef:U,toolBarRender:function(){return[(0,d.jsxs)(y.ZP,{type:"primary",onClick:function(){K(!0)},children:[(0,d.jsx)(w.Z,{}),u.formatMessage({id:"new"})]},"primary")]},rowKey:"id",search:{labelWidth:120},request:function(){var p=T()(o()().mark(function n(a,c){var l,s,e;return o()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return console.log(c),a.page=a==null?void 0:a.current,delete a.current,D.next=5,(0,A.getRolePageList)(a);case 5:return e=D.sent,D.abrupt("return",{data:(l=e.data)===null||l===void 0?void 0:l.list,success:e.code==0,total:(s=e.data)===null||s===void 0?void 0:s.total});case 7:case"end":return D.stop()}},n)}));return function(n,a){return p.apply(this,arguments)}}(),columns:ue}),(0,d.jsx)(F.Y,{title:u.formatMessage({id:"pages.role.new"}),open:ee,onFinish:de,onOpenChange:K,children:(0,d.jsx)(W.Z,{name:"role",fieldProps:{maxLength:24},label:u.formatMessage({id:"role"}),rules:[{required:!0,message:"Please enter role!"},{min:2,message:"length min 2"}]})}),G&&N&&(0,d.jsx)(I.Z,{title:u.formatMessage({id:"editRole"}),open:N,onCancel:function(){return H(!1)},footer:null,children:(0,d.jsx)(b.Z,{checkable:!0,onCheck:me,defaultCheckedKeys:se,treeData:pe()})}),q]})},S=E}}]);
