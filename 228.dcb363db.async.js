(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(je,ue,s){"use strict";s.d(ue,{F:function(){return oe}});var ve=s(15009),m=s.n(ve),ge=s(99289),U=s.n(ge),ce=s(5574),g=s.n(ce),fe=s(92276),me=s(6742),y=s(65763),j=s(94272),V=s(2453),Q=s(96074),P=s(96068),i=s(67294),_=s(92861),o={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},D=s(97857),d=s.n(D),Z=s(93463),ee=s(48096),e=s(85893),J=function(I){var c,E=I.guid,T=(0,i.useState)("1"),x=g()(T,2),M=x[0],L=x[1],w=(0,i.useState)(!1),u=g()(w,2),G=u[0],R=u[1],O=(0,i.useState)([]),W=g()(O,2),F=W[0],N=W[1],z=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),$=g()(z,2),S=$[0],p=$[1],l=(0,j.useIntl)(),H=[{key:"1",label:l.formatMessage({id:"tier1"})},{key:"2",label:l.formatMessage({id:"tier2"})},{key:"3",label:l.formatMessage({id:"tier3"})},{key:"4",label:l.formatMessage({id:"tier4"})},{key:"5",label:l.formatMessage({id:"tier5"})}],b=[{title:l.formatMessage({id:"date"}),dataIndex:"time"},{title:l.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:l.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:l.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:l.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],A=function(t,n,v){var a;p({pagination:t}),t.pageSize!==((a=S.pagination)===null||a===void 0?void 0:a.pageSize)&&N([])},B=function(){var f=U()(m()().mark(function t(){var n,v,a,h;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R(!0),a=Number(M),r.next=4,(0,Z.getTierDailyStatisticaPageList)(E,a,(n=(v=S.pagination)===null||v===void 0?void 0:v.current)!==null&&n!==void 0?n:1);case 4:h=r.sent,h.data&&(N(h.data.list),p(d()(d()({},S),{},{pagination:d()(d()({},S.pagination),{},{total:h.data.total})})),R(!1));case 6:case"end":return r.stop()}},t)}));return function(){return f.apply(this,arguments)}}();return(0,i.useEffect)(function(){B()},[(c=S.pagination)===null||c===void 0?void 0:c.current]),(0,i.useEffect)(function(){B()},[M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:l.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:M,items:H,onChange:function(t){return L(t)}}),(0,e.jsx)(P.Z,{columns:b,rowKey:function(t){return t.time},dataSource:F,pagination:S.pagination,loading:G,onChange:A})]})},ne=J,ae=s(74656),te=s(26915),pe=s(83622),he=s(27484),se=s.n(he),re=function(I){var c,E=I.guid,T=(0,i.useState)(!1),x=g()(T,2),M=x[0],L=x[1],w=(0,i.useState)([]),u=g()(w,2),G=u[0],R=u[1],O=(0,i.useState)("guid"),W=g()(O,2),F=W[0],N=W[1],z=(0,i.useState)(""),$=g()(z,2),S=$[0],p=$[1],l=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),H=g()(l,2),b=H[0],A=H[1],B=(0,j.useIntl)(),f=[{title:"Register Time",dataIndex:"createTime",render:function(C,r){return se()(r.createTime).format("YYYY-MM-DD")}},{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"}],t=function(C,r,k){var Y;A({pagination:C}),C.pageSize!==((Y=b.pagination)===null||Y===void 0?void 0:Y.pageSize)&&R([])},n=function(){var h=U()(m()().mark(function C(){var r,k,Y,Se,ye,Ce,de;return m()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return L(!0),ye=(r=(k=b.pagination)===null||k===void 0?void 0:k.current)!==null&&r!==void 0?r:1,Ce=(Y=(Se=b.pagination)===null||Se===void 0?void 0:Se.pageSize)!==null&&Y!==void 0?Y:10,ie.next=5,_.Z.userData.getFirstTirerList(E,ye,Ce,F,S);case 5:de=ie.sent,de.data&&(R(de.data.list),A(d()(d()({},b),{},{pagination:d()(d()({},b.pagination),{},{total:de.data.total})})),L(!1));case 7:case"end":return ie.stop()}},C)}));return function(){return h.apply(this,arguments)}}();(0,i.useEffect)(function(){n()},[(c=b.pagination)===null||c===void 0?void 0:c.current]);var v=function(){var h=U()(m()().mark(function C(){return m()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:A(d()(d()({},b),{},{pagination:d()(d()({},b.pagination),{},{current:1})})),n();case 2:case"end":return k.stop()}},C)}));return function(){return h.apply(this,arguments)}}(),a=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:B.formatMessage({id:"pages.vipList.listOfTirer1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(ae.Z,{options:a,value:F,onChange:N})}),(0,e.jsx)("div",{children:(0,e.jsx)(te.Z,{value:S,onChange:function(C){return p(C.target.value)}})}),(0,e.jsx)("div",{children:(0,e.jsx)(pe.ZP,{onClick:v,children:B.formatMessage({id:"search"})})})]}),(0,e.jsx)(P.Z,{columns:f,rowKey:function(C){return C.guid},dataSource:G,pagination:b.pagination,loading:M,onChange:t})]})},X=re,le=function(I){var c,E=I.guid,T=(0,i.useState)("1"),x=g()(T,2),M=x[0],L=x[1],w=(0,i.useState)(!1),u=g()(w,2),G=u[0],R=u[1],O=(0,i.useState)([]),W=g()(O,2),F=W[0],N=W[1],z=(0,i.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),$=g()(z,2),S=$[0],p=$[1],l=(0,j.useIntl)(),H=[{key:"1",label:l.formatMessage({id:"tier1"})},{key:"2",label:l.formatMessage({id:"tier2"})},{key:"3",label:l.formatMessage({id:"tier3"})},{key:"4",label:l.formatMessage({id:"tier4"})},{key:"5",label:l.formatMessage({id:"tier5"})}],b=[{title:l.formatMessage({id:"date"}),dataIndex:"time"},{title:l.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:l.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:l.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:l.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],A=function(t,n,v){var a;p({pagination:t}),t.pageSize!==((a=S.pagination)===null||a===void 0?void 0:a.pageSize)&&N([])},B=function(){var f=U()(m()().mark(function t(){var n,v,a,h;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return R(!0),a=Number(M),r.next=4,(0,Z.getTierMonthlyStatisticaPageList)(E,a,(n=(v=S.pagination)===null||v===void 0?void 0:v.current)!==null&&n!==void 0?n:1);case 4:h=r.sent,h.data&&(N(h.data.list),p(d()(d()({},S),{},{pagination:d()(d()({},S.pagination),{},{total:h.data.total})})),R(!1));case 6:case"end":return r.stop()}},t)}));return function(){return f.apply(this,arguments)}}();return(0,i.useEffect)(function(){B()},[(c=S.pagination)===null||c===void 0?void 0:c.current]),(0,i.useEffect)(function(){B()},[M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:l.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:M,items:H,onChange:function(t){return L(t)}}),(0,e.jsx)(P.Z,{columns:b,rowKey:function(t){return t.time},dataSource:F,pagination:S.pagination,loading:G,onChange:A})]})},xe=le,q=function(I){var c=I.guid,E=(0,i.useState)(void 0),T=g()(E,2),x=T[0],M=T[1],L=(0,i.useState)(),w=g()(L,2),u=w[0],G=w[1],R=(0,i.useState)([]),O=g()(R,2),W=O[0],F=O[1],N=V.ZP.useMessage(),z=g()(N,2),$=z[0],S=z[1],p=(0,j.useIntl)(),l=[{title:"",dataIndex:"type",key:"type"},{title:p.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],H=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:p.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:p.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:p.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2}],b=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:p.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(t,n,v,a){return"$"+(0,y.BW)(t,3)}}],A=function(){var f=U()(m()().mark(function t(){var n;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.Z.rebate.getRebateDetail(c);case 2:n=a.sent,n.data&&M(n.data);case 4:case"end":return a.stop()}},t)}));return function(){return f.apply(this,arguments)}}(),B=function(){if(x){var t=[],n=[];return x.platformList.forEach(function(v){n.push(v.platform);var a="";v.platform=="tg"?a="Channel TG Rebate Ratio:":v.platform=="web"?a="Channel Web Rebate Ratio:":v.platform=="third"&&(a="3rd Party Channel Rebate Ratio:"),t.push((0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:a}),(0,e.jsxs)("span",{children:[" ",v.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",n.join("/")]})]}),t,(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:"Referral Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(x.refCommission,3)]})]}),(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:"Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(x.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:p.formatMessage({id:"pages.vipList.totalCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(x.totalCommission,3)]})]}),(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:p.formatMessage({id:"pages.vipList.unclaimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(x.unclaimedCommission,3)]})]}),(0,e.jsxs)("div",{className:o.row,children:[(0,e.jsx)("span",{className:o.label2,children:p.formatMessage({id:"pages.vipList.claimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(x.claimedCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,i.useEffect)(function(){var f=function(){var t=U()(m()().mark(function n(){var v,a,h;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return $.loading("load..."),r.prev=1,r.next=4,(0,me.getVipDetail)(c);case 4:v=r.sent,G(v),a=v,h=[{type:p.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:p.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,y.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,y.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,y.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,y.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,y.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,y.BW)(a.inviteeVolume24HList[4],6)}],F(h),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),V.ZP.error(p.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 14:$.destroy();case 15:case"end":return r.stop()}},n,null,[[1,11]])}));return function(){return t.apply(this,arguments)}}();f(),A()},[]),(0,e.jsxs)("div",{children:[u&&(0,e.jsx)(fe.ZP,{column:2,title:p.formatMessage({id:"pages.vipList.detail.view"}),request:U()(m()().mark(function f(){return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{data:u||{}});case 1:case"end":return n.stop()}},f)})),params:{guid:u==null?void 0:u.guid},columns:H}),x&&B(),(0,e.jsx)(Q.Z,{}),(0,e.jsx)(P.Z,{columns:l,dataSource:W,pagination:!1}),(0,e.jsx)(Q.Z,{}),(0,e.jsx)(ne,{guid:c}),(0,e.jsx)(xe,{guid:c}),(0,e.jsx)(Q.Z,{}),(0,e.jsx)(X,{guid:c})]})},oe=q},65763:function(je,ue,s){"use strict";s.d(ue,{BW:function(){return fe},q0:function(){return y},rD:function(){return me}});var ve=s(64599),m=s.n(ve),ge=s(27484),U=s.n(ge),ce=s(90482),g=s(84105);function fe(j,V){if(!j)return"";var Q=new ce.Z(j),P=j.split(".");if(P.length!==2)return j;for(var i=P[0],_=P[1],o=0,D="",d=0;d<_.length;d++){var Z=_[d];if(D.length>=V)break;Z=="0"&&D.length==0?o=o+1:D=D+Z}return o>3?i+".0{"+o+"}"+D:i+"."+"0".repeat(o)+D}function me(j,V,Q,P,i,_){var o=new Set,D=new Set,d=m()(P),Z;try{for(d.s();!(Z=d.n()).done;){var ee=Z.value;o.add(ee[j]),D.add(ee[V])}}catch(u){d.e(u)}finally{d.f()}console.log("mainKeyList",o),console.log("timeKeyList",D);var e=new Map,J=m()(P),ne;try{for(J.s();!(ne=J.n()).done;){var ae=ne.value,te=ae[V],pe=ae[j],he=ae[Q];e.has(te)||e.set(te,new Map),e.get(te).set(pe,he)}}catch(u){J.e(u)}finally{J.f()}console.log("tempMap",e);var se=[],re=[];re.push("time");var X=m()(o),le;try{for(X.s();!(le=X.n()).done;){var xe=le.value;re.push(xe)}}catch(u){X.e(u)}finally{X.f()}se.push(re);var q=m()(D),oe;try{for(q.s();!(oe=q.n()).done;){var K=oe.value,I=[];I.push(K);var c=m()(o),E;try{for(c.s();!(E=c.n()).done;){var T=E.value;e.has(K)&&e.get(K).has(T)?I.push(e.get(K).get(T)):I.push("")}}catch(u){c.e(u)}finally{c.f()}se.push(I)}}catch(u){q.e(u)}finally{q.f()}var x=g.P6.aoa_to_sheet(se),M=g.P6.book_new();g.P6.book_append_sheet(M,x,"Sheet1");var L="";i=="daily"?L="(\u6BCF\u65E5)":i=="monthly"&&(L="(\u6BCF\u6708)");var w="".concat(U()().format("YYYYMMDDHHmmss")).concat(_.replaceAll(" ","")).concat(L,".xlsx");g.NC(M,w)}function y(j){var V=parseFloat(j);return V.toLocaleString("en-US")}},20067:function(){}}]);
