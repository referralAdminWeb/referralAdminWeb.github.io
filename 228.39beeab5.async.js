(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(je,ue,i){"use strict";i.d(ue,{F:function(){return oe}});var ve=i(15009),m=i.n(ve),ge=i(99289),U=i.n(ge),fe=i(5574),g=i.n(fe),me=i(92276),ce=i(6742),y=i(65763),b=i(94272),N=i(2453),z=i(96068),A=i(96074),s=i(67294),k=i(92861),l={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},L=i(97857),o=i.n(L),Z=i(93463),ee=i(48096),e=i(85893),J=function(I){var v,R=I.guid,$=(0,s.useState)("1"),p=g()($,2),D=p[0],P=p[1],W=(0,s.useState)(!1),u=g()(W,2),_=u[0],B=u[1],F=(0,s.useState)([]),E=g()(F,2),G=E[0],c=E[1],Y=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=g()(Y,2),x=V[0],K=V[1],n=(0,b.useIntl)(),C=[{key:"1",label:n.formatMessage({id:"tier1"})},{key:"2",label:n.formatMessage({id:"tier2"})},{key:"3",label:n.formatMessage({id:"tier3"})},{key:"4",label:n.formatMessage({id:"tier4"})},{key:"5",label:n.formatMessage({id:"tier5"})}],d=[{title:n.formatMessage({id:"date"}),dataIndex:"time"},{title:n.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:n.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:n.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:n.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,T,w){var j;K({pagination:t}),t.pageSize!==((j=x.pagination)===null||j===void 0?void 0:j.pageSize)&&c([])},f=function(){var r=U()(m()().mark(function t(){var T,w,j,S;return m()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return B(!0),j=Number(D),h.next=4,(0,Z.getTierDailyStatisticaPageList)(R,j,(T=(w=x.pagination)===null||w===void 0?void 0:w.current)!==null&&T!==void 0?T:1);case 4:S=h.sent,S.data&&(c(S.data.list),K(o()(o()({},x),{},{pagination:o()(o()({},x.pagination),{},{total:S.data.total})})),B(!1));case 6:case"end":return h.stop()}},t)}));return function(){return r.apply(this,arguments)}}();return(0,s.useEffect)(function(){f()},[(v=x.pagination)===null||v===void 0?void 0:v.current]),(0,s.useEffect)(function(){f()},[D]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:n.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:D,items:C,onChange:function(t){return P(t)}}),(0,e.jsx)(z.Z,{columns:d,rowKey:function(t){return t.time},dataSource:G,pagination:x.pagination,loading:_,onChange:a})]})},re=J,ae=i(74656),te=i(26915),pe=i(83622),he=i(27484),ie=i.n(he),se=function(I){var v,R=I.guid,$=(0,s.useState)(!1),p=g()($,2),D=p[0],P=p[1],W=(0,s.useState)([]),u=g()(W,2),_=u[0],B=u[1],F=(0,s.useState)("guid"),E=g()(F,2),G=E[0],c=E[1],Y=(0,s.useState)(""),V=g()(Y,2),x=V[0],K=V[1],n=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),C=g()(n,2),d=C[0],a=C[1],f=(0,b.useIntl)(),r=[{title:"Register Time",dataIndex:"createTime",render:function(M,h){return ie()(h.createTime).format("YYYY-MM-DD")}},{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"}],t=function(M,h,H){var Q;a({pagination:M}),M.pageSize!==((Q=d.pagination)===null||Q===void 0?void 0:Q.pageSize)&&B([])},T=function(){var S=U()(m()().mark(function M(){var h,H,Q,Se,ye,Ce,de;return m()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return P(!0),ye=(h=(H=d.pagination)===null||H===void 0?void 0:H.current)!==null&&h!==void 0?h:1,Ce=(Q=(Se=d.pagination)===null||Se===void 0?void 0:Se.pageSize)!==null&&Q!==void 0?Q:10,ne.next=5,k.Z.userData.getFirstTirerList(R,ye,Ce,G,x);case 5:de=ne.sent,de.data&&(B(de.data.list),a(o()(o()({},d),{},{pagination:o()(o()({},d.pagination),{},{total:de.data.total})})),P(!1));case 7:case"end":return ne.stop()}},M)}));return function(){return S.apply(this,arguments)}}();(0,s.useEffect)(function(){T()},[(v=d.pagination)===null||v===void 0?void 0:v.current]);var w=function(){var S=U()(m()().mark(function M(){return m()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:a(o()(o()({},d),{},{pagination:o()(o()({},d.pagination),{},{current:1})})),T();case 2:case"end":return H.stop()}},M)}));return function(){return S.apply(this,arguments)}}(),j=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:f.formatMessage({id:"pages.vipList.listOfTirer1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(ae.Z,{options:j,value:G,onChange:c})}),(0,e.jsx)("div",{children:(0,e.jsx)(te.Z,{value:x,onChange:function(M){return K(M.target.value)}})}),(0,e.jsx)("div",{children:(0,e.jsx)(pe.ZP,{onClick:w,children:f.formatMessage({id:"search"})})})]}),(0,e.jsx)(z.Z,{columns:r,rowKey:function(M){return M.guid},dataSource:_,pagination:d.pagination,loading:D,onChange:t})]})},X=se,le=function(I){var v,R=I.guid,$=(0,s.useState)("1"),p=g()($,2),D=p[0],P=p[1],W=(0,s.useState)(!1),u=g()(W,2),_=u[0],B=u[1],F=(0,s.useState)([]),E=g()(F,2),G=E[0],c=E[1],Y=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=g()(Y,2),x=V[0],K=V[1],n=(0,b.useIntl)(),C=[{key:"1",label:n.formatMessage({id:"tier1"})},{key:"2",label:n.formatMessage({id:"tier2"})},{key:"3",label:n.formatMessage({id:"tier3"})},{key:"4",label:n.formatMessage({id:"tier4"})},{key:"5",label:n.formatMessage({id:"tier5"})}],d=[{title:n.formatMessage({id:"date"}),dataIndex:"time"},{title:n.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:n.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:n.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:n.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,T,w){var j;K({pagination:t}),t.pageSize!==((j=x.pagination)===null||j===void 0?void 0:j.pageSize)&&c([])},f=function(){var r=U()(m()().mark(function t(){var T,w,j,S;return m()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return B(!0),j=Number(D),h.next=4,(0,Z.getTierMonthlyStatisticaPageList)(R,j,(T=(w=x.pagination)===null||w===void 0?void 0:w.current)!==null&&T!==void 0?T:1);case 4:S=h.sent,S.data&&(c(S.data.list),K(o()(o()({},x),{},{pagination:o()(o()({},x.pagination),{},{total:S.data.total})})),B(!1));case 6:case"end":return h.stop()}},t)}));return function(){return r.apply(this,arguments)}}();return(0,s.useEffect)(function(){f()},[(v=x.pagination)===null||v===void 0?void 0:v.current]),(0,s.useEffect)(function(){f()},[D]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:n.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:D,items:C,onChange:function(t){return P(t)}}),(0,e.jsx)(z.Z,{columns:d,rowKey:function(t){return t.time},dataSource:G,pagination:x.pagination,loading:_,onChange:a})]})},xe=le,q=function(I){var v=I.guid,R=(0,s.useState)(void 0),$=g()(R,2),p=$[0],D=$[1],P=(0,s.useState)(),W=g()(P,2),u=W[0],_=W[1],B=N.ZP.useMessage(),F=g()(B,2),E=F[0],G=F[1],c=(0,b.useIntl)(),Y=[{title:"",dataIndex:"type",key:"type"},{title:c.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],V=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:c.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:c.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:c.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{span:2,render:function(d,a){if(!a||!a.inviteeCountList||!a.inviteeVolume24HList||a.inviteeCountList.length!==5||a.inviteeVolume24HList.length!==5)return(0,e.jsx)("div",{});var f=[{type:c.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:c.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,y.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,y.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,y.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,y.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,y.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,y.BW)(a.inviteeVolume24HList[4],6)}];return(0,e.jsx)(z.Z,{columns:Y,dataSource:f,pagination:!1})}}],x=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:c.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(d,a,f,r){return"$"+(0,y.BW)(d,3)}}],K=function(){var C=U()(m()().mark(function d(){var a;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.Z.rebate.getRebateDetail(v);case 2:a=r.sent,a.data&&D(a.data);case 4:case"end":return r.stop()}},d)}));return function(){return C.apply(this,arguments)}}(),n=function(){if(p){var d=[],a=[];return p.platformList.forEach(function(f){a.push(f.platform);var r="";f.platform=="tg"?r="Channel TG Rebate Ratio:":f.platform=="web"?r="Channel Web Rebate Ratio:":f.platform=="third"&&(r="3rd Party Channel Rebate Ratio:"),d.push((0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:r}),(0,e.jsxs)("span",{children:[" ",f.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",a.join("/")]})]}),d,(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:"Referral Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(p.refCommission,3)]})]}),(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:"Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(p.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:c.formatMessage({id:"pages.vipList.totalCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(p.totalCommission,3)]})]}),(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:c.formatMessage({id:"pages.vipList.unclaimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(p.unclaimedCommission,3)]})]}),(0,e.jsxs)("div",{className:l.row,children:[(0,e.jsx)("span",{className:l.label2,children:c.formatMessage({id:"pages.vipList.claimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(p.claimedCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,s.useEffect)(function(){var C=function(){var d=U()(m()().mark(function a(){var f;return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return E.loading("load..."),t.prev=1,t.next=4,(0,ce.getVipDetail)(v);case 4:f=t.sent,_(f),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),N.ZP.error(c.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:E.destroy();case 12:case"end":return t.stop()}},a,null,[[1,8]])}));return function(){return d.apply(this,arguments)}}();C(),K()},[]),(0,e.jsxs)("div",{children:[u&&(0,e.jsx)(me.ZP,{column:2,title:c.formatMessage({id:"pages.vipList.detail.view"}),request:U()(m()().mark(function C(){return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:u||{}});case 1:case"end":return a.stop()}},C)})),params:{guid:u==null?void 0:u.guid},columns:V}),p&&n(),(0,e.jsx)(A.Z,{}),(0,e.jsx)(re,{guid:v}),(0,e.jsx)(xe,{guid:v}),(0,e.jsx)(A.Z,{}),(0,e.jsx)(X,{guid:v})]})},oe=q},65763:function(je,ue,i){"use strict";i.d(ue,{BW:function(){return me},q0:function(){return y},rD:function(){return ce}});var ve=i(64599),m=i.n(ve),ge=i(27484),U=i.n(ge),fe=i(90482),g=i(84105);function me(b,N){if(!b)return"";var z=new fe.Z(b),A=b.split(".");if(A.length!==2)return b;for(var s=A[0],k=A[1],l=0,L="",o=0;o<k.length;o++){var Z=k[o];if(L.length>=N)break;Z=="0"&&L.length==0?l=l+1:L=L+Z}return l>3?s+".0{"+l+"}"+L:s+"."+"0".repeat(l)+L}function ce(b,N,z,A,s,k){var l=new Set,L=new Set,o=m()(A),Z;try{for(o.s();!(Z=o.n()).done;){var ee=Z.value;l.add(ee[b]),L.add(ee[N])}}catch(u){o.e(u)}finally{o.f()}console.log("mainKeyList",l),console.log("timeKeyList",L);var e=new Map,J=m()(A),re;try{for(J.s();!(re=J.n()).done;){var ae=re.value,te=ae[N],pe=ae[b],he=ae[z];e.has(te)||e.set(te,new Map),e.get(te).set(pe,he)}}catch(u){J.e(u)}finally{J.f()}console.log("tempMap",e);var ie=[],se=[];se.push("time");var X=m()(l),le;try{for(X.s();!(le=X.n()).done;){var xe=le.value;se.push(xe)}}catch(u){X.e(u)}finally{X.f()}ie.push(se);var q=m()(L),oe;try{for(q.s();!(oe=q.n()).done;){var O=oe.value,I=[];I.push(O);var v=m()(l),R;try{for(v.s();!(R=v.n()).done;){var $=R.value;e.has(O)&&e.get(O).has($)?I.push(e.get(O).get($)):I.push("")}}catch(u){v.e(u)}finally{v.f()}ie.push(I)}}catch(u){q.e(u)}finally{q.f()}var p=g.P6.aoa_to_sheet(ie),D=g.P6.book_new();g.P6.book_append_sheet(D,p,"Sheet1");var P="";s=="daily"?P="(\u6BCF\u65E5)":s=="monthly"&&(P="(\u6BCF\u6708)");var W="".concat(U()().format("YYYYMMDDHHmmss")).concat(k.replaceAll(" ","")).concat(P,".xlsx");g.NC(D,W)}function y(b){var N=parseFloat(b);return N.toLocaleString("en-US")}},20067:function(){}}]);
