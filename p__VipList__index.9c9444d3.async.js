"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[401],{64317:function(ye,ve,r){var U=r(1413),p=r(91),pe=r(22270),y=r(67294),me=r(66758),m=r(56297),K=r(85893),M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],he=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],Se=function(x,re){var se=x.fieldProps,z=x.children,b=x.params,n=x.proFieldProps,ie=x.mode,N=x.valueEnum,ne=x.request,le=x.showSearch,F=x.options,_=(0,p.Z)(x,M),fe=(0,y.useContext)(me.Z);return(0,K.jsx)(m.Z,(0,U.Z)((0,U.Z)({valueEnum:(0,pe.h)(N),request:ne,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,U.Z)({options:F,mode:ie,showSearch:le,getPopupContainer:fe.getPopupContainer},se),ref:re,proFieldProps:n},_),{},{children:z}))},ge=y.forwardRef(function(u,x){var re=u.fieldProps,se=u.children,z=u.params,b=u.proFieldProps,n=u.mode,ie=u.valueEnum,N=u.request,ne=u.options,le=(0,p.Z)(u,he),F=(0,U.Z)({options:ne,mode:n||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},re),_=(0,y.useContext)(me.Z);return(0,K.jsx)(m.Z,(0,U.Z)((0,U.Z)({valueEnum:(0,pe.h)(ie),request:N,params:z,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,U.Z)({getPopupContainer:_.getPopupContainer},F),ref:x,proFieldProps:b},le),{},{children:se}))}),te=y.forwardRef(Se),Me=ge,H=te;H.SearchSelect=Me,H.displayName="ProFormComponent",ve.Z=H},91019:function(ye,ve,r){r.r(ve),r.d(ve,{default:function(){return we}});var U=r(15009),p=r.n(U),pe=r(99289),y=r.n(pe),me=r(5574),m=r.n(me),K=r(6742),M=r(65763),he=r(90930),Se=r(38521),ge=r(37476),te=r(5966),Me=r(64317),H=r(94272),u=r(2453),x=r(83622),re=r(85265),se=r(38925),z=r(71230),b=r(15746),n=r(67294),ie=r(20040),N=r(96068),ne=r(96074),le=r(97857),F=r.n(le),_=r(93463),fe=r(48096),a=r(85893),je=function(G){var L,Y=G.guid,B=(0,n.useState)("1"),j=m()(B,2),$=j[0],E=j[1],V=(0,n.useState)(!1),k=m()(V,2),J=k[0],f=k[1],Q=(0,n.useState)([]),A=m()(Q,2),X=A[0],P=A[1],C=(0,n.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),i=m()(C,2),v=i[0],O=i[1],s=(0,H.useIntl)(),ee=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],ae=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(o){return"$"+(0,M.B)(o,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],de=function(o,g,T){var I;O({pagination:o}),o.pageSize!==((I=v.pagination)===null||I===void 0?void 0:I.pageSize)&&P([])},W=function(){var Z=y()(p()().mark(function o(){var g,T,I,l;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),I=Number($),t.next=4,(0,_.RV)(Y,I,(g=(T=v.pagination)===null||T===void 0?void 0:T.current)!==null&&g!==void 0?g:1);case 4:l=t.sent,l.data&&(P(l.data.list),O(F()(F()({},v),{},{pagination:F()(F()({},v.pagination),{},{total:l.data.total})})),f(!1));case 6:case"end":return t.stop()}},o)}));return function(){return Z.apply(this,arguments)}}();return(0,n.useEffect)(function(){W()},[(L=v.pagination)===null||L===void 0?void 0:L.current]),(0,n.useEffect)(function(){W()},[$]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:s.formatMessage({id:"pages.dailyStatistics"})}),(0,a.jsx)(fe.Z,{defaultActiveKey:$,items:ee,onChange:function(o){return E(o)}}),(0,a.jsx)(N.Z,{columns:ae,rowKey:function(o){return o.time},dataSource:X,pagination:v.pagination,loading:J,onChange:de})]})},Ze=je,De=function(G){var L,Y=G.guid,B=(0,n.useState)("1"),j=m()(B,2),$=j[0],E=j[1],V=(0,n.useState)(!1),k=m()(V,2),J=k[0],f=k[1],Q=(0,n.useState)([]),A=m()(Q,2),X=A[0],P=A[1],C=(0,n.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),i=m()(C,2),v=i[0],O=i[1],s=(0,H.useIntl)(),ee=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],ae=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(o){return"$"+(0,M.B)(o,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],de=function(o,g,T){var I;O({pagination:o}),o.pageSize!==((I=v.pagination)===null||I===void 0?void 0:I.pageSize)&&P([])},W=function(){var Z=y()(p()().mark(function o(){var g,T,I,l;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),I=Number($),t.next=4,(0,_.VU)(Y,I,(g=(T=v.pagination)===null||T===void 0?void 0:T.current)!==null&&g!==void 0?g:1);case 4:l=t.sent,l.data&&(P(l.data.list),O(F()(F()({},v),{},{pagination:F()(F()({},v.pagination),{},{total:l.data.total})})),f(!1));case 6:case"end":return t.stop()}},o)}));return function(){return Z.apply(this,arguments)}}();return(0,n.useEffect)(function(){W()},[(L=v.pagination)===null||L===void 0?void 0:L.current]),(0,n.useEffect)(function(){W()},[$]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:s.formatMessage({id:"pages.monthlyStatistics"})}),(0,a.jsx)(fe.Z,{defaultActiveKey:$,items:ee,onChange:function(o){return E(o)}}),(0,a.jsx)(N.Z,{columns:ae,rowKey:function(o){return o.time},dataSource:X,pagination:v.pagination,loading:J,onChange:de})]})},be=De,Fe=function(G){var L=G.guid,Y=(0,n.useState)(),B=m()(Y,2),j=B[0],$=B[1],E=u.ZP.useMessage(),V=m()(E,2),k=V[0],J=V[1],f=(0,H.useIntl)(),Q=[{title:"",dataIndex:"type",key:"type"},{title:f.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],A=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:f.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:f.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:f.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:f.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(C){return"$"+(0,M.B)(C,6)}},{title:f.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(C){return"$"+(0,M.B)(C,6)}},{title:f.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(C){return"$"+(0,M.B)(C,6)}},{},{span:2,render:function(C,i){if(!i||!i.inviteeCountList||!i.inviteeVolume24HList||i.inviteeCountList.length!==5||i.inviteeVolume24HList.length!==5)return(0,a.jsx)("div",{});var v=[{type:f.formatMessage({id:"pages.vipList.invitee"}),total:i.totalInviteeCount+"",level1:i.inviteeCountList[0]+"",level2:i.inviteeCountList[1]+"",level3:i.inviteeCountList[2]+"",level4:i.inviteeCountList[3]+"",level5:i.inviteeCountList[4]+""},{type:f.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,M.B)(i.totalInviteeVolume24H,6),level1:"$"+(0,M.B)(i.inviteeVolume24HList[0],6),level2:"$"+(0,M.B)(i.inviteeVolume24HList[1],6),level3:"$"+(0,M.B)(i.inviteeVolume24HList[2],6),level4:"$"+(0,M.B)(i.inviteeVolume24HList[3],6),level5:"$"+(0,M.B)(i.inviteeVolume24HList[4],6)}];return(0,a.jsx)(N.Z,{columns:Q,dataSource:v,pagination:!1})}}],X=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:f.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(C,i,v,O){return"$"+(0,M.B)(C,3)}}];return(0,n.useEffect)(function(){var P=function(){var C=y()(p()().mark(function i(){var v;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return k.loading("load..."),s.prev=1,s.next=4,(0,K.DJ)(L);case 4:v=s.sent,$(v),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),u.ZP.error(f.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:k.destroy();case 12:case"end":return s.stop()}},i,null,[[1,8]])}));return function(){return C.apply(this,arguments)}}();P()},[]),(0,a.jsxs)("div",{children:[j&&(0,a.jsx)(ie.ZP,{column:2,title:f.formatMessage({id:"pages.vipList.detail.view"}),request:y()(p()().mark(function P(){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{data:j||{}});case 1:case"end":return i.stop()}},P)})),params:{guid:j==null?void 0:j.guid},columns:A}),(0,a.jsx)(ne.Z,{}),(0,a.jsx)(Ze,{guid:L}),(0,a.jsx)(be,{guid:L})]})},$e=Fe,oe={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",row:"row___H12AQ"},Ee=function(){var G=(0,n.useState)(!1),L=m()(G,2),Y=L[0],B=L[1],j=(0,n.useState)(),$=m()(j,2),E=$[0],V=$[1],k=(0,n.useState)(),J=m()(k,2),f=J[0],Q=J[1],A=u.ZP.useMessage(),X=m()(A,2),P=X[0],C=X[1],i=(0,n.useState)(!1),v=m()(i,2),O=v[0],s=v[1],ee=(0,n.useRef)(),ae=(0,n.useRef)(),de=(0,n.useState)(!1),W=m()(de,2),Z=W[0],o=W[1],g=(0,n.useRef)(),T=(0,n.useState)(void 0),I=m()(T,2),l=I[0],ue=I[1],t=(0,H.useIntl)(),Ve=function(){var D=y()(p()().mark(function c(d){var h,S;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l!=null){e.next=3;break}return u.ZP.error(t.formatMessage({id:"pages.overall.user.null"})),e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,(0,K.fA)(l==null?void 0:l.guid,d.vip,d.remark);case 6:return u.ZP.success(t.formatMessage({id:"pages.overall.newSvip.add.success"})),g==null||(h=g.current)===null||h===void 0||h.resetFields(),e.abrupt("return",!0);case 11:if(e.prev=11,e.t0=e.catch(3),console.error(e.t0),e.t0!="this user is already VIP"){e.next=19;break}return u.ZP.error(t.formatMessage({id:"pages.overall.newSvip.add.exists"})),g==null||(S=g.current)===null||S===void 0||S.resetFields(),ue(void 0),e.abrupt("return",!1);case 19:return u.ZP.error(t.formatMessage({id:"pages.overall.newSvip.add.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},c,null,[[3,11]])}));return function(d){return D.apply(this,arguments)}}(),Te=function(){var D=y()(p()().mark(function c(d){var h,S;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,K.Nq)(E.guid,d);case 5:if(S=e.sent,S.code===0){e.next=11;break}if(S.code!=-2){e.next=10;break}return u.ZP.error(S.msg),e.abrupt("return",!1);case 10:throw S.msg;case 11:return u.ZP.success(t.formatMessage({id:"pages.vipList.update.success"})),(h=ee.current)===null||h===void 0||h.reload(),V(void 0),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),u.ZP.error(t.formatMessage({id:"pages.vipList.update.error"})),e.abrupt("return",!1);case 21:case"end":return e.stop()}},c,null,[[2,17]])}));return function(d){return D.apply(this,arguments)}}(),ke=function(){var D=y()(p()().mark(function c(d){var h,S;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d.target.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,K.V8)(d.target.value);case 5:h=e.sent,h!==void 0&&(S={guid:h.guid,tgUsername:h.tgUsername,email:h.email,vip:h.vip},ue(S)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),ue(void 0),u.ZP.error(t.formatMessage({id:"pages.overall.user.notFound"}));case 13:case"end":return e.stop()}},c,null,[[0,9]])}));return function(d){return D.apply(this,arguments)}}(),Re=[{title:"ID",dataIndex:"id",hideInSearch:!0,sorter:!0},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:t.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:"Guid",dataIndex:"guid"},{title:t.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{title:t.formatMessage({id:"pages.vipList.invitee1Count"}),dataIndex:"invitee1Count",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:t.formatMessage({id:"pages.vipList.invitee1Count24"}),dataIndex:"invitee1Count24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0},{title:t.formatMessage({id:"pages.vipList.invitee1Volume24"}),dataIndex:"invitee1Volume24",hideInSearch:!0,hideInDescriptions:!0,sorter:!0,renderText:function(c){return"$"+(0,M.B)(c,3)}},{title:t.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",hideInSearch:!0,hideInDescriptions:!0,renderText:function(c){return"$"+(0,M.B)(c,3)}},{title:t.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",hideInSearch:!0},{title:t.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(c,d){var h=[(0,a.jsx)(x.ZP,{type:"link",onClick:function(){var R;V(d),(R=ae.current)===null||R===void 0||R.setFieldValue("remark",d.remark),requestAnimationFrame(function(){B(!0)})},children:t.formatMessage({id:"pages.vipList.editRemark"})}),(0,a.jsx)(x.ZP,{type:"link",onClick:function(){V(d),s(!0)},children:t.formatMessage({id:"pages.vipList.detail"})},"view")];return h}}];return(0,a.jsxs)(he._z,{children:[(0,a.jsx)(Se.Z,{actionRef:ee,rowKey:"guid",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsx)("div",{children:(0,a.jsx)(x.ZP,{type:"link",onClick:function(){o(!0)},children:t.formatMessage({id:"pages.overall.vip.newVip"})})})]},request:function(){var D=y()(p()().mark(function c(d,h){var S,R,e,Ce,Ie,Pe,Le,ce,q;return p()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:Ie=!1,Pe="",w.t0=p()().keys(h);case 3:if((w.t1=w.t0()).done){w.next=11;break}return Le=w.t1.value,Pe=Le,ce=h[Le],(ce==null?void 0:ce.toString())=="descend"&&(Ie=!0),w.abrupt("break",11);case 11:return d.page=d==null?void 0:d.current,delete d.current,w.next=15,(0,K.zc)(d,Pe,Ie);case 15:return q=w.sent,console.log({data:(S=q.data)===null||S===void 0?void 0:S.list,success:q.code==0,total:(R=q.data)===null||R===void 0?void 0:R.total}),w.abrupt("return",{data:(e=q.data)===null||e===void 0?void 0:e.list,success:q.code==0,total:(Ce=q.data)===null||Ce===void 0?void 0:Ce.total});case 18:case"end":return w.stop()}},c)}));return function(c,d){return D.apply(this,arguments)}}(),columns:Re}),(0,a.jsx)(ge.Y,{formRef:ae,title:t.formatMessage({id:"pages.vipList.editRemark"}),open:Y,onFinish:Te,onOpenChange:B,children:(0,a.jsx)(te.Z,{name:"remark",fieldProps:{maxLength:64}})}),(0,a.jsx)(re.Z,{width:600,open:O,onClose:function(){V(void 0),Q(void 0),s(!1)},closable:!1,children:E&&(0,a.jsx)($e,{guid:E==null?void 0:E.guid})}),(0,a.jsxs)(ge.Y,{title:"Add SVIP",layout:"horizontal",formRef:g,labelCol:{span:8},wrapperCol:{span:16},open:Z,onFinish:Ve,onOpenChange:function(c){var d;g==null||(d=g.current)===null||d===void 0||d.resetFields(),o(c)},children:[(0,a.jsx)(te.Z,{width:"md",name:"refCode",label:t.formatMessage({id:"pages.overall.newSvip.refCode"}),placeholder:t.formatMessage({id:"pages.overall.newSvip.refCode.placeholder"}),fieldProps:{onBlur:ke,maxLength:16},rules:[{required:!0,message:"Please enter refCode!"}]}),(0,a.jsx)(Me.Z,{width:"md",name:"vip",label:t.formatMessage({id:"pages.overall.newSvip.vip"}),valueEnum:{vip1:t.formatMessage({id:"pages.overall.vip.list.vip1"}),vip2:t.formatMessage({id:"pages.overall.vip.list.vip2"}),vip3:t.formatMessage({id:"pages.overall.vip.list.vip3"}),svip:t.formatMessage({id:"pages.overall.vip.list.svip"})},rules:[{required:!0,message:"Please select vip!"}]}),(0,a.jsx)(te.Z,{width:"md",name:"remark",label:t.formatMessage({id:"pages.overall.newSvip.remark"}),placeholder:t.formatMessage({id:"pages.overall.newSvip.remark.placeholder"}),fieldProps:{maxLength:64}}),l&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,a.jsxs)("div",{style:{width:400},children:[(0,a.jsx)(se.Z,{message:"User Found",type:"success",showIcon:!0}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(z.Z,{className:oe.row,children:[(0,a.jsx)(b.Z,{className:oe.label,span:6,children:"Guid:"}),(0,a.jsx)(b.Z,{span:12,children:l==null?void 0:l.guid})]}),(0,a.jsxs)(z.Z,{children:[(0,a.jsx)(b.Z,{className:oe.label,span:6,children:"Tg Username:"}),(0,a.jsx)(b.Z,{span:12,children:l==null?void 0:l.tgUsername})]}),(0,a.jsxs)(z.Z,{children:[(0,a.jsx)(b.Z,{className:oe.label,span:6,children:"Email:"}),(0,a.jsx)(b.Z,{span:12,children:l==null?void 0:l.email})]}),(0,a.jsxs)(z.Z,{children:[(0,a.jsx)(b.Z,{className:oe.label,span:6,children:"Vip:"}),(0,a.jsx)(b.Z,{span:12,children:l==null?void 0:l.vip})]})]})]})})]})]})},we=Ee}}]);
