(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[889],{53275:function(je,w,t){"use strict";t.r(w),t.d(w,{default:function(){return ae}});var X=t(64599),h=t.n(X),q=t(15009),K=t.n(q),_=t(99289),E=t.n(_),ee=t(5574),S=t.n(ee),te=t(21292),o=t(65763),l=t(94272),f=t(45433),H=t(4393),C=t(83622),P=t(78957),x=t(78045),d=t(74330),c=t(74656),p=t(96068),M=t(27484),V=t.n(M),s=t(67294),m=t(84105),r=t(85893),T=f.default.RangePicker,F=function(){var B=(0,s.useState)("all"),R=S()(B,2),y=R[0],k=R[1],g=(0,l.useIntl)(),A=s.useState(!1),L=S()(A,2),N=L[0],D=L[1],O=s.useState([]),Y=S()(O,2),Z=Y[0],re=Y[1],G=s.useState("total"),W=S()(G,2),j=W[0],v=W[1],de=[{value:"total",label:"\u5168\u90E8"},{value:"zh-cn",label:"\u4E2D\u6587"},{value:"en",label:"\u82F1\u8BED"},{value:"vi",label:"\u8D8A\u5357\u8BED"},{value:"id",label:"\u5370\u5C3C\u8BED"}],ne=V()().startOf("day"),ce=ne.add(-7,"day"),Ue=[ce,ne],Ie=s.useState(ce.format("YYYY-MM-DD")),ie=S()(Ie,2),oe=ie[0],Ee=ie[1],Re=s.useState(ne.format("YYYY-MM-DD")),ve=S()(Re,2),b=ve[0],Ae=ve[1],Ne=function(a,e){Ee(e[0]),Ae(e[1])},le=[{title:g.formatMessage({id:"type"}),dataIndex:"type",key:"type",onCell:function(a,e){return e===void 0?{rowSpan:1}:e===0?{rowSpan:5}:e>0&&e<5?{rowSpan:0}:e===5?{rowSpan:3}:e>5&&e<8?{rowSpan:0}:e===8?{rowSpan:5}:e>8&&e<13?{rowSpan:0}:e===13?{colSpan:2}:{rowSpan:1}}},{title:"\u5E73\u53F0",dataIndex:"platform",key:"platform",onCell:function(a,e){return e===13?{colSpan:0}:{rowSpan:1}}},{title:"\u603B\u4EA4\u6613\u91CF",dataIndex:"totalVolume",key:"totalVolume",render:function(a,e){return(0,o.q0)((0,o.BW)(e.totalVolume,3))}},{title:"\u603B\u4EA4\u6613\u7B14\u6570",dataIndex:"totalCount",key:"totalCount",render:function(a,e){return(0,o.q0)(e.totalCount.toString())}},{title:"\u603B\u624B\u7EED\u8D39\u6536\u5165",dataIndex:"totalFee",key:"totalFee",render:function(a,e){return(0,o.q0)((0,o.BW)(e.totalFee,3))}},{title:"\u603B\u5171\u4EA4\u6613\u4F63\u91D1",dataIndex:"commissionFee",key:"commissionFee",render:function(a,e){return e.type==="tg"||e.type==="total"?(0,o.q0)((0,o.BW)(e.commissionFee,3)):"-"}},{title:"\u603B\u4EA4\u6613\u5229\u6DA6",dataIndex:"platformFee",key:"platformFee",render:function(a,e){return(0,o.q0)((0,o.BW)(e.platformFee,3))}},{title:"\u603B\u6CE8\u518C\u7528\u6237\u6570",dataIndex:"totalUserCount",key:"totalUserCount",render:function(a,e){return e.type==="tg"||e.type==="total"?(0,o.q0)(e.totalUserCount.toString()):"-"}},{title:"\u603B\u6D3B\u8DC3\u5730\u5740",dataIndex:"totalAciveWalletCount",key:"totalAciveWalletCount",render:function(a,e){return(0,o.q0)(e.totalAciveWalletCount.toString())}},{title:"\u65B0\u589E\u6CE8\u518C\u7528\u6237",dataIndex:"NewUserCount",key:"NewUserCount",render:function(a,e){if(j=="total"){if(e.type=="aveswap")return(0,o.q0)(e.NewUserCount.toString())}else if(e.type=="aveswap")return"-";if(e.type=="aveswapOld"){if(e.platform=="ios")return"\u4E0E\u65B0\u7248IOS\u5171\u7528";if(e.platform=="android")return"\u4E0E\u65B0\u7248Android\u5171\u7528"}return(0,o.q0)(e.NewUserCount.toString())}},{title:"\u65B0\u589E\u4EA4\u6613\u7528\u6237",dataIndex:"NewTransferUserCount",key:"NewTransferUserCount",render:function(a,e){return(0,o.q0)(e.NewTransferUserCount.toString())}},{title:"\u4EA4\u6613\u7528\u6237\u6570",dataIndex:"tradeUserCount",key:"tradeUserCount",render:function(a,e){return(0,o.q0)(e.tradeUserCount.toString())}}],he=function(){var n=E()(K()().mark(function a(){var e;return K()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D(!0),U.next=3,(0,te.getBotData)(j,oe,b,y=="exclude");case 3:e=U.sent,e.code===0&&e.data&&re(e.data),D(!1);case 6:case"end":return U.stop()}},a)}));return function(){return n.apply(this,arguments)}}();(0,s.useEffect)(function(){he()},[]),(0,s.useEffect)(function(){he()},[j,oe,b,y]);function Oe(){var n=[];if(le){var a=[],e=h()(le),se;try{for(e.s();!(se=e.n()).done;){var U=se.value;a.push(U.title)}}catch(I){e.e(I)}finally{e.f()}n.push(a);var z=h()(Z),pe;try{for(z.s();!(pe=z.n()).done;){var i=pe.value,u=[];u.push(i.type),u.push(i.platform),u.push(i.totalVolume),u.push(i.totalCount),u.push(i.totalFee),u.push(i.commissionFee),u.push(i.platformFee),u.push(i.totalUserCount),u.push(i.totalAciveWalletCount),u.push(i.NewUserCount),u.push(i.NewTransferUserCount),u.push(i.tradeUserCount),n.push(u)}}catch(I){z.e(I)}finally{z.f()}}var $=m.P6.aoa_to_sheet(n);$["!merges"]=[{s:{r:1,c:0},e:{r:5,c:0}},{s:{r:6,c:0},e:{r:8,c:0}},{s:{r:9,c:0},e:{r:13,c:0}},{s:{r:14,c:0},e:{r:14,c:1}}];for(var We=["F","H"],Te=[7,8,9,10,11,12,13,14],ue=0,ge=We;ue<ge.length;ue++){var me=ge[ue],J=h()(Te),ye;try{for(J.s();!(ye=J.n()).done;){var Se=ye.value;$["".concat(me).concat(Se)].v="-",$["".concat(me).concat(Se)].t="s"}}catch(I){J.e(I)}finally{J.f()}}console.log("worksheet",$);var Ce=m.P6.book_new();m.P6.book_append_sheet(Ce,$,"Sheet1");var xe="";y=="exclude"&&(xe="(".concat(g.formatMessage({id:"excludeAltcoinPairs"})).concat(b,")"));var Pe="",Q=h()(de),Me;try{for(Q.s();!(Me=Q.n()).done;){var De=Me.value;if(De.value===j){Pe=De.label;break}}}catch(I){Q.e(I)}finally{Q.f()}var Fe="".concat(oe.replaceAll("-",""),"-").concat(b.replaceAll("-","")).concat(Pe).concat(xe,".xlsx");m.NC(Ce,Fe)}return(0,r.jsx)(H.Z,{extra:(0,r.jsxs)("div",{className:"card-tools",children:[(0,r.jsx)(C.ZP,{className:"export",onClick:Oe,type:"link",children:g.formatMessage({id:"export"})}),(0,r.jsx)(P.Z,{children:(0,r.jsxs)(x.ZP.Group,{value:y,onChange:function(a){return k(a.target.value)},children:[(0,r.jsx)(x.ZP.Button,{value:"all",children:g.formatMessage({id:"all"})}),(0,r.jsx)(x.ZP.Button,{value:"exclude",children:g.formatMessage({id:"excludeAltcoinPairs"})})]})})]}),children:(0,r.jsxs)(d.Z,{spinning:N,tip:g.formatMessage({id:"loading"}),children:[(0,r.jsxs)("div",{className:"search",children:[(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("div",{className:"label",children:g.formatMessage({id:"languageZon"})+":"}),(0,r.jsx)(c.Z,{style:{width:120},onChange:function(a){v(a)},options:de,value:j})]}),(0,r.jsxs)("div",{className:"item",children:[(0,r.jsx)("div",{className:"label",children:g.formatMessage({id:"period"})+":"}),(0,r.jsx)(T,{onChange:Ne,defaultValue:Ue})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{columns:le,dataSource:Z,pagination:!1})})]})})},ae=F},65763:function(je,w,t){"use strict";t.d(w,{BW:function(){return ee},Cd:function(){return o},q0:function(){return te},rD:function(){return S}});var X=t(64599),h=t.n(X),q=t(27484),K=t.n(q),_=t(90482),E=t(84105);function ee(l,f){if(!l)return"";var H=new _.Z(l),C=l.split(".");if(C.length!==2)return l;for(var P=C[0],x=C[1],d=0,c="",p=0;p<x.length;p++){var M=x[p];if(c.length>=f)break;M=="0"&&c.length==0?d=d+1:c=c+M}return d>3?P+".0{"+d+"}"+c:P+"."+"0".repeat(d)+c}function S(l,f,H,C,P,x){var d=new Set,c=new Set,p=h()(C),M;try{for(p.s();!(M=p.n()).done;){var V=M.value;d.add(V[l]),c.add(V[f])}}catch(v){p.e(v)}finally{p.f()}console.log("mainKeyList",d),console.log("timeKeyList",c);var s=new Map,m=h()(C),r;try{for(m.s();!(r=m.n()).done;){var T=r.value,F=T[f],ae=T[l],fe=T[H];s.has(F)||s.set(F,new Map),s.get(F).set(ae,fe)}}catch(v){m.e(v)}finally{m.f()}console.log("tempMap",s);var B=[],R=[];R.push("time");var y=h()(d),k;try{for(y.s();!(k=y.n()).done;){var g=k.value;R.push(g)}}catch(v){y.e(v)}finally{y.f()}B.push(R);var A=h()(c),L;try{for(A.s();!(L=A.n()).done;){var N=L.value,D=[];D.push(N);var O=h()(d),Y;try{for(O.s();!(Y=O.n()).done;){var Z=Y.value;s.has(N)&&s.get(N).has(Z)?D.push(s.get(N).get(Z)):D.push("")}}catch(v){O.e(v)}finally{O.f()}B.push(D)}}catch(v){A.e(v)}finally{A.f()}var re=E.P6.aoa_to_sheet(B),G=E.P6.book_new();E.P6.book_append_sheet(G,re,"Sheet1");var W="";P=="daily"?W="(\u6BCF\u65E5)":P=="monthly"&&(W="(\u6BCF\u6708)");var j="".concat(K()().format("YYYYMMDDHHmmss")).concat(x.replaceAll(" ","")).concat(W,".xlsx");E.NC(G,j)}function te(l){var f=parseFloat(l);return f.toLocaleString("en-US")}function o(l,f){return l?l.length<=2*f?l:l.slice(0,f)+"***"+l.slice(-f):""}},20067:function(){}}]);
