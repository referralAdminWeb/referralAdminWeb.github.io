"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[246],{40246:function(de,G,s){s.d(G,{F:function(){return re}});var Q=s(15009),S=s.n(Q),J=s(99289),R=s.n(J),O=s(5574),p=s.n(O),X=s(92276),Y=s(6742),v=s(65763),A=s(94272),U=s(2453),E=s(96068),q=s(96074),o=s(67294),_=s(92861),b={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ"},ee=s(97857),L=s.n(ee),z=s(93463),F=s(48096),t=s(85893),ae=function(W){var f,B=W.guid,V=(0,o.useState)("1"),c=p()(V,2),C=c[0],k=c[1],P=(0,o.useState)(!1),h=p()(P,2),H=h[0],D=h[1],w=(0,o.useState)([]),j=p()(w,2),Z=j[0],l=j[1],N=(0,o.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),$=p()(N,2),g=$[0],T=$[1],i=(0,A.useIntl)(),u=[{key:"1",label:i.formatMessage({id:"tier1"})},{key:"2",label:i.formatMessage({id:"tier2"})},{key:"3",label:i.formatMessage({id:"tier3"})},{key:"4",label:i.formatMessage({id:"tier4"})},{key:"5",label:i.formatMessage({id:"tier5"})}],r=[{title:i.formatMessage({id:"date"}),dataIndex:"time"},{title:i.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:i.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:i.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(a){return"$"+(0,v.BW)(a,3)}},{title:i.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],e=function(a,y,I){var m;T({pagination:a}),a.pageSize!==((m=g.pagination)===null||m===void 0?void 0:m.pageSize)&&l([])},d=function(){var n=R()(S()().mark(function a(){var y,I,m,M;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return D(!0),m=Number(C),x.next=4,(0,z.RV)(B,m,(y=(I=g.pagination)===null||I===void 0?void 0:I.current)!==null&&y!==void 0?y:1);case 4:M=x.sent,M.data&&(l(M.data.list),T(L()(L()({},g),{},{pagination:L()(L()({},g.pagination),{},{total:M.data.total})})),D(!1));case 6:case"end":return x.stop()}},a)}));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){d()},[(f=g.pagination)===null||f===void 0?void 0:f.current]),(0,o.useEffect)(function(){d()},[C]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:i.formatMessage({id:"pages.dailyStatistics"})}),(0,t.jsx)(F.Z,{defaultActiveKey:C,items:u,onChange:function(a){return k(a)}}),(0,t.jsx)(E.Z,{columns:r,rowKey:function(a){return a.time},dataSource:Z,pagination:g.pagination,loading:H,onChange:e})]})},te=ae,ie=function(W){var f,B=W.guid,V=(0,o.useState)("1"),c=p()(V,2),C=c[0],k=c[1],P=(0,o.useState)(!1),h=p()(P,2),H=h[0],D=h[1],w=(0,o.useState)([]),j=p()(w,2),Z=j[0],l=j[1],N=(0,o.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),$=p()(N,2),g=$[0],T=$[1],i=(0,A.useIntl)(),u=[{key:"1",label:i.formatMessage({id:"tier1"})},{key:"2",label:i.formatMessage({id:"tier2"})},{key:"3",label:i.formatMessage({id:"tier3"})},{key:"4",label:i.formatMessage({id:"tier4"})},{key:"5",label:i.formatMessage({id:"tier5"})}],r=[{title:i.formatMessage({id:"date"}),dataIndex:"time"},{title:i.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:i.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:i.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(a){return"$"+(0,v.BW)(a,3)}},{title:i.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],e=function(a,y,I){var m;T({pagination:a}),a.pageSize!==((m=g.pagination)===null||m===void 0?void 0:m.pageSize)&&l([])},d=function(){var n=R()(S()().mark(function a(){var y,I,m,M;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return D(!0),m=Number(C),x.next=4,(0,z.VU)(B,m,(y=(I=g.pagination)===null||I===void 0?void 0:I.current)!==null&&y!==void 0?y:1);case 4:M=x.sent,M.data&&(l(M.data.list),T(L()(L()({},g),{},{pagination:L()(L()({},g.pagination),{},{total:M.data.total})})),D(!1));case 6:case"end":return x.stop()}},a)}));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){d()},[(f=g.pagination)===null||f===void 0?void 0:f.current]),(0,o.useEffect)(function(){d()},[C]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:i.formatMessage({id:"pages.monthlyStatistics"})}),(0,t.jsx)(F.Z,{defaultActiveKey:C,items:u,onChange:function(a){return k(a)}}),(0,t.jsx)(E.Z,{columns:r,rowKey:function(a){return a.time},dataSource:Z,pagination:g.pagination,loading:H,onChange:e})]})},ne=ie,se=function(W){var f=W.guid,B=(0,o.useState)(void 0),V=p()(B,2),c=V[0],C=V[1],k=(0,o.useState)(),P=p()(k,2),h=P[0],H=P[1],D=U.ZP.useMessage(),w=p()(D,2),j=w[0],Z=w[1],l=(0,A.useIntl)(),N=[{title:"",dataIndex:"type",key:"type"},{title:l.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],$=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:l.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:l.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:l.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:l.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(r){return"$"+(0,v.BW)(r,6)}},{title:l.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(r){return"$"+(0,v.BW)(r,6)}},{title:l.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(r){return"$"+(0,v.BW)(r,6)}},{},{span:2,render:function(r,e){if(!e||!e.inviteeCountList||!e.inviteeVolume24HList||e.inviteeCountList.length!==5||e.inviteeVolume24HList.length!==5)return(0,t.jsx)("div",{});var d=[{type:l.formatMessage({id:"pages.vipList.invitee"}),total:e.totalInviteeCount+"",level1:e.inviteeCountList[0]+"",level2:e.inviteeCountList[1]+"",level3:e.inviteeCountList[2]+"",level4:e.inviteeCountList[3]+"",level5:e.inviteeCountList[4]+""},{type:l.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,v.BW)(e.totalInviteeVolume24H,6),level1:"$"+(0,v.BW)(e.inviteeVolume24HList[0],6),level2:"$"+(0,v.BW)(e.inviteeVolume24HList[1],6),level3:"$"+(0,v.BW)(e.inviteeVolume24HList[2],6),level4:"$"+(0,v.BW)(e.inviteeVolume24HList[3],6),level5:"$"+(0,v.BW)(e.inviteeVolume24HList[4],6)}];return(0,t.jsx)(E.Z,{columns:N,dataSource:d,pagination:!1})}}],g=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:l.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(r,e,d,n){return"$"+(0,v.BW)(r,3)}}],T=function(){var u=R()(S()().mark(function r(){var e;return S()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.Z.rebate.getRebateDetail(f);case 2:e=n.sent,e.data&&C(e.data);case 4:case"end":return n.stop()}},r)}));return function(){return u.apply(this,arguments)}}(),i=function(){if(c){var r=[],e=[];return c.platformList.forEach(function(d){e.push(d.platform);var n="";d.platform=="tg"?n="Channel TG Rebate Ratio:":d.platform=="web"?n="Channel Web Rebate Ratio:":d.platform=="third"&&(n="3rd Party Channel Rebate Ratio:"),r.push((0,t.jsxs)("div",{className:b.row,children:[(0,t.jsx)("span",{className:b.label2,children:n}),(0,t.jsxs)("span",{children:[" ",d.commissionRate/100,"%"]})]}))}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:b.row,children:[(0,t.jsx)("span",{className:b.label2,children:"Channel Type:"}),(0,t.jsxs)("span",{children:[" ",e.join("/")]})]}),r,(0,t.jsxs)("div",{className:b.row,children:[(0,t.jsx)("span",{className:b.label2,children:"Channel Commission:"}),(0,t.jsxs)("span",{children:[" ","$"+(0,v.BW)(c.channelCommission,3)]})]}),(0,t.jsxs)("div",{className:b.row,children:[(0,t.jsx)("span",{className:b.label2,children:"Third Commission:"}),(0,t.jsxs)("span",{children:[" ","$"+(0,v.BW)(c.thirdCommission,3)]})]})]})}else return(0,t.jsx)(t.Fragment,{})};return(0,o.useEffect)(function(){var u=function(){var r=R()(S()().mark(function e(){var d;return S()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return j.loading("load..."),a.prev=1,a.next=4,(0,Y.getVipDetail)(f);case 4:d=a.sent,H(d),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),U.ZP.error(l.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:j.destroy();case 12:case"end":return a.stop()}},e,null,[[1,8]])}));return function(){return r.apply(this,arguments)}}();u(),T()},[]),(0,t.jsxs)("div",{children:[h&&(0,t.jsx)(X.ZP,{column:2,title:l.formatMessage({id:"pages.vipList.detail.view"}),request:R()(S()().mark(function u(){return S()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:h||{}});case 1:case"end":return e.stop()}},u)})),params:{guid:h==null?void 0:h.guid},columns:$}),c&&i(),(0,t.jsx)(q.Z,{}),(0,t.jsx)(te,{guid:f}),(0,t.jsx)(ne,{guid:f})]})},re=se}}]);
