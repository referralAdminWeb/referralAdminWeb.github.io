(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[798],{46809:function(We,oe,a){"use strict";a.r(oe),a.d(oe,{default:function(){return we}});var p=a(64599),ue=a.n(p),de=a(19632),ye=a.n(de),je=a(15009),C=a.n(je),Ce=a(99289),q=a.n(Ce),De=a(9783),Be=a.n(De),Ie=a(97857),X=a.n(Ie),Ee=a(5574),h=a.n(Ee),Te=a(13769),ce=a.n(Te),_=a(11698),G=a(29933),ve=a(94272),te=a(116),fe=a(55102),me=a(2453),ie=a(98081),pe=a(4393),ae=a(53531),$e=a(74330),W=a(78045),he=a(83622),le=a(96068),Ze=a(85265),n=a(27484),i=a.n(n),d=a(9220),t=a(67294),l=a(84105),$=a(80652),e=a(85893),D=function(v){var x=v.type,c=v.value,T=(0,t.useState)(!1),u=h()(T,2),S=u[0],y=u[1],b=(0,ve.useIntl)(),O=(0,t.useState)([]),z=h()(O,2),P=z[0],R=z[1],K=function(){var j=q()(C()().mark(function m(){var I,Z,r,V,Y,ne;return C()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,y(!0),B.next=4,_.Z.promotionTrack.getListByDay(30,x,c);case 4:if(I=B.sent,I){Z=[],r=ue()(I);try{for(r.s();!(V=r.n()).done;)Y=V.value,ne=i()(Y.date).format("YYYY-MM-DD"),Z.push({date:ne,type:b.formatMessage({id:"pages.promotionTrack.view"}),count:Y.view}),Z.push({date:ne,type:b.formatMessage({id:"pages.promotionTrack.download"}),count:Y.download}),Z.push({date:ne,type:b.formatMessage({id:"pages.promotionTrack.register"}),count:Y.register})}catch(se){r.e(se)}finally{r.f()}Z=Z.reverse(),R(Z)}y(!1),B.next=14;break;case 9:return B.prev=9,B.t0=B.catch(0),y(!1),console.error(B.t0),B.abrupt("return",!1);case 14:case"end":return B.stop()}},m,null,[[0,9]])}));return function(){return j.apply(this,arguments)}}();return(0,t.useEffect)(function(){K()},[x,c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)($.Z,{data:P,xField:"date",yField:"count",colorField:"type",axis:{y:{labelFormatter:function(m){return m.toLocaleString()}}},shapeField:"smooth",scale:{y:{domainMin:0}},tooltip:{channel:"y",valueFormatter:function(m){return m.toLocaleString()}}})})},g=D,M=function(v){var x=v.type,c=v.value,T=(0,t.useState)(!1),u=h()(T,2),S=u[0],y=u[1],b=(0,t.useState)([]),O=h()(b,2),z=O[0],P=O[1],R=[{title:"date",dataIndex:"date",render:function(m,I,Z){return i()(m).format("YYYY-MM-DD")}},{title:"\u8BBF\u95EE\u6B21\u6570",dataIndex:"view"},{title:"\u4E0B\u8F7D\u6B21\u6570",dataIndex:"download"},{title:"\u6CE8\u518C\u6B21\u6570",dataIndex:"register"},{title:"\u72EC\u7ACBIP\u6570",dataIndex:"ip"},{title:"\u72EC\u7ACB\u8BBE\u5907\u6570",dataIndex:"deviceId"}],K=function(){var j=q()(C()().mark(function m(){var I;return C()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,y(!0),r.next=4,_.Z.promotionTrack.getListByLimit(90,x,c);case 4:I=r.sent,I&&P(I),y(!1),r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),y(!1),console.error(r.t0),r.abrupt("return",!1);case 14:case"end":return r.stop()}},m,null,[[0,9]])}));return function(){return j.apply(this,arguments)}}();return(0,t.useEffect)(function(){K()},[x,c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(le.Z,{size:"small",columns:R,dataSource:z,pagination:!1})})},U=M,H=function(v){var x=v.type,c=v.value,T=(0,t.useState)(!1),u=h()(T,2),S=u[0],y=u[1],b=(0,t.useState)([]),O=h()(b,2),z=O[0],P=O[1],R=[{title:"\u65F6\u95F4",dataIndex:"eventTime",render:function(m,I,Z){return i().unix(m).format("YYYY-MM-DD")},minWidth:120},{title:"Category",dataIndex:"category"},{title:"utm_source",dataIndex:"utmSource"},{title:"eid",dataIndex:"eid"},{title:"pid",dataIndex:"pid"},{title:"code",dataIndex:"code"},{title:"user_agent",dataIndex:"user_agent"},{title:"browser",dataIndex:"browser"},{title:"deviceId",dataIndex:"deviceId"},{title:"device",dataIndex:"device"},{title:"ip",dataIndex:"ip"},{title:"platform",dataIndex:"platform"},{title:"geo",dataIndex:"geo"},{title:"lang",dataIndex:"lang"},{title:"countryCode",dataIndex:"countryCode"},{title:"referer",dataIndex:"referer"},{title:"extra",dataIndex:"extra"}],K=function(){var j=q()(C()().mark(function m(){var I;return C()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,y(!0),r.next=4,_.Z.promotionTrack.getLogListByLimit(100,x,c);case 4:I=r.sent,I&&P(I),y(!1),r.next=14;break;case 9:return r.prev=9,r.t0=r.catch(0),y(!1),console.error(r.t0),r.abrupt("return",!1);case 14:case"end":return r.stop()}},m,null,[[0,9]])}));return function(){return j.apply(this,arguments)}}();return(0,t.useEffect)(function(){K()},[x,c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(le.Z,{size:"small",scroll:{x:!0},columns:R,dataSource:z,pagination:!1})})},w=H,E=G.Z.Divider,J=function(v){var x=v.type,c=v.value,T=(0,t.useState)(void 0),u=h()(T,2),S=u[0],y=u[1],b=(0,ve.useIntl)(),O=function(){var z=q()(C()().mark(function P(){var R;return C()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,_.Z.promotionTrack.getAccumulatedData(x,c);case 2:R=j.sent,y(R.data);case 4:case"end":return j.stop()}},P)}));return function(){return z.apply(this,arguments)}}();return(0,t.useEffect)(function(){O()},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"h1",children:"".concat(b.formatMessage({id:"pages.promotionTrack.utm_source"}),": ").concat(c)}),(0,e.jsx)("div",{children:(0,e.jsxs)(G.Z.Group,{direction:"row",children:[(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"\u7D2F\u8BA1\u8BBF\u95EE",value:S?S.view:"-"})}),(0,e.jsx)(E,{type:"vertical"}),(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"\u7D2F\u8BA1\u4E0B\u8F7D",value:S?S.download:"-"})}),(0,e.jsx)(E,{type:"vertical"}),(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"\u7D2F\u8BA1\u6CE8\u518C",value:S?S.register:"-"})})]})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"h3",children:"30\u5929\u63A8\u5E7F\u66F2\u7EBF"}),(0,e.jsx)(g,{type:x,value:c})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"h3",children:"\u8BBF\u95EE\u7EDF\u8BA1\u6570\u636E \uFF08\u6CE8\u610F\uFF0C\u53D6\u6700\u8FD190\u6761\uFF09"}),(0,e.jsx)(U,{type:x,value:c})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"h3",children:"\u8BBF\u95EE\u65E5\u5FD7 \uFF08\u6CE8\uFF0C\u53D6\u6700\u8FD1100\u6761\uFF09"}),(0,e.jsx)(w,{type:x,value:c})]})]})},re=J,Fe=["index"],Pe=["title","editable","children","dataIndex","record","handleSave"],ge=t.createContext(null),Ne=function(v){var x=v.index,c=ce()(v,Fe),T=te.Z.useForm(),u=h()(T,1),S=u[0];return(0,e.jsx)(te.Z,{form:S,component:!1,children:(0,e.jsx)(ge.Provider,{value:S,children:(0,e.jsx)("tr",X()({},c))})})},Le=function(v){var x=v.title,c=v.editable,T=v.children,u=v.dataIndex,S=v.record,y=v.handleSave,b=ce()(v,Pe),O=(0,t.useState)(!1),z=h()(O,2),P=z[0],R=z[1],K=(0,t.useRef)(null),j=(0,t.useContext)(ge);(0,t.useEffect)(function(){if(P){var r;(r=K.current)===null||r===void 0||r.focus()}},[P]);var m=function(){R(!P),j.setFieldsValue(Be()({},u,S[u]))},I=function(){var r=q()(C()().mark(function V(){var Y;return C()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,j.validateFields();case 3:Y=k.sent,m(),y(X()(X()({},S),Y)),k.next=11;break;case 8:k.prev=8,k.t0=k.catch(0),console.log("Save failed:",k.t0);case 11:case"end":return k.stop()}},V,null,[[0,8]])}));return function(){return r.apply(this,arguments)}}(),Z=T;return c&&(Z=P?(0,e.jsx)(te.Z.Item,{style:{margin:0},name:u,normalize:function(V){return V==null?void 0:V.trim()},children:(0,e.jsx)(fe.Z,{ref:K,onPressEnter:I,onBlur:I})}):(0,e.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingInlineEnd:24},onClick:m,children:T})),(0,e.jsx)("td",X()(X()({},b),{},{children:Z}))},xe=G.Z.Divider,Me=function(){var v=(0,t.useState)(void 0),x=h()(v,2),c=x[0],T=x[1],u=(0,ve.useIntl)(),S=(0,t.useState)([]),y=h()(S,2),b=y[0],O=y[1],z=(0,t.useState)(!1),P=h()(z,2),R=P[0],K=P[1],j=(0,t.useState)(!1),m=h()(j,2),I=m[0],Z=m[1],r=(0,t.useState)("24H"),V=h()(r,2),Y=V[0],ne=V[1],k=(0,t.useState)("utm_source"),B=h()(k,2),se=B[0],Ve=B[1],Xe=(0,t.useState)(""),Oe=h()(Xe,2),Re=Oe[0],ke=Oe[1],Ue=(0,t.useState)(!1),He=h()(Ue,2),Je=He[0],ze=He[1],Ke=(0,t.useState)(void 0),Ye=h()(Ke,2),be=Ye[0],Ae=Ye[1],Qe={body:{row:Ne,cell:Le}},qe=function(){var f=q()(C()().mark(function s(o){var N,A,L;return C()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.prev=0,Q.next=3,_.Z.promotionTrack.editRemark(o.typ,o.value,o.remark);case 3:me.ZP.success(u.formatMessage({id:"pages.vipList.update.success"})),N=ye()(b),A=N.findIndex(function(Se){return o.value===Se.value}),L=N[A],N.splice(A,1,X()(X()({},L),o)),O(N),Q.next=14;break;case 11:Q.prev=11,Q.t0=Q.catch(0),me.ZP.success(u.formatMessage({id:"pages.vipList.update.error"}));case 14:case"end":return Q.stop()}},s,null,[[0,11]])}));return function(o){return f.apply(this,arguments)}}(),_e=function(s){qe(s)},et=[{title:"ID",dataIndex:"value",width:360,render:function(s,o){return(0,e.jsx)(ie.Z,{size:"middle",children:(0,e.jsx)("div",{className:"link-btn",onClick:function(){Ae({type:se,value:o.value}),ze(!0)},children:o.value.length>40?o.value.substring(0,40)+"...":o.value})})}},{title:"\u8BBF\u95EE\u6B21\u6570",dataIndex:"view",sorter:function(s,o){return s.view-o.view}},{title:"\u4E0B\u8F7D\u6B21\u6570",dataIndex:"download",sorter:function(s,o){return s.download-o.download}},{title:"\u6CE8\u518C\u6B21\u6570",dataIndex:"register",sorter:function(s,o){return s.register-o.register}},{title:"\u72EC\u7ACBIP\u6570",dataIndex:"ip",sorter:function(s,o){return s.ip-o.ip}},{title:"\u72EC\u7ACB\u8BBE\u5907\u6570",dataIndex:"deviceId",sorter:function(s,o){return s.deviceId-o.deviceId}},{title:"\u5907\u6CE8\u4FE1\u606F",dataIndex:"remark",editable:!0,minWidth:100}],tt=et.map(function(f){return f.editable?X()(X()({},f),{},{onCell:function(o){return{record:o,editable:f.editable,dataIndex:f.dataIndex,title:f.title,handleSave:_e}}}):f}),at=function(){var f=q()(C()().mark(function s(){var o;return C()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,_.Z.promotionTrack.get24HData();case 2:o=A.sent,T(o.data);case 4:case"end":return A.stop()}},s)}));return function(){return f.apply(this,arguments)}}(),Ge=function(){var f=q()(C()().mark(function s(o){var N;return C()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return Z(!0),L.next=3,_.Z.promotionTrack.getStatisticalList(Y,se,o);case 3:N=L.sent,N.data&&O(N.data),Z(!1);case 6:case"end":return L.stop()}},s)}));return function(o){return f.apply(this,arguments)}}();(0,t.useEffect)(function(){at()},[]),(0,t.useEffect)(function(){ke(""),Ge("")},[se,Y]);var rt=function(){var s=[];s.push("ID"),s.push("\u8BBF\u95EE\u6B21\u6570"),s.push("\u4E0B\u8F7D\u6B21\u6570"),s.push("\u6CE8\u518C\u6B21\u6570"),s.push("\u72EC\u7ACBIP\u6570"),s.push("\u72EC\u7ACB\u8BBE\u5907\u6570"),s.push("\u5907\u6CE8\u4FE1\u606F");var o=[];o.push(s);var N=ue()(b),A;try{for(N.s();!(A=N.n()).done;){var L=A.value,ee=[];ee.push(L.value),ee.push(L.view),ee.push(L.download),ee.push(L.register),ee.push(L.ip),ee.push(L.deviceId),ee.push(L.remark),o.push(ee)}}catch(st){N.e(st)}finally{N.f()}var Q=l.P6.aoa_to_sheet(o),Se=l.P6.book_new();l.P6.book_append_sheet(Se,Q,"Sheet1");var nt="promotionTrack_".concat(Y,"_").concat(i()().format("YYYYMMDDHHmmss"),".xlsx");l.NC(Se,nt)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pe.Z,{children:(0,e.jsx)(d.Z,{onResize:function(s){K(s.width<596)},children:(0,e.jsxs)(G.Z.Group,{direction:R?"column":"row",children:[(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"24H\u603B\u8BBF\u95EE",value:c?c.view:"-"})}),(0,e.jsx)(xe,{type:R?"horizontal":"vertical"}),(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"24H\u603B\u4E0B\u8F7D",value:c?c.download:"-"})}),(0,e.jsx)(xe,{type:R?"horizontal":"vertical"}),(0,e.jsx)(G.Z,{children:(0,e.jsx)(ae.Z,{title:"24H\u6CE8\u518C\u6570",value:c?c.register:"-"})})]})},"resize-observer")}),(0,e.jsx)(pe.Z,{children:(0,e.jsxs)($e.Z,{spinning:I,tip:u.formatMessage({id:"loading"}),children:[(0,e.jsxs)("div",{className:"tools",children:[(0,e.jsxs)("div",{className:"search",children:[(0,e.jsx)("div",{className:"item",children:(0,e.jsx)(ie.Z,{children:(0,e.jsxs)(W.ZP.Group,{value:se,onChange:function(s){return Ve(s.target.value)},children:[(0,e.jsx)(W.ZP.Button,{value:"utm_source",children:u.formatMessage({id:"pages.promotionTrack.utm_source"})}),(0,e.jsx)(W.ZP.Button,{value:"eid",children:u.formatMessage({id:"pages.promotionTrack.eid"})}),(0,e.jsx)(W.ZP.Button,{value:"pid",children:u.formatMessage({id:"pages.promotionTrack.pid"})}),(0,e.jsx)(W.ZP.Button,{value:"code",children:u.formatMessage({id:"pages.promotionTrack.code"})})]})})}),(0,e.jsx)("div",{className:"item",children:(0,e.jsx)(fe.Z,{value:Re,onChange:function(s){return ke(s.target.value.trim())}})}),(0,e.jsx)("div",{className:"item",children:(0,e.jsx)(he.ZP,{onClick:function(){return Ge(Re)},children:"\u641C\u7D22"})})]}),(0,e.jsxs)("div",{className:"filter",children:[(0,e.jsx)("div",{children:(0,e.jsx)(he.ZP,{className:"export",onClick:rt,type:"link",children:u.formatMessage({id:"export"})})}),(0,e.jsx)(ie.Z,{children:(0,e.jsxs)(W.ZP.Group,{value:Y,onChange:function(s){return ne(s.target.value)},children:[(0,e.jsx)(W.ZP.Button,{value:"24H",children:"24H"}),(0,e.jsx)(W.ZP.Button,{value:"7D",children:"7D"}),(0,e.jsx)(W.ZP.Button,{value:"1M",children:"1M"})]})})]})]}),(0,e.jsx)("div",{children:(0,e.jsx)(le.Z,{components:Qe,rowClassName:"editable-row",columns:tt,dataSource:b,pagination:!1})}),(0,e.jsx)(Ze.Z,{width:1e3,open:Je,onClose:function(){Ae(void 0),ze(!1)},closable:!1,children:be&&(0,e.jsx)(re,{type:be.type,value:be.value})})]})})]})},we=Me},53531:function(We,oe,a){"use strict";a.d(oe,{Z:function(){return Ze}});var p=a(67294),ue=a(56790),de=a(75164),ye=a(96159),je=a(93967),C=a.n(je),Ce=a(64217),q=a(53124),De=a(48054),Ie=n=>{const{value:i,formatter:d,precision:t,decimalSeparator:l,groupSeparator:$="",prefixCls:e}=n;let D;if(typeof d=="function")D=d(i);else{const g=String(i),M=g.match(/^(-?)(\d*)(\.(\d+))?$/);if(!M||g==="-")D=g;else{const U=M[1];let H=M[2]||"0",w=M[4]||"";H=H.replace(/\B(?=(\d{3})+(?!\d))/g,$),typeof t=="number"&&(w=w.padEnd(t,"0").slice(0,t>0?t:0)),w&&(w=`${l}${w}`),D=[p.createElement("span",{key:"int",className:`${e}-content-value-int`},U,H),w&&p.createElement("span",{key:"decimal",className:`${e}-content-value-decimal`},w)]}}return p.createElement("span",{className:`${e}-content-value`},D)},X=a(14747),Ee=a(83559),h=a(83262);const Te=n=>{const{componentCls:i,marginXXS:d,padding:t,colorTextDescription:l,titleFontSize:$,colorTextHeading:e,contentFontSize:D,fontFamily:g}=n;return{[i]:Object.assign(Object.assign({},(0,X.Wf)(n)),{[`${i}-title`]:{marginBottom:d,color:l,fontSize:$},[`${i}-skeleton`]:{paddingTop:t},[`${i}-content`]:{color:e,fontSize:D,fontFamily:g,[`${i}-content-value`]:{display:"inline-block",direction:"ltr"},[`${i}-content-prefix, ${i}-content-suffix`]:{display:"inline-block"},[`${i}-content-prefix`]:{marginInlineEnd:d},[`${i}-content-suffix`]:{marginInlineStart:d}}})}},ce=n=>{const{fontSizeHeading3:i,fontSize:d}=n;return{titleFontSize:d,contentFontSize:i}};var _=(0,Ee.I$)("Statistic",n=>{const i=(0,h.IX)(n,{});return Te(i)},ce),G=function(n,i){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(n);l<t.length;l++)i.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(n,t[l])&&(d[t[l]]=n[t[l]]);return d},te=p.forwardRef((n,i)=>{const{prefixCls:d,className:t,rootClassName:l,style:$,valueStyle:e,value:D=0,title:g,valueRender:M,prefix:U,suffix:H,loading:w=!1,formatter:E,precision:J,decimalSeparator:re=".",groupSeparator:Fe=",",onMouseEnter:Pe,onMouseLeave:ge}=n,Ne=G(n,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:Le,direction:xe,className:Me,style:we}=(0,q.dj)("statistic"),F=Le("statistic",d),[v,x,c]=_(F),T=p.createElement(Ie,{decimalSeparator:re,groupSeparator:Fe,prefixCls:F,formatter:E,precision:J,value:D}),u=C()(F,{[`${F}-rtl`]:xe==="rtl"},Me,t,l,x,c),S=p.useRef(null);p.useImperativeHandle(i,()=>({nativeElement:S.current}));const y=(0,Ce.Z)(Ne,{aria:!0,data:!0});return v(p.createElement("div",Object.assign({},y,{ref:S,className:u,style:Object.assign(Object.assign({},we),$),onMouseEnter:Pe,onMouseLeave:ge}),g&&p.createElement("div",{className:`${F}-title`},g),p.createElement(De.Z,{paragraph:!1,loading:w,className:`${F}-skeleton`,active:!0},p.createElement("div",{style:e,className:`${F}-content`},U&&p.createElement("span",{className:`${F}-content-prefix`},U),M?M(T):T,H&&p.createElement("span",{className:`${F}-content-suffix`},H)))))});const fe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function me(n,i){let d=n;const t=/\[[^\]]*]/g,l=(i.match(t)||[]).map(g=>g.slice(1,-1)),$=i.replace(t,"[]"),e=fe.reduce((g,[M,U])=>{if(g.includes(M)){const H=Math.floor(d/U);return d-=H*U,g.replace(new RegExp(`${M}+`,"g"),w=>{const E=w.length;return H.toString().padStart(E,"0")})}return g},$);let D=0;return e.replace(t,()=>{const g=l[D];return D+=1,g})}function ie(n,i,d){const{format:t=""}=i,l=new Date(n).getTime(),$=Date.now(),e=Math.max(d?l-$:$-l,0);return me(e,t)}var pe=function(n,i){var d={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.indexOf(t)<0&&(d[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(n);l<t.length;l++)i.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(n,t[l])&&(d[t[l]]=n[t[l]]);return d};function ae(n){return new Date(n).getTime()}var W=n=>{const{value:i,format:d="HH:mm:ss",onChange:t,onFinish:l,type:$}=n,e=pe(n,["value","format","onChange","onFinish","type"]),D=$==="countdown",[g,M]=p.useState(null),U=(0,ue.zX)(()=>{const E=Date.now(),J=ae(i);M({});const re=D?J-E:E-J;return t==null||t(re),D&&J<E?(l==null||l(),!1):!0});p.useEffect(()=>{let E;const J=()=>de.Z.cancel(E),re=()=>{E=(0,de.Z)(()=>{U()&&re()})};return re(),J},[i,D]),p.useEffect(()=>{M({})},[]);const H=(E,J)=>g?ie(E,Object.assign(Object.assign({},J),{format:d}),D):"-",w=E=>(0,ye.Tm)(E,{title:void 0});return p.createElement(te,Object.assign({},e,{value:i,valueRender:w,formatter:H}))};const he=n=>p.createElement(W,Object.assign({},n,{type:"countdown"}));var le=p.memo(he);te.Timer=W,te.Countdown=le;var Ze=te},20067:function(){}}]);
