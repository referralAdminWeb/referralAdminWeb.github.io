(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[45],{5966:function(xe,q,s){"use strict";var ee=s(97685),i=s(1413),re=s(91),M=s(21770),le=s(53025),y=s(55241),k=s(97435),ae=s(67294),V=s(59348),p=s(85893),E=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],m="text",w=function(f){var u=f.fieldProps,S=f.proFieldProps,P=(0,re.Z)(f,E);return(0,p.jsx)(V.Z,(0,i.Z)({valueType:m,fieldProps:u,filedConfig:{valueType:m},proFieldProps:S},P))},U=function(f){var u=(0,M.Z)(f.open||!1,{value:f.open,onChange:f.onOpenChange}),S=(0,ee.Z)(u,2),P=S[0],T=S[1];return(0,p.jsx)(le.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var L,r=B.getFieldValue(f.name||[]);return(0,p.jsx)(y.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(C){return C&&C.parentNode?C.parentNode:C},onOpenChange:function(C){return T(C)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(L=f.statusRender)===null||L===void 0?void 0:L.call(f,r),f.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:f.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},f.popoverProps),{},{open:P,children:f.children}))}})},R=function(f){var u=f.fieldProps,S=f.proFieldProps,P=(0,re.Z)(f,h),T=(0,ae.useState)(!1),$=(0,ee.Z)(T,2),B=$[0],L=$[1];return u!=null&&u.statusRender&&P.name?(0,p.jsx)(U,{name:P.name,statusRender:u==null?void 0:u.statusRender,popoverProps:u==null?void 0:u.popoverProps,strengthText:u==null?void 0:u.strengthText,open:B,onOpenChange:L,children:(0,p.jsx)("div",{children:(0,p.jsx)(V.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,k.Z)(u,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var C;u==null||(C=u.onBlur)===null||C===void 0||C.call(u,A),L(!1)},onClick:function(A){var C;u==null||(C=u.onClick)===null||C===void 0||C.call(u,A),L(!0)}}),proFieldProps:S,filedConfig:{valueType:m}},P))})}):(0,p.jsx)(V.Z,(0,i.Z)({valueType:"password",fieldProps:u,proFieldProps:S,filedConfig:{valueType:m}},P))},x=w;x.Password=R,x.displayName="ProFormComponent",q.Z=x},20776:function(xe,q,s){"use strict";s.r(q),s.d(q,{default:function(){return te}});var ee=s(15009),i=s.n(ee),re=s(99289),M=s.n(re),le=s(5574),y=s.n(le),k=s(93463),ae=s(65763),V=s(90930),p=s(38521),E=s(94272),h=s(2453),m=s(83622),w=s(78957),U=s(74656),R=s(26915),x=s(85265),v=s(67294),f=s(92276),u=s(44886),S=s(96074),P=s(86738),T=s(6742),$=s(37476),B=s(5966),L=s(78045),r=s(85893),A=[{label:"Total",value:"total"},{label:"Solana",value:"solana"},{label:"BSC",value:"bsc"},{label:"ETH",value:"eth"},{label:"Base",value:"base"},{label:"Core",value:"core"},{label:"TON",value:"ton"},{label:"Tron",value:"tron"},{label:"SUI",value:"sui"}],C=function(z){var I,D=z.guid,H=(0,v.useState)("daily"),N=y()(H,2),ne=N[0],Y=N[1],F=(0,v.useState)("total"),J=y()(F,2),j=J[0],ce=J[1],me=(0,u.t)("@@initialState"),ie=me.initialState,Pe=(ie==null||(I=ie.userInfo)===null||I===void 0?void 0:I.role)=="superAdmin",fe=(0,v.useState)(),Q=y()(fe,2),d=Q[0],Me=Q[1],ve=h.ZP.useMessage(),Ce=y()(ve,2),ye=Ce[0],je=Ce[1],a=(0,E.useIntl)(),ge=(0,v.useRef)(),Ze=(0,v.useState)(!1),X=y()(Ze,2),Se=X[0],W=X[1],b=(0,v.useRef)(),Z=[{title:"Guid",render:function(t,e){return e.user.guid}},{title:"Tg Username",render:function(t,e){return e.user.tgUsername}},{title:"Email",render:function(t,e){return e.user.email}},{title:a.formatMessage({id:"pages.vipList.refCode"}),render:function(t,e){return e.user.refCode}},{title:a.formatMessage({id:"pages.vipList.vipLevel"}),render:function(t,e){return e.user.vip}},{},{title:a.formatMessage({id:"pages.vipList.remark"}),render:function(t,e){return e.user.remark}},{},{title:a.formatMessage({id:"pages.vipList.ref1Guid"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.guid}},{title:a.formatMessage({id:"pages.vipList.ref1TgUsername"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.tgUsername}},{title:a.formatMessage({id:"pages.vipList.ref1Email"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.email}},{title:a.formatMessage({id:"pages.vipList.ref1RefCode"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.refCode}},{title:a.formatMessage({id:"pages.vipList.ref1VipLevel"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.vip}},{},{title:a.formatMessage({id:"pages.vipList.ref1Remark"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.remark}}],oe=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:a.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Chain",dataIndex:"chain",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(t,e,n,c){return"$"+(0,ae.BW)(t,3)}}],K=function(){var o=M()(i()().mark(function t(e){var n;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,T.resetBotSecurityPassword)(e);case 2:n=g.sent,n.code==0?h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return g.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),Re=function(){var o=M()(i()().mark(function t(e){var n;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,T.resetGoogleSecurityPassword)(e);case 2:n=g.sent,n.code==0?h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return g.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),G=function(){var o=M()(i()().mark(function t(e){var n;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,T.resetLoginPassword)(e);case 2:n=g.sent,n.code==0?h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return g.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),Te=function(){var o=M()(i()().mark(function t(e,n){var c;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,T.freezeAccount)(e,n);case 2:if(c=l.sent,c.code!=0){l.next=9;break}return h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),l.next=7,pe();case 7:l.next=10;break;case 9:h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return l.stop()}},t)}));return function(e,n){return o.apply(this,arguments)}}(),Le=function(){var o=M()(i()().mark(function t(e,n){var c;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,T.unregisterAccount)(e,n);case 2:if(c=l.sent,c.code!=0){l.next=9;break}return h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),l.next=7,pe();case 7:l.next=10;break;case 9:h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return l.stop()}},t)}));return function(e,n){return o.apply(this,arguments)}}(),Ee=function(){var o=M()(i()().mark(function t(e){var n,c;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(d){l.next=2;break}return l.abrupt("return");case 2:if(n=/^[0-9a-zA-Z]{1,10}$/,n.test(e.refCode)){l.next=6;break}return h.ZP.error(a.formatMessage({id:"pages.vipList.refCode.verity.error"})),l.abrupt("return");case 6:return l.next=8,(0,T.editRefCode)(d==null?void 0:d.user.guid,e.refCode);case 8:if(c=l.sent,c.code!=0){l.next=15;break}return h.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),l.next=13,pe();case 13:l.next=16;break;case 15:h.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 16:case"end":return l.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),pe=function(){var o=M()(i()().mark(function t(){var e;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return ye.loading("load..."),c.prev=1,c.next=4,(0,k.getUserAndUpInfo)(D);case 4:e=c.sent,Me(e.data),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),h.ZP.error(a.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:ye.destroy();case 12:case"end":return c.stop()}},t,null,[[1,8]])}));return function(){return o.apply(this,arguments)}}();return(0,v.useEffect)(function(){pe()},[]),(0,r.jsxs)("div",{children:[d&&(0,r.jsx)(f.ZP,{column:2,title:"View",dataSource:d,columns:Z}),(0,r.jsx)(S.Z,{}),Pe&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{marginBottom:10},children:a.formatMessage({id:"options"})}),d&&(0,r.jsxs)("div",{children:[d.user.tgUid&&(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.resetBotSecurityPassword"}),description:a.formatMessage({id:"pages.resetBotSecurityPassword.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(d.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetBotSecurityPassword"})})}),(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"}),description:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(d.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"})})}),(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.resetLoginPassword"}),description:a.formatMessage({id:"pages.resetLoginPassword.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(d.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetLoginPassword"})})}),d.user.transferFreeze?(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.unfreezeAccount"}),description:a.formatMessage({id:"pages.unfreezeAccount.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(d.user.guid,!1);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.unfreezeAccount"})})}):(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.freezeAccount"}),description:a.formatMessage({id:"pages.freezeAccount.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(d.user.guid,!0);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.freezeAccount"})})}),d.user.unregister?(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.restoreUnregisterAccount"}),description:a.formatMessage({id:"pages.restoreUnregisterAccount.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(d.user.guid,!1);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.restoreUnregisterAccount"})})}):(0,r.jsx)(P.Z,{title:a.formatMessage({id:"pages.unregisterAccount"}),description:a.formatMessage({id:"pages.unregisterAccount.comfirm"},{guid:d.user.guid}),onConfirm:M()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(d.user.guid,!0);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(m.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.unregisterAccount"})})}),(0,r.jsx)(m.ZP,{onClick:function(){W(!0)},children:a.formatMessage({id:"pages.editRefCode"})}),(0,r.jsx)($.Y,{formRef:b,title:a.formatMessage({id:"pages.editRefCode"}),open:Se,onFinish:Ee,onOpenChange:W,children:(0,r.jsx)(B.Z,{name:"refCode",label:"RefCode",fieldProps:{maxLength:10,defaultValue:d.user.refCode}})})]})]}),(0,r.jsx)(S.Z,{})]}),(0,r.jsx)("div",{children:a.formatMessage({id:"pages.userDailyTradingByChains"})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10},children:"Chain:"}),(0,r.jsx)(U.Z,{options:A,onChange:function(t){var e;ce(t),(e=ge.current)===null||e===void 0||e.reload()},value:j})]}),(0,r.jsx)("div",{style:{alignItems:"flex-end"},children:(0,r.jsx)(w.Z,{children:(0,r.jsxs)(L.ZP.Group,{value:ne,onChange:function(t){var e;Y(t.target.value),(e=ge.current)===null||e===void 0||e.reload()},children:[(0,r.jsx)(L.ZP.Button,{value:"daily",children:a.formatMessage({id:"daily"})}),(0,r.jsx)(L.ZP.Button,{value:"monthly",children:a.formatMessage({id:"monthly"})})]})})})]}),(0,r.jsx)(p.Z,{actionRef:ge,rowKey:"index",search:!1,pagination:{pageSize:10,pageSizeOptions:[10]},request:function(){var o=M()(i()().mark(function t(e){var n,c,g,l,_;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(e.page=e==null?void 0:e.current,delete e.current,ne!="daily"){O.next=8;break}return O.next=5,(0,k.getUserDailyTradingPageList)(D,j,e.page);case 5:_=O.sent,O.next=11;break;case 8:return O.next=10,(0,k.getUserDailyTradingMonthlyPageList)(D,j,e.page);case 10:_=O.sent;case 11:return console.log({data:(n=_.data)===null||n===void 0?void 0:n.list,success:_.code==0,total:(c=_.data)===null||c===void 0?void 0:c.total}),O.abrupt("return",{data:(g=_.data)===null||g===void 0?void 0:g.list,success:_.code==0,total:(l=_.data)===null||l===void 0?void 0:l.total});case 13:case"end":return O.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),columns:oe})]})},se=C,ue=[{label:"RefCode",value:"refCode"},{label:"Guid",value:"guid"},{label:"Email",value:"email"},{label:"TgUsername",value:"tgUsername"},{label:"Evm Addrress",value:"evmAddress"},{label:"Solana Address",value:"solanaAddress"}],he=function(){var z=(0,v.useRef)(),I=(0,v.useState)("refCode"),D=y()(I,2),H=D[0],N=D[1],ne=(0,v.useState)(""),Y=y()(ne,2),F=Y[0],J=Y[1],j=(0,v.useState)(!1),ce=y()(j,2),me=ce[0],ie=ce[1],Pe=(0,v.useState)(),fe=y()(Pe,2),Q=fe[0],d=fe[1],Me=(0,v.useState)(),ve=y()(Me,2),Ce=ve[0],ye=ve[1],je=h.ZP.useMessage(),a=y()(je,2),ge=a[0],Ze=a[1],X=(0,E.useIntl)(),Se=[{title:X.formatMessage({id:"rank"}),dataIndex:"rank",hideInSearch:!0},{title:X.formatMessage({id:"name"}),hideInSearch:!0,render:function(b,Z){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m.ZP,{type:"link",onClick:function(){d(Z),ie(!0)},children:Z.name})})}},{title:"24H Volume(Txns/Vol)",hideInSearch:!0,render:function(b,Z){return Z.totalTxns+"/$"+(0,ae.BW)(Z.totalVol,3)}},{title:"Ref1 Name",dataIndex:"ref1Name",hideInSearch:!0},{renderFormItem:function(){return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10,whiteSpace:"nowrap"},children:X.formatMessage({id:"pages.searchUser"})}),(0,r.jsxs)(w.Z.Compact,{children:[(0,r.jsx)(U.Z,{style:{width:160},options:ue,onChange:function(Z){N(Z)},value:H}),(0,r.jsx)(R.Z,{style:{width:240},value:F,onChange:function(Z){J(Z.target.value)}})]})]})}}];return(0,r.jsxs)(V._z,{children:[(0,r.jsx)(p.Z,{actionRef:z,rowKey:"rank",headerTitle:X.formatMessage({id:"menu.botUserData.tradersRanking"}),pagination:!1,request:M()(i()().mark(function W(){var b,Z,oe,K;return i()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return oe={},F.length>0&&(oe[H]=F),G.next=4,(0,k.get24HTraderRanking)(oe);case 4:return K=G.sent,console.log({data:K.data,success:K.code==0,total:(b=K.data)===null||b===void 0?void 0:b.length}),G.abrupt("return",{data:K.data,success:K.code==0,total:(Z=K.data)===null||Z===void 0?void 0:Z.length});case 7:case"end":return G.stop()}},W)})),columns:Se,onReset:function(){J("")}}),(0,r.jsx)(x.Z,{width:600,open:me,onClose:function(){d(void 0),ie(!1)},closable:!1,children:Q&&(0,r.jsx)(se,{guid:Q==null?void 0:Q.guid})})]})},te=he},65763:function(xe,q,s){"use strict";s.d(q,{BW:function(){return k},q0:function(){return V},rD:function(){return ae}});var ee=s(64599),i=s.n(ee),re=s(27484),M=s.n(re),le=s(90482),y=s(84105);function k(p,E){if(!p)return"";var h=new le.Z(p),m=p.split(".");if(m.length!==2)return p;for(var w=m[0],U=m[1],R=0,x="",v=0;v<U.length;v++){var f=U[v];if(x.length>=E)break;f=="0"&&x.length==0?R=R+1:x=x+f}return R>3?w+".0{"+R+"}"+x:w+"."+"0".repeat(R)+x}function ae(p,E,h,m,w,U){var R=new Set,x=new Set,v=i()(m),f;try{for(v.s();!(f=v.n()).done;){var u=f.value;R.add(u[p]),x.add(u[E])}}catch(j){v.e(j)}finally{v.f()}console.log("mainKeyList",R),console.log("timeKeyList",x);var S=new Map,P=i()(m),T;try{for(P.s();!(T=P.n()).done;){var $=T.value,B=$[E],L=$[p],r=$[h];S.has(B)||S.set(B,new Map),S.get(B).set(L,r)}}catch(j){P.e(j)}finally{P.f()}console.log("tempMap",S);var A=[],C=[];C.push("time");var se=i()(R),ue;try{for(se.s();!(ue=se.n()).done;){var he=ue.value;C.push(he)}}catch(j){se.e(j)}finally{se.f()}A.push(C);var te=i()(x),de;try{for(te.s();!(de=te.n()).done;){var z=de.value,I=[];I.push(z);var D=i()(R),H;try{for(D.s();!(H=D.n()).done;){var N=H.value;S.has(z)&&S.get(z).has(N)?I.push(S.get(z).get(N)):I.push("")}}catch(j){D.e(j)}finally{D.f()}A.push(I)}}catch(j){te.e(j)}finally{te.f()}var ne=y.P6.aoa_to_sheet(A),Y=y.P6.book_new();y.P6.book_append_sheet(Y,ne,"Sheet1");var F="";w=="daily"?F="(\u6BCF\u65E5)":w=="monthly"&&(F="(\u6BCF\u6708)");var J="".concat(M()().format("YYYYMMDDHHmmss")).concat(U.replaceAll(" ","")).concat(F,".xlsx");y.NC(Y,J)}function V(p){var E=parseFloat(p);return E.toLocaleString("en-US")}},20067:function(){}}]);
