(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[241],{57660:function(_,V,e){"use strict";e.r(V),e.d(V,{default:function(){return B}});var w=e(15009),v=e.n(w),G=e(99289),F=e.n(G),X=e(5574),j=e.n(X),Z=e(11698),U=e(65763),J=e(90930),Q=e(21657),z=e(94272),k=e(58073),u=e(86738),c=e(2453),K=e(83622),y=e(67294),C=e(37476),g=e(34994),P=e(55102),m=e(37804),S=e(72269),E=e(52720),a=e(85893),W=function(R){var D=R.visible,b=R.onVisibleChange,L=R.onFinish,o=R.currentUser,p=(0,y.useRef)(),I=(0,z.useIntl)(),A=function(){var f=F()(v()().mark(function n(t){var d,r;return v()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,r=o.guid,s.next=4,Z.Z.thirdParty.update(r,t.orgName,t.tradingFeeRate,t.commissionRate,t.icon,t.isPublic,t.maxDelegateWallets,t.chainWalletWriteLimit,t.delegateWalletWriteLimit);case 4:c.ZP.success("success"),b(!1),L(),(d=p.current)===null||d===void 0||d.resetFields(),s.next=15;break;case 10:return s.prev=10,s.t0=s.catch(0),console.error(s.t0),c.ZP.error("error: "+String(s.t0)),s.abrupt("return",!1);case 15:case"end":return s.stop()}},n,null,[[0,10]])}));return function(t){return f.apply(this,arguments)}}();return(0,y.useEffect)(function(){if(o){var f;(f=p.current)===null||f===void 0||f.setFieldsValue({orgName:o.orgName,tradingFeeRate:o.tradingFeeRate/100,commissionRate:o.commissionRate/100,icon:o.icon,isPublic:o.isPublic,maxDelegateWallets:o.maxDelegateWallets,chainWalletWriteLimit:o.chainWalletWriteLimit,delegateWalletWriteLimit:o.delegateWalletWriteLimit})}}),(0,a.jsxs)(C.Y,{open:D,onOpenChange:function(n){if(!n){var t;p==null||(t=p.current)===null||t===void 0||t.resetFields(),b(n)}},clearOnDestroy:!0,onFinish:A,formRef:p,children:[(0,a.jsx)(g.A.Item,{name:"orgName",label:I.formatMessage({id:"pages.thirdParty.orgName"}),rules:[{required:!0,message:"Please enter Organization Name!"}],normalize:function(n){return n==null?void 0:n.trim()},children:(0,a.jsx)(P.Z,{max:24})}),(0,a.jsx)(g.A.Item,{name:"tradingFeeRate",label:I.formatMessage({id:"pages.thirdParty.tradingFeeRate"}),rules:[{required:!0,message:"Please enter Trading Fee Rate!"}],initialValue:2,children:(0,a.jsx)(m.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:2})}),(0,a.jsx)(g.A.Item,{name:"commissionRate",label:I.formatMessage({id:"pages.thirdParty.commissionRate"}),rules:[{required:!0,message:"Please enter Commission Rate!"}],initialValue:30,children:(0,a.jsx)(m.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:60})}),(0,a.jsx)(g.A.Item,{name:"icon",label:I.formatMessage({id:"icon"}),children:(0,a.jsx)(E.Ur,{uploadFinish:function(n){var t;(t=p.current)===null||t===void 0||t.setFieldsValue({icon:n})},url:o==null?void 0:o.icon})}),(0,a.jsx)(g.A.Item,{name:"isPublic",label:I.formatMessage({id:"pages.thirdParty.isPublic"}),initialValue:!0,children:(0,a.jsx)(S.Z,{})}),(0,a.jsx)(g.A.Item,{name:"maxDelegateWallets",label:I.formatMessage({id:"pages.thirdParty.maxDelegateWallets"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:999999999})}),(0,a.jsx)(g.A.Item,{name:"chainWalletWriteLimit",label:I.formatMessage({id:"pages.thirdParty.chainWalletWriteLimit"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:99999})}),(0,a.jsx)(g.A.Item,{name:"delegateWalletWriteLimit",label:I.formatMessage({id:"pages.thirdParty.delegateWalletWriteLimit"}),initialValue:0,children:(0,a.jsx)(m.Z,{size:"large",min:0,max:99999})})]})},N=W,Y=function(){var R=(0,y.useState)(void 0),D=j()(R,2),b=D[0],L=D[1],o=(0,y.useState)(!1),p=j()(o,2),I=p[0],A=p[1],f=(0,y.useRef)(),n=(0,z.useIntl)(),t=[{title:n.formatMessage({id:"icon"}),dataIndex:"icon",hideInSearch:!0,render:function(r,i){return i.icon?(0,a.jsx)(k.Z,{src:i.icon,width:32,height:32}):(0,a.jsx)("div",{})}},{title:n.formatMessage({id:"name"}),dataIndex:"orgName",hideInSearch:!0},{title:"Guid",dataIndex:"guid",formItemProps:{normalize:function(r){return r==null?void 0:r.trim()}}},{title:"Email",dataIndex:"email",hideInSearch:!0},{title:n.formatMessage({id:"status"}),dataIndex:"status",hideInSearch:!0,valueEnum:{enabled:{text:"Enabled",color:"green"},disabled:{text:"Disabled",color:"red"}}},{title:n.formatMessage({id:"pages.thirdParty.userNums"}),dataIndex:"userNums",hideInSearch:!0},{title:n.formatMessage({id:"pages.thirdParty.volumes"}),dataIndex:"volumes",hideInSearch:!0,renderText:function(r){return"$"+(0,U.BW)(r,3)}},{title:n.formatMessage({id:"pages.thirdParty.txns"}),dataIndex:"txns",hideInSearch:!0},{title:n.formatMessage({id:"pages.thirdParty.feeRate"}),dataIndex:"tradingFeeRate",hideInSearch:!0,renderText:function(r){return r/100+"%"}},{title:n.formatMessage({id:"pages.thirdParty.commissionRate"}),dataIndex:"commissionRate",hideInSearch:!0,renderText:function(r){return r/100+"%"}},{title:n.formatMessage({id:"pages.thirdParty.channelCommission"}),dataIndex:"channelCommission",hideInSearch:!0,renderText:function(r){return"$"+(0,U.BW)(r,3)}},{title:"API Key",dataIndex:"apiKey",hideInSearch:!0},{title:"Package",dataIndex:"aveCloudLevel",hideInSearch:!0,valueEnum:{0:{text:"Free",color:"blue"},1:{text:"Level1",color:"green"},2:{text:"Level2",color:"green"},3:{text:"Level3",color:"green"},4:{text:"Enterprise",color:"red"}}},{title:"Chain Write Limit",dataIndex:"chainWalletWriteLimit",hideInSearch:!0},{title:"Bot Write Limit",dataIndex:"delegateWalletWriteLimit",hideInSearch:!0},{title:"Delegate Wallets",hideInSearch:!0,render:function(r,i){return"".concat(i.currentDelegateWalletCount,"/").concat(i.maxDelegateWallets)}},{title:"IsPublic",dataIndex:"isPublic",hideInSearch:!0,valueEnum:{true:{text:"Y",color:"green"},false:{text:"N",color:"red"}}},{title:n.formatMessage({id:"options"}),hideInSearch:!0,render:function(r,i){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{title:"Reset API Key",description:"Are you sure to Reset API Key?",onConfirm:F()(v()().mark(function s(){var M;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Z.Z.thirdParty.resetApiKey(i.guid);case 3:c.ZP.success("Reset API Key success"),(M=f.current)===null||M===void 0||M.reload(),h.next=12;break;case 7:return h.prev=7,h.t0=h.catch(0),console.error(h.t0),c.ZP.error("Reset API Key error:"+String(h.t0)),h.abrupt("return",!1);case 12:case"end":return h.stop()}},s,null,[[0,7]])})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(K.ZP,{type:"link",children:"Reset API Key"})}),(0,a.jsx)(u.Z,{title:"Send API Key",description:"Are you sure to Send API Key to ".concat(i.email,"?"),onConfirm:F()(v()().mark(function s(){return v()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Z.Z.thirdParty.sendApiKey(i.guid);case 3:c.ZP.success("Send API Key success"),l.next=11;break;case 6:return l.prev=6,l.t0=l.catch(0),console.error(l.t0),c.ZP.error("Send API Key error:"+String(l.t0)),l.abrupt("return",!1);case 11:case"end":return l.stop()}},s,null,[[0,6]])})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(K.ZP,{type:"link",children:"Send API Key"})}),(0,a.jsx)(K.ZP,{type:"link",onClick:function(){L(i),A(!0)},children:"Edit"})]})}}];return(0,a.jsxs)(J._z,{children:[(0,a.jsx)(Q.Z,{actionRef:f,rowKey:"guid",search:{labelWidth:120},columns:t,request:function(){var d=F()(v()().mark(function r(i,s){var M,l,h,x,q,$,H;return v()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:h=!1,x="",T.t0=v()().keys(s);case 3:if((T.t1=T.t0()).done){T.next=11;break}return q=T.t1.value,x=q,$=s[q],($==null?void 0:$.toString())=="descend"&&(h=!0),T.abrupt("break",11);case 11:return i.page=i==null?void 0:i.current,delete i.current,T.next=15,Z.Z.thirdParty.getPageList(i);case 15:return H=T.sent,T.abrupt("return",{data:(M=H.data)===null||M===void 0?void 0:M.list,success:H.code==0,total:(l=H.data)===null||l===void 0?void 0:l.total});case 17:case"end":return T.stop()}},r)}));return function(r,i){return d.apply(this,arguments)}}(),scroll:{x:!0}}),(0,a.jsx)(N,{visible:I,onVisibleChange:function(r){A(r),r||L(void 0)},onFinish:function(){var r;(r=f.current)===null||r===void 0||r.reload(),L(void 0)},currentUser:b||void 0})]})},B=Y},65763:function(_,V,e){"use strict";e.d(V,{BW:function(){return Z},Cd:function(){return Q},Cy:function(){return z},XI:function(){return k},q0:function(){return J},rD:function(){return U}});var w=e(64599),v=e.n(w),G=e(27484),F=e.n(G),X=e(90482),j=e(84105);function Z(u,c){if(!u)return"";var K=new X.Z(u),y=u.split(".");if(y.length!==2)return u;for(var C=y[0],g=y[1],P=0,m="",S=0;S<g.length;S++){var E=g[S];if(m.length>=c)break;E=="0"&&m.length==0?P=P+1:m=m+E}return P>3?C+".0{"+P+"}"+m:C+"."+"0".repeat(P)+m}function U(u,c,K,y,C,g){var P=new Set,m=new Set,S=v()(y),E;try{for(S.s();!(E=S.n()).done;){var a=E.value;P.add(a[u]),m.add(a[c])}}catch(x){S.e(x)}finally{S.f()}console.log("mainKeyList",P),console.log("timeKeyList",m);var W=new Map,N=v()(y),Y;try{for(N.s();!(Y=N.n()).done;){var B=Y.value,O=B[c],R=B[u],D=B[K];W.has(O)||W.set(O,new Map),W.get(O).set(R,D)}}catch(x){N.e(x)}finally{N.f()}console.log("tempMap",W);var b=[],L=[];L.push("time");var o=v()(P),p;try{for(o.s();!(p=o.n()).done;){var I=p.value;L.push(I)}}catch(x){o.e(x)}finally{o.f()}b.push(L);var A=v()(m),f;try{for(A.s();!(f=A.n()).done;){var n=f.value,t=[];t.push(n);var d=v()(P),r;try{for(d.s();!(r=d.n()).done;){var i=r.value;W.has(n)&&W.get(n).has(i)?t.push(W.get(n).get(i)):t.push("")}}catch(x){d.e(x)}finally{d.f()}b.push(t)}}catch(x){A.e(x)}finally{A.f()}var s=j.P6.aoa_to_sheet(b),M=j.P6.book_new();j.P6.book_append_sheet(M,s,"Sheet1");var l="";C=="daily"?l="(\u6BCF\u65E5)":C=="monthly"&&(l="(\u6BCF\u6708)");var h="".concat(F()().format("YYYYMMDDHHmmss")).concat(g.replaceAll(" ","")).concat(l,".xlsx");j.NC(M,h)}function J(u){var c=parseFloat(u);return c.toLocaleString("en-US")}function Q(u,c){return u?u.length<=2*c?u:u.slice(0,c)+"***"+u.slice(-c):""}var z=[{chain:"bsc",name:"BSC",chainType:"evm"},{chain:"solana",name:"Solana",chainType:"solana"},{chain:"eth",name:"ETH",chainType:"evm"},{chain:"base",name:"Base",chainType:"evm"},{chain:"core",name:"Core",chainType:"evm"},{chain:"ton",name:"Ton",chainType:"ton"},{chain:"tron",name:"Tron",chainType:"tron"},{chain:"sui",name:"Sui",chainType:"sui"},{chain:"hyperevm",name:"HyperEVM",chainType:"evm"},{chain:"polygon",name:"Polygon",chainType:"evm"},{chain:"xlayer",name:"XLayer",chainType:"evm"},{chain:"morph",name:"Morph",chainType:"evm"},{chain:"plasma",name:"Plasma",chainType:"evm"},{chain:"opbnb",name:"opBNB",chainType:"evm"},{chain:"arbitrum",name:"Arbitrum",chainType:"evm"},{chain:"monad",name:"Monad",chainType:"evm"}],k=[{chain:"bsc",name:"BSC",chainType:"evm"},{chain:"solana",name:"Solana",chainType:"solana"},{chain:"eth",name:"ETH",chainType:"evm"},{chain:"base",name:"Base",chainType:"evm"},{chain:"polygon",name:"Polygon",chainType:"evm"},{chain:"xlayer",name:"XLayer",chainType:"evm"}]},20067:function(){}}]);
