!(function(){var Kct=Object.defineProperty,zct=Object.defineProperties;var Wct=Object.getOwnPropertyDescriptors;var k5=Object.getOwnPropertySymbols;var Vct=Object.prototype.hasOwnProperty,Zct=Object.prototype.propertyIsEnumerable;var KS=(Ke,$e)=>($e=Symbol[Ke])?$e:Symbol.for("Symbol."+Ke),Yct=Ke=>{throw TypeError(Ke)},Ai=Math.pow,T5=(Ke,$e,Ft)=>$e in Ke?Kct(Ke,$e,{enumerable:!0,configurable:!0,writable:!0,value:Ft}):Ke[$e]=Ft,e0=(Ke,$e)=>{for(var Ft in $e||($e={}))Vct.call($e,Ft)&&T5(Ke,Ft,$e[Ft]);if(k5)for(var Ft of k5($e))Zct.call($e,Ft)&&T5(Ke,Ft,$e[Ft]);return Ke},VB=(Ke,$e)=>zct(Ke,Wct($e));var $ct=function(Ke,$e){this[0]=Ke,this[1]=$e};var I5=Ke=>{var $e=Ke[KS("asyncIterator")],Ft=!1,ze,J={};return $e==null?($e=Ke[KS("iterator")](),ze=De=>J[De]=jn=>$e[De](jn)):($e=$e.call(Ke),ze=De=>J[De]=jn=>{if(Ft){if(Ft=!1,De==="throw")throw jn;return jn}return Ft=!0,{done:!1,value:new $ct(new Promise(Ye=>{var Jt=$e[De](jn);Jt instanceof Object||Yct("Object expected"),Ye(Jt)}),1)}}),J[KS("iterator")]=()=>J,ze("next"),"throw"in $e?ze("throw"):J.throw=De=>{throw De},"return"in $e&&ze("return"),J};(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[652],{80652:function(Ke,$e,Ft){"use strict";var ze=Ft(4380),J=(0,ze.i)("Line");$e.Z=J},4380:function(Ke,$e,Ft){"use strict";Ft.d($e,{i:function(){return Hct}});var ze={};Ft.r(ze),Ft.d(ze,{add:function(){return ns},adjoint:function(){return Qu},clone:function(){return GA},copy:function(){return KA},create:function(){return nr},decompose:function(){return od},determinant:function(){return Ya},equals:function(){return Di},exactEquals:function(){return rA},frob:function(){return nA},fromQuat:function(){return sd},fromQuat2:function(){return Pr},fromRotation:function(){return np},fromRotationTranslation:function(){return Uu},fromRotationTranslationScale:function(){return s0},fromRotationTranslationScaleOrigin:function(){return xl},fromScaling:function(){return Ni},fromTranslation:function(){return Js},fromValues:function(){return tp},fromXRotation:function(){return ad},fromYRotation:function(){return Os},fromZRotation:function(){return Ec},frustum:function(){return rp},getRotation:function(){return Pu},getScaling:function(){return tA},getTranslation:function(){return Ra},identity:function(){return _s},invert:function(){return Pa},lookAt:function(){return cd},mul:function(){return Cl},multiply:function(){return Ur},multiplyScalar:function(){return ui},multiplyScalarAndAdd:function(){return Yr},ortho:function(){return Es},orthoNO:function(){return zA},orthoZO:function(){return Gn},perspective:function(){return eA},perspectiveFromFieldOfView:function(){return Ad},perspectiveNO:function(){return _l},perspectiveZO:function(){return ip},rotate:function(){return ep},rotateX:function(){return rd},rotateY:function(){return id},rotateZ:function(){return $a},scale:function(){return Bl},set:function(){return Bi},str:function(){return Ru},sub:function(){return iA},subtract:function(){return ud},targetTo:function(){return ld},translate:function(){return es},transpose:function(){return Cs}});var J={};Ft.r(J),Ft.d(J,{area:function(){return tK},bottom:function(){return vu},bottomLeft:function(){return vu},bottomRight:function(){return vu},inside:function(){return vu},left:function(){return vu},outside:function(){return rK},right:function(){return vu},spider:function(){return sK},surround:function(){return cK},top:function(){return vu},topLeft:function(){return vu},topRight:function(){return vu}});var De={};Ft.r(De),Ft.d(De,{interpolateBlues:function(){return Xz},interpolateBrBG:function(){return Fz},interpolateBuGn:function(){return Nz},interpolateBuPu:function(){return Dz},interpolateCividis:function(){return rW},interpolateCool:function(){return cW},interpolateCubehelixDefault:function(){return sW},interpolateGnBu:function(){return Hz},interpolateGreens:function(){return qz},interpolateGreys:function(){return Jz},interpolateInferno:function(){return vW},interpolateMagma:function(){return gW},interpolateOrRd:function(){return jz},interpolateOranges:function(){return nW},interpolatePRGn:function(){return kz},interpolatePiYG:function(){return Tz},interpolatePlasma:function(){return yW},interpolatePuBu:function(){return Kz},interpolatePuBuGn:function(){return Gz},interpolatePuOr:function(){return Iz},interpolatePuRd:function(){return zz},interpolatePurples:function(){return tW},interpolateRainbow:function(){return lW},interpolateRdBu:function(){return Lz},interpolateRdGy:function(){return Qz},interpolateRdPu:function(){return Wz},interpolateRdYlBu:function(){return Uz},interpolateRdYlGn:function(){return Pz},interpolateReds:function(){return eW},interpolateSinebow:function(){return dW},interpolateSpectral:function(){return Rz},interpolateTurbo:function(){return hW},interpolateViridis:function(){return pW},interpolateWarm:function(){return AW},interpolateYlGn:function(){return Zz},interpolateYlGnBu:function(){return Vz},interpolateYlOrBr:function(){return Yz},interpolateYlOrRd:function(){return $z},schemeAccent:function(){return rz},schemeBlues:function(){return YI},schemeBrBG:function(){return SI},schemeBuGn:function(){return PI},schemeBuPu:function(){return RI},schemeCategory10:function(){return nz},schemeDark2:function(){return iz},schemeGnBu:function(){return NI},schemeGreens:function(){return $I},schemeGreys:function(){return XI},schemeObservable10:function(){return az},schemeOrRd:function(){return DI},schemeOranges:function(){return tL},schemePRGn:function(){return MI},schemePaired:function(){return oz},schemePastel1:function(){return sz},schemePastel2:function(){return Az},schemePiYG:function(){return FI},schemePuBu:function(){return jI},schemePuBuGn:function(){return HI},schemePuOr:function(){return kI},schemePuRd:function(){return GI},schemePurples:function(){return qI},schemeRdBu:function(){return TI},schemeRdGy:function(){return II},schemeRdPu:function(){return KI},schemeRdYlBu:function(){return LI},schemeRdYlGn:function(){return QI},schemeReds:function(){return JI},schemeSet1:function(){return cz},schemeSet2:function(){return lz},schemeSet3:function(){return uz},schemeSpectral:function(){return UI},schemeTableau10:function(){return fz},schemeYlGn:function(){return WI},schemeYlGnBu:function(){return zI},schemeYlOrBr:function(){return VI},schemeYlOrRd:function(){return ZI}});var jn={};Ft.r(jn),Ft.d(jn,{geoAlbers:function(){return vD},geoAlbersUsa:function(){return Tit},geoAzimuthalEqualArea:function(){return Iit},geoAzimuthalEqualAreaRaw:function(){return oS},geoAzimuthalEquidistant:function(){return Lit},geoAzimuthalEquidistantRaw:function(){return sS},geoConicConformal:function(){return Uit},geoConicConformalRaw:function(){return wD},geoConicEqualArea:function(){return CB},geoConicEqualAreaRaw:function(){return gD},geoConicEquidistant:function(){return Rit},geoConicEquidistantRaw:function(){return bD},geoEqualEarth:function(){return Dit},geoEqualEarthRaw:function(){return AS},geoEquirectangular:function(){return Pit},geoEquirectangularRaw:function(){return Yy},geoGnomonic:function(){return Hit},geoGnomonicRaw:function(){return cS},geoIdentity:function(){return jit},geoMercator:function(){return Qit},geoMercatorRaw:function(){return Zy},geoNaturalEarth1:function(){return Git},geoNaturalEarth1Raw:function(){return lS},geoOrthographic:function(){return Kit},geoOrthographicRaw:function(){return uS},geoProjection:function(){return gl},geoProjectionMutator:function(){return iS},geoStereographic:function(){return zit},geoStereographicRaw:function(){return fS},geoTransverseMercator:function(){return Wit},geoTransverseMercatorRaw:function(){return dS}});var Ye={};Ft.r(Ye),Ft.d(Ye,{frequency:function(){return lot},id:function(){return uot},name:function(){return fot},weight:function(){return cot}});var Jt=Ft(67294),He=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},ee=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ot="__rc_react_root__",we,re,xe,gn=!1;function Oe(){return He(this,void 0,void 0,function(){var t,e,n,r,i;return ee(this,function(a){switch(a.label){case 0:if(gn)return[2];gn=!0,a.label=1;case 1:return a.trys.push([1,6,,7]),t=Jt.version||"",e=parseInt(t.split(".")[0],10),e>=18?[4,Promise.resolve().then(Ft.t.bind(Ft,20745,19))]:[3,3];case 2:return n=a.sent(),we=n.createRoot,[3,5];case 3:return[4,Promise.resolve().then(Ft.t.bind(Ft,73935,19))];case 4:r=a.sent(),re=r.render,xe=r.unmountComponentAtNode,a.label=5;case 5:return[3,7];case 6:return i=a.sent(),console.warn("[react-render] Failed to load ReactDOM API:",i),[3,7];case 7:return[2]}})})}function Ne(t,e){e[Ot]||(e[Ot]=we(e)),e[Ot].render(t)}function ke(t,e){if(!re)throw new Error("ReactDOM.render not available");re(t,e)}function de(t,e){return He(this,void 0,void 0,function(){return ee(this,function(n){switch(n.label){case 0:return[4,Oe()];case 1:return n.sent(),we?Ne(t,e):ke(t,e),[2]}})})}function ci(t){if(!xe)throw new Error("ReactDOM.unmountComponentAtNode not available");xe(t)}function Xn(t){return He(this,void 0,void 0,function(){var e,n;return ee(this,function(r){return(n=(e=t[Ot])===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),delete t[Ot],[2]})})}function ra(t){return He(this,void 0,void 0,function(){return ee(this,function(e){switch(e.label){case 0:return[4,Oe()];case 1:return e.sent(),we?[2,Xn(t)]:[2,ci(t)]}})})}var ei=new Map;typeof document!="undefined"&&ei.set("tooltip",document.createElement("div"));var Ia=function(t,e){e===void 0&&(e=!1);var n=null;if(e)n=ei.get("tooltip");else if(n=document.createElement("div"),t!=null&&t.key){var r=ei.get(t.key);r?n=r:ei.set(t.key,n)}return de(t,n),n},Yi=function(){return Yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yi.apply(this,arguments)},Ui=function(t,e){if(e===void 0&&(e={}),typeof document=="undefined")return"loading";var n="";e&&Object.keys(e).forEach(function(o){n+="".concat(o,": ").concat(e[o],`;
`)});var r=t.attachShadow({mode:"open"}),i=document.createElement("div"),a=document.createElement("style");a.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
    `.concat(n,`
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `),i.classList.add("loading"),i.innerHTML="<div></div><div></div><div></div><div></div>",r.appendChild(a),r.appendChild(i)},ma=function(t){var e=t.loadingTemplate,n=t.theme,r=n===void 0?"light":n,i=t.loading,a=Jt.useRef(null),o=typeof i=="object"?i:{},s=o.container,A=s===void 0?{}:s,c=o.icon,l=c===void 0?{}:c;Jt.useEffect(function(){!e&&a.current&&Ui(a.current,l)},[]);var u=function(){return e||Jt.createElement("div",{ref:a})};return Jt.createElement("div",{className:"charts-loading-container",style:Yi({position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,background:r==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"},A)},u())},Ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(t){Ws(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(r){var i=n.props.errorTemplate;switch(r){default:return typeof i=="function"?i(r):i||Jt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",r.message)}},n}return e.getDerivedStateFromError=function(n){return{hasError:!0,error:n}},e.getDerivedStateFromProps=function(n,r){return r.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Jt.createElement(Jt.Fragment,null,this.props.children)},e}(Jt.Component),pt=Ft(96486),Wo,UA=function(){return Wo||(Wo=document.createElement("canvas").getContext("2d")),Wo},Vs=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},ms=(0,pt.memoize)(function(t,e){e===void 0&&(e={});var n=e.fontSize,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,A=UA();return A.font=[o,a,s,"".concat(n,"px"),i].join(" "),A.measureText((0,pt.isString)(t)?t:"")},function(t,e){return e===void 0&&(e={}),Vs([t],(0,pt.values)(e),!0).join("")}),Va=function(t,e){return e===void 0&&(e={}),ms(t,e).width},to=function(t,e){e===void 0&&(e={});var n=ms(t,e);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent},yl=function(t){var e=[/\breact\b/i,/\.jsx/,/children:\s*\[/,/\*\s*[#@]__PURE__\s*\*/],n=/(\w+)?\.createElement\(\s*(['"`])([^'"`]+)\2/g,r=new Set(["g","circle","ellipse","image","rect","line","polyline","polygon","text","path","html","mesh"]);if(e.some(function(a){return a.test(t)}))return!0;var i=t.match(n);return i?i.some(function(a){var o=a.match(/\.createElement\(\s*(['"`])([^'"`]+)\1/);return o&&!r.has(o[2].toLowerCase())}):!1},Za=function(){return Za=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Za.apply(this,arguments)};function ia(t,e){var n=(0,Jt.useRef)(null),r=(0,Jt.useRef)(null),i=(0,Jt.useRef)(null),a=e.onReady,o=e.onEvent,s=function(l,u){var f;l===void 0&&(l="image/png");var d=(f=i.current)===null||f===void 0?void 0:f.getElementsByTagName("canvas")[0];return d==null?void 0:d.toDataURL(l,u)},A=function(l,u,f){l===void 0&&(l="download"),u===void 0&&(u="image/png");var d=l;l.indexOf(".")===-1&&(d="".concat(l,".").concat(u.split("/")[1]));var h=s(u,f),g=document.createElement("a");return g.href=h,g.download=d,document.body.appendChild(g),g.click(),document.body.removeChild(g),g=null,d},c=function(l,u){if(u===void 0&&(u=!1),!!(0,pt.isObject)(l)){var f=Object.keys(l),d=u;f.forEach(function(h){var g=l[h];h==="tooltip"&&(d=!0),(0,pt.isFunction)(g)&&yl("".concat(g))?l[h]=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return Ia(g.apply(void 0,v),d)}:(0,pt.isArray)(g)?g.forEach(function(v){c(v,d)}):(0,pt.isObject)(g)?c(g,d):d=u})}};return(0,Jt.useEffect)(function(){n.current&&!(0,pt.isEqual)(r.current,e)&&(r.current=(0,pt.cloneDeep)(e),c(e),n.current.update(e),n.current.render())},[e]),(0,Jt.useEffect)(function(){if(!i.current)return function(){return null};r.current||(r.current=(0,pt.cloneDeep)(e)),c(e);var l=new t(i.current,Za({},e));l.toDataURL=s,l.downloadImage=A,l.render(),n.current=l,a&&a(l);var u=function(f){o&&o(l,f)};return l.on("*",u),function(){n.current&&(n.current.destroy(),n.current.off("*",u),n.current=void 0)}},[]),{chart:n,container:i}}var Zs="*",PA=function(){function t(){this._events={}}return t.prototype.on=function(e,n,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:n,once:!!r}),this},t.prototype.once=function(e,n){return this.on(e,n,!0)},t.prototype.emit=function(e){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[e]||[],o=this._events[Zs]||[],s=function(A){for(var c=A.length,l=0;l<c;l++)if(A[l]){var u=A[l],f=u.callback,d=u.once;d&&(A.splice(l,1),A.length===0&&delete n._events[e],c--,l--),f.apply(n,r)}};s(a),s(o)},t.prototype.off=function(e,n){if(!e)this._events={};else if(!n)delete this._events[e];else{for(var r=this._events[e]||[],i=r.length,a=0;a<i;a++)r[a].callback===n&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[e]}return this},t.prototype.getEvents=function(){return this._events},t}(),ws=PA;const Vo="main-layer",ni="label-layer",bi="element",La="view",wa="plot",xc="component",bs="label",Qa="area",Mu="mask",aa="axis-breaks",oa="axis-breaks-group";var We=Ft(1413),Qt=Ft(15671),Pt=Ft(43144),tn=Ft(74902),je=Ft(53640),Te=Ft(60136),Ge=Ft(97685),eo=Ft(38554),Fu=eo,Mn=1e-6,er=typeof Float32Array!="undefined"?Float32Array:Array,Zo=Math.random,Yo="zyx";function $o(t){return t>=0?Math.round(t):t%.5===0?Math.floor(t):Math.round(t)}function sa(t){er=t}var Cr=Math.PI/180,To=180/Math.PI;function Xo(t){return t*Cr}function _c(t){return t*To}function Aa(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mn;return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}function Ue(){var t=new er(3);return er!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Pi(t){var e=new er(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ca(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function vn(t,e,n){var r=new er(3);return r[0]=t,r[1]=e,r[2]=n,r}function ba(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ri(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ba(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function RA(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Cc(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ml(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function ku(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Tu(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function qf(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function Jf(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function td(t,e){return t[0]=glMatrix.round(e[0]),t[1]=glMatrix.round(e[1]),t[2]=glMatrix.round(e[2]),t}function ln(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Ys(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function $s(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function qo(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Iu(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function NA(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function DA(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function no(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function xa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Oc(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],A=n[2];return t[0]=i*A-a*s,t[1]=a*o-r*A,t[2]=r*s-i*o,t}function wl(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function bl(t,e,n,r){var i=Math.acos(Math.min(Math.max(xa(e,n),-1),1)),a=Math.sin(i),o=Math.sin((1-r)*i)/a,s=Math.sin(r*i)/a;return t[0]=o*e[0]+s*n[0],t[1]=o*e[1]+s*n[1],t[2]=o*e[2]+s*n[2],t}function ed(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,A=o*(a-2)+a,c=o*(a-1),l=o*(3-2*a);return t[0]=e[0]*s+n[0]*A+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*A+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*A+r[2]*c+i[2]*l,t}function Xh(t,e,n,r,i,a){var o=1-a,s=o*o,A=a*a,c=s*o,l=3*a*s,u=3*A*o,f=A*a;return t[0]=e[0]*c+n[0]*l+r[0]*u+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*u+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*u+i[2]*f,t}function qh(t,e){e=e===void 0?1:e;var n=glMatrix.RANDOM()*2*Math.PI,r=glMatrix.RANDOM()*2-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Or(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function la(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function ua(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],A=e[1],c=e[2],l=i*c-a*A,u=a*s-r*c,f=r*A-i*s;return l=l+l,u=u+u,f=f+f,t[0]=s+o*l+i*f-a*u,t[1]=A+o*u+a*l-r*f,t[2]=c+o*f+r*u-i*l,t}function K(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function V(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function et(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function ot(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],A=Math.sqrt((n*n+r*r+i*i)*(a*a+o*o+s*s)),c=A&&xa(t,e)/A;return Math.acos(Math.min(Math.max(c,-1),1))}function gt(t){return t[0]=0,t[1]=0,t[2]=0,t}function vt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function lt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function ct(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=Mn*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=Mn*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Mn*Math.max(1,Math.abs(i),Math.abs(s))}var Bt=RA,Et=null,Xt=null,te=$s,Be=null,zt=ca,ie=null,ne=function(){var t=Ue();return function(e,n,r,i,a,o){var s,A;for(n||(n=3),r||(r=0),i?A=Math.min(i*n+r,e.length):A=e.length,s=r;s<A;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();function Dt(){var t=new er(4);return er!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ve(t){var e=new er(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function le(t,e,n,r){var i=new er(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Ie(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function ae(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Pe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function fn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function _a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ca(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function fa(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Ri(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Ua(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function vr(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Vn(t,e){return t[0]=glMatrix.round(e[0]),t[1]=glMatrix.round(e[1]),t[2]=glMatrix.round(e[2]),t[3]=glMatrix.round(e[3]),t}function HA(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Lu(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function Xs(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function $i(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function li(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function qs(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function jA(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Jo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ts(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function n0(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function r0(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],A=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=e[0],u=e[1],f=e[2],d=e[3];return t[0]=u*c-f*A+d*s,t[1]=-(l*c)+f*o-d*a,t[2]=l*A-u*o+d*i,t[3]=-(l*s)+u*a-f*i,t}function i0(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function Am(t,e){e=e===void 0?1:e;var n,r,i,a,o,s,A;A=glMatrix.RANDOM(),n=A*2-1,r=(4*glMatrix.RANDOM()-2)*Math.sqrt(A*-A+A),o=n*n+r*r,A=glMatrix.RANDOM(),i=A*2-1,a=(4*glMatrix.RANDOM()-2)*Math.sqrt(A*-A+A),s=i*i+a*a;var c=Math.sqrt((1-o)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*c,t[3]=e*a*c,t}function Bs(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function xs(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],A=e[1],c=e[2],l=i*c-a*A,u=a*s-r*c,f=r*A-i*s;return l=l+l,u=u+u,f=f+f,t[0]=s+o*l+i*f-a*u,t[1]=A+o*u+a*l-r*f,t[2]=c+o*f+r*u-i*l,t[3]=e[3],t}function nd(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function a0(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Jh(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function cm(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],A=e[2],c=e[3];return Math.abs(n-o)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-A)<=glMatrix.EPSILON*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(a-c)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}var lm=null,um=null,Er=null,yr=null,o0=null,fm=null,dm=null,Oa=function(){var t=Dt();return function(e,n,r,i,a,o){var s,A;for(n||(n=4),r||(r=0),i?A=Math.min(i*n+r,e.length):A=e.length,s=r;s<A;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function nr(){var t=new er(16);return er!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function GA(t){var e=new er(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function KA(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function tp(t,e,n,r,i,a,o,s,A,c,l,u,f,d,h,g){var v=new er(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=i,v[5]=a,v[6]=o,v[7]=s,v[8]=A,v[9]=c,v[10]=l,v[11]=u,v[12]=f,v[13]=d,v[14]=h,v[15]=g,v}function Bi(t,e,n,r,i,a,o,s,A,c,l,u,f,d,h,g,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=A,t[8]=c,t[9]=l,t[10]=u,t[11]=f,t[12]=d,t[13]=h,t[14]=g,t[15]=v,t}function _s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Cs(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Pa(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],h=e[12],g=e[13],v=e[14],y=e[15],w=n*s-r*o,b=n*A-i*o,B=n*c-a*o,E=r*A-i*s,S=r*c-a*s,F=i*c-a*A,k=l*g-u*h,T=l*v-f*h,L=l*y-d*h,P=u*v-f*g,R=u*y-d*g,U=f*y-d*v,N=w*U-b*R+B*P+E*L-S*T+F*k;return N?(N=1/N,t[0]=(s*U-A*R+c*P)*N,t[1]=(i*R-r*U-a*P)*N,t[2]=(g*F-v*S+y*E)*N,t[3]=(f*S-u*F-d*E)*N,t[4]=(A*L-o*U-c*T)*N,t[5]=(n*U-i*L+a*T)*N,t[6]=(v*B-h*F-y*b)*N,t[7]=(l*F-f*B+d*b)*N,t[8]=(o*R-s*L+c*k)*N,t[9]=(r*L-n*R-a*k)*N,t[10]=(h*S-g*B+y*w)*N,t[11]=(u*B-l*S-d*w)*N,t[12]=(s*T-o*P-A*k)*N,t[13]=(n*P-r*T+i*k)*N,t[14]=(g*b-h*E-v*w)*N,t[15]=(l*E-u*b+f*w)*N,t):null}function Qu(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],h=e[12],g=e[13],v=e[14],y=e[15],w=n*s-r*o,b=n*A-i*o,B=n*c-a*o,E=r*A-i*s,S=r*c-a*s,F=i*c-a*A,k=l*g-u*h,T=l*v-f*h,L=l*y-d*h,P=u*v-f*g,R=u*y-d*g,U=f*y-d*v;return t[0]=s*U-A*R+c*P,t[1]=i*R-r*U-a*P,t[2]=g*F-v*S+y*E,t[3]=f*S-u*F-d*E,t[4]=A*L-o*U-c*T,t[5]=n*U-i*L+a*T,t[6]=v*B-h*F-y*b,t[7]=l*F-f*B+d*b,t[8]=o*R-s*L+c*k,t[9]=r*L-n*R-a*k,t[10]=h*S-g*B+y*w,t[11]=u*B-l*S-d*w,t[12]=s*T-o*P-A*k,t[13]=n*P-r*T+i*k,t[14]=g*b-h*E-v*w,t[15]=l*E-u*b+f*w,t}function Ya(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],A=t[7],c=t[8],l=t[9],u=t[10],f=t[11],d=t[12],h=t[13],g=t[14],v=t[15],y=e*o-n*a,w=e*s-r*a,b=n*s-r*o,B=c*h-l*d,E=c*g-u*d,S=l*g-u*h,F=e*S-n*E+r*B,k=a*S-o*E+s*B,T=c*b-l*w+u*y,L=d*b-h*w+g*y;return A*F-i*k+v*T-f*L}function Ur(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],A=e[5],c=e[6],l=e[7],u=e[8],f=e[9],d=e[10],h=e[11],g=e[12],v=e[13],y=e[14],w=e[15],b=n[0],B=n[1],E=n[2],S=n[3];return t[0]=b*r+B*s+E*u+S*g,t[1]=b*i+B*A+E*f+S*v,t[2]=b*a+B*c+E*d+S*y,t[3]=b*o+B*l+E*h+S*w,b=n[4],B=n[5],E=n[6],S=n[7],t[4]=b*r+B*s+E*u+S*g,t[5]=b*i+B*A+E*f+S*v,t[6]=b*a+B*c+E*d+S*y,t[7]=b*o+B*l+E*h+S*w,b=n[8],B=n[9],E=n[10],S=n[11],t[8]=b*r+B*s+E*u+S*g,t[9]=b*i+B*A+E*f+S*v,t[10]=b*a+B*c+E*d+S*y,t[11]=b*o+B*l+E*h+S*w,b=n[12],B=n[13],E=n[14],S=n[15],t[12]=b*r+B*s+E*u+S*g,t[13]=b*i+B*A+E*f+S*v,t[14]=b*a+B*c+E*d+S*y,t[15]=b*o+B*l+E*h+S*w,t}function es(t,e,n){var r=n[0],i=n[1],a=n[2],o,s,A,c,l,u,f,d,h,g,v,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],A=e[2],c=e[3],l=e[4],u=e[5],f=e[6],d=e[7],h=e[8],g=e[9],v=e[10],y=e[11],t[0]=o,t[1]=s,t[2]=A,t[3]=c,t[4]=l,t[5]=u,t[6]=f,t[7]=d,t[8]=h,t[9]=g,t[10]=v,t[11]=y,t[12]=o*r+l*i+h*a+e[12],t[13]=s*r+u*i+g*a+e[13],t[14]=A*r+f*i+v*a+e[14],t[15]=c*r+d*i+y*a+e[15]),t}function Bl(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ep(t,e,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),A,c,l,u,f,d,h,g,v,y,w,b,B,E,S,F,k,T,L,P,R,U,N,j;return s<Mn?null:(s=1/s,i*=s,a*=s,o*=s,A=Math.sin(n),c=Math.cos(n),l=1-c,u=e[0],f=e[1],d=e[2],h=e[3],g=e[4],v=e[5],y=e[6],w=e[7],b=e[8],B=e[9],E=e[10],S=e[11],F=i*i*l+c,k=a*i*l+o*A,T=o*i*l-a*A,L=i*a*l-o*A,P=a*a*l+c,R=o*a*l+i*A,U=i*o*l+a*A,N=a*o*l-i*A,j=o*o*l+c,t[0]=u*F+g*k+b*T,t[1]=f*F+v*k+B*T,t[2]=d*F+y*k+E*T,t[3]=h*F+w*k+S*T,t[4]=u*L+g*P+b*R,t[5]=f*L+v*P+B*R,t[6]=d*L+y*P+E*R,t[7]=h*L+w*P+S*R,t[8]=u*U+g*N+b*j,t[9]=f*U+v*N+B*j,t[10]=d*U+y*N+E*j,t[11]=h*U+w*N+S*j,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function rd(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],A=e[7],c=e[8],l=e[9],u=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+l*r,t[6]=s*i+u*r,t[7]=A*i+f*r,t[8]=c*i-a*r,t[9]=l*i-o*r,t[10]=u*i-s*r,t[11]=f*i-A*r,t}function id(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],A=e[3],c=e[8],l=e[9],u=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-l*r,t[2]=s*i-u*r,t[3]=A*i-f*r,t[8]=a*r+c*i,t[9]=o*r+l*i,t[10]=s*r+u*i,t[11]=A*r+f*i,t}function $a(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],A=e[3],c=e[4],l=e[5],u=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+l*r,t[2]=s*i+u*r,t[3]=A*i+f*r,t[4]=c*i-a*r,t[5]=l*i-o*r,t[6]=u*i-s*r,t[7]=f*i-A*r,t}function Js(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Ni(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function np(t,e,n){var r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a),s,A,c;return o<Mn?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(e),A=Math.cos(e),c=1-A,t[0]=r*r*c+A,t[1]=i*r*c+a*s,t[2]=a*r*c-i*s,t[3]=0,t[4]=r*i*c-a*s,t[5]=i*i*c+A,t[6]=a*i*c+r*s,t[7]=0,t[8]=r*a*c+i*s,t[9]=i*a*c-r*s,t[10]=a*a*c+A,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ad(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Os(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ec(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Uu(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,A=i+i,c=a+a,l=r*s,u=r*A,f=r*c,d=i*A,h=i*c,g=a*c,v=o*s,y=o*A,w=o*c;return t[0]=1-(d+g),t[1]=u+w,t[2]=f-y,t[3]=0,t[4]=u-w,t[5]=1-(l+g),t[6]=h+v,t[7]=0,t[8]=f+y,t[9]=h-v,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Pr(t,e){var n=new er(3),r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],A=e[5],c=e[6],l=e[7],u=r*r+i*i+a*a+o*o;return u>0?(n[0]=(s*o+l*r+A*a-c*i)*2/u,n[1]=(A*o+l*i+c*r-s*a)*2/u,n[2]=(c*o+l*a+s*i-A*r)*2/u):(n[0]=(s*o+l*r+A*a-c*i)*2,n[1]=(A*o+l*i+c*r-s*a)*2,n[2]=(c*o+l*a+s*i-A*r)*2),Uu(t,e,n),t}function Ra(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function tA(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],A=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(A*A+c*c+l*l),t}function Pu(t,e){var n=new er(3);tA(n,e);var r=1/n[0],i=1/n[1],a=1/n[2],o=e[0]*r,s=e[1]*i,A=e[2]*a,c=e[4]*r,l=e[5]*i,u=e[6]*a,f=e[8]*r,d=e[9]*i,h=e[10]*a,g=o+l+h,v=0;return g>0?(v=Math.sqrt(g+1)*2,t[3]=.25*v,t[0]=(u-d)/v,t[1]=(f-A)/v,t[2]=(s-c)/v):o>l&&o>h?(v=Math.sqrt(1+o-l-h)*2,t[3]=(u-d)/v,t[0]=.25*v,t[1]=(s+c)/v,t[2]=(f+A)/v):l>h?(v=Math.sqrt(1+l-o-h)*2,t[3]=(f-A)/v,t[0]=(s+c)/v,t[1]=.25*v,t[2]=(u+d)/v):(v=Math.sqrt(1+h-o-l)*2,t[3]=(s-c)/v,t[0]=(f+A)/v,t[1]=(u+d)/v,t[2]=.25*v),t}function od(t,e,n,r){e[0]=r[12],e[1]=r[13],e[2]=r[14];var i=r[0],a=r[1],o=r[2],s=r[4],A=r[5],c=r[6],l=r[8],u=r[9],f=r[10];n[0]=Math.sqrt(i*i+a*a+o*o),n[1]=Math.sqrt(s*s+A*A+c*c),n[2]=Math.sqrt(l*l+u*u+f*f);var d=1/n[0],h=1/n[1],g=1/n[2],v=i*d,y=a*h,w=o*g,b=s*d,B=A*h,E=c*g,S=l*d,F=u*h,k=f*g,T=v+B+k,L=0;return T>0?(L=Math.sqrt(T+1)*2,t[3]=.25*L,t[0]=(E-F)/L,t[1]=(S-w)/L,t[2]=(y-b)/L):v>B&&v>k?(L=Math.sqrt(1+v-B-k)*2,t[3]=(E-F)/L,t[0]=.25*L,t[1]=(y+b)/L,t[2]=(S+w)/L):B>k?(L=Math.sqrt(1+B-v-k)*2,t[3]=(S-w)/L,t[0]=(y+b)/L,t[1]=.25*L,t[2]=(E+F)/L):(L=Math.sqrt(1+k-v-B)*2,t[3]=(y-b)/L,t[0]=(S+w)/L,t[1]=(E+F)/L,t[2]=.25*L),t}function s0(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],A=i+i,c=a+a,l=o+o,u=i*A,f=i*c,d=i*l,h=a*c,g=a*l,v=o*l,y=s*A,w=s*c,b=s*l,B=r[0],E=r[1],S=r[2];return t[0]=(1-(h+v))*B,t[1]=(f+b)*B,t[2]=(d-w)*B,t[3]=0,t[4]=(f-b)*E,t[5]=(1-(u+v))*E,t[6]=(g+y)*E,t[7]=0,t[8]=(d+w)*S,t[9]=(g-y)*S,t[10]=(1-(u+h))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function xl(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],A=e[3],c=a+a,l=o+o,u=s+s,f=a*c,d=a*l,h=a*u,g=o*l,v=o*u,y=s*u,w=A*c,b=A*l,B=A*u,E=r[0],S=r[1],F=r[2],k=i[0],T=i[1],L=i[2],P=(1-(g+y))*E,R=(d+B)*E,U=(h-b)*E,N=(d-B)*S,j=(1-(f+y))*S,z=(v+w)*S,W=(h+b)*F,D=(v-w)*F,G=(1-(f+g))*F;return t[0]=P,t[1]=R,t[2]=U,t[3]=0,t[4]=N,t[5]=j,t[6]=z,t[7]=0,t[8]=W,t[9]=D,t[10]=G,t[11]=0,t[12]=n[0]+k-(P*k+N*T+W*L),t[13]=n[1]+T-(R*k+j*T+D*L),t[14]=n[2]+L-(U*k+z*T+G*L),t[15]=1,t}function sd(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,A=i+i,c=n*o,l=r*o,u=r*s,f=i*o,d=i*s,h=i*A,g=a*o,v=a*s,y=a*A;return t[0]=1-u-h,t[1]=l+y,t[2]=f-v,t[3]=0,t[4]=l-y,t[5]=1-c-h,t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rp(t,e,n,r,i,a,o){var s=1/(n-e),A=1/(i-r),c=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*A,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*A,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function _l(t,e,n,r,i){var a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=(i+r)*o,t[14]=2*i*r*o}else t[10]=-1,t[14]=-2*r;return t}var eA=_l;function ip(t,e,n,r,i){var a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=i*o,t[14]=i*r*o}else t[10]=-1,t[14]=-r;return t}function Ad(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),A=2/(o+s),c=2/(i+a);return t[0]=A,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*A*.5),t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function zA(t,e,n,r,i,a,o){var s=1/(e-n),A=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*A,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*A,t[14]=(o+a)*c,t[15]=1,t}var Es=zA;function Gn(t,e,n,r,i,a,o){var s=1/(e-n),A=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*A,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*A,t[14]=a*c,t[15]=1,t}function cd(t,e,n,r){var i,a,o,s,A,c,l,u,f,d,h=e[0],g=e[1],v=e[2],y=r[0],w=r[1],b=r[2],B=n[0],E=n[1],S=n[2];return Math.abs(h-B)<Mn&&Math.abs(g-E)<Mn&&Math.abs(v-S)<Mn?_s(t):(l=h-B,u=g-E,f=v-S,d=1/Math.sqrt(l*l+u*u+f*f),l*=d,u*=d,f*=d,i=w*f-b*u,a=b*l-y*f,o=y*u-w*l,d=Math.sqrt(i*i+a*a+o*o),d?(d=1/d,i*=d,a*=d,o*=d):(i=0,a=0,o=0),s=u*o-f*a,A=f*i-l*o,c=l*a-u*i,d=Math.sqrt(s*s+A*A+c*c),d?(d=1/d,s*=d,A*=d,c*=d):(s=0,A=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=a,t[5]=A,t[6]=u,t[7]=0,t[8]=o,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*h+a*g+o*v),t[13]=-(s*h+A*g+c*v),t[14]=-(l*h+u*g+f*v),t[15]=1,t)}function ld(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],A=r[1],c=r[2],l=i-n[0],u=a-n[1],f=o-n[2],d=l*l+u*u+f*f;d>0&&(d=1/Math.sqrt(d),l*=d,u*=d,f*=d);var h=A*f-c*u,g=c*l-s*f,v=s*u-A*l;return d=h*h+g*g+v*v,d>0&&(d=1/Math.sqrt(d),h*=d,g*=d,v*=d),t[0]=h,t[1]=g,t[2]=v,t[3]=0,t[4]=u*v-f*g,t[5]=f*h-l*v,t[6]=l*g-u*h,t[7]=0,t[8]=l,t[9]=u,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function Ru(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function nA(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}function ns(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function ud(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ui(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Yr(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function rA(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Di(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=t[9],f=t[10],d=t[11],h=t[12],g=t[13],v=t[14],y=t[15],w=e[0],b=e[1],B=e[2],E=e[3],S=e[4],F=e[5],k=e[6],T=e[7],L=e[8],P=e[9],R=e[10],U=e[11],N=e[12],j=e[13],z=e[14],W=e[15];return Math.abs(n-w)<=Mn*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(r-b)<=Mn*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-B)<=Mn*Math.max(1,Math.abs(i),Math.abs(B))&&Math.abs(a-E)<=Mn*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(o-S)<=Mn*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-F)<=Mn*Math.max(1,Math.abs(s),Math.abs(F))&&Math.abs(A-k)<=Mn*Math.max(1,Math.abs(A),Math.abs(k))&&Math.abs(c-T)<=Mn*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-L)<=Mn*Math.max(1,Math.abs(l),Math.abs(L))&&Math.abs(u-P)<=Mn*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(f-R)<=Mn*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(d-U)<=Mn*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(h-N)<=Mn*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(g-j)<=Mn*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(v-z)<=Mn*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(y-W)<=Mn*Math.max(1,Math.abs(y),Math.abs(W))}var Cl=Ur,iA=ud;function Sc(){var t=new er(9);return er!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function mr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function A0(t){var e=new glMatrix.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function c0(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function WA(t,e,n,r,i,a,o,s,A){var c=new er(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=A,c}function l0(t,e,n,r,i,a,o,s,A,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=A,t[8]=c,t}function fd(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function dd(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function ap(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8],u=l*o-s*c,f=-l*a+s*A,d=c*a-o*A,h=n*u+r*f+i*d;return h?(h=1/h,t[0]=u*h,t[1]=(-l*r+i*c)*h,t[2]=(s*r-i*o)*h,t[3]=f*h,t[4]=(l*n-i*A)*h,t[5]=(-s*n+i*a)*h,t[6]=d*h,t[7]=(-c*n+r*A)*h,t[8]=(o*n-r*a)*h,t):null}function Hi(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8];return t[0]=o*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*o,t[3]=s*A-a*l,t[4]=n*l-i*A,t[5]=i*a-n*s,t[6]=a*c-o*A,t[7]=r*A-n*c,t[8]=n*o-r*a,t}function rs(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],A=t[7],c=t[8];return e*(c*a-o*A)+n*(-c*i+o*s)+r*(A*i-a*s)}function VA(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],A=e[5],c=e[6],l=e[7],u=e[8],f=n[0],d=n[1],h=n[2],g=n[3],v=n[4],y=n[5],w=n[6],b=n[7],B=n[8];return t[0]=f*r+d*o+h*c,t[1]=f*i+d*s+h*l,t[2]=f*a+d*A+h*u,t[3]=g*r+v*o+y*c,t[4]=g*i+v*s+y*l,t[5]=g*a+v*A+y*u,t[6]=w*r+b*o+B*c,t[7]=w*i+b*s+B*l,t[8]=w*a+b*A+B*u,t}function Xi(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],A=e[5],c=e[6],l=e[7],u=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=A,t[6]=f*r+d*o+c,t[7]=f*i+d*s+l,t[8]=f*a+d*A+u,t}function ZA(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],A=e[5],c=e[6],l=e[7],u=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*o,t[1]=d*i+f*s,t[2]=d*a+f*A,t[3]=d*o-f*r,t[4]=d*s-f*i,t[5]=d*A-f*a,t[6]=c,t[7]=l,t[8]=u,t}function Mc(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Io(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function hd(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u0(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function hm(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Nu(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,A=i+i,c=n*o,l=r*o,u=r*s,f=i*o,d=i*s,h=i*A,g=a*o,v=a*s,y=a*A;return t[0]=1-u-h,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-h,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-u,t}function aA(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],A=e[6],c=e[7],l=e[8],u=e[9],f=e[10],d=e[11],h=e[12],g=e[13],v=e[14],y=e[15],w=n*s-r*o,b=n*A-i*o,B=n*c-a*o,E=r*A-i*s,S=r*c-a*s,F=i*c-a*A,k=l*g-u*h,T=l*v-f*h,L=l*y-d*h,P=u*v-f*g,R=u*y-d*g,U=f*y-d*v,N=w*U-b*R+B*P+E*L-S*T+F*k;return N?(N=1/N,t[0]=(s*U-A*R+c*P)*N,t[1]=(A*L-o*U-c*T)*N,t[2]=(o*R-s*L+c*k)*N,t[3]=(i*R-r*U-a*P)*N,t[4]=(n*U-i*L+a*T)*N,t[5]=(r*L-n*R-a*k)*N,t[6]=(g*F-v*S+y*E)*N,t[7]=(v*B-h*F-y*b)*N,t[8]=(h*S-g*B+y*w)*N,t):null}function pm(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function pd(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function wt(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8])}function Ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function kt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function _e(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Ve(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Kn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ji(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],A=t[6],c=t[7],l=t[8],u=e[0],f=e[1],d=e[2],h=e[3],g=e[4],v=e[5],y=e[6],w=e[7],b=e[8];return Math.abs(n-u)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-f)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=glMatrix.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-h)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-g)<=glMatrix.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(A-y)<=glMatrix.EPSILON*Math.max(1,Math.abs(A),Math.abs(y))&&Math.abs(c-w)<=glMatrix.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-b)<=glMatrix.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))}var wr=null,Ol=null;function fi(){var t=new er(4);return er!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ro(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function io(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function f0(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>glMatrix.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Fc(t,e){var n=m0(t,e);return Math.acos(2*n*n-1)}function ao(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],A=n[1],c=n[2],l=n[3];return t[0]=r*l+o*s+i*c-a*A,t[1]=i*l+o*A+a*s-r*c,t[2]=a*l+o*c+r*A-i*s,t[3]=o*l-r*s-i*A-a*c,t}function Du(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),A=Math.cos(n);return t[0]=r*A+o*s,t[1]=i*A+a*s,t[2]=a*A-i*s,t[3]=o*A-r*s,t}function Zn(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),A=Math.cos(n);return t[0]=r*A-a*s,t[1]=i*A+o*s,t[2]=a*A+r*s,t[3]=o*A-i*s,t}function d0(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),A=Math.cos(n);return t[0]=r*A+i*s,t[1]=i*A-r*s,t[2]=a*A+o*s,t[3]=o*A-a*s,t}function h0(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function YA(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=Math.exp(a),A=o>0?s*Math.sin(o)/o:0;return t[0]=n*A,t[1]=r*A,t[2]=i*A,t[3]=s*Math.cos(o),t}function p0(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+a*a),t}function gm(t,e,n){return p0(t,e),y0(t,t,n),YA(t,t),t}function El(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],A=n[0],c=n[1],l=n[2],u=n[3],f,d,h,g,v;return d=i*A+a*c+o*l+s*u,d<0&&(d=-d,A=-A,c=-c,l=-l,u=-u),1-d>Mn?(f=Math.acos(d),h=Math.sin(f),g=Math.sin((1-r)*f)/h,v=Math.sin(r*f)/h):(g=1-r,v=r),t[0]=g*i+v*A,t[1]=g*a+v*c,t[2]=g*o+v*l,t[3]=g*s+v*u,t}function gd(t){var e=glMatrix.RANDOM(),n=glMatrix.RANDOM(),r=glMatrix.RANDOM(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t}function Lo(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function vd(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function op(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[a*3+a]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[a*3+o]-e[o*3+a])*r,t[a]=(e[a*3+i]+e[i*3+a])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function $A(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Yo,a=Math.PI/360;e*=a,r*=a,n*=a;var o=Math.sin(e),s=Math.cos(e),A=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);switch(i){case"xyz":t[0]=o*c*u+s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u-o*A*l;break;case"xzy":t[0]=o*c*u-s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u+o*A*l;break;case"yxz":t[0]=o*c*u+s*A*l,t[1]=s*A*u-o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u+o*A*l;break;case"yzx":t[0]=o*c*u+s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u-o*A*l;break;case"zxy":t[0]=o*c*u-s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l+o*A*u,t[3]=s*c*u-o*A*l;break;case"zyx":t[0]=o*c*u-s*A*l,t[1]=s*A*u+o*c*l,t[2]=s*c*l-o*A*u,t[3]=s*c*u+o*A*l;break;default:throw new Error("Unknown angle order "+i)}return t}function g0(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var v0=ve,Ss=le,Sl=Ie,kc=ae,Ms=Pe,Ml=ao,y0=HA,m0=n0,vm=i0,Tc=li,yd=null,sp=qs,ym=null,Fl=ts,md=Jh;function mm(t,e){return Math.abs(vec4.dot(t,e))>=1-glMatrix.EPSILON}var Gi=function(){var t=Ue(),e=vn(1,0,0),n=vn(0,1,0);return function(r,i,a){var o=xa(i,a);return o<-.999999?(Oc(t,e,i),zt(t)<1e-6&&Oc(t,n,i),no(t,t),io(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Oc(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,Fl(r,r))}}(),Ea=function(){var t=fi(),e=fi();return function(n,r,i,a,o,s){return El(t,r,o,s),El(e,i,a,s),El(n,t,e,2*s*(1-s)),n}}(),wm=function(){var t=Sc();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Fl(e,op(e,t))}}();function Ic(){var t=new er(2);return er!=Float32Array&&(t[0]=0,t[1]=0),t}function w0(t){var e=new glMatrix.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function bm(t,e){var n=new glMatrix.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function wd(t,e){return t[0]=e[0],t[1]=e[1],t}function kl(t,e,n){return t[0]=e,t[1]=n,t}function Ap(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Tl(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Hu(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function ju(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function bd(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Il(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Bd(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Bm(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function xm(t,e){return t[0]=glMatrix.round(e[0]),t[1]=glMatrix.round(e[1]),t}function b0(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _m(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function xd(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function Lc(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Gu(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function tt(t){var e=t[0],n=t[1];return e*e+n*n}function Ll(t,e){return t[0]=-e[0],t[1]=-e[1],t}function _d(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function oo(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function On(t,e){return t[0]*e[0]+t[1]*e[1]}function Cm(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Cd(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function Om(t,e){e=e===void 0?1:e;var n=glMatrix.RANDOM()*2*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Qc(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Em(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Sm(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Mm(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Fm(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t}function km(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(Math.atan2(r*i-n*a,n*i+r*a))}function oA(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.atan2(n*a-r*i,n*i+r*a)}function Tm(t){return t[0]=0,t[1]=0,t}function Im(t){return"vec2("+t[0]+", "+t[1]+")"}function B0(t,e){return t[0]===e[0]&&t[1]===e[1]}function Lm(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=glMatrix.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}var x0=null,sA=null,Qm=null,Um=null,Ku=null,Pm=null,Rm=null,XA=function(){var t=Ic();return function(e,n,r,i,a,o){var s,A;for(n||(n=2),r||(r=0),i?A=Math.min(i*n+r,e.length):A=e.length,s=r;s<A;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}();function rr(t){return typeof t=="number"}function Na(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function be(t){return t==null}function fr(t){return typeof t=="string"}var _0=function(t,e,n){return t<e?e:t>n?n:t},Gr=_0,Od=function(t,e){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Od(t,e)};function dr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Od(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tt=function(){return Tt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tt.apply(this,arguments)};function Kr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function C0(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function O0(t,e){return function(n,r){e(n,r,t)}}function Ed(t,e,n,r,i,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=r.kind,A=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),u,f=!1,d=n.length-1;d>=0;d--){var h={};for(var g in r)h[g]=g==="access"?{}:r[g];for(var g in r.access)h.access[g]=r.access[g];h.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var v=(0,n[d])(s==="accessor"?{get:l.get,set:l.set}:l[A],h);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(u=o(v.get))&&(l.get=u),(u=o(v.set))&&(l.set=u),(u=o(v.init))&&i.unshift(u)}else(u=o(v))&&(s==="field"?i.unshift(u):l[A]=u)}c&&Object.defineProperty(c,r.name,l),f=!0}function Ql(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Ul(t){return typeof t=="symbol"?t:"".concat(t)}function E0(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function cp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function S0(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})}function Fs(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return A([c,l])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Pl=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function qA(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Pl(e,t,n)}function di(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function lp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(q(arguments[e]));return t}function up(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function ye(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function fp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(h){return Promise.resolve(h).then(d,u)}}function s(d,h){r[d]&&(i[d]=function(g){return new Promise(function(v,y){a.push([d,g,v,y])>1||A(d,g)})},h&&(i[d]=h(i[d])))}function A(d,h){try{c(r[d](h))}catch(g){f(a[0][3],g)}}function c(d){d.value instanceof ii?Promise.resolve(d.value.v).then(l,u):f(a[0][2],d)}function l(d){A("next",d)}function u(d){A("throw",d)}function f(d,h){d(h),a.shift(),a.length&&A(a[0][0],a[0][1])}}function dp(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(o){return(n=!n)?{value:ii(t[i](o)),done:!1}:a?a(o):o}:a}}function AA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof di=="function"?di(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,A){o=t[a](o),i(s,A,o.done,o.value)})}}function i(a,o,s,A){Promise.resolve(A).then(function(c){a({value:c,done:s})},o)}}function zu(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hp=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},xi=function(t){return xi=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},xi(t)};function Sd(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=xi(t),r=0;r<n.length;r++)n[r]!=="default"&&Pl(e,t,n[r]);return hp(e,t),e}function cA(t){return t&&t.__esModule?t:{default:t}}function Sa(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Rl(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Wu(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lA(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var pp=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function qi(t){function e(a){t.error=t.hasError?new pp(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Md(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?e?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):t}var Nm={__extends:dr,__assign:Tt,__rest:Kr,__decorate:C0,__param:O0,__esDecorate:Ed,__runInitializers:Ql,__propKey:Ul,__setFunctionName:E0,__metadata:cp,__awaiter:S0,__generator:Fs,__createBinding:Pl,__exportStar:qA,__values:di,__read:q,__spread:lp,__spreadArrays:up,__spreadArray:ye,__await:ii,__asyncGenerator:fp,__asyncDelegator:dp,__asyncValues:AA,__makeTemplateObject:zu,__importStar:Sd,__importDefault:cA,__classPrivateFieldGet:Sa,__classPrivateFieldSet:Rl,__classPrivateFieldIn:Wu,__addDisposableResource:lA,__disposeResources:qi,__rewriteRelativeImportExtension:Md},Nl={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function gp(t){return Array.isArray(t)&&t.every(function(e){var n=e[0].toLowerCase();return Nl[n]===e.length-1&&"achlmqstvz".includes(n)})}function Vu(t){return gp(t)&&t.every(function(e){var n=e[0];return n===n.toUpperCase()})}function vp(t){return Vu(t)&&t.every(function(e){var n=e[0];return"ACLMQZ".includes(n)})}var Uc={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function Fd(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=Nl[n]&&(n==="m"&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(r.splice(0,Nl[n]))),!!Nl[n]););}function yp(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);if(r===48){t.param=0,t.index+=1;return}if(r===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'.concat(n[e],'", expecting 0 or 1 at index ').concat(e)}function M0(t){return t>=48&&t<=57||t===43||t===45||t===46}function is(t){return t>=48&&t<=57}function F0(t){var e=t.max,n=t.pathValue,r=t.index,i=r,a=!1,o=!1,s=!1,A=!1,c;if(i>=e){t.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(c=n.charCodeAt(i),(c===43||c===45)&&(i+=1,c=n.charCodeAt(i)),!is(c)&&c!==46){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" is not a number');return}if(c!==46){if(a=c===48,i+=1,c=n.charCodeAt(i),a&&i<e&&c&&is(c)){t.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;i<e&&is(n.charCodeAt(i));)i+=1,o=!0;c=n.charCodeAt(i)}if(c===46){for(A=!0,i+=1;is(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(c===101||c===69){if(A&&!o&&!s){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid float exponent');return}if(i+=1,c=n.charCodeAt(i),(c===43||c===45)&&(i+=1),i<e&&is(n.charCodeAt(i)))for(;i<e&&is(n.charCodeAt(i));)i+=1;else{t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid integer exponent');return}}t.index=i,t.param=+t.pathValue.slice(r,i)}function mp(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&e.includes(t)}function Pc(t){for(var e=t.pathValue,n=t.max;t.index<n&&mp(e.charCodeAt(t.index));)t.index+=1}function Dl(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function k0(t){return(t|32)===97}function kd(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),a=Nl[n[r].toLowerCase()];if(t.segmentStart=r,!Dl(i)){t.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(t.index+=1,Pc(t),t.data=[],!a){Fd(t);return}for(;;){for(var o=a;o>0;o-=1){if(k0(i)&&(o===3||o===4)?yp(t):F0(t),t.err.length)return;t.data.push(t.param),Pc(t),t.index<e&&n.charCodeAt(t.index)===44&&(t.index+=1,Pc(t))}if(t.index>=t.max||!M0(n.charCodeAt(t.index)))break}Fd(t)}var Td=function(){function t(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Id(t){if(gp(t))return[].concat(t);var e=new Td(t);for(Pc(e);e.index<e.max&&!e.err.length;)kd(e);return e.err?e.err:e.segments}function Zu(t){if(Vu(t))return[].concat(t);var e=Id(t),n=0,r=0,i=0,a=0;return e.map(function(o){var s=o.slice(1).map(Number),A=o[0],c=A.toUpperCase();if(A==="M")return n=s[0],r=s[1],i=n,a=r,["M",n,r];var l;if(A!==c)switch(c){case"A":l=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":l=[c,s[0]+r];break;case"H":l=[c,s[0]+n];break;default:{var u=s.map(function(d,h){return d+(h%2?r:n)});l=[c].concat(u)}}else l=[c].concat(s);var f=l.length;switch(c){case"Z":n=i,r=a;break;case"H":n=l[1];break;case"V":r=l[1];break;default:n=l[f-2],r=l[f-1],c==="M"&&(i=n,a=r)}return l})}function T0(t,e){var n=t[0],r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=t.slice(1).map(Number),A=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),n==="H")A=["L",t[1],i];else if(n==="V")A=["L",r,t[1]];else if(n==="S"){var c=r*2-a,l=i*2-o;e.x1=c,e.y1=l,A=["C",c,l].concat(s)}else if(n==="T"){var u=r*2-e.qx,f=i*2-e.qy;e.qx=u,e.qy=f,A=["Q",u,f].concat(s)}else if(n==="Q"){var d=s[0],h=s[1];e.qx=d,e.qy=h}return A}function JA(t){if(vp(t))return[].concat(t);for(var e=Zu(t),n=Tt({},Uc),r=0;r<e.length;r+=1){e[r]=T0(e[r],n);var i=e[r],a=i.length;n.x1=+i[a-2],n.y1=+i[a-1],n.x2=+i[a-4]||n.x1,n.y2=+i[a-3]||n.y1}return e}function Qo(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return[r+(a-r)*n,i+(o-i)*n]}function Rc(t,e,n,r,i){var a=Na([t,e],[n,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:t,y:e};else if(i>=a)o={x:n,y:r};else{var s=Qo([t,e],[n,r],i/a),A=s[0],c=s[1];o={x:A,y:c}}return{length:a,point:o,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function Yu(t,e){var n=t.x,r=t.y,i=e.x,a=e.y,o=n*i+r*a,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),A=n*a-r*i<0?-1:1,c=A*Math.acos(o/s);return c}function Hl(t,e,n,r,i,a,o,s,A,c){var l=Math.abs,u=Math.sin,f=Math.cos,d=Math.sqrt,h=Math.PI,g=l(n),v=l(r),y=(i%360+360)%360,w=y*(h/180);if(t===s&&e===A)return{x:t,y:e};if(g===0||v===0)return Rc(t,e,s,A,c).point;var b=(t-s)/2,B=(e-A)/2,E={x:f(w)*b+u(w)*B,y:-u(w)*b+f(w)*B},S=Math.pow(E.x,2)/Math.pow(g,2)+Math.pow(E.y,2)/Math.pow(v,2);S>1&&(g*=d(S),v*=d(S));var F=Math.pow(g,2)*Math.pow(v,2)-Math.pow(g,2)*Math.pow(E.y,2)-Math.pow(v,2)*Math.pow(E.x,2),k=Math.pow(g,2)*Math.pow(E.y,2)+Math.pow(v,2)*Math.pow(E.x,2),T=F/k;T=T<0?0:T;var L=(a!==o?1:-1)*d(T),P={x:L*(g*E.y/v),y:L*(-(v*E.x)/g)},R={x:f(w)*P.x-u(w)*P.y+(t+s)/2,y:u(w)*P.x+f(w)*P.y+(e+A)/2},U={x:(E.x-P.x)/g,y:(E.y-P.y)/v},N=Yu({x:1,y:0},U),j={x:(-E.x-P.x)/g,y:(-E.y-P.y)/v},z=Yu(U,j);!o&&z>0?z-=2*h:o&&z<0&&(z+=2*h),z%=2*h;var W=N+z*c,D=g*f(W),G=v*u(W),Y={x:f(w)*D-u(w)*G+R.x,y:u(w)*D+f(w)*G+R.y};return Y}function wp(t,e,n,r,i,a,o,s,A,c,l){var u,f=l.bbox,d=f===void 0?!0:f,h=l.length,g=h===void 0?!0:h,v=l.sampleSize,y=v===void 0?30:v,w=typeof c=="number",b=t,B=e,E=0,S=[b,B,E],F=[b,B],k=0,T={x:0,y:0},L=[{x:b,y:B}];w&&c<=0&&(T={x:b,y:B});for(var P=0;P<=y;P+=1){if(k=P/y,u=Hl(t,e,n,r,i,a,o,s,A,k),b=u.x,B=u.y,d&&L.push({x:b,y:B}),g&&(E+=Na(F,[b,B])),F=[b,B],w&&E>=c&&c>S[2]){var R=(E-c)/(E-S[2]);T={x:F[0]*(1-R)+S[0]*R,y:F[1]*(1-R)+S[1]*R}}S=[b,B,E]}return w&&c>=E&&(T={x:s,y:A}),{length:E,point:T,min:{x:Math.min.apply(null,L.map(function(U){return U.x})),y:Math.min.apply(null,L.map(function(U){return U.y}))},max:{x:Math.max.apply(null,L.map(function(U){return U.x})),y:Math.max.apply(null,L.map(function(U){return U.y}))}}}function Ld(t,e,n,r,i,a,o,s,A){var c=1-A;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*A*n+3*c*Math.pow(A,2)*i+Math.pow(A,3)*o,y:Math.pow(c,3)*e+3*Math.pow(c,2)*A*r+3*c*Math.pow(A,2)*a+Math.pow(A,3)*s}}function jl(t,e,n,r,i,a,o,s,A,c){var l,u=c.bbox,f=u===void 0?!0:u,d=c.length,h=d===void 0?!0:d,g=c.sampleSize,v=g===void 0?10:g,y=typeof A=="number",w=t,b=e,B=0,E=[w,b,B],S=[w,b],F=0,k={x:0,y:0},T=[{x:w,y:b}];y&&A<=0&&(k={x:w,y:b});for(var L=0;L<=v;L+=1){if(F=L/v,l=Ld(t,e,n,r,i,a,o,s,F),w=l.x,b=l.y,f&&T.push({x:w,y:b}),h&&(B+=Na(S,[w,b])),S=[w,b],y&&B>=A&&A>E[2]){var P=(B-A)/(B-E[2]);k={x:S[0]*(1-P)+E[0]*P,y:S[1]*(1-P)+E[1]*P}}E=[w,b,B]}return y&&A>=B&&(k={x:o,y:s}),{length:B,point:k,min:{x:Math.min.apply(null,T.map(function(R){return R.x})),y:Math.min.apply(null,T.map(function(R){return R.y}))},max:{x:Math.max.apply(null,T.map(function(R){return R.x})),y:Math.max.apply(null,T.map(function(R){return R.y}))}}}function I0(t,e,n,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*t+2*s*o*n+Math.pow(o,2)*i,y:Math.pow(s,2)*e+2*s*o*r+Math.pow(o,2)*a}}function bp(t,e,n,r,i,a,o,s){var A,c=s.bbox,l=c===void 0?!0:c,u=s.length,f=u===void 0?!0:u,d=s.sampleSize,h=d===void 0?10:d,g=typeof o=="number",v=t,y=e,w=0,b=[v,y,w],B=[v,y],E=0,S={x:0,y:0},F=[{x:v,y}];g&&o<=0&&(S={x:v,y});for(var k=0;k<=h;k+=1){if(E=k/h,A=I0(t,e,n,r,i,a,E),v=A.x,y=A.y,l&&F.push({x:v,y}),f&&(w+=Na(B,[v,y])),B=[v,y],g&&w>=o&&o>b[2]){var T=(w-o)/(w-b[2]);S={x:B[0]*(1-T)+b[0]*T,y:B[1]*(1-T)+b[1]*T}}b=[v,y,w]}return g&&o>=w&&(S={x:i,y:a}),{length:w,point:S,min:{x:Math.min.apply(null,F.map(function(L){return L.x})),y:Math.min.apply(null,F.map(function(L){return L.y}))},max:{x:Math.max.apply(null,F.map(function(L){return L.x})),y:Math.max.apply(null,F.map(function(L){return L.y}))}}}function Bp(t,e,n){for(var r,i,a,o,s,A,c=JA(t),l=typeof e=="number",u,f=[],d,h=0,g=0,v=0,y=0,w,b=[],B=[],E=0,S={x:0,y:0},F=S,k=S,T=S,L=0,P=0,R=c.length;P<R;P+=1)w=c[P],d=w[0],u=d==="M",f=u?f:[h,g].concat(w.slice(1)),u?(v=w[1],y=w[2],S={x:v,y},F=S,E=0,l&&e<.001&&(T=S)):d==="L"?(r=Rc(f[0],f[1],f[2],f[3],(e||0)-L),E=r.length,S=r.min,F=r.max,k=r.point):d==="A"?(i=wp(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],(e||0)-L,n||{}),E=i.length,S=i.min,F=i.max,k=i.point):d==="C"?(a=jl(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],(e||0)-L,n||{}),E=a.length,S=a.min,F=a.max,k=a.point):d==="Q"?(o=bp(f[0],f[1],f[2],f[3],f[4],f[5],(e||0)-L,n||{}),E=o.length,S=o.min,F=o.max,k=o.point):d==="Z"&&(f=[h,g,v,y],s=Rc(f[0],f[1],f[2],f[3],(e||0)-L),E=s.length,S=s.min,F=s.max,k=s.point),l&&L<e&&L+E>=e&&(T=k),B.push(F),b.push(S),L+=E,A=d!=="Z"?w.slice(-2):[v,y],h=A[0],g=A[1];return l&&e>=L&&(T={x:h,y:g}),{length:L,point:T,min:{x:Math.min.apply(null,b.map(function(U){return U.x})),y:Math.min.apply(null,b.map(function(U){return U.y}))},max:{x:Math.max.apply(null,B.map(function(U){return U.x})),y:Math.max.apply(null,B.map(function(U){return U.y}))}}}function Da(t,e){return Bp(t,void 0,Tt(Tt({},e),{bbox:!1,length:!0})).length}function Sr(t){return Array.isArray(t)}var Nc=function(t){if(Sr(t))return t.reduce(function(e,n){return Math.min(e,n)},t[0])};function $u(t){if(!Array.isArray(t))return-1/0;var e=t.length;if(!e)return-1/0;for(var n=t[0],r=1;r<e;r++)n=Math.max(n,t[r]);return n}var Qd=1e-5;function on(t,e,n){return n===void 0&&(n=Qd),t===e||Math.abs(t-e)<n}var L0=function(t,e){return(t%e+e)%e},xp=L0;function Gl(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}function _p(t){return vp(t)&&t.every(function(e){var n=e[0];return"MC".includes(n)})}function Xu(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function qu(t,e,n,r,i,a,o,s,A,c){var l=t,u=e,f=n,d=r,h=s,g=A,v=Math.PI*120/180,y=Math.PI/180*(+i||0),w=[],b,B,E,S,F;if(c)B=c[0],E=c[1],S=c[2],F=c[3];else{b=Xu(l,u,-y),l=b.x,u=b.y,b=Xu(h,g,-y),h=b.x,g=b.y;var k=(l-h)/2,T=(u-g)/2,L=k*k/(f*f)+T*T/(d*d);L>1&&(L=Math.sqrt(L),f*=L,d*=L);var P=f*f,R=d*d,U=(a===o?-1:1)*Math.sqrt(Math.abs((P*R-P*T*T-R*k*k)/(P*T*T+R*k*k)));S=U*f*T/d+(l+h)/2,F=U*-d*k/f+(u+g)/2,B=Math.asin(((u-F)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),E=Math.asin(((g-F)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),B=l<S?Math.PI-B:B,E=h<S?Math.PI-E:E,B<0&&(B=Math.PI*2+B),E<0&&(E=Math.PI*2+E),o&&B>E&&(B-=Math.PI*2),!o&&E>B&&(E-=Math.PI*2)}var N=E-B;if(Math.abs(N)>v){var j=E,z=h,W=g;E=B+v*(o&&E>B?1:-1),h=S+f*Math.cos(E),g=F+d*Math.sin(E),w=qu(h,g,f,d,i,0,o,z,W,[E,j,S,F])}N=E-B;var D=Math.cos(B),G=Math.sin(B),Y=Math.cos(E),at=Math.sin(E),it=Math.tan(N/4),At=4/3*f*it,ht=4/3*d*it,ut=[l,u],Ct=[l+At*G,u-ht*D],_t=[h+At*at,g-ht*Y],mt=[h,g];if(Ct[0]=2*ut[0]-Ct[0],Ct[1]=2*ut[1]-Ct[1],c)return Ct.concat(_t,mt,w);w=Ct.concat(_t,mt,w);for(var Lt=[],Nt=0,Vt=w.length;Nt<Vt;Nt+=1)Lt[Nt]=Nt%2?Xu(w[Nt-1],w[Nt],y).y:Xu(w[Nt],w[Nt+1],y).x;return Lt}function so(t,e,n,r,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*n,o*e+s*r,o*i+s*n,o*a+s*r,i,a]}var Ju=function(t,e,n,r){var i=.5,a=Qo([t,e],[n,r],i);return ye(ye([],a,!0),[n,r,n,r],!1)};function Kl(t,e){var n=t[0],r=t.slice(1).map(Number),i=r[0],a=r[1],o,s=e.x1,A=e.y1,c=e.x,l=e.y;switch("TQ".includes(n)||(e.qx=null,e.qy=null),n){case"M":return e.x=i,e.y=a,t;case"A":return o=[s,A].concat(r),["C"].concat(qu(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return e.qx=i,e.qy=a,o=[s,A].concat(r),["C"].concat(so(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(Ju(s,A,i,a));case"Z":return s===c&&A===l?["C",s,A,c,l,c,l]:["C"].concat(Ju(s,A,c,l));default:}return t}function ai(t,e){if(e===void 0&&(e=!1),_p(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r=JA(t),i=Tt({},Uc),a=[],o="",s=r.length,A,c,l=[],u=0;u<s;u+=1){r[u]&&(o=r[u][0]),a[u]=o;var f=Kl(r[u],i);r[u]=f,Gl(r,a,u),s=r.length,o==="Z"&&l.push(u),A=r[u],c=A.length,i.x1=+A[c-2],i.y1=+A[c-1],i.x2=+A[c-4]||i.x1,i.y2=+A[c-3]||i.y1}return e?[r,l]:r}var Dc=50;function Cp(t,e){e===void 0&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),a=t.slice(6,8),o=Qo(n,r,e),s=Qo(r,i,e),A=Qo(i,a,e),c=Qo(o,s,e),l=Qo(s,A,e),u=Qo(c,l,e);return[["C"].concat(o,c,u),["C"].concat(l,A,a)]}function Ha(t){return t.map(function(e,n,r){var i=n&&r[n-1].slice(-2).concat(e.slice(1)),a=n?jl(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return n?o=a?Cp(i):[e,e]:o=[e],{s:e,ss:o,l:a}})}function as(t,e,n,r){if(r===void 0&&(r=0),r>Dc)return console.warn("Maximum recursion depth reached in equalizeSegments"),[t,e];var i=Ha(t),a=Ha(e),o=i.length,s=a.length,A=i.filter(function(y){return y.l}).length,c=a.filter(function(y){return y.l}).length,l=i.filter(function(y){return y.l}).reduce(function(y,w){var b=w.l;return y+b},0)/A||0,u=a.filter(function(y){return y.l}).reduce(function(y,w){var b=w.l;return y+b},0)/c||0,f=n||Math.max(o,s),d=[l,u],h=[f-o,f-s],g=0,v=[i,a].map(function(y,w){return y.l===f?y.map(function(b){return b.s}):y.map(function(b,B){return g=B&&h[w]&&b.l>=d[w],h[w]-=g?1:0,g?b.ss:[b.s]}).flat()});return v[0].length===v[1].length?v:as(v[0],v[1],f,r+1)}function zl(t,e,n,r,i,a,o,s){return 3*((s-e)*(n+i)-(o-t)*(r+a)+r*(t-i)-n*(e-a)+s*(i+t/3)-o*(a+e/3))/20}function Op(t){var e=0,n=0,r=0;return ai(t).map(function(i){var a;switch(i[0]){case"M":return e=i[1],n=i[2],0;default:var o=i.slice(1),s=o[0],A=o[1],c=o[2],l=o[3],u=o[4],f=o[5];return r=zl(e,n,s,A,c,l,u,f),a=i.slice(-2),e=a[0],n=a[1],r}}).reduce(function(i,a){return i+a},0)}function Wl(t){return Op(t)>=0}function Ep(t){var e=t.slice(1).map(function(n,r,i){return r?i[r-1].slice(-2).concat(n.slice(1)):t[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,i){return n[n.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(n){return["C"].concat(n.slice(2))}))}function Ud(t){return t.map(function(e){return Array.isArray(e)?[].concat(e):e})}function Sp(t){var e=t.length,n=e-1;return t.map(function(r,i){return t.map(function(a,o){var s=i+o,A;return o===0||t[s]&&t[s][0]==="M"?(A=t[s],["M"].concat(A.slice(-2))):(s>=e&&(s-=n),t[s])})})}function Pd(t,e){var n=t.length-1,r=[],i=0,a=0,o=Sp(t);return o.forEach(function(s,A){t.slice(1).forEach(function(c,l){a+=Na(t[(A+l)%n].slice(-2),e[l%n].slice(-2))}),r[A]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}var Rd=function(t){return t===void 0},_n=Rd,Mp={}.toString,ks=function(t,e){return Mp.call(t)==="[object "+e+"]"},tf=ks,Nd=function(t){return tf(t,"Boolean")},Hc=Nd;function hi(t){return typeof t=="function"}var Vl=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function Q0(t,e,n){return Bp(t,e,Tt(Tt({},n),{bbox:!1,length:!0})).point}var Ae=Ft(4942),jc=Ft(61120);function ef(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=(0,jc.Z)(t))!==null;);return t}function nf(){return nf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=ef(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},nf.apply(null,arguments)}function Gc(t,e,n,r){var i=nf((0,jc.Z)(1&r?t.prototype:t),e,n);return 2&r&&typeof i=="function"?function(a){return i.apply(n,a)}:i}var da=Ft(30907);function br(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function Zl(t,e){var n=Math.min.apply(Math,(0,tn.Z)(t)),r=Math.min.apply(Math,(0,tn.Z)(e)),i=Math.max.apply(Math,(0,tn.Z)(t)),a=Math.max.apply(Math,(0,tn.Z)(e));return{x:n,y:r,width:i-n,height:a-r}}function Dd(t){return(t+Math.PI*2)%(Math.PI*2)}function Yl(t,e){var n=Math.abs(t);return e>0?n:n*-1}function Ts(t,e,n,r,i,a){var o=n,s=r;if(o===0||s===0)return{x:t,y:e};for(var A=i-t,c=a-e,l=Math.abs(A),u=Math.abs(c),f=o*o,d=s*s,h=Math.PI/4,g=0,v=0,y=0;y<4;y++){g=o*Math.cos(h),v=s*Math.sin(h);var w=(f-d)*Math.pow(Math.cos(h),3)/o,b=(d-f)*Math.pow(Math.sin(h),3)/s,B=g-w,E=v-b,S=l-w,F=u-b,k=Math.hypot(E,B),T=Math.hypot(F,S),L=k*Math.asin((B*F-E*S)/(k*T)),P=L/Math.sqrt(f+d-g*g-v*v);h+=P,h=Math.min(Math.PI/2,Math.max(0,h))}return{x:t+Yl(g,A),y:e+Yl(v,c)}}function Hd(t,e,n,r,i,a,o,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}function jd(t,e,n,r,i,a,o,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}function U0(t,e,n){return Math.atan(-e/t*Math.tan(n))}function Fp(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function tc(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function os(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function Gd(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+Math.PI*2)%(Math.PI*2)}function Kc(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function Kd(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}function rf(t,e,n,r,i,a,o){for(var s=U0(n,r,i),A=1/0,c=-1/0,l=[a,o],u=-Math.PI*2;u<=Math.PI*2;u+=Math.PI){var f=s+u;a<o?a<f&&f<o&&l.push(f):o<f&&f<a&&l.push(f)}for(var d=0;d<l.length;d++){var h=tc(t,e,n,r,i,l[d]);h<A&&(A=h),h>c&&(c=h)}for(var g=Fp(n,r,i),v=1/0,y=-1/0,w=[a,o],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var B=g+b;a<o?a<B&&B<o&&w.push(B):o<B&&B<a&&w.push(B)}for(var E=0;E<w.length;E++){var S=os(t,e,n,r,i,w[E]);S<v&&(v=S),S>y&&(y=S)}return{x:A,y:v,width:c-A,height:y-v}}function P0(t,e,n,r,i,a,o,s,A){var c=Kd(s-t,A-e,-i),l=_slicedToArray(c,2),u=l[0],f=l[1],d=Ts(0,0,n,r,u,f),h=Gd(n,r,d.x,d.y);h<a?d=Kc(n,r,a):h>o&&(d=Kc(n,r,o));var g=Kd(d.x,d.y,i);return{x:g[0]+t,y:g[1]+e}}function zd(t,e,n,r,i,a,o,s){var A=(o-a)*s+a,c=Hd(t,e,n,r,i,a,o,A),l=jd(t,e,n,r,i,a,o,A);return Dd(Math.atan2(l,c))}var af=1e-4;function ec(t,e,n,r,i,a){var o=-1,s=1/0,A=[n,r],c=20;a&&a>200&&(c=a/10);for(var l=1/c,u=l/10,f=0;f<=c;f++){var d=f*l,h=[i.apply(void 0,(0,tn.Z)(t.concat([d]))),i.apply(void 0,(0,tn.Z)(e.concat([d])))],g=br(A[0],A[1],h[0],h[1]);g<s&&(o=d,s=g)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var v=t.length;return{x:t[v-1],y:e[v-1]}}s=1/0;for(var y=0;y<32&&!(u<af);y++){var w=o-u,b=o+u,B=[i.apply(void 0,(0,tn.Z)(t.concat([w]))),i.apply(void 0,(0,tn.Z)(e.concat([w])))],E=br(A[0],A[1],B[0],B[1]);if(w>=0&&E<s)o=w,s=E;else{var S=[i.apply(void 0,(0,tn.Z)(t.concat([b]))),i.apply(void 0,(0,tn.Z)(e.concat([b])))],F=br(A[0],A[1],S[0],S[1]);b<=1&&F<s?(o=b,s=F):u*=.5}}return{x:i.apply(void 0,(0,tn.Z)(t.concat([o]))),y:i.apply(void 0,(0,tn.Z)(e.concat([o])))}}function kp(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var a=t[i],o=e[i],s=t[(i+1)%r],A=e[(i+1)%r];n+=br(a,o,s,A)}return n/2}function Tp(t,e,n,r){return Zl([t,n],[e,r])}function nc(t,e,n,r){return br(t,e,n,r)}function Ao(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function of(t,e,n,r,i,a){var o=(n-t)*(i-t)+(r-e)*(a-e);if(o<0)return br(t,e,i,a);var s=(n-t)*(n-t)+(r-e)*(r-e);return o>s?br(n,r,i,a):Ip(t,e,n,r,i,a)}function Ip(t,e,n,r,i,a){var o=[n-t,r-e];if(B0(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];oo(s,s);var A=[i-t,a-e];return Math.abs(On(A,s))}function sf(t,e,n,r){return Math.atan2(r-e,n-t)}function Ki(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function Af(t,e,n,r,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(n-e)+i*i*(r-n))}function cf(t,e,n,r){var i=-3*t+9*e-9*n+3*r,a=6*t-12*e+6*n,o=3*e-3*t,s=[],A,c,l;if(on(i,0))on(a,0)||(A=-o/a,A>=0&&A<=1&&s.push(A));else{var u=a*a-4*i*o;on(u,0)?s.push(-a/(2*i)):u>0&&(l=Math.sqrt(u),A=(-a+l)/(2*i),c=(-a-l)/(2*i),A>=0&&A<=1&&s.push(A),c>=0&&c<=1&&s.push(c))}return s}function R0(t,e,n,r,i,a,o,s,A){var c=Ki(t,n,i,o,A),l=Ki(e,r,a,s,A),u=Ao(t,e,n,r,A),f=Ao(n,r,i,a,A),d=Ao(i,a,o,s,A),h=Ao(u.x,u.y,f.x,f.y,A),g=Ao(f.x,f.y,d.x,d.y,A);return[[t,e,u.x,u.y,h.x,h.y,c,l],[c,l,g.x,g.y,d.x,d.y,o,s]]}function $l(t,e,n,r,i,a,o,s,A){if(A===0)return kp([t,n,i,o],[e,r,a,s]);var c=R0(t,e,n,r,i,a,o,s,.5),l=[].concat(_toConsumableArray(c[0]),[A-1]),u=[].concat(_toConsumableArray(c[1]),[A-1]);return $l.apply(void 0,_toConsumableArray(l))+$l.apply(void 0,_toConsumableArray(u))}function Lp(t,e,n,r,i,a,o,s){for(var A=[t,o],c=[e,s],l=cf(t,n,i,o),u=cf(e,r,a,s),f=0;f<l.length;f++)A.push(Ki(t,n,i,o,l[f]));for(var d=0;d<u.length;d++)c.push(Ki(e,r,a,s,u[d]));return Zl(A,c)}function Dm(t,e,n,r,i,a,o,s){return $l(t,e,n,r,i,a,o,s,3)}function Is(t,e,n,r,i,a,o,s,A,c,l){return ec([t,n,i,o],[e,r,a,s],A,c,Ki,l)}function Ls(t,e,n,r,i,a,o,s,A,c,l){var u=Is(t,e,n,r,i,a,o,s,A,c,l);return br(u.x,u.y,A,c)}function Wd(t,e,n,r,i,a,o,s,A){return{x:Ki(t,n,i,o,A),y:Ki(e,r,a,s,A)}}function $r(t,e,n,r,i,a,o,s,A){var c=Af(t,n,i,o,A),l=Af(e,r,a,s,A);return Dd(Math.atan2(l,c))}function Uo(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],a=t[r+1],o=br(i[0],i[1],a[0],a[1]),s={from:i,to:a,length:o};n.push(s),e+=o}return{segments:n,totalLength:e}}function co(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=br(r[0],r[1],i[0],i[1])}return e}function Re(t,e){if(e>1||e<0||t.length<2)return null;var n=Uo(t),r=n.segments,i=n.totalLength;if(i===0)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var A=r[s],c=A.from,l=A.to,u=A.length/i;if(e>=a&&e<=a+u){var f=(e-a)/u;o=Ao(c[0],c[1],l[0],l[1],f);break}a+=u}return o}function lo(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Uo(t),r=n.segments,i=n.totalLength,a=0,o=0,s=0;s<r.length;s++){var A=r[s],c=A.from,l=A.to,u=A.length/i;if(e>=a&&e<=a+u){o=Math.atan2(l[1]-c[1],l[0]-c[0]);break}a+=u}return o}function uA(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var a=t[i],o=t[i+1],s=of(a[0],a[1],o[0],o[1],e,n);s<r&&(r=s)}return r}function Ma(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return Zl(e,n)}function Qp(t){return co(t)}function Vd(t,e){return Re(t,e)}function Up(t,e,n){return uA(t,e,n)}function Ji(t,e){return lo(t,e)}function fA(t){var e=t.slice(0);return t.length&&e.push(t[0]),e}function N0(t){return Ma(t)}function Pp(t){return co(fA(t))}function lf(t,e){return Re(fA(t),e)}function D0(t,e,n){return uA(fA(t),e,n)}function Hm(t,e){return lo(fA(t),e)}function Xl(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Rp(t,e,n){var r=t+n-2*e;if(on(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Qs(t,e,n,r,i,a,o){var s=Xl(t,n,i,o),A=Xl(e,r,a,o),c=Ao(t,e,n,r,o),l=Ao(n,r,i,a,o);return[[t,e,c.x,c.y,s,A],[s,A,l.x,l.y,i,a]]}function _i(t,e,n,r,i,a,o){if(o===0)return(br(t,e,n,r)+br(n,r,i,a)+br(t,e,i,a))/2;var s=Qs(t,e,n,r,i,a,.5),A=s[0],c=s[1];return A.push(o-1),c.push(o-1),_i.apply(void 0,_toConsumableArray(A))+_i.apply(void 0,_toConsumableArray(c))}function Zd(t,e,n,r,i,a){var o=Rp(t,n,i)[0],s=Rp(e,r,a)[0],A=[t,i],c=[e,a];return o!==void 0&&A.push(Xl(t,n,i,o)),s!==void 0&&c.push(Xl(e,r,a,s)),Zl(A,c)}function jm(t,e,n,r,i,a){return _i(t,e,n,r,i,a,3)}function Yd(t,e,n,r,i,a,o,s){return ec([t,n,i],[e,r,a],o,s,Xl)}function H0(t,e,n,r,i,a,o,s){var A=Yd(t,e,n,r,i,a,o,s);return br(A.x,A.y,o,s)}var ha=Ft(55850),ja=Ft(15861),Po=Ft(37762),uo=Ft(91);var St=function(t){return t.GROUP="g",t.FRAGMENT="fragment",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh",t}({}),uf=function(t){return t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE",t}({}),ss=function(){function t(){(0,Qt.Z)(this,t),this.plugins=[]}return(0,Pt.Z)(t,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var i=n.context.renderingPlugins.indexOf(r);i>=0&&n.context.renderingPlugins.splice(i,1)})}}])}(),j0=function(){function t(e){(0,Qt.Z)(this,t),this.clipSpaceNearZ=uf.NEGATIVE_ONE,this.plugins=[],this.config=(0,We.Z)({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},e)}return(0,Pt.Z)(t,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])}(),ff=Ba,rc=ba,G0=Jf,$d=qf,ql=ln,ic=Bt,Rr=function(){function t(){(0,Qt.Z)(this,t),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){rc(this.center,n),rc(this.halfExtents,r),ic(this.min,this.center,this.halfExtents),ff(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){ff(this.center,r,n),ql(this.center,this.center,.5),ic(this.halfExtents,r,n),ql(this.halfExtents,this.halfExtents,.5),rc(this.min,n),rc(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!t.isEmpty(n)){if(t.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,A=s[0],c=s[1],l=s[2],u=i-A,f=i+A,d=a-c,h=a+c,g=o-l,v=o+l,y=n.center,w=y[0],b=y[1],B=y[2],E=n.halfExtents,S=E[0],F=E[1],k=E[2],T=w-S,L=w+S,P=b-F,R=b+F,U=B-k,N=B+k;T<u&&(u=T),L>f&&(f=L),P<d&&(d=P),R>h&&(h=R),U<g&&(g=U),N>v&&(v=N),r[0]=(u+f)*.5,r[1]=(d+h)*.5,r[2]=(g+v)*.5,s[0]=(f-u)*.5,s[1]=(h-d)*.5,s[2]=(v-g)*.5,this.min[0]=u,this.min[1]=d,this.min[2]=g,this.max[0]=f,this.max[1]=h,this.max[2]=v}}},{key:"setFromTransformedAABB",value:function(n,r){var i=this.center,a=this.halfExtents,o=n.center,s=n.halfExtents,A=r[0],c=r[4],l=r[8],u=r[1],f=r[5],d=r[9],h=r[2],g=r[6],v=r[10],y=Math.abs(A),w=Math.abs(c),b=Math.abs(l),B=Math.abs(u),E=Math.abs(f),S=Math.abs(d),F=Math.abs(h),k=Math.abs(g),T=Math.abs(v);i[0]=r[12]+A*o[0]+c*o[1]+l*o[2],i[1]=r[13]+u*o[0]+f*o[1]+d*o[2],i[2]=r[14]+h*o[0]+g*o[1]+v*o[2],a[0]=y*s[0]+w*s[1]+b*s[2],a[1]=B*s[0]+E*s[1]+S*s[2],a[2]=F*s[0]+k*s[1]+T*s[2],ic(this.min,i,a),ff(this.max,i,a)}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),a=n.getMax(),o=n.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new t,i=G0([0,0,0],this.getMin(),n.getMin()),a=$d([0,0,0],this.getMax(),n.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?rc([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?rc([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])}(),Np=function(){function t(e,n){(0,Qt.Z)(this,t),this.distance=e||0,this.normal=n||vn(0,1,0),this.updatePNVertexFlag()}return(0,Pt.Z)(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return xa(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/zt(this.normal);ln(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var a=this.distanceToPoint(n),o=this.distanceToPoint(r),s=a/(a-o),A=s>=0&&s<=1;return A&&i&&wl(i,n,r,s),A}}])}(),oe=function(t){return t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE",t}({}),Us=function(){function t(e){if((0,Qt.Z)(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new Np)}return(0,Pt.Z)(t,[{key:"extractFromVPMatrix",value:function(n){var r=(0,Ge.Z)(n,16),i=r[0],a=r[1],o=r[2],s=r[3],A=r[4],c=r[5],l=r[6],u=r[7],f=r[8],d=r[9],h=r[10],g=r[11],v=r[12],y=r[13],w=r[14],b=r[15];ri(this.planes[0].normal,s-i,u-A,g-f),this.planes[0].distance=b-v,ri(this.planes[1].normal,s+i,u+A,g+f),this.planes[1].distance=b+v,ri(this.planes[2].normal,s+a,u+c,g+d),this.planes[2].distance=b+y,ri(this.planes[3].normal,s-a,u-c,g-d),this.planes[3].distance=b-y,ri(this.planes[4].normal,s-o,u-l,g-h),this.planes[4].distance=b-w,ri(this.planes[5].normal,s+o,u+l,g+h),this.planes[5].distance=b+w,this.planes.forEach(function(B){B.normalize(),B.updatePNVertexFlag()})}}])}(),oi=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(0,Qt.Z)(this,t),this.x=0,this.y=0,this.x=e,this.y=n}return(0,Pt.Z)(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])}(),Br=function(){function t(e,n,r,i){(0,Qt.Z)(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.left=e,this.right=e+r,this.top=n,this.bottom=n+i}return(0,Pt.Z)(t,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new t(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var i=le(n.x,n.y,0,1),a=le(n.x+n.width,n.y,0,1),o=le(n.x,n.y+n.height,0,1),s=le(n.x+n.width,n.y+n.height,0,1),A=Dt(),c=Dt(),l=Dt(),u=Dt();Bs(A,i,r),Bs(c,a,r),Bs(l,o,r),Bs(u,s,r);var f=Math.min(A[0],c[0],l[0],u[0]),d=Math.min(A[1],c[1],l[1],u[1]),h=Math.max(A[0],c[0],l[0],u[0]),g=Math.max(A[1],c[1],l[1],u[1]);return t.fromRect({x:f,y:d,width:h-f,height:g-d})}}])}(),Fn="Method not implemented.",kn="Use document.documentElement instead.",Mr="Cannot append a destroyed element.";function Ps(t){return t===void 0?0:t>360||t<-360?t%360:t}var Xd=Ue();function zi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(t)&&t.length===3?r?Pi(t):ba(Xd,t):rr(t)?r?vn(t,e,n):ri(Xd,t,e,n):r?vn(t[0],t[1]||e,t[2]||n):ri(Xd,t[0],t[1]||e,t[2]||n)}var K0=Math.PI/180;function Qn(t){return t*K0}var z0=180/Math.PI;function fo(t){return t*z0}var Dp=.9;function Gm(t){return t%=400,t<0&&(t+=400),t*Dp}function W0(t){return t/360}function V0(t){return 360*t}var zc=Math.PI/2;function qd(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n,s=r*r,A=i*i,c=a*a,l=o+s+A+c,u=n*a-r*i;return u>.499995*l?(t[0]=zc,t[1]=2*Math.atan2(r,n),t[2]=0):u<-.499995*l?(t[0]=-zc,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-a*r)),t[1]=Math.atan2(2*(n*a+r*i),1-2*(A+c)),t[2]=Math.atan2(2*(n*r+i*a),1-2*(s+A))),t}function df(t,e){var n,r,i=tA(Ue(),e),a=(0,Ge.Z)(i,3),o=a[0],s=a[1],A=a[2],c=Math.asin(-e[2]/o);return c<zc?c>-zc?(n=Math.atan2(e[6]/s,e[10]/A),r=Math.atan2(e[1]/o,e[0]/o)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=c,t[2]=r,t}function hf(t,e){return e.length===16?df(t,e):qd(t,e)}function Z0(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t);return WA(r*a,i*o,0,-r*o,i*a,0,e,n,1)}function Hp(t,e,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,A=2*a,c=n-e,l=r-i,u=A/c,f=A/l,d=(n+e)/c,h=(r+i)/l,g,v,y=o-a,w=o*a;return s?(g=-o/y,v=-w/y):(g=-(o+a)/y,v=-2*w/y),t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=d,t[9]=h,t[10]=g,t[11]=-1,t[12]=0,t[13]=0,t[14]=v,t[15]=0,t}function Jd(t){var e=t[0],n=t[1],r=t[3],i=t[4],a=Math.sqrt(e*e+n*n),o=Math.sqrt(r*r+i*i),s=e*i-n*r;if(s<0&&(e<i?a=-a:o=-o),a){var A=1/a;e*=A,n*=A}if(o){var c=1/o;r*=c,i*=c}var l=Math.atan2(n,e),u=fo(l);return[t[6],t[7],a,o,u]}var As=nr(),Ro=nr(),dA=Dt(),Le=[Ue(),Ue(),Ue()],th=Ue();function pf(t,e,n,r,i,a){if(!ho(As,t)||(KA(Ro,As),Ro[3]=0,Ro[7]=0,Ro[11]=0,Ro[15]=1,Math.abs(Ya(Ro))<1e-8))return!1;var o=As[3],s=As[7],A=As[11],c=As[12],l=As[13],u=As[14],f=As[15];if(o!==0||s!==0||A!==0){dA[0]=o,dA[1]=s,dA[2]=A,dA[3]=f;var d=Pa(Ro,Ro);if(!d)return!1;Cs(Ro,Ro),Bs(i,dA,Ro)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=c,e[1]=l,e[2]=u,Y0(Le,As),n[0]=ca(Le[0]),no(Le[0],Le[0]),r[0]=xa(Le[0],Le[1]),Jl(Le[1],Le[1],Le[0],1,-r[0]),n[1]=ca(Le[1]),no(Le[1],Le[1]),r[0]/=n[1],r[1]=xa(Le[0],Le[2]),Jl(Le[2],Le[2],Le[0],1,-r[1]),r[2]=xa(Le[1],Le[2]),Jl(Le[2],Le[2],Le[1],1,-r[2]),n[2]=ca(Le[2]),no(Le[2],Le[2]),r[1]/=n[2],r[2]/=n[2],Oc(th,Le[1],Le[2]),xa(Le[0],th)<0)for(var h=0;h<3;h++)n[h]*=-1,Le[h][0]*=-1,Le[h][1]*=-1,Le[h][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+Le[0][0]-Le[1][1]-Le[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-Le[0][0]+Le[1][1]-Le[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-Le[0][0]-Le[1][1]+Le[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+Le[0][0]+Le[1][1]+Le[2][2],0)),Le[2][1]>Le[1][2]&&(a[0]=-a[0]),Le[0][2]>Le[2][0]&&(a[1]=-a[1]),Le[1][0]>Le[0][1]&&(a[2]=-a[2]),!0}function ho(t,e){var n=e[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function Y0(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function Jl(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var Un=function(t){return t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING",t}({}),ac=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC",t}({}),po=function(t){return t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE",t}({}),oc={UPDATED:"updated"},jp=2e-4,Gp=function(){function t(){(0,Qt.Z)(this,t),this.clipSpaceNearZ=uf.NEGATIVE_ONE,this.eventEmitter=new Fu,this.matrix=nr(),this.right=vn(1,0,0),this.up=vn(0,1,0),this.forward=vn(0,0,1),this.position=vn(0,0,1),this.focalPoint=vn(0,0,0),this.distanceVector=vn(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=nr(),this.projectionMatrixInverse=nr(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Un.EXPLORING,this.trackingMode=ac.DEFAULT,this.projectionMode=po.PERSPECTIVE,this.frustum=new Us,this.orthoMatrix=nr()}return(0,Pt.Z)(t,[{key:"isOrtho",value:function(){return this.projectionMode===po.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===Un.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Un.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==Un.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Pa(nr(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var i=Js(nr(),[n,r,0]);this.jitteredProjectionMatrix=Ur(nr(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===po.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===po.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,i,a,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===po.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===po.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===po.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===po.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(n),this.rotate(0,0,s);var A=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=A.x,l=A.y,u=vn(c-a,l-o,0),f=xa(u,this.right)/ca(this.right),d=xa(u,this.up)/ca(this.up),h=this.getPosition(),g=(0,Ge.Z)(h,2),v=g[0],y=g[1],w=this.getFocalPoint(),b=(0,Ge.Z)(w,2),B=b[0],E=b[1];return this.setPosition(v-f,y-d),this.setFocalPoint(B-f,E-d),this}},{key:"setPerspective",value:function(n,r,i,a){var o;this.projectionMode=po.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=a;var s=this.near*Math.tan(Qn(.5*this.fov))/this.zoom,A=2*s,c=this.aspect*A,l=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var u=this.view.fullWidth,f=this.view.fullHeight;l+=this.view.offsetX*c/u,s-=this.view.offsetY*A/f,c*=this.view.width/u,A*=this.view.height/f}return Hp(this.projectionMatrix,l,l+c,s-A,s,n,this.far,this.clipSpaceNearZ===uf.ZERO),Pa(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,i,a,o,s){var A;this.projectionMode=po.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=a,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,d=u-c,h=u+c,g=f+l,v=f-l;if((A=this.view)!==null&&A!==void 0&&A.enabled){var y=(this.rright-this.left)/this.view.fullWidth/this.zoom,w=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=y*this.view.offsetX,h=d+y*this.view.width,g-=w*this.view.offsetY,v=g-w*this.view.height}return this.clipSpaceNearZ===uf.NEGATIVE_ONE?Es(this.projectionMatrix,d,h,g,v,o,s):Gn(this.projectionMatrix,d,h,g,v,o,s),Pa(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=zi(n,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=vn(0,1,0);if(this.focalPoint=zi(n,r,i),this.trackingMode===ac.CINEMATIC){var o=RA(Ue(),this.focalPoint,this.position);n=o[0],r=o[1],i=o[2];var s=ca(o),A=fo(Math.asin(r/s)),c=90+fo(Math.atan2(i,n)),l=nr();id(l,l,Qn(c)),rd(l,l,Qn(A)),a=Or(Ue(),[0,1,0],l)}return Pa(this.matrix,cd(nr(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<jp&&(this.distance=jp),this.dollyingStep=this.distance/100;var r=Ue();n=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=n*i[0]+a[0],r[1]=n*i[1]+a[1],r[2]=n*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=Ps(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=Ps(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=Ps(n),this.computeMatrix(),this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=io(fi(),[0,0,1],Qn(this.roll));_s(this.matrix);var r=io(fi(),[1,0,0],Qn((this.rotateWorld&&this.type!==Un.TRACKING||this.type===Un.TRACKING?1:-1)*this.elevation)),i=io(fi(),[0,1,0],Qn((this.rotateWorld&&this.type!==Un.TRACKING||this.type===Un.TRACKING?1:-1)*this.azimuth)),a=ao(fi(),i,r);a=ao(fi(),a,n);var o=sd(nr(),a);this.type===Un.ORBITING||this.type===Un.EXPLORING?(es(this.matrix,this.matrix,this.focalPoint),Ur(this.matrix,this.matrix,o),es(this.matrix,this.matrix,[0,0,this.distance])):this.type===Un.TRACKING&&(es(this.matrix,this.matrix,this.position),Ur(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,i){this.position=zi(n,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){ba(this.right,zi(Bs(Dt(),[1,0,0,0],this.matrix))),ba(this.up,zi(Bs(Dt(),[0,1,0,0],this.matrix))),ba(this.forward,zi(Bs(Dt(),[0,0,1,0],this.matrix))),no(this.right,this.right),no(this.up,this.up),no(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=ca(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===Un.TRACKING?(this.elevation=fo(Math.asin(r/a)),this.azimuth=fo(Math.atan2(-n,-i))):this.rotateWorld?(this.elevation=fo(Math.asin(r/a)),this.azimuth=fo(Math.atan2(-n,-i))):(this.elevation=-fo(Math.asin(r/a)),this.azimuth=-fo(Math.atan2(-n,-i)))}},{key:"_getPosition",value:function(){ba(this.position,zi(Bs(Dt(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){la(this.distanceVector,[0,0,-this.distance],mr(Sc(),this.matrix)),Ba(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=RA(Ue(),this.focalPoint,this.position),this.distance=ca(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===po.ORTHOGRAPHIC){var n=this.position,r=io(fi(),[0,0,1],-this.roll*Math.PI/180);xl(this.orthoMatrix,r,vn((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),vn(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=Ur(nr(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(oc.UPDATED)}}},{key:"rotate",value:function(n,r,i){throw new Error(Fn)}},{key:"pan",value:function(n,r){throw new Error(Fn)}},{key:"dolly",value:function(n){throw new Error(Fn)}},{key:"createLandmark",value:function(n,r){throw new Error(Fn)}},{key:"gotoLandmark",value:function(n,r){throw new Error(Fn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Fn)}}])}(),gf=function(t){return t[t.Standard=0]="Standard",t}({}),vf=function(t){return t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",t}({}),Kp=Ue(),tu=nr(),$0=fi();function zp(t){if(t.localDirtyFlag){var e=t.localSkew[0]!==0||t.localSkew[1]!==0;if(e){xl(t.localTransform,t.localRotation,t.localPosition,vn(1,1,1),t.origin),(t.localSkew[0]!==0||t.localSkew[1]!==0)&&(_s(tu),tu[4]=Math.tan(t.localSkew[0]),tu[1]=Math.tan(t.localSkew[1]),Ur(t.localTransform,t.localTransform,tu));var n=xl(tu,kc($0,0,0,0,1),ri(Kp,1,1,1),t.localScale,t.origin);Ur(t.localTransform,t.localTransform,n)}else{var r=t.localTransform,i=t.localPosition,a=t.localRotation,o=t.localScale,s=t.origin,A=i[0]!==0||i[1]!==0||i[2]!==0,c=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,l=o[0]!==1||o[1]!==1||o[2]!==1,u=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!l&&!u?A?Js(r,i):_s(r):xl(r,a,i,o,s)}t.localDirtyFlag=!1}}function X0(t,e){t.dirtyFlag&&(e?Ur(t.worldTransform,e.worldTransform,t.localTransform):KA(t.worldTransform,t.localTransform),t.dirtyFlag=!1)}var Wp={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Br(0,0,0,0)},Yt=function(t){return t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>",t}({});function eh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function eu(){}var nu=.7,yf=1/nu,Wc="\\s*([+-]?\\d+)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_=/^#([0-9a-f]{3,8})$/,x=new RegExp(`^rgb\\(${Wc},${Wc},${Wc}\\)$`),O=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),C=new RegExp(`^rgba\\(${Wc},${Wc},${Wc},${ru}\\)$`),I=new RegExp(`^rgba\\(${cs},${cs},${cs},${ru}\\)$`),H=new RegExp(`^hsl\\(${ru},${cs},${cs}\\)$`),$=new RegExp(`^hsla\\(${ru},${cs},${cs},${ru}\\)$`),rt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eh(eu,It,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nt,formatHex:nt,formatHex8:dt,formatHsl:yt,formatRgb:xt,toString:xt});function nt(){return this.rgb().formatHex()}function dt(){return this.rgb().formatHex8()}function yt(){return en(this).formatHsl()}function xt(){return this.rgb().formatRgb()}function It(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ge(e):n===3?new fe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$t(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$t(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=x.exec(t))?new fe(e[1],e[2],e[3],1):(e=O.exec(t))?new fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=C.exec(t))?$t(e[1],e[2],e[3],e[4]):(e=I.exec(t))?$t(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=H.exec(t))?Tn(e[1],e[2]/100,e[3]/100,1):(e=$.exec(t))?Tn(e[1],e[2]/100,e[3]/100,e[4]):rt.hasOwnProperty(t)?ge(rt[t]):t==="transparent"?new fe(NaN,NaN,NaN,0):null}function ge(t){return new fe(t>>16&255,t>>8&255,t&255,1)}function $t(t,e,n,r){return r<=0&&(t=e=n=NaN),new fe(t,e,n,r)}function ue(t){return t instanceof eu||(t=It(t)),t?(t=t.rgb(),new fe(t.r,t.g,t.b,t.opacity)):new fe}function sn(t,e,n,r){return arguments.length===1?ue(t):new fe(t,e,n,r==null?1:r)}function fe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}eh(fe,sn,Vp(eu,{brighter(t){return t=t==null?yf:Math.pow(yf,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nu:Math.pow(nu,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fe(ce(this.r),ce(this.g),ce(this.b),Xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ee,formatHex:Ee,formatHex8:Dn,formatRgb:dn,toString:dn}));function Ee(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}`}function Dn(){return`#${yn(this.r)}${yn(this.g)}${yn(this.b)}${yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function dn(){const t=Xe(this.opacity);return`${t===1?"rgb(":"rgba("}${ce(this.r)}, ${ce(this.g)}, ${ce(this.b)}${t===1?")":`, ${t})`}`}function Xe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ce(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yn(t){return t=ce(t),(t<16?"0":"")+t.toString(16)}function Tn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nr(t,e,n,r)}function en(t){if(t instanceof Nr)return new Nr(t.h,t.s,t.l,t.opacity);if(t instanceof eu||(t=It(t)),!t)return new Nr;if(t instanceof Nr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,A=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new Nr(o,s,A,t.opacity)}function pi(t,e,n,r){return arguments.length===1?en(t):new Nr(t,e,n,r==null?1:r)}function Nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}eh(Nr,pi,Vp(eu,{brighter(t){return t=t==null?yf:Math.pow(yf,t),new Nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nu:Math.pow(nu,t),new Nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fe(Ci(t>=240?t-240:t+120,i,r),Ci(t,i,r),Ci(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nr(Ga(this.h),zn(this.s),zn(this.l),Xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xe(this.opacity);return`${t===1?"hsl(":"hsla("}${Ga(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ga(t){return t=(t||0)%360,t<0?t+360:t}function zn(t){return Math.max(0,Math.min(1,t||0))}function Ci(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function ir(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e?e.apply(this,a):a[0],A=n.cache;if(A.has(s))return A.get(s);var c=t.apply(this,a);return n.cache=A.set(s,c)||A,c};return n.cache=new(ir.Cache||Map),ir.cacheList.push(n.cache),n}ir.Cache=Map,ir.cacheList=[],ir.clearCache=function(){ir.cacheList.forEach(function(t){return t.clear()})};var Kt=function(t){return t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger",t}({}),Fr=function(t){return t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther",t}({}),hA=function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t}({}),ls=function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t}({}),pA=[{name:"em",unit_type:Kt.kEms},{name:"px",unit_type:Kt.kPixels},{name:"deg",unit_type:Kt.kDegrees},{name:"rad",unit_type:Kt.kRadians},{name:"grad",unit_type:Kt.kGradians},{name:"ms",unit_type:Kt.kMilliseconds},{name:"s",unit_type:Kt.kSeconds},{name:"rem",unit_type:Kt.kRems},{name:"turn",unit_type:Kt.kTurns}],go=function(t){return t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType",t}({}),sc=function(e){return pA.find(function(n){return n.name===e}).unit_type},vo=function(e){return e?e==="number"?Kt.kNumber:e==="percent"||e==="%"?Kt.kPercentage:sc(e):Kt.kUnknown},Ac=function(e){switch(e){case Kt.kNumber:case Kt.kInteger:return Fr.kUNumber;case Kt.kPercentage:return Fr.kUPercent;case Kt.kPixels:return Fr.kULength;case Kt.kMilliseconds:case Kt.kSeconds:return Fr.kUTime;case Kt.kDegrees:case Kt.kRadians:case Kt.kGradians:case Kt.kTurns:return Fr.kUAngle;default:return Fr.kUOther}},Rs=function(e){switch(e){case Fr.kUNumber:return Kt.kNumber;case Fr.kULength:return Kt.kPixels;case Fr.kUPercent:return Kt.kPercentage;case Fr.kUTime:return Kt.kSeconds;case Fr.kUAngle:return Kt.kDegrees;default:return Kt.kUnknown}},cc=function(e){var n=1;switch(e){case Kt.kPixels:case Kt.kDegrees:case Kt.kSeconds:break;case Kt.kMilliseconds:n=.001;break;case Kt.kRadians:n=180/Math.PI;break;case Kt.kGradians:n=.9;break;case Kt.kTurns:n=360;break}return n},lc=function(e){switch(e){case Kt.kNumber:case Kt.kInteger:return"";case Kt.kPercentage:return"%";case Kt.kEms:return"em";case Kt.kRems:return"rem";case Kt.kPixels:return"px";case Kt.kDegrees:return"deg";case Kt.kRadians:return"rad";case Kt.kGradians:return"grad";case Kt.kMilliseconds:return"ms";case Kt.kSeconds:return"s";case Kt.kTurns:return"turn"}return""},Zp=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"toString",value:function(){return this.buildCSSText(hA.kNo,ls.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=go.kUnitType&&this.getType()<=go.kClampType}}],[{key:"isAngle",value:function(n){return n===Kt.kDegrees||n===Kt.kRadians||n===Kt.kGradians||n===Kt.kTurns}},{key:"isLength",value:function(n){return n>=Kt.kEms&&n<Kt.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===Kt.kPercentage||n===Kt.kEms||n===Kt.kRems}},{key:"isTime",value:function(n){return n===Kt.kSeconds||n===Kt.kMilliseconds}}])}(),ZB=function(t){function e(n){var r;return(0,Qt.Z)(this,e),r=(0,je.Z)(this,e),r.colorSpace=n,r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"getType",value:function(){return go.kColorType}},{key:"to",value:function(r){return this}}])}(Zp),Vc=function(t){return t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient",t}({}),Yp=function(t){function e(n,r){var i;return(0,Qt.Z)(this,e),i=(0,je.Z)(this,e),i.type=n,i.value=r,i}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return go.kColorType}}])}(Zp),us=function(t){function e(n){var r;return(0,Qt.Z)(this,e),r=(0,je.Z)(this,e),r.value=n,r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return go.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])}(Zp),YB=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(e)?r="NaN":e>0?r="infinity":r="-infinity",r+=n},q0=function(e){return Rs(Ac(e))},Yn=function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt.kNumber;(0,Qt.Z)(this,e),r=(0,je.Z)(this,e);var a;return typeof i=="string"?a=vo(i):a=i,r.unit=a,r.value=n,r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return go.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new e(this.value,this.unit);var i=q0(this.unit);if(i!==q0(r)||i===Kt.kUnknown)return null;var a=cc(this.unit)/cc(r);return new e(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case Kt.kUnknown:break;case Kt.kInteger:o=Number(this.value).toFixed(0);break;case Kt.kNumber:case Kt.kPercentage:case Kt.kEms:case Kt.kRems:case Kt.kPixels:case Kt.kDegrees:case Kt.kRadians:case Kt.kGradians:case Kt.kMilliseconds:case Kt.kSeconds:case Kt.kTurns:{var s=-999999,A=999999,c=this.value,l=lc(this.unit);if(c<s||c>A){var u=lc(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=YB(c,u):o=c+(u||"")}else o="".concat(c).concat(l)}}return a+=o,a}}])}(Zp),Ns=new Yn(0,"px");new Yn(1,"px");var Zc=new Yn(0,"deg"),$p=function(t){function e(n,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return(0,Qt.Z)(this,e),a=(0,je.Z)(this,e,["rgb"]),a.r=n,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(ZB),Xp=new us("unset"),Km=new us("initial"),zm=new us("inherit"),qp={"":Xp,unset:Xp,initial:Km,inherit:zm},Wm=function(e){return qp[e]||(qp[e]=new us(e)),qp[e]},Vm=new $p(0,0,0,0,!0),Zm=new $p(0,0,0,0),$B=ir(function(t,e,n,r){return new $p(t,e,n,r)},function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}),xr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt.kNumber;return new Yn(e,n)};new Yn(50,"%");function Jp(t){var e=t.type,n=t.value;return e==="hex"?"#".concat(n):e==="literal"?n:e==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var XB=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(W){throw new Error("".concat(e,": ").concat(W))}function r(){var W=i();return e.length>0&&n("Invalid input not EOF"),W}function i(){return b(a)}function a(){return o("linear-gradient",t.linearGradient,A)||o("repeating-linear-gradient",t.repeatingLinearGradient,A)||o("radial-gradient",t.radialGradient,u)||o("repeating-radial-gradient",t.repeatingRadialGradient,u)||o("conic-gradient",t.conicGradient,u)}function o(W,D,G){return s(D,function(Y){var at=G();return at&&(j(t.comma)||n("Missing comma before color stops")),{type:W,orientation:at,colorStops:b(B)}})}function s(W,D){var G=j(W);if(G){j(t.startCall)||n("Missing (");var Y=D(G);return j(t.endCall)||n("Missing )"),Y}}function A(){return c()||l()}function c(){return N("directional",t.sideOrCorner,1)}function l(){return N("angular",t.angleValue,1)}function u(){var W,D=f(),G;return D&&(W=[],W.push(D),G=e,j(t.comma)&&(D=f(),D?W.push(D):e=G)),W}function f(){var W=d()||h();if(W)W.at=v();else{var D=g();if(D){W=D;var G=v();G&&(W.at=G)}else{var Y=y();Y&&(W={type:"default-radial",at:Y})}}return W}function d(){var W=N("shape",/^(circle)/i,0);return W&&(W.style=U()||g()),W}function h(){var W=N("shape",/^(ellipse)/i,0);return W&&(W.style=P()||g()),W}function g(){return N("extent-keyword",t.extentKeywords,1)}function v(){if(N("position",/^at/,0)){var W=y();return W||n("Missing positioning value"),W}}function y(){var W=w();if(W.x||W.y)return{type:"position",value:W}}function w(){return{x:P(),y:P()}}function b(W){var D=W(),G=[];if(D)for(G.push(D);j(t.comma);)D=W(),D?G.push(D):n("One extra comma");return G}function B(){var W=E();return W||n("Expected color definition"),W.length=P(),W}function E(){return F()||T()||k()||S()}function S(){return N("literal",t.literalColor,0)}function F(){return N("hex",t.hexColor,1)}function k(){return s(t.rgbColor,function(){return{type:"rgb",value:b(L)}})}function T(){return s(t.rgbaColor,function(){return{type:"rgba",value:b(L)}})}function L(){return j(t.number)[1]}function P(){return N("%",t.percentageValue,1)||R()||U()}function R(){return N("position-keyword",t.positionKeywords,1)}function U(){return N("px",t.pixelValue,1)||N("em",t.emValue,1)}function N(W,D,G){var Y=j(D);if(Y)return{type:W,value:Y[G]}}function j(W){var D=/^[\n\r\t\s]+/.exec(e);D&&z(D[0].length);var G=W.exec(e);return G&&z(G[0].length),G}function z(W){e=e.substring(W)}return function(W){return e=W,r()}}();function qB(t,e,n,r){var i=Qn(r.value),a=0,o=0,s=a+e/2,A=o+n/2,c=Math.abs(e*Math.cos(i))+Math.abs(n*Math.sin(i)),l=t[0]+s-Math.cos(i)*c/2,u=t[1]+A-Math.sin(i)*c/2,f=t[0]+s+Math.cos(i)*c/2,d=t[1]+A+Math.sin(i)*c/2;return{x1:l,y1:u,x2:f,y2:d}}function J0(t,e,n,r,i,a){var o=r.value,s=i.value;r.unit===Kt.kPercentage&&(o=r.value/100*e),i.unit===Kt.kPercentage&&(s=i.value/100*n);var A=Math.max(Na([0,0],[o,s]),Na([0,n],[o,s]),Na([e,n],[o,s]),Na([e,0],[o,s]));return a&&(a instanceof Yn?A=a.value:a instanceof us&&(a.value==="closest-side"?A=Math.min(o,e-o,s,n-s):a.value==="farthest-side"?A=Math.max(o,e-o,s,n-s):a.value==="closest-corner"&&(A=Math.min(Na([0,0],[o,s]),Na([0,n],[o,s]),Na([e,n],[o,s]),Na([e,0],[o,s]))))),{x:o+t[0],y:s+t[1],r:A}}var Ym=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,JB=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,tx=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,$m=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ex(t){var e,n=t.length;if(t[n-1].length=(e=t[n-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},n>1){var r;t[0].length=(r=t[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(t[0].length.value),o=1;o<n;o++){var s,A=(s=t[o].length)===null||s===void 0?void 0:s.value;if(!be(A)&&!be(a)){for(var c=1;c<o-i;c++)t[i+c].length={type:"%",value:"".concat(a+(Number(A)-a)*c/(o-i))};i=o,a=Number(A)}}}var nx={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},rx=ir(function(t){var e;return t.type==="angular"?e=Number(t.value):e=nx[t.value]||0,xr(e,"deg")}),ix=ir(function(t){var e=50,n=50,r="%",i="%";if((t==null?void 0:t.type)==="position"){var a=t.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?e=0:o.value==="center"?e=50:o.value==="right"?e=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?e=0:s.value==="center"?n=50:s.value==="right"?e=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,e=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,n=Number(s.value))}return{cx:xr(e,r),cy:xr(n,i)}}),ax=ir(function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var e=XB(t);return e.map(function(s){var A=s.type,c=s.orientation,l=s.colorStops;ex(l);var u=l.map(function(b){return{offset:xr(Number(b.length.value),"%"),color:Jp(b)}});if(A==="linear-gradient")return new Yp(Vc.LinearGradient,{angle:c?rx(c):Zc,steps:u});if(A==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var f=ix(c[0].at),d=f.cx,h=f.cy,g;if(c[0].style){var v=c[0].style,y=v.type,w=v.value;y==="extent-keyword"?g=Wm(w):g=xr(w,y)}return new Yp(Vc.RadialGradient,{cx:d,cy:h,size:g,steps:u})}})}var n=t[0];if(t[1]==="("||t[2]==="("){if(n==="l"){var r=Ym.exec(t);if(r){var i,a=((i=r[2].match($m))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new Yp(Vc.LinearGradient,{angle:xr(parseFloat(r[1]),"deg"),steps:a.map(function(s){var A=(0,Ge.Z)(s,2),c=A[0],l=A[1];return{offset:xr(Number(c)*100,"%"),color:l}})})]}}else if(n==="r"){var o=ox(t);if(o)if(fr(o))t=o;else return[new Yp(Vc.RadialGradient,o)]}else if(n==="p")return sx(t)}});function ox(t){var e=JB.exec(t);if(e){var n,r=((n=e[4].match($m))===null||n===void 0?void 0:n.map(function(i){return i.split(":")}))||[];return{cx:xr(50,"%"),cy:xr(50,"%"),steps:r.map(function(i){var a=(0,Ge.Z)(i,2),o=a[0],s=a[1];return{offset:xr(Number(o)*100,"%"),color:s}})}}return null}function sx(t){var e=tx.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function zS(t){return!!t.type&&!!t.value}function iu(t){return t&&!!t.image}function yo(t){return t&&!be(t.r)&&!be(t.g)&&!be(t.b)}var Yc=ir(function(t){if(iu(t))return(0,We.Z)({repetition:"repeat"},t);if(be(t)&&(t=""),t==="transparent")return Zm;if(t==="currentColor")t="black";else if(t==="none")return Vm;var e=ax(t);if(e)return e;var n=It(t),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),$B.apply(void 0,r)});function Ax(t,e){if(!(!yo(t)||!yo(e)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(n){var r=n.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(Gr(r[i],0,255));return r[3]=Gr(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Ds(t,e){if(be(e))return xr(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return xr(Number(e),"px");if("deg".search(t)>=0)return xr(Number(e),"deg")}var n=[];e=e.replace(t,function(i){return n.push(i),"U".concat(i)});var r="U(".concat(t.source,")");return n.map(function(i){return xr(Number(e.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var un=function(e){return Ds(new RegExp("px","g"),e)},cx=ir(un),mo=function(e){return Ds(new RegExp("%","g"),e)};ir(mo);var gi=function(e){return rr(e)||isFinite(Number(e))?xr(Number(e)||0,"px"):Ds(new RegExp("px|%|em|rem","g"),e)},tv=ir(gi),uc=function(e){return Ds(new RegExp("deg|rad|grad|turn","g"),e)},lx=ir(uc);function ux(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=t.value||0,s=e.value||0,A=q0(t.unit),c=t.convertTo(A),l=e.convertTo(A);return c&&l?(o=c.value,s=l.value,a=lc(t.unit)):(Yn.isLength(t.unit)||Yn.isLength(e.unit))&&(o=No(t,i,n),s=No(e,i,n),a="px"),[o,s,function(u){return r&&(u=Math.max(u,0)),u+a}]}function wo(t){var e=0;return t.unit===Kt.kDegrees?e=t.value:t.unit===Kt.kRadians?e=fo(Number(t.value)):t.unit===Kt.kTurns?e=V0(Number(t.value)):t.value&&(e=t.value),e}function Xm(t,e){var n;return Array.isArray(t)?n=t.map(function(r){return Number(r)}):fr(t)?n=t.split(" ").map(function(r){return Number(r)}):rr(t)&&(n=[t]),e===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:e===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:e==="even"&&n.length%2===1?[].concat((0,tn.Z)(n),(0,tn.Z)(n)):n}function No(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.unit===Kt.kPixels)return Number(t.value);if(t.unit===Kt.kPercentage&&n){var i=n.nodeName===St.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[e]:0)+t.value/100*i.halfExtents[e]*2}return 0}var ev=function(e){return Ds(/deg|rad|grad|turn|px|%/g,e)},fx=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function fc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(t=t.toLowerCase().trim(),t==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,i=0;r=e.exec(t);){if(r.index!==i)return[];if(i=r.index+r[0].length,fx.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(a){return ev(a)||Yc(a)})}),e.lastIndex===t.length)return n}return[]}function nv(t){return t.toString()}var nh=function(e){return typeof e=="number"?xr(e):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e)?xr(Number(e)):xr(0)},zr=ir(nh);ir(function(t){return fr(t)?t.split(" ").map(zr):t.map(zr)});function Xr(t,e){return[t,e,nv]}function tg(t,e){return function(n,r){return[n,r,function(i){return nv(Gr(i,t,e))}]}}function qm(t,e){if(t.length===e.length)return[t,e,function(n){return n}]}function rv(t){return t.parsedStyle.d.totalLength===0&&(t.parsedStyle.d.totalLength=Da(t.parsedStyle.d.absolutePath)),t.parsedStyle.d.totalLength}function dx(t){return t.parsedStyle.points.totalLength===0&&(t.parsedStyle.points.totalLength=Qp(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function hx(t){for(var e=0;e<t.length;e++){var n=t[e-1],r=t[e],i=r[0];if(i==="M"&&n){var a=n[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[n[1],n[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&rh(o,s)&&(t.splice(e,1),e--)}}}function px(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function gx(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var a=t[i],o=a[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(e.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function rh(t,e){return t[0]===e[0]&&t[1]===e[1]}function ih(t,e){for(var n=[],r=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,A=o.params,c=o.prePoint,l=void 0;switch(o.command){case"Q":l=Zd(c[0],c[1],A[1],A[2],A[3],A[4]);break;case"C":l=Lp(c[0],c[1],A[1],A[2],A[3],A[4],A[5],A[6]);break;case"A":var u=o.arcParams;l=rf(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}l&&(o.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&i.push(o)}n=n.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0}),r=r.filter(function(B){return!Number.isNaN(B)&&B!==1/0&&B!==-1/0});var f=Nc(n),d=Nc(r),h=$u(n),g=$u(r);if(i.length===0)return{x:f,y:d,width:h-f,height:g-d};for(var v=0;v<i.length;v++){var y=i[v],w=y.currentPoint,b=void 0;w[0]===f?(b=mf(y,e),f-=b.xExtra):w[0]===h&&(b=mf(y,e),h+=b.xExtra),w[1]===d?(b=mf(y,e),d-=b.yExtra):w[1]===g&&(b=mf(y,e),g+=b.yExtra)}return{x:f,y:d,width:h-f,height:g-d}}function mf(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),A=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!A||Math.sin(A)===0||on(A,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),l=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l;var u={xExtra:Math.cos(A/2-c)*(e/2*(1/Math.sin(A/2)))-e/2||0,yExtra:Math.cos(l-A/2)*(e/2*(1/Math.sin(A/2)))-e/2||0};return u}function Jm(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var iv=function(e,n){var r=e.x*n.x+e.y*n.y,i=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),a=e.x*n.y-e.y*n.x<0?-1:1,o=a*Math.acos(r/i);return o},ah=function(e,n,r,i,a,o,s,A){n=Math.abs(n),r=Math.abs(r),i=xp(i,360);var c=Qn(i);if(e.x===s.x&&e.y===s.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var l=(e.x-s.x)/2,u=(e.y-s.y)/2,f={x:Math.cos(c)*l+Math.sin(c)*u,y:-Math.sin(c)*l+Math.cos(c)*u},d=Math.pow(f.x,2)/Math.pow(n,2)+Math.pow(f.y,2)/Math.pow(r,2);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var h=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(f.y,2)-Math.pow(r,2)*Math.pow(f.x,2),g=Math.pow(n,2)*Math.pow(f.y,2)+Math.pow(r,2)*Math.pow(f.x,2),v=h/g;v=v<0?0:v;var y=(a!==o?1:-1)*Math.sqrt(v),w={x:y*(n*f.y/r),y:y*(-(r*f.x)/n)},b={x:Math.cos(c)*w.x-Math.sin(c)*w.y+(e.x+s.x)/2,y:Math.sin(c)*w.x+Math.cos(c)*w.y+(e.y+s.y)/2},B={x:(f.x-w.x)/n,y:(f.y-w.y)/r},E=iv({x:1,y:0},B),S={x:(-f.x-w.x)/n,y:(-f.y-w.y)/r},F=iv(B,S);!o&&F>0?F-=2*Math.PI:o&&F<0&&(F+=2*Math.PI),F%=2*Math.PI;var k=E+F*A,T=n*Math.cos(k),L=r*Math.sin(k),P={x:Math.cos(c)*T-Math.sin(c)*L+b.x,y:Math.sin(c)*T+Math.cos(c)*L+b.y,ellipticalArcStartAngle:E,ellipticalArcEndAngle:E+F,ellipticalArcAngle:k,ellipticalArcCenter:b,resultantRx:n,resultantRy:r};return P};function Do(t){for(var e=[],n=null,r=null,i=null,a=0,o=t.length,s=0;s<o;s++){var A=t[s];r=t[s+1];var c=A[0],l={command:c,prePoint:n,params:A,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[A[1],A[2]],a=s;break;case"A":var u=vx(n,A);l.arcParams=u;break}if(c==="Z")n=i,r=t[a+1];else{var f=A.length;n=[A[f-2],A[f-1]]}r&&r[0]==="Z"&&(r=t[a],e[a]&&(e[a].prePoint=n)),l.currentPoint=n,e[a]&&rh(n,e[a].currentPoint)&&(e[a].prePoint=l.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=d;var h=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[h[0]-n[0],h[1]-n[1]],l.endTangent=[n[0]-h[0],n[1]-h[1]];else if(c==="Q"){var g=[A[1],A[2]];l.startTangent=[h[0]-g[0],h[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]}else if(c==="T"){var v=e[s-1],y=Jm(v.currentPoint,h);v.command==="Q"?(l.command="Q",l.startTangent=[h[0]-y[0],h[1]-y[1]],l.endTangent=[n[0]-y[0],n[1]-y[1]]):(l.command="TL",l.startTangent=[h[0]-n[0],h[1]-n[1]],l.endTangent=[n[0]-h[0],n[1]-h[1]])}else if(c==="C"){var w=[A[1],A[2]],b=[A[3],A[4]];l.startTangent=[h[0]-w[0],h[1]-w[1]],l.endTangent=[n[0]-b[0],n[1]-b[1]],l.startTangent[0]===0&&l.startTangent[1]===0&&(l.startTangent=[w[0]-b[0],w[1]-b[1]]),l.endTangent[0]===0&&l.endTangent[1]===0&&(l.endTangent=[b[0]-w[0],b[1]-w[1]])}else if(c==="S"){var B=e[s-1],E=Jm(B.currentPoint,h),S=[A[1],A[2]];B.command==="C"?(l.command="C",l.startTangent=[h[0]-E[0],h[1]-E[1]],l.endTangent=[n[0]-S[0],n[1]-S[1]]):(l.command="SQ",l.startTangent=[h[0]-S[0],h[1]-S[1]],l.endTangent=[n[0]-S[0],n[1]-S[1]])}else if(c==="A"){var F=au(l,0),k=F.x,T=F.y,L=au(l,1,!1),P=L.x,R=L.y;l.startTangent=[k,T],l.endTangent=[P,R]}e.push(l)}return e}function au(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,A=r.xRotation,c=r.arcFlag,l=r.sweepFlag,u=ah({x:t.prePoint[0],y:t.prePoint[1]},a,s,A,!!c,!!l,{x:t.currentPoint[0],y:t.currentPoint[1]},e),f=ah({x:t.prePoint[0],y:t.prePoint[1]},a,s,A,!!c,!!l,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),d=f.x-u.x,h=f.y-u.y,g=Math.sqrt(d*d+h*h);return{x:-d/g,y:-h/g}}function eg(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function av(t,e){return eg(t)*eg(e)?(t[0]*e[0]+t[1]*e[1])/(eg(t)*eg(e)):1}function t1(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(av(t,e))}function vx(t,e){var n=e[1],r=e[2],i=xp(Qn(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],A=t[1],c=e[6],l=e[7],u=Math.cos(i)*(s-c)/2+Math.sin(i)*(A-l)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(A-l)/2,d=u*u/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var h=n*n*(f*f)+r*r*(u*u),g=h?Math.sqrt((n*n*(r*r)-h)/h):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*f/r:0,y=n?g*-r*u/n:0,w=(s+c)/2+Math.cos(i)*v-Math.sin(i)*y,b=(A+l)/2+Math.sin(i)*v+Math.cos(i)*y,B=[(u-v)/n,(f-y)/r],E=[(-1*u-v)/n,(-1*f-y)/r],S=t1([1,0],B),F=t1(B,E);return av(B,E)<=-1&&(F=Math.PI),av(B,E)>=1&&(F=0),o===0&&F>0&&(F-=2*Math.PI),o===1&&F<0&&(F+=2*Math.PI),{cx:w,cy:b,rx:rh(t,[c,l])?0:n,ry:rh(t,[c,l])?0:r,startAngle:S,endAngle:S+F,xRotation:i,arcFlag:a,sweepFlag:o}}function yx(t,e,n){return t.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=vn(i[1],i[2],0);n&&Or(o,o,n),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=vn(i[1],i[2],0),A=vn(i[3],i[4],0),c=vn(i[5],i[6],0);n&&(Or(s,s,n),Or(A,A,n),Or(c,c,n)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(A[0],",").concat(A[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var l=vn(i[6],i[7],0);n&&Or(l,l,n),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(l[0],",").concat(l[1])}else if(i[0]==="Q"){var u=vn(i[1],i[2],0),f=vn(i[3],i[4],0);n&&(Or(u,u,n),Or(f,f,n)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function e1(t,e,n,r){return[["M",t,e],["L",n,r]]}function gA(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,a=t*i,o=e*i,s=n-t,A=n+t,c=r-e,l=r+e;return[["M",s,r],["C",s,r-o,n-a,c,n,c],["C",n+a,c,A,r-o,A,r],["C",A,r+o,n+a,l,n,l],["C",n-a,l,s,r+o,s,r],["Z"]]}function bn(t,e){var n=t.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return e&&n.push(["Z"]),n}function n1(t,e,n,r,i){if(i){var a=(0,Ge.Z)(i,4),o=a[0],s=a[1],A=a[2],c=a[3],l=t>0?1:-1,u=e>0?1:-1,f=l+u!==0?1:0;return[["M",l*o+n,r],["L",t-l*s+n,r],s?["A",s,s,0,0,f,t+n,u*s+r]:null,["L",t+n,e-u*A+r],A?["A",A,A,0,0,f,t+n-l*A,e+r]:null,["L",n+l*c,e+r],c?["A",c,c,0,0,f,n,e+r-u*c]:null,["L",n,u*o+r],o?["A",o,o,0,0,f,l*o+n,r]:null,["Z"]].filter(function(d){return d})}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function fs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLocalTransform(),n=[];switch(t.nodeName){case St.LINE:var r=t.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,A=r.x2,c=A===void 0?0:A,l=r.y2,u=l===void 0?0:l;n=e1(a,s,c,u);break;case St.CIRCLE:{var f=t.parsedStyle,d=f.r,h=d===void 0?0:d,g=f.cx,v=g===void 0?0:g,y=f.cy,w=y===void 0?0:y;n=gA(h,h,v,w);break}case St.ELLIPSE:{var b=t.parsedStyle,B=b.rx,E=B===void 0?0:B,S=b.ry,F=S===void 0?0:S,k=b.cx,T=k===void 0?0:k,L=b.cy,P=L===void 0?0:L;n=gA(E,F,T,P);break}case St.POLYLINE:case St.POLYGON:var R=t.parsedStyle.points;n=bn(R.points,t.nodeName===St.POLYGON);break;case St.RECT:var U=t.parsedStyle,N=U.width,j=N===void 0?0:N,z=U.height,W=z===void 0?0:z,D=U.x,G=D===void 0?0:D,Y=U.y,at=Y===void 0?0:Y,it=U.radius,At=it&&it.some(function(ut){return ut!==0});n=n1(j,W,G,at,At&&it.map(function(ut){return Gr(ut,0,Math.min(Math.abs(j)/2,Math.abs(W)/2))}));break;case St.PATH:var ht=t.parsedStyle.d.absolutePath;n=(0,tn.Z)(ht);break}if(n.length)return yx(n,t,e)}function mx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=t.map(function(o,s){var A=o[0],c=t[s+1],l=s===0&&(e!==0||n!==0),u=(s===t.length-1||c&&(c[0]==="M"||c[0]==="Z"))&&r!==0&&i!==0,f=l?[e,n]:[0,0],d=_slicedToArray(f,2),h=d[0],g=d[1],v=u?[r,i]:[0,0],y=_slicedToArray(v,2),w=y[0],b=y[1];switch(A){case"M":return"M ".concat(o[1]+h,",").concat(o[2]+g);case"L":return"L ".concat(o[1]+w,",").concat(o[2]+b);case"Q":return"Q ".concat(o[1]," ").concat(o[2],",").concat(o[3]+w," ").concat(o[4]+b);case"C":return"C ".concat(o[1]," ").concat(o[2],",").concat(o[3]," ").concat(o[4],",").concat(o[5]+w," ").concat(o[6]+b);case"A":return"A ".concat(o[1]," ").concat(o[2]," ").concat(o[3]," ").concat(o[4]," ").concat(o[5]," ").concat(o[6]," ").concat(o[7]).concat(u?" L ".concat(o[6]+r,",").concat(o[7]+i):"");case"Z":return"Z";default:return null}}).filter(function(o){return o!==null}).join(" ");return~a.indexOf("NaN")?"":a}var r1=function(e){if(e===""||Array.isArray(e)&&e.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=JA(e)}catch(d){n=JA(""),console.error("[g]: Invalid SVG Path definition: ".concat(e))}hx(n);var r=px(n),i=gx(n),a=i.polygons,o=i.polylines,s=Do(n),A=ih(s,0),c=A.x,l=A.y,u=A.width,f=A.height;return{absolutePath:n,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(l)?l:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(f)?f:0}}},ar=ir(r1);function i1(t){return fr(t)?ar(t):r1(t)}function a1(t,e,n){var r=t.curve,i=e.curve;(!r||r.length===0)&&(r=ai(t.absolutePath,!1),t.curve=r),(!i||i.length===0)&&(i=ai(e.absolutePath,!1),e.curve=i);var a=[r,i];r.length!==i.length&&(a=as(r,i));var o=Wl(a[0])!==Wl(a[1])?Ep(a[0]):Ud(a[0]);return[o,Pd(a[1],o),function(s){return s}]}function ng(t,e){var n;return fr(t)?n=t.split(" ").map(function(r){var i=r.split(","),a=(0,Ge.Z)(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):n=t,{points:n,totalLength:0,segments:[]}}function wx(t,e){return[t.points,e.points,function(n){return n}]}var si=null,wf=/\s*(\w+)\(([^)]*)\)/g;function bo(t){return function(e){var n=0;return t.map(function(r){return r===si?e[n++]:r})}}function ou(t){return t}var oh={matrix:["NNNNNN",[si,si,0,0,si,si,0,0,0,0,1,0,si,si,0,1],ou],matrix3d:["NNNNNNNNNNNNNNNN",ou],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",bo([si,si,new Yn(1)]),ou],scaleX:["N",bo([si,new Yn(1),new Yn(1)]),bo([si,new Yn(1)])],scaleY:["N",bo([new Yn(1),si,new Yn(1)]),bo([new Yn(1),si])],scaleZ:["N",bo([new Yn(1),new Yn(1),si])],scale3d:["NNN",ou],skew:["Aa",null,ou],skewX:["A",null,bo([si,Zc])],skewY:["A",null,bo([Zc,si])],translate:["Tt",bo([si,si,Ns]),ou],translateX:["T",bo([si,Ns,Ns]),bo([si,Ns])],translateY:["T",bo([Ns,si,Ns]),bo([Ns,si])],translateZ:["L",bo([Ns,Ns,si])],translate3d:["TTL",ou]};function o1(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=oh[a];if(!s)return[];var A=o.map(function(c){return xr(c)});e.push({t:a,d:A})}return e}function s1(t){if(Array.isArray(t))return o1(t);if(t=(t||"none").trim(),t==="none")return[];var e=[],n,r=0;for(wf.lastIndex=0;n=wf.exec(t);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=oh[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?Zc:lx(h)},N:zr,T:tv,L:cx}[u.toUpperCase()](l):f={a:Zc,n:A[0],t:Ns}[u],f===void 0)return[];A.push(f)}if(e.push({t:i,d:A}),wf.lastIndex===t.length)return e}return[]}function bx(t){if(Array.isArray(t))return o1(t);if(t=(t||"none").trim(),t==="none")return[];var e=[],n,r=0;for(wf.lastIndex=0;n=wf.exec(t);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=oh[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var A=[],c=0;c<s.length;c++){var l=o[c],u=s[c],f=void 0;if(l?f={A:function(h){return h.trim()==="0"?Zc:uc(h)},N:nh,T:gi,L:un}[u.toUpperCase()](l):f={a:Zc,n:A[0],t:Ns}[u],f===void 0)return[];A.push(f)}if(e.push({t:i,d:A}),wf.lastIndex===t.length)return e}return[]}function Bx(t){var e,n,r,i;switch(t.t){case"rotateX":return i=Qn(wo(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=Qn(wo(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=Qn(wo(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=Qn(wo(t.d[3]));var a=e*e+n*n+r*r;if(a===0)e=1,n=0,r=0;else if(a!==1){var o=Math.sqrt(a);e/=o,n/=o,r/=o}var s=Math.sin(i/2),A=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(e*n*c+r*A),2*(e*r*c-n*A),0,2*(e*n*c-r*A),1-2*(e*e+r*r)*c,2*(n*r*c+e*A),0,2*(e*r*c+n*A),2*(n*r*c-e*A),1-2*(e*e+n*n)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var l=Qn(wo(t.d[0])),u=Qn(wo(t.d[1]));return[1,Math.tan(u),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=Qn(wo(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=Qn(wo(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=No(t.d[0],0,null)||0,n=No(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translateX":return e=No(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translateY":return n=No(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=No(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=No(t.d[0],0,null)||0,n=No(t.d[1],0,null)||0,r=No(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var f=No(t.d[0],0,null)||0,d=f?-1/f:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(h){return h.value})}}function xx(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function _x(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(Bx).reduce(xx)}function A1(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return pf(_x(t),e,n,r,i,a),[[e,n,r,a,i]]}var ov=function(){function t(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var A=0;A<4;A++)a[o][s]+=i[o][A]*r[A][s];return a}function e(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,i,a,o,s){for(var A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)A[c][3]=s[c];for(var l=0;l<3;l++)for(var u=0;u<3;u++)A[3][l]+=r[u]*A[u][l];var f=o[0],d=o[1],h=o[2],g=o[3],v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];v[0][0]=1-2*(d*d+h*h),v[0][1]=2*(f*d-h*g),v[0][2]=2*(f*h+d*g),v[1][0]=2*(f*d+h*g),v[1][1]=1-2*(f*f+h*h),v[1][2]=2*(d*h-f*g),v[2][0]=2*(f*h-d*g),v[2][1]=2*(d*h+f*g),v[2][2]=1-2*(f*f+d*d),A=t(A,v);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(y[2][1]=a[2],A=t(A,y)),a[1]&&(y[2][1]=0,y[2][0]=a[0],A=t(A,y)),a[0]&&(y[2][0]=0,y[1][0]=a[0],A=t(A,y));for(var w=0;w<3;w++)for(var b=0;b<3;b++)A[w][b]*=i[w];return e(A)?[A[0][0],A[0][1],A[1][0],A[1][1],A[3][0],A[3][1]]:A[0].concat(A[1],A[2],A[3])}return n}();function Cx(t){return t.toFixed(6).replace(".000000","")}function sh(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=A1(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=A1(e)),n[0]===null||r[0]===null?[[!1],[!0],function(i){return i?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(i){var a=Ex(n[0][3],r[0][3],i[5]),o=ov(i[0],i[1],i[2],a,i[4]),s=o.map(Cx).join(",");return s}])}function Ox(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function Ex(t,e,n){var r=Ox(t,e);r=Gr(r,-1,1);var i=[];if(r===1)i=t;else for(var a=Math.acos(r),o=Math.sin(n*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*a)-r*o)+e[s]*o);return i}function sv(t){return t.replace(/[XY]/,"")}function Wi(t){return t.replace(/(X|Y|Z|3d)?$/,"3d")}var Bo=function(e,n){return e==="perspective"&&n==="perspective"||(e==="matrix"||e==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function Sx(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(){var P=t[a],R=P.t,U=P.d,N=R.substring(0,5)==="scale"?1:0;e.push({t:R,d:U.map(function(j){return typeof j=="number"?xr(N):xr(N,j.unit)})})},a=0;a<t.length;a++)i()}var o=[],s=[],A=[];if(t.length!==e.length){var c=sh(t,e);o=[c[0]],s=[c[1]],A=[["matrix",[c[2]]]]}else for(var l=0;l<t.length;l++){var u=t[l].t,f=e[l].t,d=t[l].d,h=e[l].d,g=oh[u],v=oh[f],y=void 0;if(Bo(u,f)){var w=sh([t[l]],[e[l]]);o.push(w[0]),s.push(w[1]),A.push(["matrix",[w[2]]]);continue}else if(u===f)y=u;else if(g[2]&&v[2]&&sv(u)===sv(f))y=sv(u),d=g[2](d),h=v[2](h);else if(g[1]&&v[1]&&Wi(u)===Wi(f))y=Wi(u),d=g[1](d),h=v[1](h);else{var b=sh(t,e);o=[b[0]],s=[b[1]],A=[["matrix",[b[2]]]];break}for(var B=[],E=[],S=[],F=0;F<d.length;F++){var k=ux(d[F],h[F],n,!1,F);B[F]=k[0],E[F]=k[1],S.push(k[2])}o.push(B),s.push(E),A.push([y,S])}if(r){var T=o;o=s,s=T}return[o,s,function(L){return L.map(function(P,R){var U=P.map(function(N,j){return A[R][1][j](N)}).join(",");return A[R][0]==="matrix"&&U.split(",").length===16&&(A[R][0]="matrix3d"),A[R][0]==="matrix3d"&&U.split(",").length===6&&(A[R][0]="matrix"),"".concat(A[R][0],"(").concat(U,")")}).join(" ")}]}var Mx=ir(function(t){if(fr(t)){if(t==="text-anchor")return[xr(0,"px"),xr(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[tv(c1(e[0])),tv(c1(e[1]))]}return[xr(t[0]||0,"px"),xr(t[1]||0,"px")]});function c1(t){return t==="center"?"50%":t==="left"||t==="top"?"0%":t==="right"||t==="bottom"?"100%":t}var rg=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Yt.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Yt.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Yt.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Yt.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Yt.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Yt.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Yt.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Yt.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Yt.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Yt.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Yt.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Yt.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Yt.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Yt.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Yt.FILTER},{n:"clipPath",syntax:Yt.DEFINED_PATH},{n:"textPath",syntax:Yt.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Yt.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Yt.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Yt.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Yt.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Yt.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Yt.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Yt.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Yt.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Yt.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Yt.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Yt.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Yt.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Yt.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Yt.NUMBER,d:function(e){return e===St.PATH||e===St.POLYGON||e===St.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Yt.MARKER},{n:"markerEnd",syntax:Yt.MARKER},{n:"markerMid",syntax:Yt.MARKER},{n:"markerStartOffset",syntax:Yt.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Yt.LENGTH,l:!0,int:!0,d:"0"}],Fx=new Set(rg.filter(function(t){return!!t.l}).map(function(t){return t.n})),l1={},kx=function(){function t(e){var n=this;(0,Qt.Z)(this,t),this.runtime=e,rg.forEach(function(r){n.registerMetadata(r)})}return(0,Pt.Z)(t,[{key:"registerMetadata",value:function(n){[n.n].concat((0,tn.Z)(n.a||[])).forEach(function(r){l1[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(n.attributes,r);var a=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;u1(n,r);var s=!!i.forceUpdateGeometry;if(!s){for(var A in r)if(Fx.has(A)){s=!0;break}}var c=f1(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=Yc(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=Yc(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=Yc(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=fc(r.filter)),c.has("radius")&&!be(r.radius)&&(n.parsedStyle.radius=Xm(r.radius,4)),c.has("lineDash")&&!be(r.lineDash)&&(n.parsedStyle.lineDash=Xm(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=ng(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=(0,We.Z)({},Wp)),c.has("d")&&r.d&&(n.parsedStyle.d=i1(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Yt.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!_n(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Yt.DEFINED_PATH].calculator("clipPath",a,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Yt.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=s1(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=Mx(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Yt.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Yt.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Yt.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!be(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Yt.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!be(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Yt.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Yt.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Yt.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=n.geometry;a.contentBounds||(a.contentBounds=new Rr),a.renderBounds||(a.renderBounds=new Rr);var o=n.parsedStyle,s=i.update(o,n),A=s.cx,c=A===void 0?0:A,l=s.cy,u=l===void 0?0:l,f=s.cz,d=f===void 0?0:f,h=s.hwidth,g=h===void 0?0:h,v=s.hheight,y=v===void 0?0:v,w=s.hdepth,b=w===void 0?0:w,B=[Math.abs(g),Math.abs(y),b],E=o.stroke,S=o.lineWidth,F=S===void 0?1:S,k=o.increasedLineWidthForHitTesting,T=k===void 0?0:k,L=o.shadowType,P=L===void 0?"outer":L,R=o.shadowColor,U=o.filter,N=U===void 0?[]:U,j=o.transformOrigin,z=[c,u,d];a.contentBounds.update(z,B);var W=r===St.POLYLINE||r===St.POLYGON||r===St.PATH?Math.SQRT2:.5,D=E&&!E.isNone;if(D){var G=((F||0)+(T||0))*W;B[0]+=G,B[1]+=G}if(a.renderBounds.update(z,B),R&&P&&P!=="inner"){var Y=a.renderBounds,at=Y.min,it=Y.max,At=o.shadowBlur,ht=o.shadowOffsetX,ut=o.shadowOffsetY,Ct=At||0,_t=ht||0,mt=ut||0,Lt=at[0]-Ct+_t,Nt=it[0]+Ct+_t,Vt=at[1]-Ct+mt,Wt=it[1]+Ct+mt;at[0]=Math.min(at[0],Lt),it[0]=Math.max(it[0],Nt),at[1]=Math.min(at[1],Vt),it[1]=Math.max(it[1],Wt),a.renderBounds.setMinMax(at,it)}N.forEach(function(se){var me=se.name,Fe=se.params;if(me==="blur"){var Jn=Fe[0].value;a.renderBounds.update(a.renderBounds.center,Ba(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[Jn,Jn,0]))}else if(me==="drop-shadow"){var tr=Fe[0].value,Sn=Fe[1].value,jr=Fe[2].value,Lr=a.renderBounds,_r=Lr.min,Nn=Lr.max,Qr=_r[0]-jr+tr,Zr=Nn[0]+jr+tr,lr=_r[1]-jr+Sn,pn=Nn[1]+jr+Sn;_r[0]=Math.min(_r[0],Qr),Nn[0]=Math.max(Nn[0],Zr),_r[1]=Math.min(_r[1],lr),Nn[1]=Math.max(Nn[1],pn),a.renderBounds.setMinMax(_r,Nn)}}),n.geometry.dirty=!1;var Zt=g<0,pe=y<0,Ce=(Zt?-1:1)*(j?No(j[0],0,n,!0):0),Qe=(pe?-1:1)*(j?No(j[1],1,n,!0):0);(Ce||Qe)&&n.setOrigin(Ce,Qe)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===St.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===St.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])}();function u1(t,e){var n=f1(t);for(var r in e)n.has(r)&&(t.parsedStyle[r]=e[r])}function f1(t){return t.constructor.PARSED_STYLE_LIST}var Tx=function(){function t(){(0,Qt.Z)(this,t),this.mixer=Xr}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){return wo(i)}}])}(),Ix=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a,o){return i instanceof us&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,i,a),n==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),i}}])}(),d1=function(){function t(){(0,Qt.Z)(this,t),this.parser=Yc,this.mixer=Ax}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof us?i.value==="none"?Vm:Zm:i}}])}(),h1=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i instanceof us?[]:i}}])}();function p1(t){var e=t.parsedStyle,n=e.fontSize;return be(n)?null:n}var Av=function(){function t(){(0,Qt.Z)(this,t),this.mixer=Xr}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a,o){if(rr(i))return i;if(Yn.isRelativeUnit(i.unit)){if(i.unit===Kt.kPercentage)return 0;if(i.unit===Kt.kEms){if(a.parentNode){var s=p1(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===Kt.kRems){var A;if(a!=null&&(A=a.ownerDocument)!==null&&A!==void 0&&A.documentElement){var c=p1(a.ownerDocument.documentElement);if(c)return c*=i.value,c}return 0}}else return i.value}}])}(),Lx=function(){function t(){(0,Qt.Z)(this,t),this.mixer=qm}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),Qx=function(){function t(){(0,Qt.Z)(this,t),this.mixer=qm}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])}(),bf=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){var o;i instanceof us&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),Ux=function(){function t(){(0,Qt.Z)(this,t),this.mixer=Xr}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),Px=function(){function t(){(0,Qt.Z)(this,t),this.mixer=tg(0,1)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===St.LINE||o===St.PATH||o===St.POLYLINE){var s=i.getPoint(a);s&&n.setLocalPosition(s.x,s.y)}}}}])}(),Rx=function(){function t(){(0,Qt.Z)(this,t),this.mixer=tg(0,1)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i.value}}])}(),Nx=function(){function t(){(0,Qt.Z)(this,t),this.parser=i1,this.mixer=a1}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i){return i instanceof us&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Br(0,0,0,0)}:i}}])}(),Dx=(0,Pt.Z)(function t(){(0,Qt.Z)(this,t),this.mixer=wx}),g1=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.mixer=tg(0,1/0),n}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Av),v1=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof us?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])}(),Hx=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])}(),WS=function(e){return Object.fromEntries(Object.entries(e).filter(function(n){var r=_slicedToArray(n,2),i=r[1];return i!==void 0}))},cv=new WeakMap;function jx(t,e,n){if(t){var r=typeof t=="string"?document.getElementById(t):t;cv.has(r)&&cv.get(r).destroy(n),cv.set(r,e)}}var lv=typeof window!="undefined"&&typeof window.document!="undefined";function Gx(t){return!!t.getAttribute}function Kx(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;y1(t[i],e)<0?n=i+1:r=i}return n}function y1(t,e){var n=Number(t.parsedStyle.zIndex||0),r=Number(e.parsedStyle.zIndex||0);if(n===r){var i=t.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(t)-a.indexOf(e)}}return n-r}function m1(t){var e=t;do{var n,r=(n=e.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return e;e=e.parentElement}while(e!==null);return null}var w1="px";function zx(t,e,n){lv&&t.style&&(t.style.width=e+w1,t.style.height=n+w1)}function b1(t,e){if(lv)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function Wx(t){var e=b1(t,"width");return e==="auto"?t.offsetWidth:parseFloat(e)}function Vx(t){var e=b1(t,"height");return e==="auto"?t.offsetHeight:parseFloat(e)}var Zx=1,Yx={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},uv=typeof performance=="object"&&performance.now?performance:Date;function ig(t){return t.nodeName===St.FRAGMENT?!0:t.getRootNode().nodeName===St.FRAGMENT}function su(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!e&&!e.isNone,o=!!n&&!n.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(r=a,i=o):t==="visiblefill"||t==="fill"?r=!0:t==="visiblestroke"||t==="stroke"?i=!0:(t==="visible"||t==="all")&&(r=!0,i=!0),[r,i]}var $x=1,Xx=function(){return $x++},vA=typeof self=="object"&&self.self===self?self:typeof Ft.g=="object"&&Ft.g.global===Ft.g?Ft.g:{},qx=Date.now(),Jx=function(){return vA.performance&&typeof vA.performance.now=="function"?vA.performance.now():Date.now()-qx},Ah={},ag=Date.now(),B1=function(e){if(typeof e!="function")throw new TypeError("".concat(e," is not a function"));var n=Date.now(),r=n-ag,i=r>16?0:16-r,a=Xx();return Ah[a]=e,Object.keys(Ah).length>1||setTimeout(function(){ag=n;var o=Ah;Ah={},Object.keys(o).forEach(function(s){return o[s](Jx())})},i),a},x1=function(e){delete Ah[e]},t2=["","webkit","moz","ms","o"],_1=function(e){return typeof e!="string"?B1:e===""?vA.requestAnimationFrame:vA["".concat(e,"RequestAnimationFrame")]},e2=function(e){return typeof e!="string"?x1:e===""?vA.cancelAnimationFrame:vA["".concat(e,"CancelAnimationFrame")]||vA["".concat(e,"CancelRequestAnimationFrame")]},fv=function(e,n){for(var r=0;e[r]!==void 0;){if(n(e[r]))return e[r];r+=1}},C1=fv(t2,function(t){return!!_1(t)}),dv=_1(C1),O1=e2(C1);vA.requestAnimationFrame=dv,vA.cancelAnimationFrame=O1;var xo=function(){function t(){(0,Qt.Z)(this,t),this.callbacks=[]}return(0,Pt.Z)(t,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])}(),hv=function(){function t(){(0,Qt.Z)(this,t),this.callbacks=[]}return(0,Pt.Z)(t,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){var e=(0,ja.Z)((0,ha.Z)().mark(function r(){var i,a,o,s,A=arguments;return(0,ha.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(i=this.callbacks)[0].apply(i,A);case 1:a=c.sent,o=1;case 2:if(!(o<this.callbacks.length)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(a);case 3:a=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",a);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),Xa=function(){function t(){(0,Qt.Z)(this,t),this.callbacks=[]}return(0,Pt.Z)(t,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(o){o.apply(void 0,a)})}}])}(),pv=function(){function t(){(0,Qt.Z)(this,t),this.callbacks=[]}return(0,Pt.Z)(t,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,o=this.callbacks[0].apply(void 0,a),s=1;s<this.callbacks.length;s++){var A=this.callbacks[s];o=A(o)}return o}return null}}])}(),n2=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],r2=/([\"\'])[^\'\"]+\1/;function og(t){var e=t.fontSize,n=e===void 0?16:e,r=t.fontFamily,i=r===void 0?"sans-serif":r,a=t.fontStyle,o=a===void 0?"normal":a,s=t.fontVariant,A=s===void 0?"normal":s,c=t.fontWeight,l=c===void 0?"normal":c;return{fontSize:n,fontFamily:i,fontStyle:o,fontVariant:A,fontWeight:l}}var E1=ir(function(e){for(var n=og(e),r=n.fontSize,i=n.fontFamily,a=n.fontStyle,o=n.fontVariant,s=n.fontWeight,A=rr(r)&&"".concat(r,"px")||"16px",c=i.split(","),l=c.length-1;l>=0;l--){var u=c[l].trim();!r2.test(u)&&n2.indexOf(u)<0&&(u='"'.concat(u,'"')),c[l]=u}return"".concat(a," ").concat(o," ").concat(s," ").concat(A," ").concat(c.join(","))},function(t){var e=og(t),n=e.fontSize,r=e.fontFamily,i=e.fontStyle,a=e.fontVariant,o=e.fontWeight;return"".concat(i,"_").concat(a,"_").concat(o,"_").concat(n,"_").concat(r)}),gv=1e-6,ch=function(e){return Math.max(e,gv)};function vv(t,e,n){return _s(t),t[4]=Math.tan(e),t[1]=Math.tan(n),t}var Oi=nr(),i2=nr(),S1={scale:function(e){Ni(Oi,[e[0].value,e[1].value,1].map(function(n){return ch(n)}))},scaleX:function(e){Ni(Oi,[e[0].value,1,1].map(function(n){return ch(n)}))},scaleY:function(e){Ni(Oi,[1,e[0].value,1].map(function(n){return ch(n)}))},scaleZ:function(e){Ni(Oi,[1,1,e[0].value].map(function(n){return ch(n)}))},scale3d:function(e){Ni(Oi,[e[0].value,e[1].value,e[2].value].map(function(n){return ch(n)}))},translate:function(e){Js(Oi,[e[0].value,e[1].value,0])},translateX:function(e){Js(Oi,[e[0].value,0,0])},translateY:function(e){Js(Oi,[0,e[0].value,0])},translateZ:function(e){Js(Oi,[0,0,e[0].value])},translate3d:function(e){Js(Oi,[e[0].value,e[1].value,e[2].value])},rotate:function(e){Ec(Oi,Qn(wo(e[0])))},rotateX:function(e){ad(Oi,Qn(wo(e[0])))},rotateY:function(e){Os(Oi,Qn(wo(e[0])))},rotateZ:function(e){Ec(Oi,Qn(wo(e[0])))},rotate3d:function(e){np(Oi,Qn(wo(e[3])),[e[0].value,e[1].value,e[2].value])},skew:function(e){vv(Oi,Qn(e[0].value),Qn(e[1].value))},skewX:function(e){vv(Oi,Qn(e[0].value),0)},skewY:function(e){vv(Oi,0,Qn(e[0].value))},matrix:function(e){Bi(Oi,e[0].value,e[1].value,0,0,e[2].value,e[3].value,0,0,0,0,1,0,e[4].value,e[5].value,0,1)},matrix3d:function(e){Bi.apply(ze,[Oi].concat((0,tn.Z)(e.map(function(n){return n.value}))))}},a2=vn(1,1,1),o2=Ue(),M1={translate:function(e,n){jt.sceneGraphService.setLocalScale(e,a2,!1),jt.sceneGraphService.setLocalEulerAngles(e,o2,void 0,void 0,!1),jt.sceneGraphService.setLocalPosition(e,[n[0].value,n[1].value,0],!1),jt.sceneGraphService.dirtyLocalTransform(e,e.transformable)}};function sg(t,e){if(t.length){if(t.length===1&&M1[t[0].t]){M1[t[0].t](e,t[0].d);return}for(var n=_s(i2),r=0;r<t.length;r++){var i=t[r],a=i.t,o=i.d,s=S1[a];s&&(s(o),Cl(n,n,Oi))}e.setLocalTransform(n)}else e.resetLocalTransform();return e.getLocalTransform()}var yv=function(){function t(){(0,Qt.Z)(this,t),this.parser=bx,this.mixer=Sx}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof us?[]:i}},{key:"postProcessor",value:function(n){sg(n.parsedStyle.transform,n)}}])}(),s2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===Kt.kPixels&&r[1].unit===Kt.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])}(),A2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"calculator",value:function(n,r,i,a){return i.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,i=r.renderable,a=r.sortable;i&&r.dirty(),a&&(a.dirty=!0,a.dirtyReason=vf.Z_INDEX_CHANGED)}}}])}(),c2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,A=n.r,c=A===void 0?0:A;return{cx:a,cy:s,hwidth:c,hheight:c}}}])}(),l2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,A=n.rx,c=A===void 0?0:A,l=n.ry,u=l===void 0?0:l;return{cx:a,cy:s,hwidth:c,hheight:u}}}])}(),u2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n){var r=n.x1,i=n.y1,a=n.x2,o=n.y2,s=Math.min(r,a),A=Math.max(r,a),c=Math.min(i,o),l=Math.max(i,o),u=A-s,f=l-c,d=u/2,h=f/2;return{cx:s+d,cy:c+h,hwidth:d,hheight:h}}}])}(),f2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n){var r=n.d,i=r.rect,a=i.x,o=i.y,s=i.width,A=i.height,c=s/2,l=A/2;return{cx:a+c,cy:o+l,hwidth:c,hheight:l}}}])}(),d2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n){if(n.points&&Sr(n.points.points)){var r=n.points.points,i=Math.min.apply(Math,(0,tn.Z)(r.map(function(f){return f[0]}))),a=Math.max.apply(Math,(0,tn.Z)(r.map(function(f){return f[0]}))),o=Math.min.apply(Math,(0,tn.Z)(r.map(function(f){return f[1]}))),s=Math.max.apply(Math,(0,tn.Z)(r.map(function(f){return f[1]}))),A=a-i,c=s-o,l=A/2,u=c/2;return{cx:i+l,cy:o+u,hwidth:l,hheight:u}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),h2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=n.src,c=n.width,l=c===void 0?0:c,u=n.height,f=u===void 0?0:u,d=l,h=f;return A&&!fr(A)&&(d||(d=A.width,n.width=d),h||(h=A.height,n.height=h)),{cx:a+d/2,cy:s+h/2,hwidth:d/2,hheight:h/2}}}])}(),p2=function(){function t(e){(0,Qt.Z)(this,t),this.globalRuntime=e}return(0,Pt.Z)(t,[{key:"isReadyToMeasure",value:function(n,r){var i=n.text;return i}},{key:"update",value:function(n,r){var i,a=n.text,o=n.textAlign,s=o===void 0?"start":o,A=n.lineWidth,c=A===void 0?1:A,l=n.textBaseline,u=l===void 0?"alphabetic":l,f=n.dx,d=f===void 0?0:f,h=n.dy,g=h===void 0?0:h,v=n.x,y=v===void 0?0:v,w=n.y,b=w===void 0?0:w;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var B=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},E=B.offscreenCanvas,S=this.globalRuntime.textService.measureText(a,n,E);n.metrics=S;var F=S.width,k=S.height,T=F/2,L=k/2,P=y+T;s==="center"||s==="middle"?P+=c/2-T:(s==="right"||s==="end")&&(P+=c-T*2);var R=b-L;return u==="middle"?R+=L:u==="top"||u==="hanging"?R+=L*2:u==="alphabetic"||(u==="bottom"||u==="ideographic")&&(R+=0),d&&(P+=d),g&&(R+=g),{cx:P,cy:R,hwidth:T,hheight:L}}}])}(),g2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),v2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=n.width,c=A===void 0?0:A,l=n.height,u=l===void 0?0:l;return{cx:a+c/2,cy:s+u/2,hwidth:c/2,hheight:u/2}}}])}();function VS(t){return!!t.type}var Ag=function(){function t(e){(0,Qt.Z)(this,t),this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new oi,this.page=new oi,this.canvas=new oi,this.viewport=new oi,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return(0,Pt.Z)(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Fn)}}])}(),F1=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.client=new oi,n.movement=new oi,n.offset=new oi,n.global=new oi,n.screen=new oi,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(Fn)}}])}(Ag),mv=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.width=0,n.height=0,n.isPrimary=!1,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(F1),wv=function(t){function e(){return(0,Qt.Z)(this,e),(0,je.Z)(this,e,arguments)}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(F1),or=function(t){function e(n,r){var i;return(0,Qt.Z)(this,e),i=(0,je.Z)(this,e,[null]),i.type=n,i.detail=r==null?void 0:r.detail,r&&!("detail"in r)&&(i.detail=r),Object.assign(i,r),i}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Ag),k1=function(){function t(){(0,Qt.Z)(this,t),this.emitter=new Fu}return(0,Pt.Z)(t,[{key:"on",value:function(n,r,i){return this.addEventListener(n,r,i),this}},{key:"addEventListener",value:function(n,r,i){var a=!1,o=!1;if(Hc(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var A=i.once;o=A===void 0?!1:A}a&&(n+="capture"),r=hi(r)?r:r.handleEvent;var c=hi(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,i){return n?this.removeEventListener(n,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,i){var a;if(!this.emitter)return this;var o=Hc(i)?i:i==null?void 0:i.capture;o&&(n+="capture"),r=hi(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=hi(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new or(n,r))}},{key:"dispatchEventToSelf",value:function(n){n.target||(n.target=this),n.currentTarget=this,this.emitter.emit(n.type,n)}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(n),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){if(n.manager=a.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.dispatchEventToSelf(n);return!n.defaultPrevented}}])}(),qr=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.mutations=void 0,n.parentNode=null,n.destroyed=!1,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"textContent",get:function(){var r="";this.nodeName===St.TEXT&&(r+=this.style.text);var i=(0,Po.Z)(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===St.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===St.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(Fn)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(Fn)}},{key:"lookupPrefix",value:function(r){throw new Error(Fn)}},{key:"normalize",value:function(){throw new Error(Fn)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(A=i.parentNode)!==null&&A!==void 0?A:a.parentNode;){var A;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,l=c===o?s:o;if(c[c.length-l.length]===l[0])return c===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var u=c.length-l.length,f=l.length-1;f>=0;f--){var d=l[f],h=c[u+f];if(h!==d){var g=d.parentNode.childNodes;return g.indexOf(d)<g.indexOf(h)?l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:c===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])}(k1);qr.DOCUMENT_POSITION_DISCONNECTED=1,qr.DOCUMENT_POSITION_PRECEDING=2,qr.DOCUMENT_POSITION_FOLLOWING=4,qr.DOCUMENT_POSITION_CONTAINS=8,qr.DOCUMENT_POSITION_CONTAINED_BY=16,qr.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var y2=2048,m2=function(){function t(e,n){var r=this;(0,Qt.Z)(this,t),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=nr(),this.tmpVec3=Ue(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=uv.now(),o=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var A=r.trackingData(i.pointerId),c=r.findMountedTarget(A.pressTargetsByButton[i.button]),l=c;if(c&&!o.composedPath().includes(c)){for(var u=c;u&&!o.composedPath().includes(u);){if(o.currentTarget=u,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var f=o.button===2;r.notifyTarget(o,f?"rightupoutside":"mouseupoutside")}qr.isNode(u)&&(u=u.parentNode)}delete A.pressTargetsByButton[i.button],l=u}if(l){var d,h=r.clonePointerEvent(o,"click");h.target=l,h.path=[],A.clicksByButton[i.button]||(A.clicksByButton[i.button]={clickCount:0,target:h.target,timeStamp:a});var g=r.context.renderingContext.root.ownerDocument.defaultView,v=A.clicksByButton[i.button];v.target===h.target&&a-v.timeStamp<g.getConfig().dblClickSpeed?++v.clickCount:v.clickCount=1,v.target=h.target,v.timeStamp=a,h.detail=v.clickCount,(d=o.detail)!==null&&d!==void 0&&d.preventClick||(!r.context.config.useNativeClickEvent&&(h.pointerType==="mouse"||h.pointerType==="touch")&&r.dispatchEvent(h,"click"),r.dispatchEvent(h,"pointertap")),r.freeEvent(h)}r.freeEvent(o)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),A=r.findMountedTarget(s.overTargets);if(s.overTargets&&A!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",l=r.createPointerEvent(i,c,A||void 0);if(r.dispatchEvent(l,"pointerout"),o&&r.dispatchEvent(l,"mouseout"),!a.composedPath().includes(A)){var u=r.createPointerEvent(i,"pointerleave",A||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&!a.composedPath().includes(u.target);)u.currentTarget=u.target,r.notifyTarget(u),o&&r.notifyTarget(u,"mouseleave"),qr.isNode(u.target)&&(u.target=u.target.parentNode);r.freeEvent(u)}r.freeEvent(l)}if(A!==a.target){var f=i.type==="mousemove"?"mouseover":"pointerover",d=r.clonePointerEvent(a,f);r.dispatchEvent(d,"pointerover"),o&&r.dispatchEvent(d,"mouseover");for(var h=A&&qr.isNode(A)&&A.parentNode;h&&h!==(qr.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&h!==a.target;)h=h.parentNode;var g=!h||h===(qr.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(g){var v=r.clonePointerEvent(a,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==A&&v.target!==(qr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)v.currentTarget=v.target,r.notifyTarget(v),o&&r.notifyTarget(v,"mouseenter"),qr.isNode(v.target)&&(v.target=v.target.parentNode);r.freeEvent(v)}r.freeEvent(d)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),A=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(A),o&&r.dispatchEvent(A,"mouseout");var c=r.createPointerEvent(i,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(qr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),qr.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(A),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var A=r.clonePointerEvent(o,"pointerenter");for(A.eventPhase=A.AT_TARGET;A.target&&A.target!==(qr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)A.currentTarget=A.target,r.notifyTarget(A),s&&r.notifyTarget(A,"mouseenter"),qr.isNode(A.target)&&(A.target=A.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(A)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var A=o;A;)s.currentTarget=A,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),qr.isNode(A)&&(A=A.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=e,this.context=n}return(0,Pt.Z)(t,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&n){var o=a.offsetWidth,s=a.offsetHeight;o&&s&&(r=n.width/o,i=n.height/s)}return{scaleX:r,scaleY:i,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new oi((n.x-((o==null?void 0:o.left)||0))/i,(n.y-((o==null?void 0:o.top)||0))/a)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new oi((n.x+((o==null?void 0:o.left)||0))*i,(n.y+((o==null?void 0:o.top)||0))*a)}},{key:"viewport2Canvas",value:function(n){var r=n.x,i=n.y,a=this.rootTarget.defaultView,o=a.getCamera(),s=this.context.config,A=s.width,c=s.height,l=o.getPerspectiveInverse(),u=o.getWorldTransform(),f=Ur(this.tmpMatrix,u,l),d=ri(this.tmpVec3,r/A*2-1,(1-i/c)*2-1,0);return Or(d,d,f),new oi(d[0],d[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),o=i.getViewTransform(),s=Ur(this.tmpMatrix,a,o),A=ri(this.tmpVec3,n.x,n.y,0);Or(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,l=c.width,u=c.height;return new oi((A[0]+1)/2*l,(1-(A[1]+1)/2)*u)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,i){if(!i)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var a=this.rootTarget.defaultView||null;n.currentTarget=a,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var i=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(n.currentTarget=i[a],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var o=i.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(n.currentTarget=i[s],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],i=this.rootTarget.defaultView||null;if(i&&i===n)return r.unshift(i.document),r;for(var a=0;a<y2&&n!==this.rootTarget;a++)qr.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(n){var r=n.viewportX,i=n.viewportY,a=this.context.config,o=a.width,s=a.height,A=a.disableHitTesting;return r<0||i<0||r>o||i>s?null:!A&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var i,a=r==null?void 0:r.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===n)return!0;if(n&&n.contains)return n.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,i=n.nativeEvent.composedPath();r<i.length;r++){var a=i[r],o=this.nativeHTMLMap.get(a);if(o)return o}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,i,a){var o=this.allocateEvent(mv);this.copyPointerData(n,o),this.copyMouseData(n,o),this.copyData(n,o),o.nativeEvent=n.nativeEvent,o.originalEvent=n;var s=this.getExistedHTML(o),A=this.context.contextService.getDomElement();return o.target=i!=null?i:s||this.isNativeEventFromCanvas(A,o.nativeEvent)&&this.pickTarget(o)||a,typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(wv);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(wv);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var i=this.allocateEvent(mv);return i.nativeEvent=n.nativeEvent,i.originalEvent=n.originalEvent,this.copyPointerData(n,i),this.copyMouseData(n,i),this.copyData(n,i),i.target=n.target,i.path=n.composedPath().slice(),i.type=r!=null?r:i.type,i}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=uv.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r!=null?r:n.type;var i=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,i),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var i=n.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(n.currentTarget||a.context,n);else for(var o=0;o<a.length&&!n.propagationImmediatelyStopped;o++)a[o].once&&i.removeListener(r,a[o].fn,void 0,!0),a[o].fn.call(n.currentTarget||a[o].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],i=n.length-2;i>=0;i--){var a=n[i];if(a===this.rootTarget||qr.isNode(a)&&a.parentNode===r)r=n[i];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var i=Gx(r)&&r.getAttribute("cursor");if(i)return i;r=qr.isNode(r)&&r.parentNode}}}])}(),p=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||jt.offscreenCanvas)this.canvas=n||jt.offscreenCanvas,this.context=this.canvas.getContext("2d",(0,We.Z)({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",(0,We.Z)({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",(0,We.Z)({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(n){}try{return document.createElement("canvas")}catch(n){}return null}}])}(),m=function(t){return t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE",t}({}),M=function(){function t(e,n){(0,Qt.Z)(this,t),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new Xa,initAsync:new xo,dirtycheck:new pv,cull:new pv,beginFrame:new Xa,beforeRender:new Xa,render:new Xa,afterRender:new Xa,endFrame:new Xa,destroy:new Xa,pick:new hv,pickSync:new pv,pointerDown:new Xa,pointerUp:new Xa,pointerMove:new Xa,pointerOut:new Xa,pointerOver:new Xa,pointerWheel:new Xa,pointerCancel:new Xa,click:new Xa},this.globalRuntime=e,this.context=n}return(0,Pt.Z)(t,[{key:"init",value:function(n){var r=this,i=(0,We.Z)((0,We.Z)({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(m.CAMERA_CHANGED)}},{key:"render",value:function(n,r,i){var a=this,o=n.getConfig(),s=this.context.renderingContext;if(this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0,this.globalRuntime.sceneGraphService.syncHierarchy(s.root),this.globalRuntime.sceneGraphService.notifyMutationObservers(n),s.renderReasons.size&&this.inited){s.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var A=s.renderReasons.size===1&&s.renderReasons.has(m.CAMERA_CHANGED),c=!o.disableRenderHooks||!A;c&&this.renderDisplayObject(s.root,o,s),this.hooks.beginFrame.call(r),c&&s.renderListCurrentFrame.forEach(function(l){a.hooks.beforeRender.call(l),a.hooks.render.call(l),a.hooks.afterRender.call(l)}),this.hooks.endFrame.call(r),s.renderListCurrentFrame=[],s.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(n,r,i){var a=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,A=o.enableCulling;function c(g){var v=g.renderable,y=g.sortable,w=s?v.dirty||i.dirtyRectangleRenderingDisabled?g:null:g,b=null;w&&(b=A?a.hooks.cull.call(w,a.context.camera):w,b&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(b))),g.dirty(!1),y.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,y.dirty&&(a.sort(g,y),y.dirty=!1,y.dirtyChildren=[],y.dirtyReason=void 0)}for(var l=[n];l.length>0;){var u,f=l.pop();c(f);for(var d=((u=f.sortable)===null||u===void 0||(u=u.sorted)===null||u===void 0?void 0:u.length)>0?f.sortable.sorted:f.childNodes,h=d.length-1;h>=0;h--)l.push(d[h])}}},{key:"sort",value:function(n,r){var i,a;(r==null||(i=r.sorted)===null||i===void 0?void 0:i.length)>0&&r.dirtyReason!==vf.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var A=n.childNodes.indexOf(o);if(A>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=Kx(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=n.childNodes.slice().sort(y1),((a=r.sorted)===null||a===void 0?void 0:a.length)>0&&n.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call()}},{key:"dirty",value:function(){this.context.renderingContext.renderReasons.add(m.DISPLAY_OBJECT_CHANGED)}}])}(),Q=/\[\s*(.*)=(.*)\s*\]/,Z=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"selectOne",value:function(n,r){var i=this;if(n.startsWith("."))return r.find(function(A){return((A==null?void 0:A.classList)||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(A){return A.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.find(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):null}return r.find(function(A){return r!==A&&A.nodeName===n})}},{key:"selectAll",value:function(n,r){var i=this;if(n.startsWith("."))return r.findAll(function(A){return r!==A&&((A==null?void 0:A.classList)||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(A){return r!==A&&A.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.findAll(function(A){return r!==A&&(o==="name"?A.name===s:i.attributeToString(A,o)===s)}):[]}return r.findAll(function(A){return r!==A&&A.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var i=this.getAttribute(n),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(Q),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var i=n.getAttribute(r);return be(i)?"":i.toString?i.toString():""}}])}(),X=function(t){return t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.MOUNTED="DOMNodeInsertedIntoDocument",t.REMOVED="removed",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.REPARENT="reparent",t.DESTROY="destroy",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled",t}({}),st=function(t){function e(n,r,i,a,o,s,A,c){var l;return(0,Qt.Z)(this,e),l=(0,je.Z)(this,e,[null]),l.relatedNode=r,l.prevValue=i,l.newValue=a,l.attrName=o,l.attrChange=s,l.prevParsedValue=A,l.newParsedValue=c,l.type=n,l}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Ag);st.ADDITION=2,st.MODIFICATION=1,st.REMOVAL=3;var ft=new st(X.REPARENT,null,"","","",0,"",""),bt=Ic(),Rt=Ue(),Ht=vn(1,1,1),Gt=nr(),he=Ic(),Se=Ue(),qe=nr(),An=fi(),Je=Ue(),In=fi(),Rn=Ue(),Fa=Ue(),Ei=Ue(),Ka=nr(),vi=fi(),ds=fi(),hs=fi(),T1=function(){function t(e){(0,Qt.Z)(this,t),this.displayObjectDependencyMap=new WeakMap,this.runtime=e}return(0,Pt.Z)(t,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,i){var a,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===St.FRAGMENT,A=ig(r);n.parentNode=r;var c=s?n.childNodes:[n];rr(i)?c.forEach(function(g){r.childNodes.splice(i,0,g),g.parentNode=r}):c.forEach(function(g){r.childNodes.push(g),g.parentNode=r});var l=r,u=l.sortable;if((u!=null&&(a=u.sorted)!==null&&a!==void 0&&a.length||u.dirty||n.parsedStyle.zIndex)&&(u.dirtyChildren.indexOf(n)===-1&&u.dirtyChildren.push(n),u.dirty=!0,u.dirtyReason=vf.ADDED),!A){if(s)this.dirtyFragment(n);else{var f=n.transformable;f&&this.dirtyWorldTransform(n,f)}if(o){var d,h=((d=r.ownerDocument)===null||d===void 0||(d=d.defaultView)===null||d===void 0||(d=d.getConfig())===null||d===void 0||(d=d.future)===null||d===void 0?void 0:d.experimentalCancelEventPropagation)===!0;n.dispatchEvent(ft,h,h)}}}},{key:"detach",value:function(n){var r,i;if(n.parentNode){var a=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=n.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=vf.REMOVED);var A=n.parentNode.childNodes.indexOf(n);A>-1&&n.parentNode.childNodes.splice(A,1),a&&this.dirtyWorldTransform(n,a),n.parentNode=null}}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return zp(r),r.localTransform}},{key:"setLocalPosition",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Fa[0]=r[0],Fa[1]=r[1],Fa[2]=(i=r[2])!==null&&i!==void 0?i:0,!ct(o.localPosition,Fa)&&(ba(o.localPosition,Fa),a&&this.dirtyLocalTransform(n,o))}},{key:"translateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;ct(r,Rt)||(ua(r,r,o.localRotation),Ba(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(n,o))}},{key:"setLocalRotation",value:function(n,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=kc(An,r,i,a,o));var A=n.transformable;Sl(A.localRotation,r),s&&this.dirtyLocalTransform(n,A)}},{key:"rotateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;$A(ds,r[0],r[1],r[2]),Ml(o.localRotation,o.localRotation,ds),this.dirtyLocalTransform(n,o)}},{key:"setLocalScale",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;ri(Se,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!ct(Se,o.localScale)&&(ba(o.localScale,Se),a&&this.dirtyLocalTransform(n,o))}},{key:"scaleLocal",value:function(n,r){var i,a=n.transformable;Cc(a.localScale,a.localScale,ri(Se,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(n,a)}},{key:"setLocalSkew",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=kl(he,r,i));var o=n.transformable;wd(o.localSkew,r),a&&this.dirtyLocalTransform(n,o)}},{key:"setLocalEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=vn(r,i,a));var s=n.transformable;$A(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(n,s)}},{key:"setLocalTransform",value:function(n,r){var i=Ra(Je,r),a=Pu(In,r),o=tA(Rn,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,i,!1),this.setLocalRotation(n,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,Ht,!1),this.setLocalPosition(n,Rt,!1),this.setLocalEulerAngles(n,Rt,void 0,void 0,!1),this.setLocalSkew(n,bt,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"getPosition",value:function(n){var r=n.transformable;return Ra(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return Pu(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return tA(r.scaling,this.getWorldTransform(n,r))}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.internalUpdateTransform(n)),r.worldTransform}},{key:"setPosition",value:function(n,r){var i,a=n.transformable;if(Ei[0]=r[0],Ei[1]=r[1],Ei[2]=(i=r[2])!==null&&i!==void 0?i:0,!ct(this.getPosition(n),Ei)){if(ba(a.position,Ei),n.parentNode===null||!n.parentNode.transformable)ba(a.localPosition,Ei);else{var o=n.parentNode.transformable;KA(Ka,o.worldTransform),Pa(Ka,Ka),Or(a.localPosition,Ei,Ka)}this.dirtyLocalTransform(n,a)}}},{key:"translate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=ri(Se,r,i,a)),!ct(r,Rt)&&(Ba(Se,this.getPosition(n),r),this.setPosition(n,Se))}},{key:"setRotation",value:function(n,r,i,a,o){var s=n.transformable;if(typeof r=="number"&&(r=Ss(r,i,a,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var A=this.getRotation(n.parentNode);Sl(An,A),Lo(An,An),ao(s.localRotation,An,r),Fl(s.localRotation,s.localRotation),this.dirtyLocalTransform(n,s)}}},{key:"rotate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=An;$A(s,r[0],r[1],r[2]);var A=this.getRotation(n),c=this.getRotation(n.parentNode);Sl(hs,c),Lo(hs,hs),ao(s,hs,s),ao(o.localRotation,s,A),Fl(o.localRotation,o.localRotation),this.dirtyLocalTransform(n,o)}}},{key:"setOrigin",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(n,o)}}},{key:"setEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{$A(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);Sl(vi,Lo(An,s)),Ml(o.localRotation,o.localRotation,vi),this.dirtyLocalTransform(n,o)}}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,a=i.geometry;a.dirty&&jt.styleValueRegistry.updateGeometry(n);var o=r?a.renderBounds:a.contentBounds||null;return o||new Rr}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(n,r);if(!Rr.isEmpty(a)){var o=i||new Rr;return o.setFromTransformedAABB(a,this.getWorldTransform(n)),o}return null}},{key:"getBounds",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,A=this.getTransformedGeometryBounds(n,i,s),c=n.childNodes;if(c.forEach(function(f){var d=r.getBounds(f,i);d&&(A?A.add(d):(A=s||new Rr,A.update(d.center,d.halfExtents)))}),A||(A=new Rr),i){var l=m1(n);if(l){var u=l.parsedStyle.clipPath.getBounds(i);A?u&&(A=u.intersection(A)):A.update(u.center,u.halfExtents)}}return i?(o.renderBounds=A,o.renderBoundsDirty=!1):(o.bounds=A,o.boundsDirty=!1),A}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=Gt;n.parentNode.transformable&&(r=Pa(qe,this.getWorldTransform(n.parentNode)));var i=this.getBounds(n);if(!Rr.isEmpty(i)){var a=new Rr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,i,a=this.getGeometryBounds(n);Rr.isEmpty(a)||(i=new Rr,i.setFromTransformedAABB(a,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),A=(0,Ge.Z)(s,2),c=A[0],l=A[1],u=i.getMax(),f=(0,Ge.Z)(u,2),d=f[0],h=f[1];return new Br(c+((o==null?void 0:o.left)||0),l+((o==null?void 0:o.top)||0),d-c,h-l)}return new Br((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)}},{key:"internalUpdateTransform",value:function(n){var r,i=(r=n.parentNode)===null||r===void 0?void 0:r.transformable;zp(n.transformable),X0(n.transformable,i)}},{key:"internalUpdateElement",value:function(n,r){var i,a,o,s,A=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],l=(c==null?void 0:c.transformDirty)||((a=n.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(n.transformable){var u;(u=n.transformable).dirtyFlag||(u.dirtyFlag=l)}if(this.internalUpdateTransform(n),l){var f;(f=n.dirty)===null||f===void 0||f.call(n,!0,!0)}var d=((o=n.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=n.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((l||d)&&(c==null?void 0:c.shapeUpdated)===!1&&A)for(var h=r.length-1;h>=0;){var g,v,y=r[h];if(y.shapeUpdated)break;(g=(v=y.node).dirty)===null||g===void 0||g.call(v,!0,!0),y.shapeUpdated=!0,h-=1}return l}},{key:"syncHierarchy",value:function(n){for(var r,i,a=[n],o=n.parentNode?[{node:n.parentNode,transformDirty:((r=n.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((i=n.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var s=a.pop(),A=o[o.length-1];o.length>0&&s.parentNode!==A.node;)A=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var l=s.childNodes.length-1;l>=0;l--)a.push(s.childNodes[l]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(n,r){ig(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(n,r))}},{key:"dirtyWorldTransform",value:function(n,r){this.dirtyWorldInternal(n,r),this.dirtyToRoot(n,!0)}},{key:"dirtyWorldInternal",value:function(n,r){var i,a=this,o=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,n.dirty(!0,!0),o||n.childNodes.forEach(function(s){var A=s.transformable;a.dirtyWorldInternal(s,A)}))}},{key:"dirtyToRoot",value:function(n){for(var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=((r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;a;){var s,A;if((s=(A=a).dirty)===null||s===void 0||s.call(A,!0,!0),o)break;a=a.parentNode}i&&n.forEach(function(u){var f;(f=u.dirty)===null||f===void 0||f.call(u,!0,!0)}),this.informDependentDisplayObjects(n);var c=n.mutations||[],l=c.find(function(u){return u.type==="attributes"&&u._boundsChangeData});l?l._boundsChangeData={affectChildren:l._boundsChangeData.affectChildren||i}:(l={type:"attributes",target:n,_boundsChangeData:{affectChildren:i}},c.push(l)),n.mutations=c}},{key:"dirtyFragment",value:function(n){var r,i,a=n.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(r=(i=n).dirty)===null||r===void 0||r.call(i,!0,!0);for(var o=n.childNodes.length,s=0;s<o;s++)this.dirtyFragment(n.childNodes[s])}},{key:"notifyMutationObservers",value:function(n){var r=new Set;if(n.getRoot().forEach(function(a){(a.mutations||[]).forEach(function(o){o.type==="attributes"&&o._boundsChangeData&&(o._boundsChangeData.affectChildren?a.forEach(function(s){var A=(0,We.Z)({},o);A.target=s,r.add(A)}):r.add(o))}),a.mutations=void 0}),r.size>0){var i=new or(X.BOUNDS_CHANGED,{detail:Array.from(r)});n.dispatchEvent(i,!0,!0)}}},{key:"updateDisplayObjectDependency",value:function(n,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(a);o[n].splice(s,1)}}if(i){var A=this.displayObjectDependencyMap.get(i);A||(this.displayObjectDependencyMap.set(i,{}),A=this.displayObjectDependencyMap.get(i)),A[n]||(A[n]=[]),A[n].push(a)}}},{key:"informDependentDisplayObjects",value:function(n){var r,i=this,a=this.displayObjectDependencyMap.get(n);if(a){var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(a).forEach(function(s){a[s].forEach(function(A){i.dirtyToRoot(A,!0),A.dispatchEvent(new st(X.ATTR_MODIFIED,A,i,i,s,st.MODIFICATION,i,i),o,o),A.isCustomElement&&A.isConnected&&A.attributeChangedCallback&&A.attributeChangedCallback(s,i,i)})})}}}])}(),ZS=function(){function t(e){if((0,Qt.Z)(this,t),e<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=e,this.cache=new Map}return(0,Pt.Z)(t,[{key:"get",value:function(n){if(this.cache.has(n)){var r=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,r),r}}},{key:"put",value:function(n,r){if(this.cache.has(n)&&this.cache.delete(n),this.cache.set(n,r),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])}(),lh={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},YS=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,L5=/[!%),.:;?\]}'""]/,Q5=/[$('"]/,U5=/[!),.:;?\]}'""]/,P5=/[([{'"]/,R5=/[)\]'"?!:;,.]/,N5=/[(['"...]/,D5=/[!%),.:;?\]}'"]/,H5=/[$([{'"#]/,j5=new RegExp("".concat(L5.source,"|").concat(U5.source,"|").concat(R5.source,"|").concat(D5.source)),G5=new RegExp("".concat(Q5.source,"|").concat(P5.source,"|").concat(N5.source,"|").concat(H5.source)),K5=function(){function t(e){var n=this;(0,Qt.Z)(this,t),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return n.isBreakingSpace(i)?!1:!!(r&&(G5.exec(i)||j5.exec(r)))},this.trimByKinsokuShorui=function(r){var i=(0,tn.Z)(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=e,this.charWidthCache=new ZS(100)}return(0,Pt.Z)(t,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=lh.MetricsString+lh.BaselineSymbol,A=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(lh.BaselineSymbol).width),l=lh.HeightMultiplier*c;c=c*lh.BaselineMultiplier|0,a.width=A,a.height=l,o.fillStyle="#f00",o.fillRect(0,0,A,l),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var u=o.getImageData(0,0,A||1,l||1).data,f=u.length,d=A*4,h=0,g=0,v=!1;for(h=0;h<c;++h){for(var y=0;y<d;y+=4)if(u[g+y]!==255){v=!0;break}if(!v)g+=d;else break}for(i.ascent=c-h,g=f-d,v=!1,h=l;h>c;--h){for(var w=0;w<d;w+=4)if(u[g+w]!==255){v=!0;break}if(!v)g-=d;else break}return i.descent=h-c,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[n]=i,i}},{key:"measureText",value:function(n,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,A=s===void 0?!1:s,c=r.lineHeight,l=r.lineWidth,u=l===void 0?1:l,f=r.textBaseline,d=f===void 0?"alphabetic":f,h=r.textAlign,g=h===void 0?"start":h,v=r.letterSpacing,y=v===void 0?0:v,w=r.textPath;r.textPathSide,r.textPathStartOffset;var b=r.leading,B=b===void 0?0:b,E=E1(r),S=this.measureFont(E,i);S.fontSize===0&&(S.fontSize=o,S.ascent=o);var F=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);F.font=E,r.isOverflowing=!1;var k=A?this.wordWrap(n,r,i):n,T=k.split(/(?:\r\n|\r|\n)/),L=new Array(T.length),P=0;if(w){w.getTotalLength();for(var R=0;R<T.length;R++)F.measureText(T[R]).width+(T[R].length-1)*y}else{for(var U=0;U<T.length;U++){var N=F.measureText(T[U]).width+(T[U].length-1)*y;L[U]=N,P=Math.max(P,N)}var j=P+u,z=c||S.fontSize+u,W=Math.max(z,S.fontSize+u)+(T.length-1)*(z+B);z+=B;var D=0;return d==="middle"?D=-W/2:d==="bottom"||d==="alphabetic"||d==="ideographic"?D=-W:(d==="top"||d==="hanging")&&(D=0),{font:E,width:j,height:W,lines:T,lineWidths:L,lineHeight:z,maxLineWidth:P,fontProperties:S,lineMetrics:L.map(function(G,Y){var at=0;return g==="center"||g==="middle"?at-=G/2:(g==="right"||g==="end")&&(at-=G),new Br(at-u/2,D+Y*z,G+u,z)})}}}},{key:"wordWrap",value:function(n,r,i){var a=this,o=Array.from(n);if(o.length===0)return"";var s=this,A=r.wordWrapWidth,c=A===void 0?0:A,l=r.letterSpacing,u=l===void 0?0:l,f=r.maxLines,d=f===void 0?1/0:f,h=r.textOverflow,g=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),v=c+u,y="";h==="ellipsis"?y="...":h&&h!=="clip"&&(y=h);var w=[""],b=0,B=0,E=-1,S=E1(r),F=this.charWidthCache.get(S);F||(F=new ZS(500),this.charWidthCache.put(S,F));var k=function(G){return a.getFromCache(G,u,F,g)},T=k(y);function L(D,G,Y,at){for(;k(D)<at&&G<o.length-1&&!s.isNewline(o[G+1]);)G+=1,D+=o[G];for(;k(D)>at&&G>=Y;)G-=1,D=D.slice(0,-1);return{lineTxt:D,txtLastCharIndex:G}}function P(D,G){if(!(T<=0||T>v)){if(!w[D]){w[D]=y;return}var Y=L(w[D],G,E+1,v-T);w[D]=Y.lineTxt+y}}for(var R=0;R<o.length;R++){var U=o[R],N=o[R-1],j=o[R+1],z=k(U);if(this.isNewline(U)){if(b+1>=d){R<o.length-1&&P(b,R-1),r.isOverflowing=!0;break}E=R-1,b+=1,B=0,w[b]="";continue}if(z>v){P(b,R-1),r.isOverflowing=!0;break}if(B>0&&B+z>v){var W=L(w[b],R-1,E+1,v);if(W.txtLastCharIndex!==R-1){if(w[b]=W.lineTxt,W.txtLastCharIndex===o.length-1)break;R=W.txtLastCharIndex+1,U=o[R],N=o[R-1],j=o[R+1],z=k(U)}if(b+1>=d){P(b,R-1),r.isOverflowing=!0;break}if(E=R-1,b+=1,B=0,w[b]="",this.isBreakingSpace(U))continue;this.canBreakInLastChar(U)||(w=this.trimToBreakable(w),B=this.sumTextWidthByCache(w[b]||"",k)),this.shouldBreakByKinsokuShorui(U,j)&&(w=this.trimByKinsokuShorui(w),B+=k(N||""))}B+=z,w[b]+=U}return w.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:lh.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:lh.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=(0,tn.Z)(n),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),A=a+1,c=a+(s?0:1);return r[r.length-1]+=i.slice(A,i.length),r[r.length-2]=i.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&YS.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!YS.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,i,a){var o=i.get(n);if(typeof o!="number"){var s=n.length*r,A=a.measureText(n);o=A.width+s,i.put(n,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])}(),jt={},z5=function(t){var e=new h2,n=new d2;return t={},(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(t,St.FRAGMENT,null),St.CIRCLE,new c2),St.ELLIPSE,new l2),St.RECT,e),St.IMAGE,e),St.GROUP,new g2),St.LINE,new u2),St.TEXT,new p2(jt)),St.POLYLINE,n),St.POLYGON,n),(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(t,St.PATH,new f2),St.HTML,new v2),St.MESH,null)}(),W5=function(t){var e=new d1,n=new Av;return t={},(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(t,Yt.PERCENTAGE,null),Yt.NUMBER,new Ux),Yt.ANGLE,new Tx),Yt.DEFINED_PATH,new Ix),Yt.PAINT,e),Yt.COLOR,e),Yt.FILTER,new h1),Yt.LENGTH,n),Yt.LENGTH_PERCENTAGE,n),Yt.LENGTH_PERCENTAGE_12,new Lx),(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(t,Yt.LENGTH_PERCENTAGE_14,new Qx),Yt.COORDINATE,new Av),Yt.OFFSET_DISTANCE,new Px),Yt.OPACITY_VALUE,new Rx),Yt.PATH,new Nx),Yt.LIST_OF_POINTS,new Dx),Yt.SHADOW_BLUR,new g1),Yt.TEXT,new v1),Yt.TEXT_TRANSFORM,new Hx),Yt.TRANSFORM,new yv),(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(t,Yt.TRANSFORM_ORIGIN,new s2),Yt.Z_INDEX,new A2),Yt.MARKER,new bf)}(),V5=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof Ft.g!="undefined"?Ft.g:{}};jt.CameraContribution=Gp,jt.AnimationTimeline=null,jt.EasingFunction=null,jt.offscreenCanvasCreator=new p,jt.sceneGraphSelector=new Z,jt.sceneGraphService=new T1(jt),jt.textService=new K5(jt),jt.geometryUpdaterFactory=z5,jt.CSSPropertySyntaxFactory=W5,jt.styleValueRegistry=new kx(jt),jt.layoutRegistry=null,jt.globalThis=V5(),jt.enableStyleSyntax=!0,jt.enableSizeAttenuation=!1;var $S=0;function Xct(){$S=0}var w2=new st(X.INSERTED,null,"","","",0,"",""),b2=new st(X.REMOVED,null,"","","",0,"",""),XS=new or(X.DESTROY),Z5=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.entity=$S++,n.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.cullable={strategy:gf.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1?arguments[1]:void 0;this.renderable.dirty=r,i!==void 0&&(this.renderable.boundsDirty=i,this.renderable.renderBoundsDirty=i,this.geometry.dirty=i)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(Fn)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(Mr);return jt.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!ig(this)&&r.nodeName===St.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(w2.relatedNode=this,r.dispatchEvent(w2)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i,a,o=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return b2.relatedNode=this,r.dispatchEvent(b2,o,o),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),jt.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return jt.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return jt.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return jt.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return jt.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return jt.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return jt.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return jt.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(jt.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(A,c){var l;return(l=r.parentNode)===null||l===void 0?void 0:l.appendChild(A,i+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var A=o[0],c=(0,da.Z)(o).slice(1);this.parentNode.appendChild(A,i),(r=A).after.apply(r,(0,tn.Z)(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,A){return r.appendChild(s,A)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,i=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(XS,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return jt.sceneGraphService.getGeometryBounds(this,r)}},{key:"getTransformedGeometryBounds",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return jt.sceneGraphService.getTransformedGeometryBounds(this,r)}},{key:"getBounds",value:function(){return jt.sceneGraphService.getBounds(this)}},{key:"getRenderBounds",value:function(){return jt.sceneGraphService.getBounds(this,!0)}},{key:"getLocalBounds",value:function(){return jt.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return jt.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"getAttributeNode",value:function(r){throw new Error(Fn)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(Fn)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"removeAttributeNode",value:function(r){throw new Error(Fn)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(Fn)}},{key:"setAttributeNode",value:function(r){throw new Error(Fn)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(Fn)}},{key:"toggleAttribute",value:function(r,i){throw new Error(Fn)}}])}(qr);function $n(t){return!!(t!=null&&t.nodeName)}var Y5=jt.globalThis.Proxy?jt.globalThis.Proxy:function(){},$c=new st(X.ATTR_MODIFIED,null,null,null,null,st.MODIFICATION,null,null),bv=Ue(),$5=fi(),Dr=function(t){function e(n){var r;return(0,Qt.Z)(this,e),r=(0,je.Z)(this,e),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||St.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),jt.enableStyleSyntax&&(r.style=new Y5({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"destroy",value:function(){Gc(e,"destroy",this,3)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=(0,We.Z)({},this.attributes);for(var o in a){var s=a[o];$n(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var A=new this.constructor((0,We.Z)((0,We.Z)({},this.config),{},{style:a}));return A.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var l=c.cloneNode(r);A.appendChild(l)}}),A}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};jt.styleValueRegistry.processProperties(this,r,i),this.dirty()}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;_n(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),Gc(e,"setAttribute",this,3)([r,i]))}},{key:"setAttributes",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.skipDispatchAttrModifiedEvent,o=a===void 0?!1:a,s,A;if(o||(s=(0,We.Z)({},this.attributes),A=(0,We.Z)({},this.parsedStyle)),jt.styleValueRegistry.processProperties(this,r,i),this.dirty(),!o)for(var c in r)this.dispatchAttrModifiedEvent(c,s[c],r[c],A[c])}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];jt.styleValueRegistry.processProperties(this,(0,Ae.Z)({},r,i),a),this.dirty(),this.dispatchAttrModifiedEvent(r,o,i,s)}},{key:"dispatchAttrModifiedEvent",value:function(r,i,a,o){var s=this.parsedStyle[r];if(this.isConnected)if($c.relatedNode=this,$c.prevValue=i,$c.newValue=a,$c.attrName=r,$c.prevParsedValue=o,$c.newParsedValue=s,this.isMutationObserved)this.dispatchEvent($c);else{var A,c=((A=this.ownerDocument.defaultView.getConfig().future)===null||A===void 0?void 0:A.experimentalCancelEventPropagation)===!0;$c.target=this,this.ownerDocument.defaultView.dispatchEvent($c,!0,c)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var l,u;(l=(u=this).attributeChangedCallback)===null||l===void 0||l.call(u,r,i,a,o,s)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=(0,Ge.Z)(i,2),o=a[0],s=a[1],A=r.getMax(),c=(0,Ge.Z)(A,2),l=c[0],u=c[1];return new Br(o,s,l-o,u-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jt.sceneGraphService.setOrigin(this,zi(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return jt.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jt.sceneGraphService.setPosition(this,zi(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jt.sceneGraphService.setLocalPosition(this,zi(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jt.sceneGraphService.translate(this,zi(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jt.sceneGraphService.translateLocal(this,zi(r,i,a,!1)),this}},{key:"getPosition",value:function(){return jt.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return jt.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=zi(r,i,a,!1)),jt.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=zi(r,i,a,!1)),jt.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return jt.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return jt.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=hf(bv,jt.sceneGraphService.getWorldTransform(this)),i=(0,Ge.Z)(r,3),a=i[2];return fo(a)}},{key:"getLocalEulerAngles",value:function(){var r=hf(bv,jt.sceneGraphService.getLocalRotation(this)),i=(0,Ge.Z)(r,3),a=i[2];return fo(a)}},{key:"setEulerAngles",value:function(r){return jt.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return jt.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return be(i)&&be(a)?jt.sceneGraphService.rotateLocal(this,0,0,r):jt.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return be(i)&&be(a)?jt.sceneGraphService.rotate(this,0,0,r):jt.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return jt.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return jt.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return jt.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return jt.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return jt.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return jt.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return jt.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return jt.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return jt.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){jt.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,(0,tn.Z)(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,(0,tn.Z)(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],A=a[1];return s?Vl(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):a.length===2?(this.setAttribute(s,A),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=Ra(bv,i),o=(0,Ge.Z)(a,2),s=o[0],A=o[1],c=tA(bv,i),l=(0,Ge.Z)(c,2),u=l[0],f=l[1],d=Pu($5,i),h=hf(bv,d),g=(0,Ge.Z)(h,3),v=g[0],y=g[2];return Z0(v||y,s,A,u,f)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=Jd(r),a=(0,Ge.Z)(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setEulerAngles(l).setPosition(o,s).setLocalScale(A,c)}},{key:"setLocalMatrix",value:function(r){var i=Jd(r),a=(0,Ge.Z)(i,5),o=a[0],s=a[1],A=a[2],c=a[3],l=a[4];this.setLocalEulerAngles(l).setLocalPosition(o,s).setLocalScale(A,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])}(Z5);Dr.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Xc=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.CIRCLE},n)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);Xc.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var X5=["style"],uh=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=(0,uo.Z)(r,X5);return(0,Qt.Z)(this,e),n=(0,je.Z)(this,e,[(0,We.Z)({style:i},a)]),n.isCustomElement=!0,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);uh.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var I1=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.ELLIPSE},n)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);I1.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var q5=function(t){function e(){return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[{type:St.FRAGMENT}])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);q5.PARSED_STYLE_LIST=new Set(["class","className"]);var ka=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.GROUP},n)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);ka.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var J5=["style"],fh=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=(0,uo.Z)(r,J5);return(0,Qt.Z)(this,e),n=(0,je.Z)(this,e,[(0,We.Z)({type:St.HTML,style:i},a)]),n.cullable.enable=!1,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Pa(nr(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!Rr.isEmpty(i)){var a=new Rr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])}(Dr);fh.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var L1=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.IMAGE},n)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);L1.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var tH=["style"],dh=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=(0,uo.Z)(r,tH);(0,Qt.Z)(this,e),n=(0,je.Z)(this,e,[(0,We.Z)({type:St.LINE,style:(0,We.Z)({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd;return s&&$n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),A&&$n(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&$n(o)&&(this.markerStartAngle=0,o.remove()),s&&$n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&$n(o)&&(this.markerEndAngle=0,o.remove()),s&&$n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.x1,l=i.x2,u=i.y1,f=i.y2,d=r?a:o;if(!(!d||!$n(d))){var h=0,g,v,y,w,b,B;r?(y=c,w=u,g=l-c,v=f-u,b=s||0,B=this.markerStartAngle):(y=l,w=f,g=c-l,v=u-f,b=A||0,B=this.markerEndAngle),h=Math.atan2(v,g),d.setLocalEulerAngles(h*180/Math.PI+B),d.setLocalPosition(y+Math.cos(h)*b,w+Math.sin(h)*b)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,A=a.x2,c=a.y2,l=Ao(o,s,A,c,r),u=l.x,f=l.y,d=Or(Ue(),vn(u,f,0),i?this.getWorldTransform():this.getLocalTransform());return new oi(d[0],d[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return nc(i,a,o,s)}}])}(Dr);dh.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var eH=["style"],pa=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=(0,uo.Z)(r,eH);(0,Qt.Z)(this,e),n=(0,je.Z)(this,e,[(0,We.Z)({type:St.PATH,style:i,initialParsedStyle:{miterLimit:4,d:(0,We.Z)({},Wp)}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&$n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&$n(c)&&n.placeMarkerMid(c),A&&$n(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&$n(o)&&(this.markerStartAngle=0,o.remove()),s&&$n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&$n(o)&&(this.markerEndAngle=0,o.remove()),s&&$n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=r?a:o;if(!(!c||!$n(c))){var l=0,u,f,d,h,g,v;if(r){var y=this.getStartTangent(),w=(0,Ge.Z)(y,2),b=w[0],B=w[1];d=B[0],h=B[1],u=b[0]-B[0],f=b[1]-B[1],g=s||0,v=this.markerStartAngle}else{var E=this.getEndTangent(),S=(0,Ge.Z)(E,2),F=S[0],k=S[1];d=k[0],h=k[1],u=F[0]-k[0],f=F[1]-k[1],g=A||0,v=this.markerEndAngle}l=Math.atan2(f,u),c.setLocalEulerAngles(l*180/Math.PI+v),c.setLocalPosition(d+Math.cos(l)*g,h+Math.sin(l)*g)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(l){l.remove()}),r&&$n(r))for(var a=1;a<i.length-1;a++){var o=(0,Ge.Z)(i[a].currentPoint,2),s=o[0],A=o[1],c=a===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,A)}}},{key:"getTotalLength",value:function(){return rv(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=Q0(a,r),s=o.x,A=o.y,c=Or(Ue(),vn(s,A,0),i?this.getWorldTransform():this.getLocalTransform());return new oi(c[0],c[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*rv(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,A=r[i-1].endTangent;a=[],A?(a.push([s[0]-A[0],s[1]-A[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])}(Dr);pa.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var nH=["style"],hh=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=(0,uo.Z)(r,nH);(0,Qt.Z)(this,e),n=(0,je.Z)(this,e,[(0,We.Z)({type:St.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,A=o.markerEnd,c=o.markerMid;return s&&$n(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&$n(c)&&n.placeMarkerMid(c),A&&$n(A)&&(n.markerEndAngle=A.getLocalEulerAngles(),n.appendChild(A)),n.transformMarker(!0),n.transformMarker(!1),n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&$n(o)&&(this.markerStartAngle=0,o.remove()),s&&$n(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&$n(o)&&(this.markerEndAngle=0,o.remove()),s&&$n(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,A=i.markerEndOffset,c=i.points,l=c||{},u=l.points,f=r?a:o;if(!(!f||!$n(f)||!u)){var d=0,h,g,v,y,w,b;if(v=u[0][0],y=u[0][1],r)h=u[1][0]-u[0][0],g=u[1][1]-u[0][1],w=s||0,b=this.markerStartAngle;else{var B=u.length;this.parsedStyle.isClosed?(h=u[B-1][0]-u[0][0],g=u[B-1][1]-u[0][1]):(v=u[B-1][0],y=u[B-1][1],h=u[B-2][0]-u[B-1][0],g=u[B-2][1]-u[B-1][1]),w=A||0,b=this.markerEndAngle}d=Math.atan2(g,h),f.setLocalEulerAngles(d*180/Math.PI+b),f.setLocalPosition(v+Math.cos(d)*w,y+Math.sin(d)*w)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(u){u.remove()}),this.markerMidList=[],r&&$n(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var A=o[s][0],c=o[s][1],l=s===1?r:r.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(A,c)}}}])}(Dr);hh.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var rH=["style"],Q1=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=(0,uo.Z)(n,rH);return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"getTotalLength",value:function(){return dx(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,A,c,l=this.getTotalLength();a.forEach(function(y,w){a[w+1]&&(A=[0,0],A[0]=s/l,c=nc(y[0],y[1],a[w+1][0],a[w+1][1]),s+=c,A[1]=s/l,o.push(A))}),this.parsedStyle.points.segments=o}var u=0,f=0;this.parsedStyle.points.segments.forEach(function(y,w){r>=y[0]&&r<=y[1]&&(u=(r-y[0])/(y[1]-y[0]),f=w)});var d=Ao(a[f][0],a[f][1],a[f+1][0],a[f+1][1],u),h=d.x,g=d.y,v=Or(Ue(),vn(h,g,0),i?this.getWorldTransform():this.getLocalTransform());return new oi(v[0],v[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])}(hh);Q1.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(hh.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Bf=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.RECT},n)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Dr);Bf.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var iH=["style"],yA=function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=(0,uo.Z)(n,iH);return(0,Qt.Z)(this,e),(0,je.Z)(this,e,[(0,We.Z)({type:St.TEXT,style:(0,We.Z)({fill:"black"},r)},i)])}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(Dr);yA.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(Dr.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textDecorationThickness","textPathSide","textPathStartOffset","metrics","dx","dy"]));var aH=function(){function t(){(0,Qt.Z)(this,t),this.registry={},this.define(St.CIRCLE,Xc),this.define(St.ELLIPSE,I1),this.define(St.RECT,Bf),this.define(St.IMAGE,L1),this.define(St.LINE,dh),this.define(St.GROUP,ka),this.define(St.PATH,pa),this.define(St.POLYGON,hh),this.define(St.POLYLINE,Q1),this.define(St.TEXT,yA),this.define(St.HTML,fh)}return(0,Pt.Z)(t,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])}(),B2={number:function(e){return new Yn(e)},percent:function(e){return new Yn(e,"%")},px:function(e){return new Yn(e,"px")},em:function(e){return new Yn(e,"em")},rem:function(e){return new Yn(e,"rem")},deg:function(e){return new Yn(e,"deg")},grad:function(e){return new Yn(e,"grad")},rad:function(e){return new Yn(e,"rad")},turn:function(e){return new Yn(e,"turn")},s:function(e){return new Yn(e,"s")},ms:function(e){return new Yn(e,"ms")},registerProperty:function(e){var n=e.name,r=e.inherits,i=e.interpolable,a=e.initialValue,o=e.syntax;jt.styleValueRegistry.registerMetadata({n,inh:r,int:i,d:a,syntax:o})},registerLayout:function(e,n){jt.layoutRegistry.registerLayout(e,n)}},oH=function(t){function e(){var n;(0,Qt.Z)(this,e),n=(0,je.Z)(this,e),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new jt.AnimationTimeline(n)}catch(i){}var r={};return rg.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=hi(s)?s(St.GROUP):s)}),n.documentElement=new ka({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?yA:ka);var o=new a(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(Fn)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(r){}}},{key:"elementsFromBBox",value:function(r,i,a,o){var s=[],A=function(l){if(!(!l.isInteractive()||l.isCulled())){var u=l.parsedStyle.pointerEvents,f=u===void 0?"auto":u,d=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(f);if(!d||l.isVisible()){var h=l.getTransformedGeometryBounds(!0);h&&!Rr.isEmpty(h)&&h.max[0]>=r&&h.min[0]<=a&&h.max[1]>=i&&h.min[1]<=o&&s.push(l)}l.childNodes&&l.childNodes.forEach(function(g){g instanceof Dr&&A(g)})}};return A(this.documentElement),s.sort(function(c,l){return l.sortable.renderOrder-c.sortable.renderOrder}),s}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return null;var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),g=h.picked;return g&&g[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var n=(0,ja.Z)((0,ha.Z)().mark(function i(a,o){var s,A,c,l,u,f,d,h,g,v,y;return(0,ha.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){w.next=1;break}return w.abrupt("return",null);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,g=d.y,w.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:g},picked:[]});case 2:return v=w.sent,y=v.picked,w.abrupt("return",y&&y[0]||this.documentElement);case 3:case"end":return w.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,A=this.defaultView.getConfig(),c=A.width,l=A.height;if(o<0||s<0||o>c||s>l)return[];var u=this.defaultView.viewport2Client({x:o,y:s}),f=u.x,d=u.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:f,clientY:d},picked:[]}),g=h.picked;return g[g.length-1]!==this.documentElement&&g.push(this.documentElement),g}},{key:"elementsFromPoint",value:function(){var n=(0,ja.Z)((0,ha.Z)().mark(function i(a,o){var s,A,c,l,u,f,d,h,g,v,y;return(0,ha.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),A=s.x,c=s.y,l=this.defaultView.getConfig(),u=l.width,f=l.height,!(A<0||c<0||A>u||c>f)){w.next=1;break}return w.abrupt("return",[]);case 1:return d=this.defaultView.viewport2Client({x:A,y:c}),h=d.x,g=d.y,w.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:o,viewportX:A,viewportY:c,clientX:h,clientY:g},picked:[]});case 2:return v=w.sent,y=v.picked,y[y.length-1]!==this.documentElement&&y.push(this.documentElement),w.abrupt("return",y);case 3:case"end":return w.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r}()},{key:"appendChild",value:function(r,i){throw new Error(kn)}},{key:"insertBefore",value:function(r,i){throw new Error(kn)}},{key:"removeChild",value:function(r,i){throw new Error(kn)}},{key:"replaceChild",value:function(r,i,a){throw new Error(kn)}},{key:"append",value:function(){throw new Error(kn)}},{key:"prepend",value:function(){throw new Error(kn)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])}(qr),qS=function(){function t(e){(0,Qt.Z)(this,t),this.strategies=e}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=n.config,i=n.camera,a=n.renderingService,o=n.renderingContext,s=this.strategies;a.hooks.cull.tap(t.tag,function(A){if(A){var c,l=A.cullable;if(s.length===0?l.visible=o.unculledEntities.indexOf(A.entity)>-1:l.visible=s.every(function(f){return f.isVisible(i,A)}),!A.isCulled()&&A.isVisible())return A;var u=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return A.dispatchEvent(new or(X.CULLED),u,u),null}return A}),a.hooks.afterRender.tap(t.tag,function(A){A.cullable.visibilityPlaneMask=-1})}}])}();qS.tag="Culling";var JS=function(){function t(){var e=this;(0,Qt.Z)(this,t),this.autoPreventDefault=!1,this.rootPointerEvent=new mv(null),this.rootWheelEvent=new wv(null),this.onPointerMove=function(n){var r,i=(r=e.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&n.pointerType==="touch")){var a=e.normalizeToPointerEvent(n,i),o=(0,Po.Z)(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=e.bootstrapEvent(e.rootPointerEvent,A,i,n);e.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(n){var r,i=(r=e.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=e.normalizeToPointerEvent(n,i),o=(0,Po.Z)(a),s;try{for(o.s();!(s=o.n()).done;){var A=s.value,c=e.bootstrapEvent(e.rootPointerEvent,A,i,n);e.context.eventService.mapEvent(c)}}catch(l){o.e(l)}finally{o.f()}e.setCursor(e.context.eventService.cursor)}}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=this;this.context=n;var i=n.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),A=s.picked;return A[0]||null}),i.hooks.pointerWheel.tap(t.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var A=o.cancelable||!("cancelable"in o);A&&o.preventDefault()}var c=(0,Po.Z)(s),l;try{for(c.s();!(l=c.n()).done;){var u=l.value,f=r.bootstrapEvent(r.rootPointerEvent,u,a,o);r.context.eventService.mapEvent(f)}}catch(d){c.e(d)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),A=r.context.eventService.isNativeEventFromCanvas(s,o),c=A?"":"outside",l=r.normalizeToPointerEvent(o,a),u=(0,Po.Z)(l),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=r.bootstrapEvent(r.rootPointerEvent,d,a,o);h.type+=c,r.context.eventService.mapEvent(h)}}catch(g){u.e(g)}finally{u.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(t.tag,this.onPointerMove),i.hooks.pointerOver.tap(t.tag,this.onPointerMove),i.hooks.pointerOut.tap(t.tag,this.onPointerMove),i.hooks.click.tap(t.tag,this.onClick),i.hooks.pointerCancel.tap(t.tag,function(o){var s=r.normalizeToPointerEvent(o,a),A=(0,Po.Z)(s),c;try{for(A.s();!(c=A.n()).done;){var l=c.value,u=r.bootstrapEvent(r.rootPointerEvent,l,a,o);r.context.eventService.mapEvent(u)}}catch(f){A.e(f)}finally{A.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,i,a){n.view=i,n.originalEvent=null,n.nativeEvent=a,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,A=o.y;n.viewport.x=s,n.viewport.y=A;var c=this.context.eventService.viewport2Canvas(n.viewport),l=c.x,u=c.y;return n.canvas.x=l,n.canvas.y=u,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=a.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=Yx[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var i=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),A=s.x,c=s.y;return r.canvas.x=A,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=uv.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var i=[];if(r.isTouchEvent(n))for(var a=0;a<n.changedTouches.length;a++){var o=n.changedTouches[a];_n(o.button)&&(o.button=0),_n(o.buttons)&&(o.buttons=1),_n(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),_n(o.width)&&(o.width=o.radiusX||1),_n(o.height)&&(o.height=o.radiusY||1),_n(o.tiltX)&&(o.tiltX=0),_n(o.tiltY)&&(o.tiltY=0),_n(o.pointerType)&&(o.pointerType="touch"),_n(o.pointerId)&&(o.pointerId=o.identifier||0),_n(o.pressure)&&(o.pressure=o.force||.5),_n(o.twist)&&(o.twist=0),_n(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,i.push(o)}else if(r.isMouseEvent(n)){var s=n;_n(s.isPrimary)&&(s.isPrimary=!0),_n(s.width)&&(s.width=1),_n(s.height)&&(s.height=1),_n(s.tiltX)&&(s.tiltX=0),_n(s.tiltY)&&(s.tiltY=0),_n(s.pointerType)&&(s.pointerType="mouse"),_n(s.pointerId)&&(s.pointerId=Zx),_n(s.pressure)&&(s.pressure=.5),_n(s.twist)&&(s.twist=0),_n(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(n);return i}}])}();JS.tag="Event";var sH=[St.CIRCLE,St.ELLIPSE,St.IMAGE,St.RECT,St.LINE,St.POLYLINE,St.POLYGON,St.TEXT,St.PATH,St.HTML],AH=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"isVisible",value:function(n,r){var i,a=r.cullable;if(!a.enable)return!0;var o=r.getRenderBounds();if(Rr.isEmpty(o))return!1;var s=n.getFrustum(),A=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,A||oe.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==oe.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i,a){if(i===oe.OUTSIDE||i===oe.INSIDE)return i;for(var o=oe.INSIDE,s=sH.indexOf(n.nodeName)>-1,A=0,c=a.length;A<c;++A){var l=1<<A;if(i&l&&!(s&&(A===4||A===5))){var u=a[A],f=u.normal,d=u.distance;if(xa(f,r.getPositiveFarPoint(a[A]))+d<0)return oe.OUTSIDE;xa(f,r.getNegativeFarPoint(a[A]))+d<0&&(o|=l)}}return o}}])}(),tM=function(){function t(){(0,Qt.Z)(this,t),this.mutationRecords=[],this.isFirstTimeRendering=!0,this.isFirstTimeRenderingFinished=!1}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=this,i,a=n.renderingService,o=n.renderingContext,s=o.root.ownerDocument.defaultView,A=function(h){a.dirty()},c=function(h){var g,v=h.detail;(g=r.mutationRecords).push.apply(g,(0,tn.Z)(v)),a.dirty()},l=function(h){var g=h.target;jt.enableSizeAttenuation&&jt.styleValueRegistry.updateSizeAttenuation(g,s.getCamera().getZoom())},u=function(h){var g=h.target;jt.sceneGraphService.dirtyToRoot(g),a.dirty()};a.hooks.init.tap(t.tag,function(){s.addEventListener(X.MOUNTED,l),s.addEventListener(X.UNMOUNTED,u),s.addEventListener(X.ATTR_MODIFIED,A),s.addEventListener(X.BOUNDS_CHANGED,c)}),a.hooks.destroy.tap(t.tag,function(){s.removeEventListener(X.MOUNTED,l),s.removeEventListener(X.UNMOUNTED,u),s.removeEventListener(X.ATTR_MODIFIED,A),s.removeEventListener(X.BOUNDS_CHANGED,c),r.mutationRecords=[]});var f=(i=jt.globalThis.requestIdleCallback)!==null&&i!==void 0?i:dv.bind(jt.globalThis);a.hooks.endFrame.tap(t.tag,function(){r.isFirstTimeRendering&&(r.isFirstTimeRendering=!1,f(function(){r.isFirstTimeRenderingFinished=!0})),r.mutationRecords=[]})}}])}();tM.tag="Prepare";function qct(t){return!!t.document}var mA=function(t){return t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged",t}({}),eM=500,cH=.1,lH=1e3,U1=new or(X.MOUNTED),P1=new or(X.UNMOUNTED),x2=new or(mA.BEFORE_RENDER),nM=new or(mA.RERENDER),_2=new or(mA.AFTER_RENDER),rM=function(t){function e(n){var r;(0,Qt.Z)(this,e),r=(0,je.Z)(this,e),r.Element=Dr,r.inited=!1,r.context={};var i=n.container,a=n.canvas,o=n.renderer,s=n.width,A=n.height,c=n.background,l=n.cursor,u=n.supportsMutipleCanvasesInOneContainer,f=n.cleanUpOnDestroy,d=f===void 0?!0:f,h=n.offscreenCanvas,g=n.devicePixelRatio,v=n.requestAnimationFrame,y=n.cancelAnimationFrame,w=n.createImage,b=n.supportsTouchEvents,B=n.supportsPointerEvents,E=n.isTouchEvent,S=n.isMouseEvent,F=n.dblClickSpeed,k=s,T=A,L=g||lv&&window.devicePixelRatio||1;return L=L>=1?Math.ceil(L):1,a&&(k=s||Wx(a)||a.width/L,T=A||Vx(a)||a.height/L),r.customElements=new aH,r.devicePixelRatio=L,r.requestAnimationFrame=v!=null?v:dv.bind(jt.globalThis),r.cancelAnimationFrame=y!=null?y:O1.bind(jt.globalThis),r.createImage=w!=null?w:function(){return new window.Image},r.supportsTouchEvents=b!=null?b:"ontouchstart"in jt.globalThis,r.supportsPointerEvents=B!=null?B:!!jt.globalThis.PointerEvent,r.isTouchEvent=E!=null?E:function(P){return r.supportsTouchEvents&&P instanceof jt.globalThis.TouchEvent},r.isMouseEvent=S!=null?S:function(P){return!jt.globalThis.MouseEvent||P instanceof jt.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(P instanceof jt.globalThis.PointerEvent))},h&&(jt.offscreenCanvas=h),r.document=new oH,r.document.defaultView=r,u||jx(i,r,d),r.initRenderingContext((0,We.Z)((0,We.Z)({},n),{},{width:k,height:T,background:c!=null?c:"transparent",cursor:l!=null?l:"default",cleanUpOnDestroy:d,devicePixelRatio:L,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:F!=null?F:200})),r.initDefaultCamera(k,T,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var o=this,s=new jt.CameraContribution;s.clipSpaceNearZ=a,s.setType(Un.EXPLORING,ac.DEFAULT).setPosition(r/2,i/2,eM).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,cH,lH),s.canvas=this,s.eventEmitter.on(oc.UPDATED,function(){o.context.renderingContext.renderReasons.add(m.CAMERA_CHANGED),jt.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){jt.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;ir.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new or(mA.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();i&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),a||this.dispatchEvent(new or(mA.AFTER_DESTROY),o,o);var A=function(l){l.currentTarget=null,l.manager=null,l.target=null,l.relatedNode=null};A(U1),A(P1),A(x2),A(nM),A(_2),A($c),A(w2),A(b2),A(XS),jt.textService.clearCache()}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a,o=this.context.config;o.width=r,o.height=i,this.getContextService().resize(r,i);var s=this.context.camera,A=s.getProjectionMode();s.setPosition(r/2,i/2,eM).setFocalPoint(r/2,i/2,0),A===po.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i);var c=((a=o.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new or(mA.RESIZE,{width:r,height:i}),c,c)}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i,a=this;r&&(x2.detail=r,_2.detail=r);var o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(x2,o,o);var s=this.getRenderingService();s.render(this,r,function(){a.dispatchEvent(nM,o,o)}),this.dispatchEvent(_2,o,o)}},{key:"run",value:function(){var r=this,i=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new JS,new tM,new qS([new AH])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService((0,We.Z)((0,We.Z)({},jt),this.context)),this.context.renderingService=new M(jt,this.context),this.context.eventService=new m2(jt,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;i.inited=!0;var A=((s=i.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;a?o?i.requestAnimationFrame(function(){i.dispatchEvent(new or(mA.READY),A,A)}):i.dispatchEvent(new or(mA.READY),A,A):i.dispatchEvent(new or(mA.RENDERER_CHANGED),A,A),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(c){var l,u;(l=(u=c).dirty)===null||l===void 0||l.call(u,!0,!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(o){o.context=i.context,o.init(jt)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),(0,tn.Z)((a==null?void 0:a.getPlugins())||[]).reverse().forEach(function(o){o.destroy(jt)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;if(r.childNodes.forEach(function(s){i.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(P1);else{var a,o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;P1.target=r,this.dispatchEvent(P1,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ig(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!a))if(r.isMutationObserved)r.dispatchEvent(U1);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;U1.target=r,this.dispatchEvent(U1,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(A){i.mountChildren(A,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])}(k1),Jct=0,iM=new WeakMap,aM=null,tlt=null,elt=null,R1,Au;function nlt(t,e){return R1=new aM(t,e)}function rlt(t){return Au||(Au=aM.copy(R1),Au.oldValue=t,Au)}function ilt(){R1=Au=void 0}function uH(t){return t===Au||t===R1}function alt(t,e){return t===e?t:Au&&uH(t)?Au:null}function fH(t){t.nodes.forEach(function(e){var n=iM.get(e);n&&n.forEach(function(r){r.observer===t&&r.removeTransientObservers()})})}function olt(t,e){for(var n=t;n;n=n.parentNode){var r=iM.get(n);if(r)for(var i=0;i<r.length;i++){var a=r[i],o=a.options;if(!(n!==t&&!o.subtree)){var s=e(o);s&&a.enqueue(s)}}}}var C2=!1,O2=null;function slt(t){O2.push(t),C2||(C2=!0,typeof jt.globalThis!="undefined"?jt.globalThis.setTimeout(E2):E2())}function E2(){C2=!1;var t=O2;O2=[],t.sort(function(n,r){return n.uid-r.uid});var e=!1;t.forEach(function(n){var r=n.takeRecords();fH(n),r.length&&(n.callback(r,n),e=!0)}),e&&E2()}var dH=function(){function t(){(0,Qt.Z)(this,t),this.cacheStore=new Map}return(0,Pt.Z)(t,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,i){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([i.entity])}),this.onRefAdded(i),!0)}},{key:"get",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.has(r.entity)||(i.counter.add(r.entity),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(n,r,i){var a=this.cacheStore.get(n);return a?(a.value=(0,We.Z)((0,We.Z)({},a.value),r),a.counter.has(i.entity)||(a.counter.add(i.entity),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.delete(r.entity),i.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),S2=[],M2=[],F2=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;t.rafId&&(n.cancelAnimationFrame(t.rafId),t.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;S2.length<=0&&M2.length<=0||(M2.forEach(function(r){return r()}),M2=S2.splice(0,t.TASK_NUM_PER_FRAME),t.rafId=n.requestAnimationFrame(function(){t.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,i,a){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t.api,A=n.naturalWidth||n.width,c=n.naturalHeight||n.height,l=r-o,u=i-o,f=Math.ceil(A/l),d=Math.ceil(c/u),h={tileSize:[r,i],gridSize:[d,f],tiles:Array(d).fill(null).map(function(){return Array(f).fill(null)})},g=function(w){for(var b=function(S){S2.push(function(){var F=S*l,k=w*u,T=[Math.min(r,A-F),Math.min(i,c-k)],L=T[0],P=T[1],R=s.createCanvas();R.width=r,R.height=i;var U=R.getContext("2d");U.drawImage(n,F,k,L,P,0,0,L,P),h.tiles[w][S]={x:F,y:k,tileX:S,tileY:w,data:R},a()})},B=0;B<f;B++)b(B)},v=0;v<d;v++)g(v);return t.stop(),t.executeTask(),h}}])}();F2.TASK_NUM_PER_FRAME=10;var Hs=new dH;Hs.onRefAdded=function(e){var n=this;e.addEventListener(X.DESTROY,function(){n.releaseRef(e)},{once:!0})};var k2=function(){function t(e,n){(0,Qt.Z)(this,t),this.gradientCache={},this.patternCache={},this.context=e,this.runtime=n}return(0,Pt.Z)(t,[{key:"getImageSync",value:function(n,r,i){var a=fr(n)?n:n.src;if(Hs.has(a)){var o=Hs.get(a,r);if(o.img.complete)return i==null||i(o),o}return this.getOrCreateImage(n,r).then(function(s){i==null||i(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(n,r){var i=this,a=fr(n)?n:n.src;if(!fr(n)&&!Hs.has(a)){var o={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:N1(n)};Hs.put(a,o,r)}if(Hs.has(a)){var s=Hs.get(a,r);return s.img.complete?Promise.resolve(s):new Promise(function(A,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=N1(s.img),A(s)}),s.img.addEventListener("error",function(l){c(l)})})}return new Promise(function(A,c){var l=i.context.config.createImage();if(l){var u={img:l,size:[0,0],tileSize:N1(l)};Hs.put(a,u,r),l.onload=function(){u.size=[l.naturalWidth||l.width,l.naturalHeight||l.height],u.tileSize=N1(u.img),A(u)},l.onerror=function(f){c(f)},l.crossOrigin="Anonymous",l.src=a}})}},{key:"createDownSampledImage",value:function(){var e=(0,ja.Z)((0,ha.Z)().mark(function r(i,a){var o,s,A,c,l,u,f,d,h,g,v,y,w,b;return(0,ha.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=1,this.getOrCreateImage(i,a);case 1:if(o=B.sent,typeof o.downSamplingRate=="undefined"){B.next=2;break}return B.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,A=typeof s=="boolean"?{}:s,c=A.maxDownSampledImageSize,l=c===void 0?2048:c,u=A.downSamplingRateThreshold,f=u===void 0?.5:u,d=this.runtime.globalThis.createImageBitmap,h=(0,Ge.Z)(o.size,2),g=h[0],v=h[1],y=o.img,w=Math.min((l+l)/(g+v),Math.max(.01,Math.min(f,.5))),b=(0,We.Z)((0,We.Z)({},o),{},{downSamplingRate:w}),Hs.update(o.img.src,b,a),!d){B.next=7;break}return B.prev=3,B.next=4,d(o.img,{resizeWidth:g*w,resizeHeight:v*w});case 4:y=B.sent,B.next=6;break;case 5:B.prev=5,B.catch(3),w=1;case 6:B.next=8;break;case 7:w=1;case 8:return b=(0,We.Z)((0,We.Z)({},this.getImageSync(i,a)),{},{downSampled:y,downSamplingRate:w}),Hs.update(o.img.src,b,a),B.abrupt("return",b);case 9:case"end":return B.stop()}},r,this,[[3,5]])}));function n(r,i){return e.apply(this,arguments)}return n}()},{key:"createImageTiles",value:function(){var e=(0,ja.Z)((0,ha.Z)().mark(function r(i,a,o,s){var A,c,l,u,f;return(0,ha.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=1,this.getOrCreateImage(i,s);case 1:return A=d.sent,c=s.ownerDocument.defaultView,l=c.requestAnimationFrame,u=c.cancelAnimationFrame,F2.api={requestAnimationFrame:l,cancelAnimationFrame:u,createCanvas:function(){return p.createCanvas()}},f=(0,We.Z)((0,We.Z)({},A),F2.sliceImage(A.img,A.tileSize[0],A.tileSize[0],o)),Hs.update(A.img.src,f,s),d.abrupt("return",f);case 2:case"end":return d.stop()}},r,this)}));function n(r,i,a,o){return e.apply(this,arguments)}return n}()},{key:"releaseImage",value:function(n,r){Hs.release(fr(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){Hs.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,i,a,o,s,A){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var l=r.image,u=r.repetition,f=r.transform,d,h=!1;if(fr(l)){var g=this.getImageSync(l,n,A);d=g==null?void 0:g.img}else a?(d=a,h=!0):d=l;var v=d&&i.createPattern(d,u);if(v){var y;f?y=sg(s1(f),new Dr({})):y=_s(nr()),h&&Bl(y,y,[1/o,1/o,1]),v.setTransform({a:y[0],b:y[1],c:y[4],d:y[5],e:y[12]+s[0],f:y[13]+s[1]})}return c&&v&&(this.patternCache[c]=v),v}},{key:"getOrCreateGradient",value:function(n,r){var i=this.generateGradientKey(n),a=n.type,o=n.steps,s=n.min,A=n.width,c=n.height,l=n.angle,u=n.cx,f=n.cy,d=n.size;if(this.gradientCache[i])return this.gradientCache[i];var h=null;if(a===Vc.LinearGradient){var g=qB(s,A,c,l),v=g.x1,y=g.y1,w=g.x2,b=g.y2;h=r.createLinearGradient(v,y,w,b)}else if(a===Vc.RadialGradient){var B=J0(s,A,c,u,f,d),E=B.x,S=B.y,F=B.r;h=r.createRadialGradient(E,S,0,E,S,F)}return h&&(o.forEach(function(k){var T=k.offset,L=k.color;if(T.unit===Kt.kPercentage){var P;(P=h)===null||P===void 0||P.addColorStop(T.value/100,L.toString())}}),this.gradientCache[i]=h),this.gradientCache[i]}},{key:"generateGradientKey",value:function(n){var r=n.type,i=n.min,a=n.width,o=n.height,s=n.steps,A=n.angle,c=n.cx,l=n.cy,u=n.size;return"gradient-".concat(r,"-").concat((A==null?void 0:A.toString())||0,"-").concat((c==null?void 0:c.toString())||0,"-").concat((l==null?void 0:l.toString())||0,"-").concat((u==null?void 0:u.toString())||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(o,"-").concat(s.map(function(f){var d=f.offset,h=f.color;return"".concat(d).concat(h)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,i=n.repetition;if(fr(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])}();k2.isSupportTile=!!p.createCanvas();function N1(t){if(!t.complete)return[0,0];var e=t.naturalWidth||t.width,n=t.naturalHeight||t.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(n/i),o=Math.ceil(e/i);a*o<1e3&&(r=i)}),[r,r]}var oM=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=n.renderingService,i=n.renderingContext,a=n.imagePool,o=i.root.ownerDocument.defaultView,s=function(u,f,d){var h=u.parsedStyle,g=h.width,v=h.height;g&&!v?u.setAttribute("height",d/f*g):!g&&v&&u.setAttribute("width",f/d*v)},A=function(u){var f=u.target,d=f.nodeName,h=f.attributes;if(d===St.IMAGE){var g=h.src,v=h.keepAspectRatio;a.getImageSync(g,f,function(y){var w=y.img,b=w.width,B=w.height;v&&s(f,b,B),f.dirty(),r.dirty()})}},c=function(u){var f=u.target,d=u.attrName,h=u.prevValue,g=u.newValue;f.nodeName!==St.IMAGE||d!=="src"||(h!==g&&a.releaseImage(h,f),fr(g)&&a.getOrCreateImage(g,f).then(function(v){var y=v.img,w=y.width,b=y.height;f.attributes.keepAspectRatio&&s(f,w,b),f.dirty(),r.dirty()}).catch(function(){}))};r.hooks.init.tap(t.tag,function(){o.addEventListener(X.MOUNTED,A),o.addEventListener(X.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener(X.MOUNTED,A),o.removeEventListener(X.ATTR_MODIFIED,c)})}}])}();oM.tag="LoadImage";var hH=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="image-loader",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(r){this.context.imagePool=new k2(this.context,r),this.addRenderingPlugin(new oM)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(ss),pH=Object.freeze({__proto__:null,ImagePool:k2,Plugin:hH}),gH="g-canvas-camera",sM=function(){function t(){(0,Qt.Z)(this,t),this.displayObjectHTMLElementMap=new WeakMap}return(0,Pt.Z)(t,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var i=this,a=n.camera,o=n.renderingContext,s=n.renderingService;this.context=n;var A=o.root.ownerDocument.defaultView,c=A.context.eventService.nativeHTMLMap,l=function(y,w){w.style.transform=i.joinTransformMatrix(y.getWorldTransform(),y.getOrigin())},u=function(y){var w=y.target;if(w.nodeName===St.HTML){i.$camera||(i.$camera=i.createCamera(a));var b=i.getOrCreateEl(w);i.$camera.appendChild(b),Object.keys(w.attributes).forEach(function(B){i.updateAttribute(B,w)}),l(w,b),c.set(b,w)}},f=function(y){var w=y.target;if(w.nodeName===St.HTML&&i.$camera){var b=i.getOrCreateEl(w);b&&(b.remove(),c.delete(b))}},d=function(y){var w=y.target;if(w.nodeName===St.HTML){var b=y.attrName;i.updateAttribute(b,w)}},h=function(y){for(var w=y.detail,b=0;b<w.length;b++){var B=w[b],E=B.target,S=E.nodeName===St.FRAGMENT?E.childNodes:[E];S.forEach(function(F){if(F.nodeName===St.HTML){var k=i.getOrCreateEl(F);l(F,k)}})}},g=function(){if(i.$camera){var y=i.context.config,w=y.width,b=y.height;i.$camera.parentElement.style.width="".concat(w||0,"px"),i.$camera.parentElement.style.height="".concat(b||0,"px")}};s.hooks.init.tap(t.tag,function(){A.addEventListener(mA.RESIZE,g),A.addEventListener(X.MOUNTED,u),A.addEventListener(X.UNMOUNTED,f),A.addEventListener(X.ATTR_MODIFIED,d),A.addEventListener(X.BOUNDS_CHANGED,h)}),s.hooks.endFrame.tap(t.tag,function(){i.$camera&&o.renderReasons.has(m.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(t.tag,function(){i.$camera&&i.$camera.remove(),A.removeEventListener(mA.RESIZE,g),A.removeEventListener(X.MOUNTED,u),A.removeEventListener(X.UNMOUNTED,f),A.removeEventListener(X.ATTR_MODIFIED,d),A.removeEventListener(X.BOUNDS_CHANGED,h)})}},{key:"createCamera",value:function(n){var r=this.context.config,i=r.document,a=r.width,o=r.height,s=this.context.contextService.getDomElement(),A=s.parentNode;if(A){var c=gH,l=A.querySelector("#".concat(c));if(!l){var u=(i||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(a||0,"px"),u.style.height="".concat(o||0,"px");var f=(i||document).createElement("div");l=f,f.id=c,f.style.position="absolute",f.style.left="".concat(s.offsetLeft||0,"px"),f.style.top="".concat(s.offsetTop||0,"px"),f.style.transformOrigin="left top",f.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),f.style.pointerEvents="none",f.style.width="100%",f.style.height="100%",u.appendChild(f),A.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(n);return i||(i=(r||document).createElement("div"),n.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(n,i),n.id&&(i.id=n.id),n.name&&i.setAttribute("name",n.name),n.className&&(i.className=n.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),i}},{key:"updateAttribute",value:function(n,r){var i=this.getOrCreateEl(r);switch(n){case"innerHTML":var a=r.parsedStyle.innerHTML;fr(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;i.style.width=rr(s)?"".concat(s,"px"):s.toString();break;case"height":var A=r.parsedStyle.height;i.style.height=rr(A)?"".concat(A,"px"):A.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;i.style["z-index"]="".concat(c);break;case"visibility":var l=r.parsedStyle.visibility;i.style.visibility=l;break;case"pointerEvents":var u=r.parsedStyle.pointerEvents,f=u===void 0?"auto":u;i.style.pointerEvents=f;break;case"opacity":var d=r.parsedStyle.opacity;i.style.opacity="".concat(d);break;case"fill":var h=r.parsedStyle.fill,g="";yo(h)?h.isNone?g="transparent":g=r.getAttribute("fill"):Array.isArray(h)?g=r.getAttribute("fill"):iu(h),i.style.background=g;break;case"stroke":var v=r.parsedStyle.stroke,y="";yo(v)?v.isNone?y="transparent":y=r.getAttribute("stroke"):Array.isArray(v)?y=r.getAttribute("stroke"):iu(v),i.style["border-color"]=y,i.style["border-style"]="solid";break;case"lineWidth":var w=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(w||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var b=r.style.filter;i.style.filter=b;break;default:!be(r.style[n])&&r.style[n]!==""&&(i.style[n]=r.style[n])}}}])}();sM.tag="HTMLRendering";var vH=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="html-renderer",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new sM)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(ss),yH=Object.freeze({__proto__:null,Plugin:vH}),AM=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"apply",value:function(n,r){var i=this,a=n.renderingService,o=n.renderingContext,s=n.config;this.context=n;var A=o.root.ownerDocument.defaultView,c=function(k){a.hooks.pointerMove.call(k)},l=function(k){a.hooks.pointerUp.call(k)},u=function(k){a.hooks.pointerDown.call(k)},f=function(k){a.hooks.pointerOver.call(k)},d=function(k){a.hooks.pointerOut.call(k)},h=function(k){a.hooks.pointerCancel.call(k)},g=function(k){a.hooks.pointerWheel.call(k)},v=function(k){a.hooks.click.call(k)},y=function(k){r.globalThis.document.addEventListener("pointermove",c,!0),k.addEventListener("pointerdown",u,!0),k.addEventListener("pointerleave",d,!0),k.addEventListener("pointerover",f,!0),r.globalThis.addEventListener("pointerup",l,!0),r.globalThis.addEventListener("pointercancel",h,!0)},w=function(k){k.addEventListener("touchstart",u,!0),k.addEventListener("touchend",l,!0),k.addEventListener("touchmove",c,!0),k.addEventListener("touchcancel",h,!0)},b=function(k){r.globalThis.document.addEventListener("mousemove",c,!0),k.addEventListener("mousedown",u,!0),k.addEventListener("mouseout",d,!0),k.addEventListener("mouseover",f,!0),r.globalThis.addEventListener("mouseup",l,!0)},B=function(k){r.globalThis.document.removeEventListener("pointermove",c,!0),k.removeEventListener("pointerdown",u,!0),k.removeEventListener("pointerleave",d,!0),k.removeEventListener("pointerover",f,!0),r.globalThis.removeEventListener("pointerup",l,!0),r.globalThis.removeEventListener("pointercancel",h,!0)},E=function(k){k.removeEventListener("touchstart",u,!0),k.removeEventListener("touchend",l,!0),k.removeEventListener("touchmove",c,!0),k.removeEventListener("touchcancel",h,!0)},S=function(k){r.globalThis.document.removeEventListener("mousemove",c,!0),k.removeEventListener("mousedown",u,!0),k.removeEventListener("mouseout",d,!0),k.removeEventListener("mouseover",f,!0),r.globalThis.removeEventListener("mouseup",l,!0)};a.hooks.init.tap(t.tag,function(){var F=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(F.style.msContentZooming="none",F.style.msTouchAction="none"):A.supportsPointerEvents&&(F.style.touchAction="none"),A.supportsPointerEvents?y(F):b(F),A.supportsTouchEvents&&w(F),s.useNativeClickEvent&&F.addEventListener("click",v,!0),F.addEventListener("wheel",g,{passive:!0,capture:!0})}),a.hooks.destroy.tap(t.tag,function(){var F=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(F.style.msContentZooming="",F.style.msTouchAction=""):A.supportsPointerEvents&&(F.style.touchAction=""),A.supportsPointerEvents?B(F):S(F),A.supportsTouchEvents&&E(F),s.useNativeClickEvent&&F.removeEventListener("click",v,!0),F.removeEventListener("wheel",g,!0)})}}])}();AM.tag="DOMInteraction";var mH=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="dom-interaction",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new AM)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(ss),wH=Object.freeze({__proto__:null,Plugin:mH}),cM=function(){function t(){(0,Qt.Z)(this,t)}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=n.renderingService,i=n.contextService,a=n.config,o=i.getDomElement(),s=function(g){r.hooks.pointerDown.call(g)},A=function(g){r.hooks.pointerUp.call(g)},c=function(g){r.hooks.pointerMove.call(g)},l=function(g){r.hooks.pointerOver.call(g)},u=function(g){r.hooks.pointerOut.call(g)},f=function(g){r.hooks.click.call(g)},d=function(g){r.hooks.pointerCancel.call(g)};r.hooks.init.tap(t.tag,function(){o.addEventListener("touchstart",s,!0),o.addEventListener("touchend",A,!0),o.addEventListener("touchmove",c,!0),o.addEventListener("touchcancel",d,!0),o.addEventListener("mouseout",u,!0),o.addEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.addEventListener("click",f,!0)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener("touchstart",s,!0),o.removeEventListener("touchend",A,!0),o.removeEventListener("touchmove",c,!0),o.removeEventListener("touchcancel",d,!0),o.removeEventListener("mouseout",u,!0),o.removeEventListener("mouseover",l,!0),a.useNativeClickEvent&&o.removeEventListener("click",f,!0)})}}])}();cM.tag="MobileInteraction";var bH=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="mobile-interaction",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new cM)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(ss),Alt=Object.freeze({__proto__:null,Plugin:bH}),clt=Ft(46020);var T2=function(t){function e(n,r,i,a){var o;return(0,Qt.Z)(this,e),o=(0,je.Z)(this,e,[n]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(Ag),BH=0,xH=function(){function t(e,n){var r;(0,Qt.Z)(this,t),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=n,this.id="".concat(BH++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return(0,Pt.Z)(t,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n;if((n=this.effect.target)!==null&&n!==void 0&&n.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==r&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==r&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=null,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new T2(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Fn)}},{key:"addEventListener",value:function(n,r,i){throw new Error(Fn)}},{key:"removeEventListener",value:function(n,r,i){throw new Error(Fn)}},{key:"dispatchEvent",value:function(n){throw new Error(Fn)}},{key:"commitStyles",value:function(){throw new Error(Fn)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new T2(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new T2(null,this,this.currentTime,n);this.onframe(a)}this._finishedFlag=!1}}}])}(),_H=4,CH=.001,OH=1e-7,EH=10,Bv=11,D1=1/(Bv-1),SH=typeof Float32Array=="function",lM=function(e,n){return 1-3*n+3*e},uM=function(e,n){return 3*n-6*e},fM=function(e){return 3*e},H1=function(e,n,r){return((lM(n,r)*e+uM(n,r))*e+fM(n))*e},dM=function(e,n,r){return 3*lM(n,r)*e*e+2*uM(n,r)*e+fM(n)},MH=function(e,n,r,i,a){var o,s,A=0;do s=n+(r-n)/2,o=H1(s,i,a)-e,o>0?r=s:n=s;while(Math.abs(o)>OH&&++A<EH);return s},FH=function(e,n,r,i){for(var a=0;a<_H;++a){var o=dM(n,r,i);if(o===0)return n;var s=H1(n,r,i)-e;n-=s/o}return n},I2=function(e,n,r,i){if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===i)return function(A){return A};for(var a=SH?new Float32Array(Bv):new Array(Bv),o=0;o<Bv;++o)a[o]=H1(o*D1,e,r);var s=function(c){for(var l=0,u=1,f=Bv-1;u!==f&&a[u]<=c;++u)l+=D1;--u;var d=(c-a[u])/(a[u+1]-a[u]),h=l+d*D1,g=dM(h,e,r);return g>=CH?FH(c,h,e,r):g===0?h:MH(c,l,l+D1,e,r)};return function(A){return A===0||A===1?A:H1(s(A),n,i)}},kH=function(e){return e=e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),e.charAt(0)==="-"?e.substring(1):e},j1=function(e){return Math.pow(e,2)},G1=function(e){return Math.pow(e,3)},K1=function(e){return Math.pow(e,4)},z1=function(e){return Math.pow(e,5)},W1=function(e){return Math.pow(e,6)},V1=function(e){return 1-Math.cos(e*Math.PI/2)},Z1=function(e){return 1-Math.sqrt(1-e*e)},Y1=function(e){return e*e*(3*e-2)},$1=function(e){for(var n,r=4;e<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-e,2)},X1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=(0,Ge.Z)(n,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,A=Gr(Number(a),1,10),c=Gr(Number(s),.1,2);return e===0||e===1?e:-A*Math.pow(2,10*(e-1))*Math.sin((e-1-c/(Math.PI*2)*Math.asin(1/A))*(Math.PI*2)/c)},xv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=(0,Ge.Z)(n,4),a=i[0],o=a===void 0?1:a,s=i[1],A=s===void 0?100:s,c=i[2],l=c===void 0?10:c,u=i[3],f=u===void 0?0:u;o=Gr(o,.1,1e3),A=Gr(A,.1,1e3),l=Gr(l,.1,1e3),f=Gr(f,.1,1e3);var d=Math.sqrt(A/o),h=l/(2*Math.sqrt(A*o)),g=h<1?d*Math.sqrt(1-h*h):0,v=1,y=h<1?(h*d+-f)/g:-f+d,w=r?r*e/1e3:e;return h<1?w=Math.exp(-w*h*d)*(v*Math.cos(g*w)+y*Math.sin(g*w)):w=(v+y*w)*Math.exp(-w*d),e===0||e===1?e:1-w},L2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,i=(0,Ge.Z)(r,2),a=i[0],o=a===void 0?10:a,s=i[1],A=s==="start"?Math.ceil:Math.floor;return A(Gr(e,0,1)*o)/o},hM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=(0,Ge.Z)(n,4),i=r[0],a=r[1],o=r[2],s=r[3];return I2(i,a,o,s)(e)},q1=I2(.42,0,1,1),wA=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-e(1-n,r,i)}},bA=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?e(n*2,r,i)/2:1-e(n*-2+2,r,i)/2}},BA=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?(1-e(1-n*2,r,i))/2:(e(n*2-1,r,i)+1)/2}},pM={steps:L2,"step-start":function(e){return L2(e,[1,"start"])},"step-end":function(e){return L2(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":hM,ease:function(e){return hM(e,[.25,.1,.25,1])},in:q1,out:wA(q1),"in-out":bA(q1),"out-in":BA(q1),"in-quad":j1,"out-quad":wA(j1),"in-out-quad":bA(j1),"out-in-quad":BA(j1),"in-cubic":G1,"out-cubic":wA(G1),"in-out-cubic":bA(G1),"out-in-cubic":BA(G1),"in-quart":K1,"out-quart":wA(K1),"in-out-quart":bA(K1),"out-in-quart":BA(K1),"in-quint":z1,"out-quint":wA(z1),"in-out-quint":bA(z1),"out-in-quint":BA(z1),"in-expo":W1,"out-expo":wA(W1),"in-out-expo":bA(W1),"out-in-expo":BA(W1),"in-sine":V1,"out-sine":wA(V1),"in-out-sine":bA(V1),"out-in-sine":BA(V1),"in-circ":Z1,"out-circ":wA(Z1),"in-out-circ":bA(Z1),"out-in-circ":BA(Z1),"in-back":Y1,"out-back":wA(Y1),"in-out-back":bA(Y1),"out-in-back":BA(Y1),"in-bounce":$1,"out-bounce":wA($1),"in-out-bounce":bA($1),"out-in-bounce":BA($1),"in-elastic":X1,"out-elastic":wA(X1),"in-out-elastic":bA(X1),"out-in-elastic":BA(X1),spring:xv,"spring-in":xv,"spring-out":wA(xv),"spring-in-out":bA(xv),"spring-out-in":BA(xv)},TH=function(e){return kH(e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},IH=function(e){return pM[TH(e)]||pM.linear},LH=function(e){return e},QH=1,UH=.5,gM=0;function vM(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var J1="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",PH=new RegExp("cubic-bezier\\(".concat(J1,",").concat(J1,",").concat(J1,",").concat(J1,"\\)")),RH=/steps\(\s*(\d+)\s*\)/,NH=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function Q2(t){var e=PH.exec(t);if(e)return I2.apply(void 0,(0,tn.Z)(e.slice(1).map(Number)));var n=RH.exec(t);if(n)return vM(Number(n[1]),gM);var r=NH.exec(t);return r?vM(Number(r[1]),{start:QH,middle:UH,end:gM}[r[2]]):IH(t)}function DH(t){return Math.abs(HH(t)/(t.playbackRate||1))}function HH(t){var e;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((e=t.iterations)!==null&&e!==void 0?e:1)}var yM=0,U2=1,tw=2,mM=3;function jH(t,e,n){if(e===null)return yM;var r=n.endTime;return e<Math.min(n.delay,r)?U2:e>=Math.min(n.delay+t+n.endDelay,r)?tw:mM}function GH(t,e,n,r,i){switch(r){case U2:return e==="backwards"||e==="both"?0:null;case mM:return n-i;case tw:return e==="forwards"||e==="both"?t:null;case yM:return null}}function KH(t,e,n,r,i){var a=i;return t===0?e!==U2&&(a+=n):a+=r/t,a}function zH(t,e,n,r,i,a){var o=t===1/0?e%1:t%1;return o===0&&n===tw&&r!==0&&(i!==0||a===0)&&(o=1),o}function WH(t,e,n,r){return t===tw&&e===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function VH(t,e,n){var r=t;if(t!=="normal"&&t!=="reverse"){var i=e;t==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function ZH(t,e,n){var r=jH(t,e,n),i=GH(t,n.fill,e,r,n.delay);if(i===null)return null;var a=n.duration==="auto"?0:n.duration,o=KH(a,r,n.iterations,i,n.iterationStart),s=zH(o,n.iterationStart,r,n.iterations,i,a),A=WH(r,n.iterations,s,o),c=VH(n.direction,A,s);return n.currentIteration=A,n.progress=c,n.easingFunction(c)}function YH(t,e,n){var r=$H(t,e),i=XH(r,n);return function(a,o){if(o!==null)i.filter(function(A){return o>=A.applyFrom&&o<A.applyTo}).forEach(function(A){var c=o-A.startOffset,l=A.endOffset-A.startOffset,u=l===0?0:c/l;a.setAttribute(A.property,A.interpolation(u),!1,!1)});else for(var s in r)wM(s)&&a.setAttribute(s,null)}}function wM(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function $H(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(wM(i)){var a={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:Q2(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(a)}return n}function XH(t,e){var n=[];for(var r in t)for(var i=t[r],a=0;a<i.length-1;a++){var o=a,s=a+1,A=i[o].computedOffset,c=i[s].computedOffset,l=A,u=c;a===0&&(l=-1/0,c===0&&(s=o)),a===i.length-2&&(u=1/0,A===1&&(o=s)),n.push({applyFrom:l,applyTo:u,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:qH(r,i[o].value,i[s].value,e)})}return n.sort(function(f,d){return f.startOffset-d.startOffset}),n}var bM=function(e,n,r){return function(i){var a=BM(e,n,i);return rr(a)?a:r(a)}};function qH(t,e,n,r){var i=l1[t];if(i&&i.syntax&&i.int){var a=jt.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(e,r):e,A=o?o(n,r):n,c=a.mixer(s,A,r);if(c){var l=bM.apply(void 0,(0,tn.Z)(c));return function(u){return u===0?e:u===1?n:l(u)}}}}return bM(!1,!0,function(u){return u?n:e})}function BM(t,e,n){if(typeof t=="number"&&typeof e=="number")return t*(1-n)+e*n;if(typeof t=="boolean"&&typeof e=="boolean"||typeof t=="string"&&typeof e=="string")return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(BM(t[s<r?s:r-1],e[s<i?s:i-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(t,":").concat(e))}var JH=function(){function t(){(0,Qt.Z)(this,t),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=LH,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return(0,Pt.Z)(t,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=Q2(n),this._easing=n}}])}();function t8(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!e[a]){var o={};"offset"in t&&(o.offset=Number(t.offset)),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),e[a]=o}r[a]!==void 0&&r[a]!==null&&(e[a][n]=r[a])}}return e.sort(function(s,A){return(s.computedOffset||0)-(A.computedOffset||0)}),e}function xM(t,e){if(t===null)return[];Array.isArray(t)||(t=t8(t));for(var n=t.map(function(A){var c={};e!=null&&e.composite&&(c.composite="auto");for(var l in A){var u=A[l];if(l==="offset"){if(u!==null){if(u=Number(u),!isFinite(u))throw new Error("Keyframe offsets must be numbers.");if(u<0||u>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=u}}else if(l==="composite"&&["replace","add","accumulate","auto"].indexOf(u)===-1)throw new Error("".concat(u," compositing is not supported"));c[l]=u}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=(e==null?void 0:e.easing)||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<n.length;a++){var o=n[a].offset;if(be(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}n=n.filter(function(A){return Number(A.offset)>=0&&Number(A.offset)<=1});function s(){var A,c=n,l=c.length;if(n[l-1].computedOffset=Number((A=n[l-1].offset)!==null&&A!==void 0?A:1),l>1){var u;n[0].computedOffset=Number((u=n[0].offset)!==null&&u!==void 0?u:0)}for(var f=0,d=Number(n[0].computedOffset),h=1;h<l;h++){var g=n[h].computedOffset;if(!be(g)&&!be(d)){for(var v=1;v<h-f;v++)n[f+v].computedOffset=d+(Number(g)-d)*v/(h-f);f=h,d=Number(g)}}}return r||s(),n}var e8="backwards|forwards|both|none".split("|"),n8="reverse|alternate|alternate-reverse".split("|");function r8(t,e){var n=new JH;return e&&(n.fill="both",n.duration="auto"),typeof t=="number"&&!isNaN(t)?n.duration=t:t!==void 0&&Object.keys(t).forEach(function(r){if(t[r]!==void 0&&t[r]!==null&&t[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof t[r]!="number"||isNaN(t[r]))||r==="fill"&&e8.indexOf(t[r])===-1||r==="direction"&&n8.indexOf(t[r])===-1)return;n[r]=t[r]}}),n}function i8(t,e){return t=a8(t!=null?t:{duration:"auto"}),r8(t,e)}function a8(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var o8=function(){function t(e,n,r){var i=this;(0,Qt.Z)(this,t),this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=i8(r,!1),this.timing.effect=this,this.timing.activeDuration=DH(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=xM(n,this.timing),this.interpolations=YH(this.normalizedKeyframes,this.timing,this.target);var a=jt.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,A){return A==="duration"?s.duration==="auto"?0:s.duration:A==="fill"?s.fill==="auto"?"none":s.fill:A==="localTime"?i.animation&&i.animation.currentTime||null:A==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:A==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[A]},set:function(){return!0}}):this.timing}return(0,Pt.Z)(t,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=ZH(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=xM(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(i){r.timing[i]=n[i]})}}])}();function _M(t,e){return Number(t.id)-Number(e.id)}var s8=function(){function t(e){var n=this;(0,Qt.Z)(this,t),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(_M),n.animations=n.tick(r,!0,n.animations)[0],i.forEach(function(a){a[1](r)}),n.applyPendingEffects()},this.document=e}return(0,Pt.Z)(t,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,i){var a=new o8(n,r,i),o=new xH(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var i=n.targetAnimations();i.sort(_M);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n==null||n.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),n(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var A=[],c=[],l=[],u=[];return i.forEach(function(f){f.tick(n,r),f._inEffect?(c.push(f.effect),f.markTarget()):(A.push(f.effect),f.unmarkTarget()),f._needsTick&&(a.ticking=!0);var d=f._inEffect||f._needsTick;f._inTimeline=d,d?l.push(f):u.push(f)}),(o=this.pendingEffects).push.apply(o,A),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]}}])}();jt.EasingFunction=Q2,jt.AnimationTimeline=s8;var A8=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.landmarks=[],n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"rotate",value:function(r,i,a){if(this.relElevation=Ps(i),this.relAzimuth=Ps(r),this.relRoll=Ps(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Un.EXPLORING){var o=io(fi(),[1,0,0],Qn((this.rotateWorld?1:-1)*this.relElevation)),s=io(fi(),[0,1,0],Qn((this.rotateWorld?1:-1)*this.relAzimuth)),A=io(fi(),[0,0,1],Qn(this.relRoll)),c=ao(fi(),s,o);c=ao(fi(),c,A);var l=sd(nr(),c);es(this.matrix,this.matrix,[0,0,-this.distance]),Ur(this.matrix,this.matrix,l),es(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getPosition():this.type===Un.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=zi(r,i,0),o=Pi(this.position);return Ba(o,o,ln(Ue(),this.right,a[0])),Ba(o,o,ln(Ue(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=Pi(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===Un.ORBITING||this.type===Un.EXPLORING?this._getDistance():this.type===Un.TRACKING&&Ba(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=A.position,l=c===void 0?this.position:c,u=A.focalPoint,f=u===void 0?this.focalPoint:u,d=A.roll,h=A.zoom,g=new jt.CameraContribution;g.setType(this.type,void 0),g.setPosition(l[0],(i=l[1])!==null&&i!==void 0?i:this.position[1],(a=l[2])!==null&&a!==void 0?a:this.position[2]),g.setFocalPoint(f[0],(o=f[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=f[2])!==null&&s!==void 0?s:this.focalPoint[2]),g.setRoll(d!=null?d:this.roll),g.setZoom(h!=null?h:this.zoom);var v={name:r,matrix:GA(g.getWorldTransform()),right:Pi(g.right),up:Pi(g.up),forward:Pi(g.forward),position:Pi(g.getPosition()),focalPoint:Pi(g.getFocalPoint()),distanceVector:Pi(g.getDistanceVector()),distance:g.getDistance(),dollyingStep:g.getDollyingStep(),azimuth:g.getAzimuth(),elevation:g.getElevation(),roll:g.getRoll(),relAzimuth:g.relAzimuth,relElevation:g.relElevation,relRoll:g.relRoll,zoom:g.getZoom()};return this.landmarks.push(v),v}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=fr(r)?this.landmarks.find(function(P){return P.name===r}):r;if(o){var s=rr(a)?{duration:a}:a,A=s.easing,c=A===void 0?"linear":A,l=s.duration,u=l===void 0?100:l,f=s.easingFunction,d=f===void 0?void 0:f,h=s.onfinish,g=h===void 0?void 0:h,v=s.onframe,y=v===void 0?void 0:v,w=.01;this.cancelLandmarkAnimation();var b=o.position,B=o.focalPoint,E=o.zoom,S=o.roll,F=d||jt.EasingFunction(c),k,T=function(){i.setFocalPoint(B),i.setPosition(b),i.setRoll(S),i.setZoom(E),i.computeMatrix(),i.triggerUpdate(),g==null||g()};if(u===0)return T();var L=function(R){k===void 0&&(k=R);var U=R-k;if(U>=u){T();return}var N=F(U/u),j=Ue(),z=Ue(),W=1,D=0;wl(j,i.focalPoint,B,N),wl(z,i.position,b,N),D=i.roll*(1-N)+S*N,W=i.zoom*(1-N)+E*N,i.setFocalPoint(j),i.setPosition(z),i.setRoll(D),i.setZoom(W);var G=te(j,B)+te(z,b);if(G<=w&&E===void 0&&S===void 0)return T();i.computeMatrix(),i.triggerUpdate(),U<u&&(y==null||y(N),i.landmarkAnimationID=i.canvas.requestAnimationFrame(L))};this.canvas.requestAnimationFrame(L)}}}])}(Gp);jt.CameraContribution=A8;var llt=null,ult=null;function CM(t,e,n){var r=t+e;return n?r*2:r}function OM(t,e){var n=e?[[t*.25,t*.25],[t*.75,t*.75]]:[[t*.5,t*.5]];return n}var c8={size:6,padding:2,backgroundColor:"transparent",opacity:1,fill:"#fff",fillOpacity:1,stroke:"transparent",strokeOpacity:1,lineWidth:0,isStagger:!0};function flt(t){var e=_objectSpread(_objectSpread({},c8),t),n=e.size,r=e.padding,i=e.isStagger,a=e.backgroundColor,o=e.backgroundOpacity,s=e.opacity,A=e.fill,c=e.fillOpacity,l=e.lineWidth,u=e.stroke,f=e.strokeOpacity,d=CM(n,r,i),h=OM(d,i),g=new Rect({style:{width:d,height:d,fill:a,opacity:1,fillOpacity:o}}),v=_createForOfIteratorHelper(h),y;try{for(v.s();!(y=v.n()).done;){var w=_slicedToArray(y.value,2),b=w[0],B=w[1],E=new Circle({style:{opacity:s,fill:A,fillOpacity:c,cx:b,cy:B,r:n/2,lineWidth:l,stroke:u,strokeOpacity:f}});g.appendChild(E)}}catch(S){v.e(S)}finally{v.f()}return g}var l8={spacing:5,opacity:1,backgroundColor:"transparent",backgroundOpacity:1,strokeOpacity:1,stroke:"#fff",lineWidth:2};function dlt(t){var e=_objectSpread(_objectSpread({},l8),t),n=e.spacing,r=e.lineWidth,i=e.backgroundColor,a=e.backgroundOpacity,o=e.opacity,s=e.stroke,A=e.strokeOpacity,c=n+r||1,l=n+r||1,u=`
            M 0 0 L `.concat(c,` 0
            M 0 `).concat(l," L ").concat(c," ").concat(l,`
            `),f=new Rect({style:{width:c,height:l,fill:i,opacity:1,fillOpacity:a}}),d=new Path({style:{d:u,opacity:o,stroke:s,strokeOpacity:A,fillOpacity:1,lineWidth:r}});return f.appendChild(d),f}var u8={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,fill:"#fff",fillOpacity:1,stroke:"transparent",lineWidth:0};function hlt(t){var e=_objectSpread(_objectSpread({},u8),t),n=e.size,r=e.padding,i=e.isStagger,a=e.backgroundColor,o=e.backgroundOpacity,s=e.opacity,A=e.fill,c=e.fillOpacity,l=e.stroke,u=e.strokeOpacity,f=e.lineWidth,d=CM(n,r,i),h=OM(d,i),g=new Rect({style:{width:d,height:d,fill:a,opacity:1,fillOpacity:o}}),v=_createForOfIteratorHelper(h),y;try{for(v.s();!(y=v.n()).done;){var w=_slicedToArray(y.value,2),b=w[0],B=w[1],E=new Rect({style:{opacity:s,fill:A,fillOpacity:c,x:b-n/2,y:B-n/2,width:n,height:n,lineWidth:f,stroke:l,strokeOpacity:u}});g.appendChild(E)}}catch(S){v.e(S)}finally{v.f()}return g}var f8=["body","startHead","endHead","startHeadOffset","endHeadOffset"],d8=["body","startHead","endHead","startHeadOffset","endHeadOffset"],h8=["body","startHead","endHead","startHeadOffset","endHeadOffset"],EM=function(t){function e(n){var r;(0,Qt.Z)(this,e),r=(0,je.Z)(this,e,[(0,We.Z)((0,We.Z)({},n),{},{type:e.tag})]);var i=r.attributes,a=i.body,o=i.startHead,s=i.endHead;i.startHeadOffset,i.endHeadOffset;var A=(0,uo.Z)(i,f8);if(!a)throw new Error("Arrow's body is required");return r.body=a,r.appendChild(r.body),r.handleBodyAttributeChanged(r.body),o&&r.appendArrowHead(r.getArrowHeadType(o),!0),s&&r.appendArrowHead(r.getArrowHeadType(s),!1),r.applyArrowStyle(A,[r.body,r.startHead,r.endHead]),r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"handleBodyAttributeChanged",value:function(r){var i=this;r.addEventListener(X.ATTR_MODIFIED,function(a){var o=a.attrName;o==="x1"||o==="y1"?i.startHead&&i.transformArrowHead(i.startHead,!0):(o==="x2"||o==="y2")&&i.endHead&&i.transformArrowHead(i.endHead,!1)})}},{key:"getBody",value:function(){return this.body}},{key:"getStartHead",value:function(){return this.startHead}},{key:"getEndHead",value:function(){return this.endHead}},{key:"attributeChangedCallback",value:function(r,i,a){if(r==="opacity"||r==="strokeOpacity"||r==="stroke"||r==="lineWidth"||r==="increasedLineWidthForHitTesting")this.applyArrowStyle((0,Ae.Z)({},r,a),[this.body,this.startHead,this.endHead]);else if(r==="startHead"||r==="endHead"){var o=r==="startHead";if(this.destroyArrowHead(o),a){var s=this.attributes;s.body,s.startHead,s.endHead,s.startHeadOffset,s.endHeadOffset;var A=(0,uo.Z)(s,d8);this.appendArrowHead(this.getArrowHeadType(a),o),this.applyArrowStyle(A,[o?this.startHead:this.endHead])}}else if(r==="body"){var c=this.attributes;c.body,c.startHead,c.endHead,c.startHeadOffset,c.endHeadOffset;var l=(0,uo.Z)(c,h8);this.body.destroy(),this.body=a,this.appendChild(this.body),this.applyArrowStyle(l,[this.body])}else r==="startHeadOffset"?this.moveArrowHeadAlongTangent(a,!0):r==="endHeadOffset"&&this.moveArrowHeadAlongTangent(a,!1)}},{key:"getArrowHeadType",value:function(r){return typeof r=="boolean"?"default":"custom"}},{key:"appendArrowHead",value:function(r,i){var a;r==="default"?a=this.createDefaultArrowHead():a=i?this.attributes.startHead:this.attributes.endHead,this.transformArrowHead(a,i),a.setAttribute("zIndex",1),i?this.startHead=a:this.endHead=a,this.appendChild(a);var o=i?this.attributes.startHeadOffset:this.attributes.endHeadOffset;o&&this.moveArrowHeadAlongTangent(o,i)}},{key:"transformArrowHead",value:function(r,i){var a=Ue(),o=0,s=0,A=0,c=0,l=0,u=this.body&&this.body.nodeName;if(u===St.LINE){var f=this.body.attributes,d=f.x1,h=f.x2,g=f.y1,v=f.y2;s=i?h:d,A=i?d:h,c=i?v:g,l=i?g:v}else if(u===St.POLYLINE){var y=this.body.attributes.points,w=y.length;s=i?y[1][0]:y[w-2][0],c=i?y[1][1]:y[w-2][1],A=i?y[0][0]:y[w-1][0],l=i?y[0][1]:y[w-1][1]}else if(u===St.PATH){var b=this.getTangent(this.body,i),B=(0,Ge.Z)(b,2),E=B[0],S=B[1];s=E[0],c=E[1],A=S[0],l=S[1]}var F=s-A,k=c-l;o=Math.atan2(k,F),a=vn(A,l,0),i?(this.startHeadPosition=a,this.startHeadRad=o):(this.endHeadPosition=a,this.endHeadRad=o),r.setLocalPosition(a),r.setLocalEulerAngles(o*180/Math.PI+r.getLocalEulerAngles())}},{key:"moveArrowHeadAlongTangent",value:function(r,i){var a=i?this.startHead:this.endHead;a&&a.setLocalPosition(Bt(Ue(),i?this.startHeadPosition:this.endHeadPosition,vn(Math.cos(i?this.startHeadRad:this.endHeadRad)*r,Math.sin(i?this.startHeadRad:this.endHeadRad)*r,0))),this.body}},{key:"destroyArrowHead",value:function(r){r&&this.startHead&&(this.startHead.destroy(),this.startHead=void 0),!r&&this.endHead&&(this.endHead.destroy(),this.endHead=void 0)}},{key:"getTangent",value:function(r,i){return i?r.getStartTangent():r.getEndTangent()}},{key:"createDefaultArrowHead",value:function(){var r=this.attributes,i=r.stroke,a=r.lineWidth,o=Math.sin,s=Math.cos,A=Math.PI,c=10*s(A/6);return new pa({style:{d:"M".concat(c/2,",").concat(10*o(A/6)," L-").concat(c/2,",0 L").concat(c/2,",-").concat(10*o(A/6)),stroke:i,lineWidth:a,transformOrigin:"center"}})}},{key:"applyArrowStyle",value:function(r,i){var a=r.opacity,o=r.stroke,s=r.strokeOpacity,A=r.lineWidth,c=r.increasedLineWidthForHitTesting;i.forEach(function(l){l&&(be(a)||(l.style.opacity=a),be(o)||(l.style.stroke=o),be(s)||(l.style.strokeOpacity=s),be(A)||(l.style.lineWidth=A),be(c)||(l.style.increasedLineWidthForHitTesting=c))})}}])}(uh);EM.tag="arrow",EM.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(uh.PARSED_STYLE_LIST),["body","startHead","endHead","startHeadOffset","endHeadOffset","stroke","lineWidth","opacity","strokeOpacity"]));var P2=Math.PI,p8=P2*2,_v=Math.sin,ew=Math.cos,g8=Math.acos,_o=Math.atan2,Cv=Math.sqrt,R2=Math.max,qc=Math.min,cg=1e-4,v8=[{name:"sr",inherits:!1,interpolable:!0,syntax:Yt.LENGTH_PERCENTAGE},{name:"sr0",inherits:!1,interpolable:!0,syntax:Yt.LENGTH_PERCENTAGE},{name:"startAngle",inherits:!1,interpolable:!0,syntax:Yt.ANGLE},{name:"endAngle",inherits:!1,interpolable:!0,syntax:Yt.ANGLE}];v8.forEach(function(t){B2.registerProperty(t)});var dc=function(e,n,r,i){return{x:e+r*Math.cos(i),y:n+r*Math.sin(i)}};function y8(t,e,n,r,i,a,o,s){var A=n-t,c=r-e,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<cg))return f=(l*(e-a)-u*(t-i))/f,[t+f*A,e+f*c]}function nw(t,e,n,r,i,a,o){var s=t-n,A=e-r,c=(o?a:-a)/Cv(s*s+A*A),l=c*A,u=-c*s,f=t+l,d=e+u,h=n+l,g=r+u,v=(f+h)/2,y=(d+g)/2,w=h-f,b=g-d,B=w*w+b*b,E=i-a,S=f*g-h*d,F=(b<0?-1:1)*Cv(R2(0,E*E*B-S*S)),k=(S*b-w*F)/B,T=(-S*w-b*F)/B,L=(S*b+w*F)/B,P=(-S*w+b*F)/B,R=k-v,U=T-y,N=L-v,j=P-y;return R*R+U*U>N*N+j*j&&(k=L,T=P),{cx:k,cy:T,x0:-l,y0:-u,x1:k*(i/E-1),y1:T*(i/E-1)}}function cu(t,e){return e=e<0&&t>=0?e+p8:e,e-t<=P2?0:1}var m8=function(t){function e(n){var r;return(0,Qt.Z)(this,e),r=(0,je.Z)(this,e,[n]),r.updatePath(),r}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"setAttribute",value:function(r,i,a){Gc(e,"setAttribute",this,3)([r,i,a]),["startAngle","endAngle","sr","sr0","radius"].indexOf(r)>-1&&this.updatePath()}},{key:"updatePath",value:function(){var r=this.parsedStyle,i=r.x,a=r.y,o=r.startAngle,s=r.endAngle,A=r.sr,c=r.sr0,l=r.radius,u=this.createPath(i,a,o?Qn(o):0,s?Qn(s):Math.PI*2,A||0,c||0,l||[0,0,0,0]);Gc(e,"setAttribute",this,3)(["d",u])}},{key:"createPath",value:function(r,i,a,o,s,A,c){if(!(s<=0)){var l=dc(r,i,s,a),u=dc(r,i,s,o),f=dc(r,i,A,a),d=dc(r,i,A,o);if(on(o-a,Math.PI*2)){var h=dc(r,i,s,a+Math.PI),g=dc(r,i,A,a+Math.PI),v=[["M",l.x,l.y],["A",s,s,0,1,1,h.x,h.y],["A",s,s,0,1,1,u.x,u.y],["M",f.x,f.y]];return A&&(v.push(["A",A,A,0,1,0,g.x,g.y]),v.push(["A",A,A,0,1,0,d.x,d.y])),v.push(["M",l.x,l.y]),v.push(["Z"]),v}var y=o-a,w=s*ew(a),b=s*_v(a),B=A*ew(o),E=A*_v(o),S=s*ew(o),F=s*_v(o),k=A*ew(a),T=A*_v(a),L=(0,Ge.Z)(c,4),P=L[0],R=L[1],U=L[2],N=L[3],j=(s-A)/2,z=qc(j,P),W=qc(j,R),D=qc(j,U),G=qc(j,N),Y=R2(z,W),at=R2(D,G),it=Y,At=at;if((Y>cg||at>cg)&&y<P2){var ht=y8(w,b,k,T,S,F,B,E);if(ht){var ut=w-ht[0],Ct=b-ht[1],_t=S-ht[0],mt=F-ht[1],Lt=1/_v(g8((ut*_t+Ct*mt)/(Cv(ut*ut+Ct*Ct)*Cv(_t*_t+mt*mt)))/2),Nt=Cv(ht[0]*ht[0]+ht[1]*ht[1]);it=qc(Y,(s-Nt)/(Lt+1)),At=qc(at,(A-Nt)/(Lt-1))}}var Vt=cu(a,o),Wt=!0,Zt=[];if(it>cg){var pe=qc(P,it),Ce=qc(R,it),Qe=nw(k,T,w,b,s,pe,Wt),se=nw(S,F,B,E,s,Ce,Wt);if(Zt.push(["M",r+Qe.cx+Qe.x0,i+Qe.cy+Qe.y0]),it<Y&&pe===Ce){var me=_o(Qe.y0,Qe.x0),Fe=_o(se.y0,se.x0);Zt.push(["A",it,it,0,cu(me,Fe),1,r+se.cx+se.x0,i+se.cy+se.y0])}else{if(pe>0){var Jn=_o(Qe.y0,Qe.x0),tr=_o(Qe.y1,Qe.x1),Sn=dc(r,i,s,tr);Zt.push(["A",pe,pe,0,cu(Jn,tr),1,Sn.x,Sn.y])}var jr=_o(Qe.cy+Qe.y1,Qe.cx+Qe.x1),Lr=_o(se.cy+se.y1,se.cx+se.x1),_r=dc(r,i,s,Lr);if(Zt.push(["A",s,s,0,cu(jr,Lr),1,_r.x,_r.y]),Ce>0){var Nn=_o(se.y1,se.x1),Qr=_o(se.y0,se.x0);Zt.push(["A",Ce,Ce,0,cu(Nn,Qr),1,r+se.cx+se.x0,i+se.cy+se.y0])}}}else Zt.push(["M",l.x,l.y]),Zt.push(["A",s,s,0,Vt,1,u.x,u.y]);if(A<cg)Zt.push(["L",d.x,d.y]);else if(At>cg){var Zr=qc(N,At),lr=qc(U,At),pn=nw(B,E,0,0,A-s,lr,Wt),ur=nw(0,0,k,T,A-s,Zr,Wt);if(Zt.push(["L",r+pn.cx+pn.x0,i+pn.cy+pn.y0]),At<at&&Zr===lr){var wi=_o(pn.y0,pn.x0),ko=_o(ur.y0,ur.x0),vl=dc(r,i,A,ko);Zt.push(["A",it,it,0,cu(wi,ko),1,vl.x,vl.y])}else{if(lr>0){var Xf=_o(pn.y0,pn.x0),$h=_o(pn.y1,pn.x1),zB=dc(r,i,A-s,$h);Zt.push(["A",lr,lr,0,cu(Xf,$h),1,zB.x,zB.y])}var GS=_o(pn.cy+pn.y1,pn.cx+pn.x1),F5=_o(ur.cy+ur.y1,ur.cx+ur.x1),WB=dc(r,i,A,F5);if(Zt.push(["A",A,A,0,cu(F5,GS),0,WB.x,WB.y]),Zt.push(["L",WB.x,WB.y]),Zr>0){var jct=_o(ur.y1,ur.x1),Gct=_o(ur.y0,ur.x0);Zt.push(["A",Zr,Zr,0,cu(jct,Gct),1,r+ur.cx+ur.x0,i+ur.cy+ur.y0])}}}else Zt.push(["L",d.x,d.y]),Zt.push(["A",A,A,0,Vt,0,f.x,f.y]);return Zt.push(["Z"]),Zt}}}])}(pa);m8.PARSED_STYLE_LIST=new Set([].concat((0,tn.Z)(pa.PARSED_STYLE_LIST),["x","y","sr","sr0","radius","startAngle","endAngle"]));var w8=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const N2=(t,e,n)=>[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]];N2.style=["fill"];const SM=N2.bind(void 0);SM.style=["stroke","lineWidth"];const rw=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]];rw.style=["fill"];const MM=rw.bind(void 0);MM.style=["fill"];const FM=rw.bind(void 0);FM.style=["stroke","lineWidth"];const D2=(t,e,n)=>{const r=n*.618;return[["M",t-r,e],["L",t,e-n],["L",t+r,e],["L",t,e+n],["Z"]]};D2.style=["fill"];const kM=D2.bind(void 0);kM.style=["stroke","lineWidth"];const H2=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]};H2.style=["fill"];const TM=H2.bind(void 0);TM.style=["stroke","lineWidth"];const j2=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]};j2.style=["fill"];const IM=j2.bind(void 0);IM.style=["stroke","lineWidth"];const G2=(t,e,n)=>{const r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]};G2.style=["fill"];const LM=G2.bind(void 0);LM.style=["stroke","lineWidth"];const K2=(t,e,n)=>{const r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]};K2.style=["fill"];const QM=K2.bind(void 0);QM.style=["stroke","lineWidth"];const UM=(t,e,n)=>[["M",t,e+n],["L",t,e-n]];UM.style=["stroke","lineWidth"];const PM=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]];PM.style=["stroke","lineWidth"];const RM=(t,e,n)=>[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]];RM.style=["stroke","lineWidth"];const NM=(t,e,n)=>[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]];NM.style=["stroke","lineWidth"];const DM=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];DM.style=["stroke","lineWidth"];const z2=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];z2.style=["stroke","lineWidth"];const HM=z2.bind(void 0);HM.style=["stroke","lineWidth"];const jM=(t,e,n)=>[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]];jM.style=["stroke","lineWidth"];const GM=(t,e,n)=>[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]];GM.style=["stroke","lineWidth"];const KM=(t,e,n)=>[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]];KM.style=["stroke","lineWidth"];const zM=(t,e,n)=>[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]];zM.style=["stroke","lineWidth"];const WM=(t,e,n)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];WM.style=["stroke","lineWidth"];const lg=new Map([["bowtie",K2],["cross",PM],["dash",HM],["diamond",D2],["dot",z2],["hexagon",G2],["hollowBowtie",QM],["hollowDiamond",kM],["hollowHexagon",LM],["hollowPoint",SM],["hollowSquare",FM],["hollowTriangle",TM],["hollowTriangleDown",IM],["hv",GM],["hvh",zM],["hyphen",DM],["line",UM],["plus",NM],["point",N2],["rect",MM],["smooth",jM],["square",rw],["tick",RM],["triangleDown",j2],["triangle",H2],["vh",KM],["vhv",WM]]);function b8(t,e){var{d:n,fill:r,lineWidth:i,path:a,stroke:o,color:s}=e,A=w8(e,["d","fill","lineWidth","path","stroke","color"]);const c=lg.get(t)||lg.get("point");return(...l)=>new pa({style:Object.assign(Object.assign({},A),{d:c(...l),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}function B8(t,e){lg.set(t,e)}function plt(t){lg.delete(t)}const VM={};function ZM(t,e){t.startsWith("symbol.")?B8(t.split(".").pop(),e):Object.assign(VM,{[t]:e})}function Jc(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var x8=0;function _8(t){return"__private_"+x8+++"_"+t}var ta=_8("renderState"),YM=function(){function t(e){(0,Qt.Z)(this,t),this.renderQueue=[],Object.defineProperty(this,ta,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=nr(),this.dprMatrix=nr(),this.tmpMat4=nr(),this.vec3a=Ue(),this.vec3b=Ue(),this.vec3c=Ue(),this.vec3d=Ue(),this.canvasRendererPluginOptions=e}return(0,Pt.Z)(t,[{key:"apply",value:function(n,r){var i=this;this.context=n;var a=this.context,o=a.config,s=a.camera,A=a.renderingService,c=a.renderingContext,l=a.pathGeneratorFactory,u=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.pathGeneratorFactory=l;var f=n.contextService,d=c.root.ownerDocument.defaultView;A.hooks.init.tap(t.tag,function(){var v=f.getDPR(),y=o.width,w=o.height,b=f.getContext();i.clearRect(b,0,0,y*v,w*v,o.background)}),A.hooks.destroy.tap(t.tag,function(){i.renderQueue=[],Jc(i,ta)[ta]={restoreStack:[],prevObject:null,currentContext:null}});var h=function(){var y,w=f.getContext(),b=f.getDPR(),B=o.width,E=o.height,S=i.canvasRendererPluginOptions,F=S.dirtyObjectNumThreshold,k=S.dirtyObjectRatioThreshold,T=A.getStats(),L=T.total,P=T.rendered,R=P/L;i.clearFullScreen=i.clearFullScreenLastFrame||!((y=d.context.renderingPlugins[1])!==null&&y!==void 0&&y.isFirstTimeRenderingFinished)||A.disableDirtyRectangleRendering()||P>F&&R>k,w&&(typeof w.resetTransform=="function"?w.resetTransform():w.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(w,0,0,B*b,E*b,o.background))},g=function(y,w){for(var b=[y];b.length>0;){var B,E=b.pop();E.isVisible()&&!E.isCulled()&&(u?i.renderDisplayObjectOptimized(E,w,i.context,Jc(i,ta)[ta],r):i.renderDisplayObject(E,w,i.context,Jc(i,ta)[ta],r));for(var S=((B=E.sortable)===null||B===void 0||(B=B.sorted)===null||B===void 0?void 0:B.length)>0?E.sortable.sorted:E.childNodes,F=S.length-1;F>=0;F--)b.push(S[F])}};A.hooks.endFrame.tap(t.tag,function(){if(h(),c.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}u=o.renderer.getConfig().enableRenderingOptimization,Jc(i,ta)[ta]={restoreStack:[],prevObject:null,currentContext:Jc(i,ta)[ta].currentContext},Jc(i,ta)[ta].currentContext.clear(),i.clearFullScreenLastFrame=!1;var v=f.getContext(),y=f.getDPR();if(Ni(i.dprMatrix,[y,y,1]),Ur(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)u?(v.save(),g(c.root,v),v.restore()):g(c.root,v);else{var w=i.safeMergeAABB(i.mergeDirtyAABBs(i.renderQueue));if(Rr.isEmpty(w)){i.renderQueue=[];return}var b=i.convertAABB2Rect(w),B=b.x,E=b.y,S=b.width,F=b.height,k=Or(i.vec3a,[B,E,0],i.vpMatrix),T=Or(i.vec3b,[B+S,E,0],i.vpMatrix),L=Or(i.vec3c,[B,E+F,0],i.vpMatrix),P=Or(i.vec3d,[B+S,E+F,0],i.vpMatrix),R=Math.min(k[0],T[0],P[0],L[0]),U=Math.min(k[1],T[1],P[1],L[1]),N=Math.max(k[0],T[0],P[0],L[0]),j=Math.max(k[1],T[1],P[1],L[1]),z=Math.floor(R),W=Math.floor(U),D=Math.ceil(N-R),G=Math.ceil(j-U);v.save(),i.clearRect(v,z,W,D,G,o.background),v.beginPath(),v.rect(z,W,D,G),v.clip(),v.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var Y=o.renderer.getConfig(),at=Y.enableDirtyRectangleRenderingDebug;at&&d.dispatchEvent(new or(mA.DIRTY_RECTANGLE,{dirtyRect:{x:z,y:W,width:D,height:G}}));var it=w.getMin(),At=(0,Ge.Z)(it,2),ht=At[0],ut=At[1],Ct=w.getMax(),_t=(0,Ge.Z)(Ct,2),mt=_t[0],Lt=_t[1],Nt=c.root.ownerDocument.elementsFromBBox(ht,ut,mt,Lt);Nt.sort(function(Vt,Wt){return Vt.sortable.renderOrder-Wt.sortable.renderOrder}).forEach(function(Vt){Vt&&Vt.isVisible()&&!Vt.isCulled()&&i.renderDisplayObject(Vt,v,i.context,Jc(i,ta)[ta],r)}),v.restore(),i.renderQueue.forEach(function(Vt){i.saveDirtyAABB(Vt)}),i.renderQueue=[]}Jc(i,ta)[ta].restoreStack.forEach(function(){v.restore()}),Jc(i,ta)[ta].restoreStack=[]}),A.hooks.render.tap(t.tag,function(v){i.clearFullScreen||i.renderQueue.push(v)})}},{key:"clearRect",value:function(n,r,i,a,o,s){n.clearRect(r,i,a,o),s&&(n.fillStyle=s,n.fillRect(r,i,a,o))}},{key:"renderDisplayObjectOptimized",value:function(n,r,i,a,o){var s=n.nodeName,A=!1,c=!1,l=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],f=n.parsedStyle.clipPath;if(f){A=!a.prevObject||!rA(f.getWorldTransform(),a.prevObject.getWorldTransform()),A&&(this.applyWorldTransform(r,f),a.prevObject=null);var d=this.pathGeneratorFactory[f.nodeName];d&&(r.save(),c=!0,r.beginPath(),d(r,f.parsedStyle),r.closePath(),r.clip())}if(l){A=!a.prevObject||!rA(n.getWorldTransform(),a.prevObject.getWorldTransform()),A&&this.applyWorldTransform(r,n);var h=!a.prevObject;if(!h){var g=a.prevObject.nodeName;s===St.TEXT?h=g!==St.TEXT:s===St.IMAGE?h=g!==St.IMAGE:h=g===St.TEXT||g===St.IMAGE}l.applyStyleToContext(r,n,h,a),a.prevObject=n}u&&(r.beginPath(),u(r,n.parsedStyle),s!==St.LINE&&s!==St.PATH&&s!==St.POLYLINE&&r.closePath()),l&&l.drawToContext(r,n,Jc(this,ta)[ta],this,o),c&&r.restore(),n.dirty(!1)}},{key:"renderDisplayObject",value:function(n,r,i,a,o){var s=n.nodeName,A=a.restoreStack[a.restoreStack.length-1];A&&!(n.compareDocumentPosition(A)&qr.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var c=this.context.styleRendererFactory[s],l=this.pathGeneratorFactory[s],u=n.parsedStyle.clipPath;if(u){this.applyWorldTransform(r,u);var f=this.pathGeneratorFactory[u.nodeName];f&&(r.save(),a.restoreStack.push(n),r.beginPath(),f(r,u.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),l&&(r.beginPath(),l(r,n.parsedStyle),s!==St.LINE&&s!==St.PATH&&s!==St.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,i,this,o),r.restore()),n.dirty(!1)}},{key:"applyAttributesToContext",value:function(n,r){var i=r.parsedStyle,a=i.stroke,o=i.fill,s=i.opacity,A=i.lineDash,c=i.lineDashOffset;A&&n.setLineDash(A),be(c)||(n.lineDashOffset=c),be(s)||(n.globalAlpha*=s),!be(a)&&!Array.isArray(a)&&!a.isNone&&(n.strokeStyle=r.attributes.stroke),!be(o)&&!Array.isArray(o)&&!o.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),i=n.getMax(),a=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(i[0]),A=Math.ceil(i[1]),c=s-a,l=A-o;return{x:a,y:o,width:c,height:l}}},{key:"mergeDirtyAABBs",value:function(n){var r=new Rr;return n.forEach(function(i){var a=i.getRenderBounds();r.add(a);var o=i.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new Rr);var i=n.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,i){i?(KA(this.tmpMat4,r.getLocalTransform()),Ur(this.tmpMat4,i,this.tmpMat4),Ur(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(KA(this.tmpMat4,r.getWorldTransform()),Ur(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new Rr,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(o){n.add(o)}),n}}])}();YM.tag="CanvasRenderer";function iw(t,e,n,r,i,a,o){var s,A;if(t.image.nodeName==="rect"){var c=t.image.parsedStyle,l=c.width,u=c.height;A=r.contextService.getDPR();var f=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(f),s.width=l*A,s.height=u*A;var d=a.offscreenCanvasCreator.getOrCreateContext(f),h={restoreStack:[],prevObject:null,currentContext:new Map};t.image.forEach(function(v){i.renderDisplayObject(v,d,r,h,a)}),h.restoreStack.forEach(function(){d.restore()})}var g=o.getOrCreatePatternSync(e,t,n,s,A,e.getGeometryBounds().min,function(){e.dirty(),r.renderingService.dirty()});return g}function aw(t,e,n,r){var i;if(t.type===Vc.LinearGradient||t.type===Vc.RadialGradient){var a=e.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,A=a&&a.min||[0,0];i=r.getOrCreateGradient((0,We.Z)((0,We.Z)({type:t.type},t.value),{},{min:A,width:o,height:s}),n)}return i}var ow=["shadowBlur","shadowOffsetX","shadowOffsetY"],$M=["lineCap","lineJoin","miterLimit"],ga={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},XM={};function Si(t,e,n,r){var i=r.has(e)?r.get(e):ga[e];return i!==n&&(e==="lineDash"?t.setLineDash(n):t[e]=n,r.set(e,n)),i}var C8=function(){function t(e){(0,Qt.Z)(this,t),this.imagePool=e}return(0,Pt.Z)(t,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,i,a,o,s){}},{key:"applyCommonStyleToContext",value:function(n,r,i,a){var o=i?XM:a.prevObject.parsedStyle,s=r.parsedStyle;(i||s.opacity!==o.opacity)&&Si(n,"globalAlpha",be(s.opacity)?ga.globalAlpha:s.opacity,a.currentContext),(i||s.blend!==o.blend)&&Si(n,"globalCompositeOperation",be(s.blend)?ga.globalCompositeOperation:s.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,i,a){var o=i?XM:a.prevObject.parsedStyle,s=r.parsedStyle,A=s.lineWidth,c=A===void 0?ga.lineWidth:A,l=s.fill&&!s.fill.isNone,u=s.stroke&&!s.stroke.isNone&&c>0;if(u){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var f=!be(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:ga.strokeStyle;Si(n,"strokeStyle",f,a.currentContext)}(i||s.lineWidth!==o.lineWidth)&&Si(n,"lineWidth",be(s.lineWidth)?ga.lineWidth:s.lineWidth,a.currentContext),(i||s.lineDash!==o.lineDash)&&Si(n,"lineDash",s.lineDash||ga.lineDash,a.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&Si(n,"lineDashOffset",be(s.lineDashOffset)?ga.lineDashOffset:s.lineDashOffset,a.currentContext);for(var d=0;d<$M.length;d++){var h=$M[d];(i||s[h]!==o[h])&&Si(n,h,be(s[h])?ga[h]:s[h],a.currentContext)}}if(l&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var g=!be(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:ga.fillStyle;Si(n,"fillStyle",g,a.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,i,a){var o=r.nodeName;this.applyCommonStyleToContext(n,r,i,a),o===St.IMAGE||this.applyStrokeFillStyleToContext(n,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,i,a){var o=r.parsedStyle;if(i){Si(n,"shadowColor",o.shadowColor.toString(),a.currentContext);for(var s=0;s<ow.length;s++){var A=ow[s];Si(n,A,o[A]||ga[A],a.currentContext)}}o.filter&&o.filter.length&&Si(n,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Si(n,"shadowColor",ga.shadowColor,a.currentContext);for(var s=0;s<ow.length;s++){var A=ow[s];Si(n,A,ga[A],a.currentContext)}}if(i)if(r&&o){var c=n.filter;!be(c)&&c.indexOf("drop-shadow")>-1&&Si(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||ga.filter,a.currentContext)}else Si(n,"filter",ga.filter,a.currentContext)}},{key:"fillToContext",value:function(n,r,i,a,o){var s=this,A=r.parsedStyle,c=A.fill,l=A.fillRule,u=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(d){var h=Si(n,"fillStyle",aw(d,r,n,s.imagePool),i.currentContext);u=u!=null?u:h,l?n.fill(l):n.fill()});else{if(iu(c)){var f=iw(c,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);f&&(n.fillStyle=f,u=!0)}l?n.fill(l):n.fill()}u!==null&&Si(n,"fillStyle",u,i.currentContext)}},{key:"strokeToContext",value:function(n,r,i,a,o){var s=this,A=r.parsedStyle.stroke,c=null;if(Array.isArray(A)&&A.length>0)A.forEach(function(f){var d=Si(n,"strokeStyle",aw(f,r,n,s.imagePool),i.currentContext);c=c!=null?c:d,n.stroke()});else{if(iu(A)){var l=iw(A,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);if(l){var u=Si(n,"strokeStyle",l,i.currentContext);c=c!=null?c:u}}n.stroke()}c!==null&&Si(n,"strokeStyle",c,i.currentContext)}},{key:"drawToContext",value:function(n,r,i,a,o){var s,A=r.nodeName,c=r.parsedStyle,l=c.opacity,u=l===void 0?ga.globalAlpha:l,f=c.fillOpacity,d=f===void 0?ga.fillOpacity:f,h=c.strokeOpacity,g=h===void 0?ga.strokeOpacity:h,v=c.lineWidth,y=v===void 0?ga.lineWidth:v,w=c.fill&&!c.fill.isNone,b=c.stroke&&!c.stroke.isNone&&y>0;if(!(!w&&!b)){var B=!be(c.shadowColor)&&c.shadowBlur>0,E=c.shadowType==="inner",S=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,F=!!(c.filter&&c.filter.length),k=B&&b&&(A===St.PATH||A===St.LINE||A===St.POLYLINE||S||E),T=null;if(w){k||this.applyShadowAndFilterStyleToContext(n,r,B,i);var L=u*d;T=Si(n,"globalAlpha",L,i.currentContext),this.fillToContext(n,r,i,a,o),k||this.clearShadowAndFilterStyleForContext(n,B,F,i)}if(b){var P=!1,R=u*g,U=Si(n,"globalAlpha",R,i.currentContext);if(T=w?T:U,k&&(this.applyShadowAndFilterStyleToContext(n,r,B,i),P=!0,E)){var N=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,i,a,o),n.globalCompositeOperation=N,this.clearShadowAndFilterStyleForContext(n,B,F,i,!0)}this.strokeToContext(n,r,i,a,o),P&&this.clearShadowAndFilterStyleForContext(n,B,F,i)}T!==null&&Si(n,"globalAlpha",T,i.currentContext)}}}])}(),hc=function(t){function e(){return(0,Qt.Z)(this,e),(0,je.Z)(this,e,arguments)}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"render",value:function(r,i,a,o,s,A){var c=i.fill,l=i.fillRule,u=i.opacity,f=u===void 0?1:u,d=i.fillOpacity,h=d===void 0?1:d,g=i.stroke,v=i.strokeOpacity,y=v===void 0?1:v,w=i.lineWidth,b=w===void 0?1:w,B=i.lineCap,E=i.lineJoin,S=i.shadowType,F=i.shadowColor,k=i.shadowBlur,T=i.filter,L=i.miterLimit,P=c&&!c.isNone,R=g&&!g.isNone&&b>0,U=(c==null?void 0:c.alpha)===0,N=!!(T&&T.length),j=!be(F)&&k>0,z=a.nodeName,W=S==="inner",D=R&&j&&(z===St.PATH||z===St.LINE||z===St.POLYLINE||U||W);P&&(r.globalAlpha=f*h,D||sw(a,r,j),qM(r,a,c,l,o,s,A,this.imagePool),D||this.clearShadowAndFilter(r,N,j)),R&&(r.globalAlpha=f*y,r.lineWidth=b,be(L)||(r.miterLimit=L),be(B)||(r.lineCap=B),be(E)||(r.lineJoin=E),D&&(W&&(r.globalCompositeOperation="source-atop"),sw(a,r,!0),W&&(W2(r,a,g,o,s,A,this.imagePool),r.globalCompositeOperation=ga.globalCompositeOperation,this.clearShadowAndFilter(r,N,!0))),W2(r,a,g,o,s,A,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var o=r.filter;!be(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(C8);function sw(t,e,n){var r=t.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,A=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=a.toString(),e.shadowBlur=o||0,e.shadowOffsetX=s||0,e.shadowOffsetY=A||0)}function qM(t,e,n,r,i,a,o,s){var A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){t.fillStyle=aw(c,e,t,s),A||(r?t.fill(r):t.fill())}):(iu(n)&&(t.fillStyle=iw(n,e,t,i,a,o,s)),A||(r?t.fill(r):t.fill()))}function W2(t,e,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(A){t.strokeStyle=aw(A,e,t,o),s||t.stroke()}):(iu(n)&&(t.strokeStyle=iw(n,e,t,r,i,a,o)),s||t.stroke())}function O8(t,e){var n=(0,Ge.Z)(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=(0,Ge.Z)(e,4),A=s[0],c=s[1],l=s[2],u=s[3],f=Math.max(r,A),d=Math.max(i,c),h=Math.min(r+a,A+l),g=Math.min(i+o,c+u);return h<=f||g<=d?null:[f,d,h-f,g-d]}function E8(t,e){var n=Or(Ue(),[t[0],t[1],0],e),r=Or(Ue(),[t[0]+t[2],t[1],0],e),i=Or(Ue(),[t[0],t[1]+t[3],0],e),a=Or(Ue(),[t[0]+t[2],t[1]+t[3],0],e);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0])-Math.min(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])-Math.min(n[1],r[1],i[1],a[1])]}var JM=function(t){function e(){return(0,Qt.Z)(this,e),(0,je.Z)(this,e,arguments)}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"renderDownSampled",value:function(r,i,a,o){var s=o.src,A=o.imageCache;if(!A.downSampled){this.imagePool.createDownSampledImage(s,a).then(function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())}).catch(function(c){console.error(c)});return}r.drawImage(A.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,o){var s=o.src,A=o.imageCache,c=o.imageRect,l=o.drawRect,u=A.size,f=r.getTransform(),d=f.a,h=f.b,g=f.c,v=f.d,y=f.e,w=f.f;if(r.resetTransform(),!(A!=null&&A.gridSize)){this.imagePool.createImageTiles(s,[],function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirty())},a).catch(function(j){console.error(j)});return}for(var b=[u[0]/c[2],u[1]/c[3]],B=[A.tileSize[0]/b[0],A.tileSize[1]/b[1]],E=[Math.floor((l[0]-c[0])/B[0]),Math.ceil((l[0]+l[2]-c[0])/B[0])],S=E[0],F=E[1],k=[Math.floor((l[1]-c[1])/B[1]),Math.ceil((l[1]+l[3]-c[1])/B[1])],T=k[0],L=k[1],P=T;P<=L;P++)for(var R=S;R<=F;R++){var U=A.tiles[P][R];if(U){var N=[Math.floor(c[0]+U.tileX*B[0]),Math.floor(c[1]+U.tileY*B[1]),Math.ceil(B[0]),Math.ceil(B[1])];r.drawImage(U.data,N[0],N[1],N[2],N[3])}}r.setTransform(d,h,g,v,y,w)}},{key:"render",value:function(r,i,a){var o=i.x,s=o===void 0?0:o,A=i.y,c=A===void 0?0:A,l=i.width,u=i.height,f=i.src,d=i.shadowColor,h=i.shadowBlur,g=this.imagePool.getImageSync(f,a),v=g==null?void 0:g.img,y=l,w=u;if(v){y||(y=v.width),w||(w=v.height);var b=!be(d)&&h>0;sw(a,r,b);try{var B=a.ownerDocument.defaultView.getContextService().getDomElement(),E=B.width,S=B.height,F=r.getTransform(),k=F.a,T=F.b,L=F.c,P=F.d,R=F.e,U=F.f,N=tp(k,L,0,0,T,P,0,0,0,0,1,0,R,U,0,1),j=E8([s,c,y,w],N),z=O8([0,0,E,S],j);if(!z)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){e.renderFull(r,i,a,{image:v,drawRect:[s,c,y,w]});return}var W=j[2]/g.size[0];if(W<(g.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:f,imageCache:g,drawRect:[s,c,y,w]});return}if(!ImagePool.isSupportTile){e.renderFull(r,i,a,{image:v,drawRect:[s,c,y,w]});return}this.renderTile(r,i,a,{src:f,imageCache:g,imageRect:j,drawRect:z})}catch(D){}}}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])}(hc),tF=function(t){function e(){return(0,Qt.Z)(this,e),(0,je.Z)(this,e,arguments)}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"render",value:function(r,i,a,o,s,A){a.getBounds();var c=i.lineWidth,l=c===void 0?1:c,u=i.textAlign,f=u===void 0?"start":u,d=i.textBaseline,h=d===void 0?"alphabetic":d,g=i.lineJoin,v=g===void 0?"miter":g,y=i.miterLimit,w=y===void 0?10:y,b=i.letterSpacing,B=b===void 0?0:b,E=i.stroke,S=i.fill,F=i.fillRule,k=i.fillOpacity,T=k===void 0?1:k,L=i.strokeOpacity,P=L===void 0?1:L,R=i.opacity,U=R===void 0?1:R,N=i.metrics,j=i.x,z=j===void 0?0:j,W=i.y,D=W===void 0?0:W,G=i.dx,Y=i.dy,at=i.shadowColor,it=i.shadowBlur,At=i.textDecorationLine,ht=N.font,ut=N.lines,Ct=N.height,_t=N.lineHeight,mt=N.lineMetrics;r.font=ht,r.lineWidth=l,r.textAlign=f==="middle"?"center":f;var Lt=h;Lt==="alphabetic"&&(Lt="bottom"),r.lineJoin=v,be(w)||(r.miterLimit=w);var Nt=D;h==="middle"?Nt+=-Ct/2-_t/2:h==="bottom"||h==="alphabetic"||h==="ideographic"?Nt+=-Ct:(h==="top"||h==="hanging")&&(Nt+=-_t);var Vt=z+(G||0);Nt+=Y||0,ut.length===1&&(Lt==="bottom"?(Lt="middle",Nt-=.5*Ct):Lt==="top"&&(Lt="middle",Nt+=.5*Ct)),r.textBaseline=Lt;var Wt=!be(at)&&it>0;sw(a,r,Wt);for(var Zt=0;Zt<ut.length;Zt++){var pe=l/2+Vt;Nt+=_t,!be(E)&&!E.isNone&&l&&this.drawLetterSpacing(r,a,ut[Zt],mt[Zt],f,pe,Nt,B,S,F,T,E,P,U,!0,o,s,A),be(S)||this.drawLetterSpacing(r,a,ut[Zt],mt[Zt],f,pe,Nt,B,S,F,T,E,P,U,!1,o,s,A)}At&&At!=="none"&&this.drawTextDecorations(r,i,a,ut,_t,Vt,D+(Y||0),o,s,A)}},{key:"drawLetterSpacing",value:function(r,i,a,o,s,A,c,l,u,f,d,h,g,v,y,w,b,B){if(l===0){y?this.strokeText(r,i,a,A,c,h,g,w,b,B):this.fillText(r,i,a,A,c,u,f,d,v,w,b,B);return}var E=r.textAlign;r.textAlign="left";var S=A;s==="center"||s==="middle"?S=A-o.width/2:(s==="right"||s==="end")&&(S=A-o.width);for(var F=Array.from(a),k=r.measureText(a).width,T=0,L=0;L<F.length;++L){var P=F[L];y?this.strokeText(r,i,P,S,c,h,g,w,b,B):this.fillText(r,i,P,S,c,u,f,d,v,w,b,B),T=r.measureText(a.substring(L+1)).width,S+=k-T+l,k=T}r.textAlign=E}},{key:"fillText",value:function(r,i,a,o,s,A,c,l,u,f,d,h){qM(r,i,A,c,f,d,h,this.imagePool,!0);var g,v=!be(l)&&l!==1;v&&(g=r.globalAlpha,r.globalAlpha=l*u),r.fillText(a,o,s),v&&(r.globalAlpha=g)}},{key:"strokeText",value:function(r,i,a,o,s,A,c,l,u,f){W2(r,i,A,l,u,f,this.imagePool,!0);var d,h=!be(c)&&c!==1;h&&(d=r.globalAlpha,r.globalAlpha=c),r.strokeText(a,o,s),h&&(r.globalAlpha=d)}},{key:"drawTextDecorations",value:function(r,i,a,o,s,A,c,l,u,f){var d=i.textDecorationLine,h=i.textDecorationColor,g=i.textDecorationStyle,v=i.textDecorationThickness,y=v===void 0?1:v,w=i.textAlign,b=w===void 0?"start":w,B=i.lineWidth,E=B===void 0?1:B,S=i.metrics;if(!(!d||d==="none")){var F=S.lineMetrics,k=d.split(" ");switch(r.lineWidth=y,h&&(r.strokeStyle="rgba(".concat(h.r,", ").concat(h.g,", ").concat(h.b,", ").concat(h.alpha,")")),g){case"dashed":r.setLineDash([5,5]);break;case"dotted":r.setLineDash([2,2]);break;case"wavy":r.setLineDash([]);break;default:r.setLineDash([]);break}var T=c,L=i.textBaseline,P=L===void 0?"alphabetic":L;P==="middle"?T+=-S.height/2-s/2:P==="bottom"||P==="alphabetic"||P==="ideographic"?T+=-S.height:(P==="top"||P==="hanging")&&(T+=-s);for(var R=0;R<o.length;R++){T+=s;var U=F[R];if(U){var N=E/2,j=A,z=A+U.width;b==="center"||b==="middle"?(j=A-U.width/2,z=A+U.width/2):(b==="right"||b==="end")&&(j=A-U.width,z=A),j+=N,z+=N;var W=(0,Po.Z)(k),D;try{for(W.s();!(D=W.n()).done;){var G=D.value,Y=T;switch(G){case"underline":Y+=2;break;case"overline":Y-=s-2;break;case"line-through":Y-=s/2;break;default:continue}g==="wavy"?this.drawWavyLine(r,j,z,Y):(r.beginPath(),r.moveTo(j,Y),r.lineTo(z,Y),r.stroke())}}catch(at){W.e(at)}finally{W.f()}}}r.setLineDash([])}}},{key:"drawWavyLine",value:function(r,i,a,o){var s=2,A=10,c=Math.floor((a-i)/A);r.beginPath(),r.moveTo(i,o);for(var l=0;l<c;l++){var u=i+l*A+A/4,f=o+s,d=i+l*A+A/2,h=o;r.quadraticCurveTo(u,f,d,h);var g=i+l*A+A*3/4,v=o-s,y=i+(l+1)*A,w=o;r.quadraticCurveTo(g,v,y,w)}r.stroke()}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])}(hc),eF=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),n=(0,je.Z)(this,e),n.name="canvas-renderer",n.options=r,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){var r,i=(0,We.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,o=new hc(a),s=(r={},(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(r,St.CIRCLE,o),St.ELLIPSE,o),St.RECT,o),St.IMAGE,new JM(a)),St.TEXT,new tF(a)),St.LINE,o),St.POLYLINE,o),St.POLYGON,o),St.PATH,o),St.GROUP,void 0),(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(r,St.HTML,void 0),St.MESH,void 0),St.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new YM(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(ss),glt=Object.freeze({__proto__:null,CircleRenderer:hc,DefaultRenderer:hc,EllipseRenderer:hc,ImageRenderer:JM,LineRenderer:hc,PathRenderer:hc,Plugin:eF,PolygonRenderer:hc,PolylineRenderer:hc,RectRenderer:hc,TextRenderer:tF}),S8=Ue(),M8=Ue(),F8=Ue(),k8=nr(),nF=function(){function t(){var e=this;(0,Qt.Z)(this,t),this.isHit=function(n,r,i,a){var o=e.context.pointInPathPickerFactory[n.nodeName];if(o){var s=Pa(k8,i),A=Or(M8,ri(F8,r[0],r[1],0),s);if(o(n,new oi(A[0],A[1]),a,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(n,r){var i=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),a=e.context.pathGeneratorFactory[n.nodeName];return a&&(i.beginPath(),a(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return(0,Pt.Z)(t,[{key:"apply",value:function(n,r){var i,a=this,o=n.renderingService,s=n.renderingContext;this.context=n,this.runtime=r;var A=(i=s.root)===null||i===void 0?void 0:i.ownerDocument;o.hooks.pick.tapPromise(t.tag,function(){var c=(0,ja.Z)((0,ha.Z)().mark(function l(u){return(0,ha.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",a.pick(A,u));case 1:case"end":return f.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()),o.hooks.pickSync.tap(t.tag,function(c){return a.pick(A,c)})}},{key:"pick",value:function(n,r){var i=r.topmost,a=r.position,o=a.x,s=a.y,A=ri(S8,o,s,0),c=n.elementsFromBBox(A[0],A[1],A[0],A[1]),l=[],u=(0,Po.Z)(c),f;try{for(u.s();!(f=u.n()).done;){var d=f.value,h=d.getWorldTransform(),g=this.isHit(d,A,h,!1);if(g){var v=m1(d);if(v){var y=v.parsedStyle.clipPath,w=this.isHit(y,A,y.getWorldTransform(),!0);if(w){if(i)return r.picked=[d],r;l.push(d)}}else{if(i)return r.picked=[d],r;l.push(d)}}}}catch(b){u.e(b)}finally{u.f()}return r.picked=l,r}}])}();nF.tag="CanvasPicker";function T8(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.r,c=r.fill,l=r.stroke,u=r.lineWidth,f=u===void 0?1:u,d=r.increasedLineWidthForHitTesting,h=d===void 0?0:d,g=r.pointerEvents,v=g===void 0?"auto":g,y=(f+h)/2,w=br(a,s,e.x,e.y),b=su(v,c,l),B=(0,Ge.Z)(b,2),E=B[0],S=B[1];return E&&S||n?w<=A+y:E?w<=A:S?w>=A-y&&w<=A+y:!1}function Aw(t,e,n,r){return t/(n*n)+e/(r*r)}function I8(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,A=r.rx,c=r.ry,l=r.fill,u=r.stroke,f=r.lineWidth,d=f===void 0?1:f,h=r.increasedLineWidthForHitTesting,g=h===void 0?0:h,v=r.pointerEvents,y=v===void 0?"auto":v,w=e.x,b=e.y,B=su(y,l,u),E=(0,Ge.Z)(B,2),S=E[0],F=E[1],k=(d+g)/2,T=(w-a)*(w-a),L=(b-s)*(b-s);return S&&F||n?Aw(T,L,A+k,c+k)<=1:S?Aw(T,L,A,c)<=1:F?Aw(T,L,A-k,c-k)>=1&&Aw(T,L,A+k,c+k)<=1:!1}function ph(t,e,n,r,i,a){return i>=t&&i<=t+n&&a>=e&&a<=e+r}function L8(t,e,n,r,i,a,o){var s=i/2;return ph(t-s,e-s,n,i,a,o)||ph(t+n-s,e-s,i,r,a,o)||ph(t+s,e+r-s,n,i,a,o)||ph(t-s,e+s,i,r,a,o)}function cw(t,e,n,r,i,a,o,s){var A=(Math.atan2(s-e,o-t)+Math.PI*2)%(Math.PI*2),c={x:t+n*Math.cos(A),y:e+n*Math.sin(A)};return br(c.x,c.y,o,s)<=a/2}function xf(t,e,n,r,i,a,o){var s=Math.min(t,n),A=Math.max(t,n),c=Math.min(e,r),l=Math.max(e,r),u=i/2;return a>=s-u&&a<=A+u&&o>=c-u&&o<=l+u?Ip(t,e,n,r,a,o)<=i/2:!1}function rF(t,e,n,r,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],A=t[o][1],c=t[o+1][0],l=t[o+1][1];if(xf(s,A,c,l,e,n,r))return!0}if(i){var u=t[0],f=t[a-1];if(xf(u[0],u[1],f[0],f[1],e,n,r))return!0}return!1}var Q8=1e-6;function V2(t){return Math.abs(t)<Q8?0:t<0?-1:1}function U8(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function iF(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(U8(o,s,[e,n]))return!0;V2(o[1]-n)>0!=V2(s[1]-n)>0&&V2(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function aF(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];if(r=iF(a,e,n),r)break}return r}function P8(t,e,n){var r=t.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,A=r.lineWidth,c=A===void 0?1:A,l=r.increasedLineWidthForHitTesting,u=l===void 0?0:l,f=r.pointerEvents,d=f===void 0?"auto":f,h=r.fill,g=r.stroke,v=su(d,h,g),y=(0,Ge.Z)(v,2),w=y[1];return!w&&!n||!c?!1:xf(i,a,o,s,c+u,e.x,e.y)}function R8(t,e,n,r,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var A=t[s],c=A.currentPoint,l=A.params,u=A.prePoint,f=A.box;if(!(f&&!ph(f.x-o,f.y-o,f.width+e,f.height+e,n,r)))switch(A.command){case"L":case"Z":if(a=xf(u[0],u[1],c[0],c[1],e,n,r),a)return!0;break;case"Q":var d=H0(u[0],u[1],l[1],l[2],l[3],l[4],n,r);if(a=d<=e/2,a)return!0;break;case"C":var h=Ls(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,i);if(a=h<=e/2,a)return!0;break;case"A":A.cubicParams||(A.cubicParams=qu(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6],l[7],void 0));for(var g=A.cubicParams,v=u,y=0;y<g.length;y+=6){var w=Ls(v[0],v[1],g[y],g[y+1],g[y+2],g[y+3],g[y+4],g[y+5],n,r,i);if(v=[g[y+4],g[y+5]],a=w<=e/2,a)return!0}break}}return a}function N8(t,e,n,r,i,a){var o=t.parsedStyle,s=o.lineWidth,A=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,l=c===void 0?0:c,u=o.stroke,f=o.fill,d=o.d,h=o.pointerEvents,g=h===void 0?"auto":h,v=d.segments,y=d.hasArc,w=d.polylines,b=d.polygons,B=su(g,(b==null?void 0:b.length)&&f,u),E=(0,Ge.Z)(B,2),S=E[0],F=E[1],k=rv(t),T=!1;return S||n?(y?T=r(t,e):T=aF(b,e.x,e.y)||aF(w,e.x,e.y),T):((F||n)&&(T=R8(v,A+l,e.x,e.y,k)),T)}function D8(t,e,n){var r=t.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,A=r.increasedLineWidthForHitTesting,c=A===void 0?0:A,l=r.points,u=r.pointerEvents,f=u===void 0?"auto":u,d=su(f,a,i),h=(0,Ge.Z)(d,2),g=h[0],v=h[1],y=!1;return(v||n)&&(y=rF(l.points,s+c,e.x,e.y,!0)),!y&&(g||n)&&(y=iF(l.points,e.x,e.y)),y}function H8(t,e,n){var r=t.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,A=r.points,c=r.pointerEvents,l=c===void 0?"auto":c,u=r.fill,f=r.stroke,d=su(l,u,f),h=(0,Ge.Z)(d,2),g=h[1];return!g&&!n||!a?!1:rF(A.points,a+s,e.x,e.y,!1)}function j8(t,e,n,r,i){var a=t.parsedStyle,o=a.radius,s=a.fill,A=a.stroke,c=a.lineWidth,l=c===void 0?1:c,u=a.increasedLineWidthForHitTesting,f=u===void 0?0:u,d=a.x,h=d===void 0?0:d,g=a.y,v=g===void 0?0:g,y=a.width,w=a.height,b=a.pointerEvents,B=b===void 0?"auto":b,E=su(B,s,A),S=(0,Ge.Z)(E,2),F=S[0],k=S[1],T=o&&o.some(function(U){return U!==0}),L=l+f;if(T){var R=!1;return(k||n)&&(R=G8(h,v,y,w,o.map(function(U){return Gr(U,0,Math.min(Math.abs(y)/2,Math.abs(w)/2))}),L,e.x,e.y)),!R&&(F||n)&&(R=r(t,e)),R}else{var P=L/2;if(F&&k||n)return ph(h-P,v-P,y+P,w+P,e.x,e.y);if(F)return ph(h,v,y,w,e.x,e.y);if(k)return L8(h,v,y,w,L,e.x,e.y)}return!1}function G8(t,e,n,r,i,a,o,s){var A=(0,Ge.Z)(i,4),c=A[0],l=A[1],u=A[2],f=A[3];return xf(t+c,e,t+n-l,e,a,o,s)||xf(t+n,e+l,t+n,e+r-u,a,o,s)||xf(t+n-u,e+r,t+f,e+r,a,o,s)||xf(t,e+r-f,t,e+c,a,o,s)||cw(t+n-l,e+l,l,1.5*Math.PI,2*Math.PI,a,o,s)||cw(t+n-u,e+r-u,u,0,.5*Math.PI,a,o,s)||cw(t+f,e+r-f,f,.5*Math.PI,Math.PI,a,o,s)||cw(t+c,e+c,c,Math.PI,1.5*Math.PI,a,o,s)}function K8(t,e,n,r,i,a){var o=t.parsedStyle,s=o.pointerEvents,A=s===void 0?"auto":s,c=o.x,l=c===void 0?0:c,u=o.y,f=u===void 0?0:u,d=o.width,h=o.height;if(A==="non-transparent-pixel"){var g=i.config.offscreenCanvas,v=a.offscreenCanvasCreator.getOrCreateCanvas(g),y=a.offscreenCanvasCreator.getOrCreateContext(g,{willReadFrequently:!0});v.width=d,v.height=h,i.defaultStyleRendererFactory[St.IMAGE].render(y,(0,We.Z)((0,We.Z)({},t.parsedStyle),{},{x:0,y:0}),t,void 0,void 0,void 0);var w=y.getImageData(e.x-l,e.y-f,1,1).data;return w.every(function(b){return b!==0})}return!0}function z8(t,e,n,r){var i=t.getGeometryBounds();return e.x>=i.min[0]&&e.y>=i.min[1]&&e.x<=i.max[0]&&e.y<=i.max[1]}var oF=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="canvas-picker",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){var r,i=(r={},(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(r,St.CIRCLE,T8),St.ELLIPSE,I8),St.RECT,j8),St.LINE,P8),St.POLYLINE,H8),St.POLYGON,D8),St.PATH,N8),St.TEXT,z8),St.GROUP,null),St.IMAGE,K8),(0,Ae.Z)((0,Ae.Z)(r,St.HTML,null),St.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new nF)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(ss),vlt=Object.freeze({__proto__:null,Plugin:oF});function W8(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.r;t.arc(r,a,o,0,Math.PI*2,!1)}function V8(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.rx,s=e.ry;if(t.ellipse)t.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var A=o>s?o:s,c=o>s?1:o/s,l=o>s?s/o:1;t.save(),t.scale(c,l),t.arc(r,a,A,0,Math.PI*2)}}function Z8(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.markerStart,s=e.markerEnd,A=e.markerStartOffset,c=e.markerEndOffset,l=0,u=0,f=0,d=0,h=0,g,v;o&&$n(o)&&A&&(g=i-n,v=a-r,h=Math.atan2(v,g),l=Math.cos(h)*(A||0),u=Math.sin(h)*(A||0)),s&&$n(s)&&c&&(g=n-i,v=r-a,h=Math.atan2(v,g),f=Math.cos(h)*(c||0),d=Math.sin(h)*(c||0)),t.moveTo(n+l,r+u),t.lineTo(i+f,a+d)}function Y8(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.d,s=o.absolutePath,A=o.segments,c=0,l=0,u=0,f=0,d=0,h,g;if(n&&$n(n)&&i){var v=n.parentNode.getStartTangent(),y=(0,Ge.Z)(v,2),w=y[0],b=y[1];h=w[0]-b[0],g=w[1]-b[1],d=Math.atan2(g,h),c=Math.cos(d)*(i||0),l=Math.sin(d)*(i||0)}if(r&&$n(r)&&a){var B=r.parentNode.getEndTangent(),E=(0,Ge.Z)(B,2),S=E[0],F=E[1];h=S[0]-F[0],g=S[1]-F[1],d=Math.atan2(g,h),u=Math.cos(d)*(a||0),f=Math.sin(d)*(a||0)}for(var k=0;k<s.length;k++){var T=s[k],L=T[0],P=s[k+1],R=k===0&&(c!==0||l!==0),U=(k===s.length-1||P&&(P[0]==="M"||P[0]==="Z"))&&u!==0&&f!==0,N=R?[c,l]:[0,0],j=(0,Ge.Z)(N,2),z=j[0],W=j[1],D=U?[u,f]:[0,0],G=(0,Ge.Z)(D,2),Y=G[0],at=G[1];switch(L){case"M":t.moveTo(T[1]+z,T[2]+W);break;case"L":t.lineTo(T[1]+Y,T[2]+at);break;case"Q":t.quadraticCurveTo(T[1],T[2],T[3]+Y,T[4]+at);break;case"C":t.bezierCurveTo(T[1],T[2],T[3],T[4],T[5]+Y,T[6]+at);break;case"A":{var it=A[k].arcParams,At=it.cx,ht=it.cy,ut=it.rx,Ct=it.ry,_t=it.startAngle,mt=it.endAngle,Lt=it.xRotation,Nt=it.sweepFlag;if(t.ellipse)t.ellipse(At,ht,ut,Ct,Lt,_t,mt,!!(1-Nt));else{var Vt=ut>Ct?ut:Ct,Wt=ut>Ct?1:ut/Ct,Zt=ut>Ct?Ct/ut:1;t.translate(At,ht),t.rotate(Lt),t.scale(Wt,Zt),t.arc(0,0,Vt,_t,mt,!!(1-Nt)),t.scale(1/Wt,1/Zt),t.rotate(-Lt),t.translate(-At,-ht)}U&&t.lineTo(T[6]+u,T[7]+f);break}case"Z":t.closePath();break}}}function $8(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,g=0,v=0,y,w;n&&$n(n)&&i&&(y=o[1][0]-o[0][0],w=o[1][1]-o[0][1],v=Math.atan2(w,y),f=Math.cos(v)*(i||0),d=Math.sin(v)*(i||0)),r&&$n(r)&&a&&(y=o[s-1][0]-o[0][0],w=o[s-1][1]-o[0][1],v=Math.atan2(w,y),h=Math.cos(v)*(a||0),g=Math.sin(v)*(a||0)),t.moveTo(A+(f||h),c+(d||g));for(var b=1;b<s-1;b++){var B=o[b];t.lineTo(B[0],B[1])}t.lineTo(l,u)}function X8(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,A=o[0][0],c=o[0][1],l=o[s-1][0],u=o[s-1][1],f=0,d=0,h=0,g=0,v=0,y,w;n&&$n(n)&&i&&(y=o[1][0]-o[0][0],w=o[1][1]-o[0][1],v=Math.atan2(w,y),f=Math.cos(v)*(i||0),d=Math.sin(v)*(i||0)),r&&$n(r)&&a&&(y=o[s-2][0]-o[s-1][0],w=o[s-2][1]-o[s-1][1],v=Math.atan2(w,y),h=Math.cos(v)*(a||0),g=Math.sin(v)*(a||0)),t.moveTo(A+f,c+d);for(var b=1;b<s-1;b++){var B=o[b];t.lineTo(B[0],B[1])}t.lineTo(l+h,u+g)}function q8(t,e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.radius,s=e.width,A=e.height,c=s,l=A,u=o&&o.some(function(E){return E!==0});if(!u)t.rect(r,a,c,l);else{var f=s>0?1:-1,d=A>0?1:-1,h=f+d===0,g=o.map(function(E){return Gr(E,0,Math.min(Math.abs(c)/2,Math.abs(l)/2))}),v=(0,Ge.Z)(g,4),y=v[0],w=v[1],b=v[2],B=v[3];t.moveTo(f*y+r,a),t.lineTo(c-f*w+r,a),w!==0&&t.arc(c-f*w+r,d*w+a,w,-d*Math.PI/2,f>0?0:Math.PI,h),t.lineTo(c+r,l-d*b+a),b!==0&&t.arc(c-f*b+r,l-d*b+a,b,f>0?0:Math.PI,d>0?Math.PI/2:1.5*Math.PI,h),t.lineTo(f*B+r,l+a),B!==0&&t.arc(f*B+r,l-d*B+a,B,d>0?Math.PI/2:-Math.PI/2,f>0?Math.PI:0,h),t.lineTo(r,d*y+a),y!==0&&t.arc(f*y+r,d*y+a,y,f>0?Math.PI:0,d>0?Math.PI*1.5:Math.PI/2,h)}}var sF=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="canvas-path-generator",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){var r,i=(r={},(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(r,St.CIRCLE,W8),St.ELLIPSE,V8),St.RECT,q8),St.LINE,Z8),St.POLYLINE,X8),St.POLYGON,$8),St.PATH,Y8),St.TEXT,void 0),St.GROUP,void 0),St.IMAGE,void 0),(0,Ae.Z)((0,Ae.Z)((0,Ae.Z)(r,St.HTML,void 0),St.MESH,void 0),St.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(ss),ylt=Object.freeze({__proto__:null,Plugin:sF}),J8=function(){function t(e){(0,Qt.Z)(this,t),this.renderingContext=e.renderingContext,this.canvasConfig=e.config}return(0,Pt.Z)(t,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,i=n.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=fr(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,zx(this.$canvas,n,r)),this.renderingContext.renderReasons.add(m.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:function(){var e=(0,ja.Z)((0,ha.Z)().mark(function r(){var i,a,o,s=arguments;return(0,ha.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return i=s.length>0&&s[0]!==void 0?s[0]:{},a=i.type,o=i.encoderOptions,A.abrupt("return",this.context.canvas.toDataURL(a,o));case 1:case"end":return A.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}])}(),t6=function(t){function e(){var n;(0,Qt.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,je.Z)(this,e,[].concat(i)),n.name="canvas-context-register",n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){this.context.ContextService=J8}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(ss),AF=function(t){function e(n){var r;return(0,Qt.Z)(this,e),r=(0,je.Z)(this,e,[n]),r.registerPlugin(new t6),r.registerPlugin(new pH.Plugin),r.registerPlugin(new sF),r.registerPlugin(new eF),r.registerPlugin(new wH.Plugin),r.registerPlugin(new oF),r.registerPlugin(new yH.Plugin),r}return(0,Te.Z)(e,t),(0,Pt.Z)(e)}(j0);var cF=function(){function t(e){(0,Qt.Z)(this,t),this.dragndropPluginOptions=e}return(0,Pt.Z)(t,[{key:"apply",value:function(n){var r=this,i=n.renderingService,a=n.renderingContext,o=a.root.ownerDocument,s=o.defaultView,A=function(l){var u=l.target,f=u===o,d=f&&r.dragndropPluginOptions.isDocumentDraggable?o:u.closest&&u.closest("[draggable=true]");if(d){var h=!1,g=l.timeStamp,v=[l.clientX,l.clientY],y=null,w=[l.clientX,l.clientY],b=function(){var E=(0,ja.Z)((0,ha.Z)().mark(function S(F){var k,T,L,P,R,U;return(0,ha.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(h){N.next=2;break}if(k=F.timeStamp-g,T=Na([F.clientX,F.clientY],v),!(k<=r.dragndropPluginOptions.dragstartTimeThreshold||T<=r.dragndropPluginOptions.dragstartDistanceThreshold)){N.next=1;break}return N.abrupt("return");case 1:F.type="dragstart",d.dispatchEvent(F),h=!0;case 2:if(F.type="drag",F.dx=F.clientX-w[0],F.dy=F.clientY-w[1],d.dispatchEvent(F),w=[F.clientX,F.clientY],f){N.next=4;break}return L=r.dragndropPluginOptions.overlap==="pointer"?[F.canvasX,F.canvasY]:u.getBounds().center,N.next=3,o.elementsFromPoint(L[0],L[1]);case 3:P=N.sent,R=P[P.indexOf(u)+1],U=(R==null?void 0:R.closest("[droppable=true]"))||(r.dragndropPluginOptions.isDocumentDroppable?o:null),y!==U&&(y&&(F.type="dragleave",F.target=y,y.dispatchEvent(F)),U&&(F.type="dragenter",F.target=U,U.dispatchEvent(F)),y=U,y&&(F.type="dragover",F.target=y,y.dispatchEvent(F)));case 4:case"end":return N.stop()}},S)}));return function(F){return E.apply(this,arguments)}}();s.addEventListener("pointermove",b);var B=function(S){if(h){S.detail={preventClick:!0};var F=S.clone();y&&(F.type="drop",F.target=y,y.dispatchEvent(F)),F.type="dragend",d.dispatchEvent(F),h=!1}s.removeEventListener("pointermove",b)};u.addEventListener("pointerup",B,{once:!0}),u.addEventListener("pointerupoutside",B,{once:!0})}};i.hooks.init.tap(t.tag,function(){s.addEventListener("pointerdown",A)}),i.hooks.destroy.tap(t.tag,function(){s.removeEventListener("pointerdown",A)})}}])}();cF.tag="Dragndrop";var lF=function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Qt.Z)(this,e),n=(0,je.Z)(this,e),n.name="dragndrop",n.options=r,n}return(0,Te.Z)(e,t),(0,Pt.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new cF((0,We.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])}(ss);function e6(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||t.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,e),s&&t.apply(i,a)}}var uF=e6,nn=function(t,e,n){for(var r=0,i=fr(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return t===void 0||r<i.length?n:t};class n6 extends Map{constructor(e,n=hF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Z2(this,e))}has(e){return super.has(Z2(this,e))}set(e,n){return super.set(fF(this,e),n)}delete(e){return super.delete(dF(this,e))}}class mlt extends null{constructor(e,n=hF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Z2(this,e))}add(e){return super.add(fF(this,e))}delete(e){return super.delete(dF(this,e))}}function Z2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ov(t){return t}function kr(t,...e){return ug(t,Ov,Ov,e)}function lw(t,...e){return ug(t,Array.from,Ov,e)}function pF(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return t}function wlt(t,...e){return pF(lw(t,...e),e)}function blt(t,e,...n){return pF(uw(t,e,...n),n)}function Y2(t,e,...n){return ug(t,Ov,e,n)}function uw(t,e,...n){return ug(t,Array.from,e,n)}function Blt(t,...e){return ug(t,identity,gF,e)}function xlt(t,...e){return ug(t,Array.from,gF,e)}function gF(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function ug(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new n6,A=r[o++];let c=-1;for(const l of a){const u=A(l,++c,a),f=s.get(u);f?f.push(l):s.set(u,[l])}for(const[l,u]of s)s.set(l,i(u,o));return e(s)}(t,0)}var r6=function(t){return typeof t=="object"&&t!==null},$2=r6,i6=function(t){if(!$2(t)||!tf(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},lu=i6,a6=5;function o6(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function vF(t,e,n,r){n=n||0,r=r||a6;for(var i in e)if(o6(e,i)){var a=e[i];a!==null&&lu(a)?(lu(t[i])||(t[i]={}),n<r?vF(t[i],a,n+1,r):t[i]=e[i]):Sr(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var s6=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)vF(t,e[r]);return t},Mt=s6,yF=function(t){return be(t)?"":t.toString()},A6=function(t){var e=yF(t);return e.charAt(0).toLowerCase()+e.substring(1)},mF=A6;function wF({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function c6({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function l6({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function u6(t){return typeof t=="object"?t.valueOf():t}class bF extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=u6,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(wF({map:this.map,initKey:this.initKey},e))}has(e){return super.has(wF({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(c6({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(l6({map:this.map,initKey:this.initKey},e))}}class Ev{transformBreaks(e){return e}constructor(e){var n;this.options=Mt({},this.getDefaultOptions()),this.update(!((n=e==null?void 0:e.breaks)===null||n===void 0)&&n.length?this.transformBreaks(e):e)}getOptions(){return this.options}update(e={}){const n=e.breaks?this.transformBreaks(e):e;this.options=Mt({},this.options,n),this.rescale(n)}rescale(e){}}const fw=Symbol("defaultUnknown");function BF(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function xF(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==fw)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function _F(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class dw extends Ev{getDefaultOptions(){return{domain:[],range:[],unknown:fw}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&BF(this.domainIndexMap,this.getDomain(),this.domainKey),xF({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&BF(this.rangeIndexMap,this.getRange(),this.rangeKey),xF({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=_F(n),this.rangeKey=_F(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new dw(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}}function f6(t){const e=t.reduce((n,r)=>Math.min(n,r),1/0);return e===1/0?[]:t.map(n=>n/e)}function d6(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function h6(t){return Math.round(t*1e12)/1e12}function p6(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,A=e.length,c=d6(a,A),[l,u]=n,f=u-l,d=2/A*r+1-1/A*i,h=f/d,g=h*i/A,v=h-A*g,y=f6(c),w=y.reduce((R,U)=>R+U),b=v/w,B=new bF(e.map((R,U)=>{const N=y[U]*b;return[R,o?Math.floor(N):N]})),E=new bF(e.map((R,U)=>{const j=y[U]*b+g;return[R,o?Math.floor(j):j]})),S=Array.from(E.values()).reduce((R,U)=>R+U),k=(f-(S-S/A*i))*s,T=l+k;let L=o?Math.round(T):T;const P=new Array(A);for(let R=0;R<A;R+=1){P[R]=h6(L);const U=e[R];L+=E.get(U)}return{valueBandWidth:B,valueStep:E,adjustedRange:P}}function g6(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return p6(t);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=t;let l,u,f=a[0];const h=a[1]-f,g=o*2,v=r-s;l=h/Math.max(1,g+v),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const y=new Array(r).fill(0).map((w,b)=>f+b*l);return{valueStep:l,valueBandWidth:u,adjustedRange:y}}class gh extends dw{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:fw,flex:[]}}constructor(e){super(e)}clone(){return new gh(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=g6({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}}const X2=Math.sqrt(50),q2=Math.sqrt(10),J2=Math.sqrt(2);function hw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Ai(10,i);return i>=0?(a>=X2?10:a>=q2?5:a>=J2?2:1)*Ai(10,i):-Ai(10,-i)/(a>=X2?10:a>=q2?5:a>=J2?2:1)}function CF(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=Ai(10,Math.floor(Math.log(r)/Math.LN10));const a=r/i;return a>=X2?i*=10:a>=q2?i*=5:a>=J2&&(i*=2),e<t?-i:i}const v6=(t,e)=>{if(!(e!=null&&e.length))return t;const n=[...t,...e.flatMap(a=>[a.start,a.end])],i=Array.from(new Set(n)).sort((a,o)=>a-o).filter(a=>!e.some(({start:o,end:s})=>a>o&&a<s));return i.length?i:t},_f=(t,e,n,r)=>{let i,a,o=t,s=e;if(o===s&&n>0)return[o];let A=hw(o,s,n);if(A===0||!Number.isFinite(A))return[];if(A>0){o=Math.ceil(o/A),s=Math.floor(s/A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)*A}else{A=-A,o=Math.ceil(o*A),s=Math.floor(s*A),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)/A}return v6(a,r)};class Sv extends Ev{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:_f}}map(e){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(e){const[n]=this.options.range;return e===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:n,tickCount:r}=this.options,[i,a]=n;return!rr(i)||!rr(a)?[]:e(i,a,r)}clone(){return new Sv(this.options)}}var y6=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};function OF(t){var e;let n=t;for(;n;){if(((e=n.attributes)===null||e===void 0?void 0:e.class)==="view")return n;n=n.parentNode}return null}function pw(t){const{markType:e,nodeName:n}=t;return e==="heatmap"&&n==="image"}function t_(t,e){const n=e!=null?e:OF(t).__data__,r=t.__data__,{markKey:i,index:a,seriesIndex:o,normalized:s={x:0}}=r,{markState:A}=n,c=Array.from(A.keys()).find(l=>l.key===i);if(c)return o?o.map(l=>c.data[l]):pw(t)?c.data[Math.round(c.data.length*s.x)]:c.data[a]}function _lt(t){const e=OF(t).__data__,{scale:n}=e;return EF(n,t.__data__)}function m6(t,e){var n,r,i,a;const o=(n=e.markKey)!==null&&n!==void 0?n:(i=(r=e.element)===null||r===void 0?void 0:r.__data__)===null||i===void 0?void 0:i.markKey,s=Object.keys(t).find(A=>{if(A.startsWith("series")){const c=t[A].getOptions();return c.name==="series"&&c.markKey===o}});return(a=t[s])!==null&&a!==void 0?a:t.series}function EF(t,e){const{color:n,facet:r=!1}=t,{color:i,series:a}=e,o=m6(t,e),s=A=>A&&A.invert&&!(A instanceof gh)&&!(A instanceof Sv);if(s(o))return o.clone().invert(a);if(a&&o instanceof gh&&o.invert(a)!==i&&!r)return o.invert(a);if(s(n)){const A=n.invert(i);return Array.isArray(A)?null:A}return null}function vh(t){return t}function e_(t){return t.reduce((e,n)=>(r,...i)=>n(e(r,...i),...i),vh)}function w6(t){return t.reduce((e,n)=>r=>y6(this,void 0,void 0,function*(){const i=yield e(r);return n(i)}),vh)}function n_(t){return t.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function fg(t=""){throw new Error(t)}function gw(t,e){const{attributes:n}=e,r=new Set(["id","className"]);for(const[i,a]of Object.entries(n))r.has(i)||t.attr(i,a)}function Tr(t){return t!=null&&!Number.isNaN(t)}function Clt(t,e){return t+(e-t)*Math.random()}function b6(t){const e=new Map;return n=>{if(e.has(n))return e.get(n);const r=t(n);return e.set(n,r),r}}function B6(t,e){const{transform:n}=t.style,i=(a=>a==="none"||a===void 0)(n)?"":n;t.style.transform=`${i} ${e}`.trimStart()}function qt(t,e){return SF(t,e)||{}}function SF(t,e){const n=Object.entries(t||{}).filter(([r])=>r.startsWith(e)).map(([r,i])=>[mF(r.replace(e,"").trim()),i]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function Olt(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[`${e}${upperFirst(n)}`,r]))}function x6(t,e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.find(r=>n.startsWith(r))))}function vw(t,...e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.every(r=>!n.startsWith(r))))}function MF(t,e){if(t===void 0)return null;if(typeof t=="number")return t;const n=+t.replace("%","");return Number.isNaN(n)?null:n/100*e}function dg(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function uu(t){return t===null||t===!1}function FF(t,e,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(e)){const a=e[i];!lu(a)||!lu(t[i])?t[i]=a:FF(t[i],a,n,r+1)}return t}}function Ze(t){return new ea([t],null,t,t.ownerDocument)}class ea{constructor(e=null,n=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new ea(n,null,this._elements[0],this._document)}selectFacetAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new ea(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(e){const n=typeof e=="string"?this._parent.querySelectorAll(e)[0]||null:e;return new ea([n],null,n,this._document)}append(e){const n=typeof e=="function"?e:()=>this.createElement(e),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],A=n(o,i);A.__data__=o,s!==null&&(A.__fromElements__=s),this._parent.appendChild(A),r.push(A)}return new ea(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=n(o,i);a.appendChild(s),r.push(s)}return new ea(r,null,r[0],this._document)}}maybeAppend(e,n,r){const i=this._elements[0],a=i.getElementById(e);if(a)return new ea([a],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=e,r&&(o.className=r),i.appendChild(o),new ea([o],null,this._parent,this._document)}data(e,n=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],A=new Set,c=new Map(this._elements.map((d,h)=>[n(d.__data__,h),d])),l=new Map(this._facetElements.map((d,h)=>[n(d.__data__,h),d])),u=kr(this._elements,d=>r(d.__data__));for(let d=0;d<e.length;d++){const h=e[d],g=n(h,d),v=r(h,d);if(c.has(g)){const y=c.get(g);y.__data__=h,y.__facet__=!1,a.push(y),o.delete(y),c.delete(g)}else if(l.has(g)){const y=l.get(g);y.__data__=h,y.__facet__=!0,a.push(y),l.delete(g)}else if(u.has(g)){const y=u.get(g);s.push([h,y]);for(const w of y)o.delete(w);u.delete(g)}else if(c.has(v)){const y=c.get(v);y.__toData__?y.__toData__.push(h):y.__toData__=[h],A.add(y),o.delete(y)}else i.push(h)}const f=[new ea([],i,this._parent,this._document),new ea(a,null,this._parent,this._document),new ea(o,null,this._parent,this._document),new ea([],s,this._parent,this._document),new ea(A,null,this._parent,this._document)];return new ea(this._elements,null,this._parent,this._document,f)}merge(e){const n=[...this._elements,...e._elements],r=[...this._transitions,...e._transitions];return new ea(n,null,this._parent,this._document,void 0,r)}createElement(e){if(this._document)return this._document.createElement(e,{});const n=ea.registry[e];return n?new n:fg(`Unknown node type: ${e}`)}join(e=o=>o,n=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=e(this._enter),s=n(this._update),A=r(this._exit),c=i(this._merge),l=a(this._split);return s.merge(o).merge(A).merge(c).merge(l)}remove(){for(let e=0;e<this._elements.length;e++){const n=this._transitions[e];if(this._elements[e].__removed__=!0,n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(i=>i.finished)).then(()=>{const i=this._elements[e];i.__removed__&&i.remove()})}else{const r=this._elements[e];r.__removed__&&r.remove()}}return new ea([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],i=r.__data__;e(i,n,r)}return this}attr(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o[e]=r(i,a,o))})}style(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o.style[e]=r(i,a,o))})}transition(e){const n=typeof e!="function"?()=>e:e,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=n(i,a,o)})}on(e,n){return this.each(function(r,i,a){a.addEventListener(e,n)}),this}call(e,...n){return e(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}ea.registry={g:ka,rect:Bf,circle:Xc,path:pa,text:yA,ellipse:I1,image:L1,line:dh,polygon:hh,polyline:Q1,html:fh};const sr={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},kF={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};function Elt(t,e){kF[t]=e}class va extends Error{constructor(e,n,r){super(e),this.position=n,this.token=r,this.name="ExpressionError"}}var hn;(function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.NULL=3]="NULL",t[t.IDENTIFIER=4]="IDENTIFIER",t[t.OPERATOR=5]="OPERATOR",t[t.FUNCTION=6]="FUNCTION",t[t.DOT=7]="DOT",t[t.BRACKET_LEFT=8]="BRACKET_LEFT",t[t.BRACKET_RIGHT=9]="BRACKET_RIGHT",t[t.PAREN_LEFT=10]="PAREN_LEFT",t[t.PAREN_RIGHT=11]="PAREN_RIGHT",t[t.COMMA=12]="COMMA",t[t.QUESTION=13]="QUESTION",t[t.COLON=14]="COLON",t[t.DOLLAR=15]="DOLLAR"})(hn||(hn={}));const _6=new Set([32,9,10,13]),C6=new Set([43,45,42,47,37,33,38,124,61,60,62]),O6=new Map([["true",hn.BOOLEAN],["false",hn.BOOLEAN],["null",hn.NULL]]),r_=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),E6=new Map([[46,hn.DOT],[91,hn.BRACKET_LEFT],[93,hn.BRACKET_RIGHT],[40,hn.PAREN_LEFT],[41,hn.PAREN_RIGHT],[44,hn.COMMA],[63,hn.QUESTION],[58,hn.COLON],[36,hn.DOLLAR]]),TF=new Map;for(const[t,e]of E6.entries())TF.set(t,{type:e,value:String.fromCharCode(t)});function Mv(t){return t>=48&&t<=57}function i_(t){return t>=97&&t<=122||t>=65&&t<=90||t===95}function IF(t){return i_(t)||Mv(t)}function S6(t){return C6.has(t)}var Mi;(function(t){t[t.Program=0]="Program",t[t.Literal=1]="Literal",t[t.Identifier=2]="Identifier",t[t.MemberExpression=3]="MemberExpression",t[t.CallExpression=4]="CallExpression",t[t.BinaryExpression=5]="BinaryExpression",t[t.UnaryExpression=6]="UnaryExpression",t[t.ConditionalExpression=7]="ConditionalExpression"})(Mi||(Mi={}));const M6=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),F6={type:Mi.Literal,value:null},k6={type:Mi.Literal,value:!0},T6={type:Mi.Literal,value:!1},I6=t=>{let e=0;const n=t.length,r=()=>e>=n?null:t[e],i=()=>t[e++],a=u=>{const f=r();return f!==null&&f.type===u},o=u=>u.type===hn.OPERATOR?M6.get(u.value)||-1:u.type===hn.DOT||u.type===hn.BRACKET_LEFT?9:u.type===hn.QUESTION?1:-1,s=u=>{let f,d;if(i().type===hn.DOT){if(!a(hn.IDENTIFIER)){const g=r();throw new va("Expected property name",e,g?g.value:"<end of input>")}const h=i();f={type:Mi.Identifier,name:h.value},d=!1}else{if(f=c(0),!a(hn.BRACKET_RIGHT)){const h=r();throw new va("Expected closing bracket",e,h?h.value:"<end of input>")}i(),d=!0}return{type:Mi.MemberExpression,object:u,property:f,computed:d}},A=()=>{const u=r();if(!u)throw new va("Unexpected end of input",e,"<end of input>");if(u.type===hn.OPERATOR&&(u.value==="!"||u.value==="-")){i();const f=A();return{type:Mi.UnaryExpression,operator:u.value,argument:f,prefix:!0}}switch(u.type){case hn.NUMBER:return i(),{type:Mi.Literal,value:Number(u.value)};case hn.STRING:return i(),{type:Mi.Literal,value:u.value};case hn.BOOLEAN:return i(),u.value==="true"?k6:T6;case hn.NULL:return i(),F6;case hn.IDENTIFIER:return i(),{type:Mi.Identifier,name:u.value};case hn.FUNCTION:return(()=>{const f=i(),d=[];if(!a(hn.PAREN_LEFT)){const h=r();throw new va("Expected opening parenthesis after function name",e,h?h.value:"<end of input>")}for(i();;){if(a(hn.PAREN_RIGHT)){i();break}if(!r()){const g=r();throw new va("Expected closing parenthesis",e,g?g.value:"<end of input>")}if(d.length>0){if(!a(hn.COMMA)){const g=r();throw new va("Expected comma between function arguments",e,g?g.value:"<end of input>")}i()}const h=c(0);d.push(h)}return{type:Mi.CallExpression,callee:{type:Mi.Identifier,name:f.value},arguments:d}})();case hn.PAREN_LEFT:{i();const f=c(0);if(!a(hn.PAREN_RIGHT)){const d=r();throw new va("Expected closing parenthesis",e,d?d.value:"<end of input>")}return i(),f}default:throw new va(`Unexpected token: ${u.type}`,e,u.value)}},c=(u=0)=>{let f=A();for(;e<n;){const d=t[e],h=o(d);if(h<=u)break;if(d.type!==hn.QUESTION)if(d.type!==hn.OPERATOR){if(d.type!==hn.DOT&&d.type!==hn.BRACKET_LEFT)break;f=s(f)}else{i();const g=c(h);f={type:Mi.BinaryExpression,operator:d.value,left:f,right:g}}else{i();const g=c(0);if(!a(hn.COLON)){const y=r();throw new va("Expected : in conditional expression",e,y?y.value:"<end of input>")}i();const v=c(0);f={type:Mi.ConditionalExpression,test:f,consequent:g,alternate:v}}}return f},l=c();return{type:Mi.Program,body:l}},L6=(t,e,n)=>{let r=e;n&&(r=VB(e0({},e),{context:e0(e0({},e.context),n)}));const i=a=>{switch(a.type){case Mi.Literal:return(o=>o.value)(a);case Mi.Identifier:return(o=>{if(!(o.name in r.context))throw new va(`Undefined variable: ${o.name}`);return r.context[o.name]})(a);case Mi.MemberExpression:return(o=>{const s=i(o.object);if(s==null)throw new va("Cannot access property of null or undefined");return s[o.computed?i(o.property):o.property.name]})(a);case Mi.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new va(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map(A=>i(A)))})(a);case Mi.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=i(o.left);return c&&i(o.right)}if(o.operator==="||")return i(o.left)||i(o.right);const s=i(o.left),A=i(o.right);switch(o.operator){case"+":return s+A;case"-":return s-A;case"*":return s*A;case"/":return s/A;case"%":return s%A;case"===":return s===A;case"!==":return s!==A;case">":return s>A;case">=":return s>=A;case"<":return s<A;case"<=":return s<=A;default:throw new va(`Unknown operator: ${o.operator}`)}})(a);case Mi.UnaryExpression:return(o=>{const s=i(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new va(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new va(`Unknown operator: ${o.operator}`)}throw new va(`Postfix operators are not supported: ${o.operator}`)})(a);case Mi.ConditionalExpression:return(o=>{const s=i(o.test);return i(s?o.consequent:o.alternate)})(a);default:throw new va(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(t.body)};function LF(t){const e=(i=>{const a=i,o=a.length,s=new Array(Math.ceil(o/3));let A=0,c=0;function l(v){const y=c+1;c++;let w="",b=!1;for(;c<o;){const B=a.charCodeAt(c);if(B===v)return b||(w=a.substring(y,c)),c++,{type:hn.STRING,value:w};B===92?(b||(w=a.substring(y,c),b=!0),c++,w+=a[c]):b&&(w+=a[c]),c++}throw new va(`Unterminated string starting with ${String.fromCharCode(v)}`,c,a.substring(Math.max(0,c-10),c))}function u(){const v=c;for(a.charCodeAt(c)===45&&c++;c<o&&Mv(a.charCodeAt(c));)c++;if(c<o&&a.charCodeAt(c)===46)for(c++;c<o&&Mv(a.charCodeAt(c));)c++;const y=a.slice(v,c);return{type:hn.NUMBER,value:y}}function f(){c++;const v=c;if(c<o&&i_(a.charCodeAt(c)))for(c++;c<o&&IF(a.charCodeAt(c));)c++;const y=a.slice(v,c);return{type:hn.FUNCTION,value:y}}function d(){const v=c++;for(;c<o&&IF(a.charCodeAt(c));)c++;const y=a.slice(v,c),w=O6.get(y);return w?{type:w,value:y}:{type:hn.IDENTIFIER,value:y}}function h(){if(c+2<o){const y=a.substring(c,c+3);if(r_.has(y))return c+=3,{type:hn.OPERATOR,value:y}}if(c+1<o){const y=a.substring(c,c+2);if(r_.has(y))return c+=2,{type:hn.OPERATOR,value:y}}const v=a[c];if(r_.has(v))return c++,{type:hn.OPERATOR,value:v};throw new va(`Unknown operator at position ${c}: ${a.substring(c,c+1)}`,c,a.substring(Math.max(0,c-10),c))}for(;c<o;){const v=a.charCodeAt(c);if(g=v,_6.has(g)){c++;continue}const y=TF.get(v);if(y)s[A++]=y,c++;else if(v!==34&&v!==39)if(Mv(v)||v===45&&c+1<o&&Mv(a.charCodeAt(c+1)))s[A++]=u();else if(v!==64)if(i_(v))s[A++]=d();else{if(!S6(v))throw new va(`Unexpected character: ${a[c]}`,c,a.substring(Math.max(0,c-10),c));s[A++]=h()}else s[A++]=f();else s[A++]=l(v)}var g;return A===s.length?s:s.slice(0,A)})(t),n=I6(e),r=((i={},a={})=>({context:i,functions:a}))({},kF);return(i={})=>L6(n,r,i)}function Slt(t,e={}){return LF(t)(e)}var Q6=function(t){return t},U6=function(t,e){e===void 0&&(e=Q6);var n={};return Vl(t)&&!be(t)&&Object.keys(t).forEach(function(r){n[r]=e(t[r],r)}),n};function QF(t){var e,n,r,i=t||1;function a(s,A){++e>i&&(r=n,o(1),++e),n[s]=A}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var A=n[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){n[s]!==void 0?n[s]=A:a(s,A)}}}const Mlt=QF(3);function UF(t,e=(...r)=>`${r[0]}`,n=16){const r=QF(n);return(...i)=>{const a=e(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=t(...i),r.set(a,o),o)}}const P6=["style","encode","labels","children"],R6=UF(t=>{const e=LF(t);return(...n)=>{const r=Array.from({length:n.length},(a,o)=>String.fromCharCode(97+o)),i=Object.fromEntries(n.map((a,o)=>[r[o],a]));return e(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},t=>t,128);function yw(t,e=!0){if(Array.isArray(t))return t.map((n,r)=>yw(t[r],e));if(typeof t=="object"&&t)return U6(t,(n,r)=>e&&P6.includes(r)?yw(n,r==="children"):e?n:yw(n,!1));if(typeof t=="string"){const n=t.trim();if(n.startsWith("{")&&n.endsWith("}"))return R6(n.slice(1,-1))}return t}var N6=function(t){var e=yF(t);return e.charAt(0).toUpperCase()+e.substring(1)},Cf=N6;function D6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mw(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function H6(t){return t=mw(Math.abs(t)),t?t[1]:NaN}function j6(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],A=0;i>0&&s>0&&(A+s+1>r&&(s=Math.max(1,r-A)),a.push(n.substring(i-=s,i+s)),!((A+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function G6(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var K6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a_(t){if(!(e=K6.exec(t)))throw new Error("invalid format: "+t);var e;return new o_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}a_.prototype=o_.prototype;function o_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}o_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function z6(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ww;function W6(t,e){var n=mw(t,e);if(!n)return ww=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(ww=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+mw(t,Math.max(0,e+a-1))[0]}function PF(t,e){var n=mw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var RF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:D6,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PF(t*100,e),r:PF,s:W6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NF(t){return t}var DF=Array.prototype.map,HF=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function V6(t){var e=t.grouping===void 0||t.thousands===void 0?NF:j6(DF.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?NF:G6(DF.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function c(u,f){u=a_(u);var d=u.fill,h=u.align,g=u.sign,v=u.symbol,y=u.zero,w=u.width,b=u.comma,B=u.precision,E=u.trim,S=u.type;S==="n"?(b=!0,S="g"):RF[S]||(B===void 0&&(B=12),E=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var F=(f&&f.prefix!==void 0?f.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(v==="$"?r:/[%p]/.test(S)?o:"")+(f&&f.suffix!==void 0?f.suffix:""),T=RF[S],L=/[defgprs%]/.test(S);B=B===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(R){var U=F,N=k,j,z,W;if(S==="c")N=T(R)+N,R="";else{R=+R;var D=R<0||1/R<0;if(R=isNaN(R)?A:T(Math.abs(R),B),E&&(R=z6(R)),D&&+R==0&&g!=="+"&&(D=!1),U=(D?g==="("?g:s:g==="-"||g==="("?"":g)+U,N=(S==="s"&&!isNaN(R)&&ww!==void 0?HF[8+ww/3]:"")+N+(D&&g==="("?")":""),L){for(j=-1,z=R.length;++j<z;)if(W=R.charCodeAt(j),48>W||W>57){N=(W===46?i+R.slice(j+1):R.slice(j))+N,R=R.slice(0,j);break}}}b&&!y&&(R=e(R,1/0));var G=U.length+R.length+N.length,Y=G<w?new Array(w-G+1).join(d):"";switch(b&&y&&(R=e(Y+R,Y.length?w-N.length:1/0),Y=""),h){case"<":R=U+R+N+Y;break;case"=":R=U+Y+R+N;break;case"^":R=Y.slice(0,G=Y.length>>1)+U+R+N+Y.slice(G);break;default:R=Y+U+R+N;break}return a(R)}return P.toString=function(){return u+""},P}function l(u,f){var d=Math.max(-8,Math.min(8,Math.floor(H6(f)/3)))*3,h=Math.pow(10,-d),g=c((u=a_(u),u.type="f",u),{suffix:HF[8+d/3]});return function(v){return g(h*v)}}return{format:c,formatPrefix:l}}var bw,fu,Z6;Y6({thousands:",",grouping:[3],currency:["$",""]});function Y6(t){return bw=V6(t),fu=bw.format,Z6=bw.formatPrefix,bw}function tl(t,e){return Object.entries(t).reduce((n,[r,i])=>(n[r]=e(i,r,t),n),{})}function yh(t){return t.map((e,n)=>n)}function Flt(t){const e=t.length,n=t[0].length,r=new Array(n).fill(0).map(()=>new Array(e));for(let i=0;i<n;i++)for(let a=0;a<e;a++)r[i][a]=t[a][i];return r}function $6(t){return t[0]}function jF(t){return t[t.length-1]}function klt(t){return!t.some(Array.isArray)}function X6(t){return Array.from(new Set(t))}function GF(t,e){const n=[[],[]];return t.forEach(r=>{n[e(r)?0:1].push(r)}),n}function KF(t,e=t.length){if(e===1)return t.map(r=>[r]);const n=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1);KF(i,e-1).forEach(o=>{n.push([t[r],...o])})}return n}function q6(t){if(t.length===1)return[t];const e=[];for(let n=1;n<=t.length;n++)e.push(...KF(t,n));return e}var J6=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},mh=J6,s_=function(t,e){if(t===e)return!0;if(!t||!e||fr(t)||fr(e))return!1;if(mh(t)||mh(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=s_(t[r],e[r]),!!n);r++);return n}if($2(t)||$2(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var n=!0,r=0;r<i.length&&(n=s_(t[i[r]],e[i[r]]),!!n);r++);return n}return!1},A_=s_;function xA(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function hr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Tlt(t){return t*Math.PI/180}function Ilt(t){return t*180/Math.PI}function tj(t,e){return t=t%(2*Math.PI),e=e%(2*Math.PI),t<0&&(t=2*Math.PI+t),e<0&&(e=2*Math.PI+e),t>=e&&(e=e+2*Math.PI),{startAngle:t,endAngle:e}}const zF=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},e),t);return Object.assign(Object.assign({},n),tj(n.startAngle,n.endAngle))},Fv=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=zF(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,n,r,i]]};Fv.props={};const WF=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},c_=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=WF(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Fv({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};c_.props={};function Bw(t,e,n){return Math.max(e,Math.min(t,n))}function xw(t,e=10){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(e))}const du="g2-";function wh(t){return`.${du}${t}`}const ej=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],l_=["lineX","lineY","rangeX","rangeY","range","connector"];var VF=Ft(17816);function Hr(t){const{transformations:e}=t.getOptions();return e.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function Ar(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="polar")}function kv(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="reflect")&&e.some(([n])=>n.startsWith("transpose"))}function ZF(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="helix")}function Tv(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="parallel")}function YF(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="fisheye")}function nj(t){return Tv(t)&&Ar(t)}function hg(t){return ZF(t)||Ar(t)}function $F(t){return Ar(t)&&Hr(t)}function Llt(t){return Ar(t)||Tv(t)||kv(t)||$F(t)}function rj(t){if(hg(t)){const[e,n]=t.getSize(),r=t.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(e,n)/2*r[4]}return 0}function _w(t){const{transformations:e}=t.getOptions(),[,,,n,r]=e.find(i=>i[0]==="polar");return[+n,+r]}function u_(t,e=!0){const{transformations:n}=t.getOptions(),[,r,i]=n.find(a=>a[0]==="polar");return e?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function ij(t,e){const{transformations:n}=t.getOptions(),[,...r]=n.find(i=>i[0]===e);return r}function XF(t,e){e(t),t.children&&t.children.forEach(function(n){n&&XF(n,e)})}function Iv(t){Cw(t,!0)}function Of(t){Cw(t,!1)}function Cw(t,e){var n=e?"visible":"hidden";XF(t,function(r){r.attr("visibility",n)})}function aj(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function qF(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter(function(r){var i=q(r,1),a=i[0];return!e.includes(a)}));return Object.fromEntries(e.map(function(r){return aj(t)?t[r]===!1?[r,!1]:[r,Tt(Tt({},t[r]),n)]:[r,n]}))}function pg(t,e){t?t.finished.then(e):e()}function oj(t,e){t.length===0?e():Promise.all(t.map(function(n){return n==null?void 0:n.finished})).then(e)}function JF(t,e){"update"in t?t.update(e):t.attr(e)}function tk(t,e,n){if(e.length===0)return null;if(!n){var r=e.slice(-1)[0];return JF(t,{style:r}),null}return t.animate(e,n)}function sj(t,e){return!(t.nodeName!=="text"||e.nodeName!=="text"||t.attributes.text!==e.attributes.text)}function Aj(t,e,n,r){if(r===void 0&&(r="destroy"),sj(t,e))return t.remove(),[null];var i=function(){r==="destroy"?t.destroy():r==="hide"&&Of(t),e.isVisible()&&Iv(e)};if(!n)return i(),[null];var a=n.duration,o=a===void 0?0:a,s=n.delay,A=s===void 0?0:s,c=Math.ceil(+o/2),l=+o/4,u=q(t.getGeometryBounds().center,2),f=u[0],d=u[1],h=q(e.getGeometryBounds().center,2),g=h[0],v=h[1],y=q([(f+g)/2-f,(d+v)/2-d],2),w=y[0],b=y[1],B=t.style.opacity,E=B===void 0?1:B,S=e.style.opacity,F=S===void 0?1:S,k=t.style.transform||"",T=e.style.transform||"",L=t.animate([{opacity:E,transform:"translate(0, 0) ".concat(k)},{opacity:0,transform:"translate(".concat(w,", ").concat(b,") ").concat(k)}],Tt(Tt({fill:"both"},n),{duration:A+c+l})),P=e.animate([{opacity:0,transform:"translate(".concat(-w,", ").concat(-b,") ").concat(T),offset:.01},{opacity:F,transform:"translate(0, 0) ".concat(T)}],Tt(Tt({fill:"both"},n),{duration:c+l,delay:A+c-l}));return pg(P,i),[L,P]}function pc(t,e,n){var r={},i={};return Object.entries(e).forEach(function(a){var o=q(a,2),s=o[0],A=o[1];if(!be(A)){var c=t.style[s]||t.parsedStyle[s]||0;c!==A&&(r[s]=c,i[s]=A)}}),n?tk(t,[r,i],Tt({fill:"both"},n)):(JF(t,i),null)}var cj=5,ek=function(t,e,n,r){n===void 0&&(n=0),r===void 0&&(r=cj),Object.entries(e).forEach(function(i){var a=q(i,2),o=a[0],s=a[1],A=t;Object.prototype.hasOwnProperty.call(e,o)&&(s?lu(s)?(lu(t[o])||(A[o]={}),n<r?ek(t[o],s,n+1,r):A[o]=e[o]):Sr(s)?(A[o]=[],A[o]=A[o].concat(s)):A[o]=s:A[o]=s)})},gc=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)ek(t,e[r]);return t},lj=function(t){dr(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,ye([],q(n),!1))||this;return i.isMutationObserved=!0,i.addEventListener(X.INSERTED,function(){Of(i)}),i}return e}(ka);function nk(t){var e=t.appendChild(new lj({class:"offscreen"}));return Of(e),e}function uj(t){for(var e=t;e;){if(e.className==="offscreen")return!0;e=e.parent}return!1}function fj(){Cw(this,this.attributes.visibility!=="hidden")}var Ta=function(t){dr(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,gc({},{style:r},n))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=nk(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e.prototype.attributeChangedCallback=function(n){n==="visibility"&&fj.call(this)},e.prototype.update=function(n,r){var i;return this.attr(gc({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(n,r){},e.prototype.getSubShapeStyle=function(n){var r=n.x,i=n.y,a=n.transform,o=n.transformOrigin,s=n.class,A=n.className,c=n.zIndex,l=Kr(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return l},e}(uh);function Ho(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),t?n(e):(r&&i(e),null)}function dj(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}var hj=function(t){if(!Sr(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},pj=hj,f_=function(t){dr(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=Kr(n,["style"]);return t.call(this,Tt({style:Tt({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=nk(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e}(yA);function gj(t,e){var n=new Map;return t.forEach(function(r){var i=e(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}),n}function vj(t){throw new Error(t)}var yj=function(){function t(i,a,o,s,A,c,l){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),A===void 0&&(A=[null,null,null,null,null]),c===void 0&&(c=[]),l===void 0&&(l=[]),e.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=A[0],this._update=A[1],this._exit=A[2],this._merge=A[3],this._split=A[4],this._transitions=c,this._facetElements=l}t.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(a,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(this._elements,null,this._parent,this._document,void 0,void 0,a)},t.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new n([a],null,a,this._document)},t.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var A=0;A<this._data.length;A++){var c=this._data[A],l=q(Array.isArray(c)?c:[c,null],2),u=l[0],f=l[1],d=o(u,A);d.__data__=u,f!==null&&(d.__fromElements__=f),this._parent.appendChild(d),s.push(d)}return new n(s,null,this._parent,this._document)}for(var A=0;A<this._elements.length;A++){var h=this._elements[A],u=h.__data__,d=o(u,A);h.appendChild(d),s.push(d)}return new n(s,null,s[0],this._document)},t.prototype.maybeAppend=function(i,a){var o=Sa(this,e,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},t.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=Sa(this,e,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},t.prototype.maybeAppendByName=function(i,a){var o=Sa(this,e,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},t.prototype.data=function(i,a,o){var s,A;a===void 0&&(a=function(L){return L}),o===void 0&&(o=function(){return null});for(var c=[],l=[],u=new Set(this._elements),f=[],d=new Set,h=new Map(this._elements.map(function(L,P){return[a(L.__data__,P),L]})),g=new Map(this._facetElements.map(function(L,P){return[a(L.__data__,P),L]})),v=gj(this._elements,function(L){return o(L.__data__)}),y=0;y<i.length;y++){var w=i[y],b=a(w,y),B=o(w,y);if(h.has(b)){var E=h.get(b);E.__data__=w,E.__facet__=!1,l.push(E),u.delete(E),h.delete(b)}else if(g.has(b)){var E=g.get(b);E.__data__=w,E.__facet__=!0,l.push(E),g.delete(b)}else if(v.has(b)){var S=v.get(b);f.push([w,S]);try{for(var F=(s=void 0,di(S)),k=F.next();!k.done;k=F.next()){var E=k.value;u.delete(E)}}catch(L){s={error:L}}finally{try{k&&!k.done&&(A=F.return)&&A.call(F)}finally{if(s)throw s.error}}v.delete(b)}else if(h.has(B)){var E=h.get(B);E.__toData__?E.__toData__.push(w):E.__toData__=[w],d.add(E),u.delete(E)}else c.push(w)}var T=[new n([],c,this._parent,this._document),new n(l,null,this._parent,this._document),new n(u,null,this._parent,this._document),new n([],f,this._parent,this._document),new n(d,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,T)},t.prototype.merge=function(i){var a=ye(ye([],q(this._elements),!1),q(i._elements),!1),o=ye(ye([],q(this._transitions),!1),q(i._transitions),!1);return new n(a,null,this._parent,this._document,void 0,o)},t.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=n.registry[i];return a?new a:vj("Unknown node type: ".concat(i))},t.prototype.join=function(i,a,o,s,A){i===void 0&&(i=function(h){return h}),a===void 0&&(a=function(h){return h}),o===void 0&&(o=function(h){return h.remove()}),s===void 0&&(s=function(h){return h}),A===void 0&&(A=function(h){return h.remove()});var c=i(this._enter),l=a(this._update),u=o(this._exit),f=s(this._merge),d=A(this._split);return l.merge(c).merge(u).merge(f).merge(d)},t.prototype.remove=function(){for(var i=function(s){var A=a._elements[s],c=a._transitions[s];c?c.then(function(){return A.remove()}):A.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},t.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,A){a!==void 0&&(this[i]=o.call(this,s,A))})},t.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(A,c){a!==void 0&&(this.style[i]=s.call(this,A,c))})},t.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var A=this;Object.entries(i).forEach(function(c){var l=q(c,2),u=l[0],f=l[1],d=typeof f!="function"||!a?function(){return f}:f;f!==void 0&&A.attr(u,d.call(A,o,s))})})},t.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},t.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,A){i&&this.update&&this.update(o.call(this,s,A))})},t.prototype.transition=function(i){var a=this._transitions,o=new Array(this._elements.length);return this.each(function(s,A){o[A]=i.call(this,s,A)}),this._transitions=pj(o),this},t.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},t.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,ye([this._parent,this],q(a),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},t.prototype.parent=function(){return this._parent};var e,n,r;return n=t,e=new WeakSet,r=function(a,o){var s=this._elements[0],A=s.querySelector(a);if(A)return new n([A],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},t.registry={g:ka,rect:Bf,circle:Xc,path:pa,text:f_,ellipse:I1,image:L1,line:dh,polygon:hh,polyline:Q1,html:fh},t}();function cn(t){return new yj([t],null,t,t.ownerDocument)}function mj(t,e,n){return t.querySelector(e)?cn(t).select(e):cn(t).append(n)}var _A=function(t,e){var n=function(i){return"".concat(e,"-").concat(i)},r=Object.fromEntries(Object.entries(t).map(function(i){var a=q(i,2),o=a[0],s=a[1],A=n(s);return[o,{name:A,class:".".concat(A),id:"#".concat(A),toString:function(){return A}}]}));return Object.assign(r,{prefix:n}),r},pr={gridGroup:"grid-group",mainGroup:"main-group",lineGroup:"line-group",tickGroup:"tick-group",labelGroup:"label-group",titleGroup:"title-group",grid:"grid",line:"line",lineFirst:"line-first",lineSecond:"line-second",tick:"tick",tickItem:"tick-item",label:"label",labelItem:"label-item",title:"title"},d_={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new pa({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},Qlt=Mt({},d_,{style:{type:"arc"}}),Ult=Mt({},d_,{style:{}}),an=_A({mainGroup:pr.mainGroup,gridGroup:pr.gridGroup,grid:pr.grid,lineGroup:pr.lineGroup,line:pr.line,tickGroup:pr.tickGroup,tick:pr.tick,tickItem:pr.tickItem,labelGroup:pr.labelGroup,label:pr.label,labelItem:pr.labelItem,titleGroup:pr.titleGroup,title:pr.title,lineFirst:pr.lineFirst,lineSecond:pr.lineSecond},"axis");function hu(t,e){return[t[0]*e,t[1]*e]}function Lv(t,e){return[t[0]+e[0],t[1]+e[1]]}function h_(t,e){return[t[0]-e[0],t[1]-e[1]]}function bh(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function Bh(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function Qv(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function rk(t){if(t[0]===0&&t[1]===0)return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function Plt(t,e,n){var r=__read(t,2),i=r[0],a=r[1],o=__read(e,2),s=o[0],A=o[1],c=i-s,l=a-A,u=Math.sin(n),f=Math.cos(n);return[c*f-l*u+s,c*u+l*f+A]}function wj(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function gg(t){return t*Math.PI/180}function ik(t){return Number((t*180/Math.PI).toPrecision(5))}function p_(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function bj(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function Bj(t,e){return"".concat(e).concat(p_(t))}function ak(t,e,n){var r;n===void 0&&(n=!0);var i=e||((r=t.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=t.replace(new RegExp("^(".concat(i,")")),"");return n?bj(a):a}function xj(t,e){Object.entries(e).forEach(function(n){var r=q(n,2),i=r[0],a=r[1];ye([t],q(t.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(A,c){return"".concat(A).concat(c.join(":"),";")},"")}})})}var Ow=function(t,e){if(!(t!=null&&t.startsWith(e)))return!1;var n=t[e.length];return n>="A"&&n<="Z"};function Bn(t,e,n){n===void 0&&(n=!1);var r={};return Object.entries(t).forEach(function(i){var a=q(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(Ow(o,"show")&&Ow(ak(o,"show"),e)!==n)o===Bj(e,"show")?r[o]=s:r[o.replace(new RegExp(p_(e)),"")]=s;else if(!Ow(o,"show")&&Ow(o,e)!==n){var A=ak(o,e);A==="filter"&&typeof s=="function"||(r[A]=s)}}}),r}function el(t,e){return Object.entries(t).reduce(function(n,r){var i=q(r,2),a=i[0],o=i[1];return a.startsWith("show")?n["show".concat(e).concat(a.slice(4))]=o:n["".concat(e).concat(p_(a))]=o,n},{})}function pu(t,e){e===void 0&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach(function(a){var o=q(a,2),s=o[0],A=o[1];e.includes(s)||(n.indexOf(s)!==-1?i[s]=A:r[s]=A)}),[r,i]}function ps(t,e){return hi(t)?t.apply(void 0,ye([],q(e),!1)):t}function Ew(t,e){return t.style.opacity||(t.style.opacity=1),pc(t,{opacity:0},e)}var _j=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function Cj(t){return _j.includes(t)}function ok(t){var e={};for(var n in t)Cj(n)&&(e[n]=t[n]);return e}var vg=_A({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function sk(t){return t.reduce(function(e,n,r){return e.push(ye([r===0?"M":"L"],q(n),!1)),e},[])}function Oj(t,e,n){var r=e.connect,i=r===void 0?"line":r,a=e.center;if(i==="line")return sk(t);if(!a)return[];var o=Qv(t[0],a),s=n?0:1;return t.reduce(function(A,c,l){return l===0?A.push(ye(["M"],q(c),!1)):A.push(ye(["A",o,o,0,0,s],q(c),!1)),A},[])}function g_(t,e,n){return e.type==="surround"?Oj(t,e,n):sk(t)}function Ej(t,e,n){var r=n.type,i=n.connect,a=n.center,o=n.closed,s=o?[["Z"]]:[],A=q([g_(t,n),g_(e.slice().reverse(),n,!0)],2),c=A[0],l=A[1],u=q([t[0],e.slice(-1)[0]],2),f=u[0],d=u[1],h=function(w,b){return[c,w,l,b,s].flat()};if(i==="line"||r==="surround")return h([ye(["L"],q(d),!1)],[ye(["L"],q(f),!1)]);if(!a)throw new Error("Arc grid need to specified center");var g=q([Qv(d,a),Qv(f,a)],2),v=g[0],y=g[1];return h([ye(["A",v,v,0,0,1],q(d),!1),ye(["L"],q(d),!1)],[ye(["A",y,y,0,0,0],q(f),!1),ye(["L"],q(f),!1)])}function Sj(t,e,n,r){var i=n.animate,a=n.isBillboard,o=e.map(function(s,A){return{id:s.id||"grid-line-".concat(A),d:g_(s.points,n)}});return t.selectAll(vg.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(A,c){var l=ps(ok(Tt({d:A.d},r)),[A,c,o]);this.attr(Tt({class:vg.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},l))})},function(s){return s.transition(function(A,c){var l=ps(ok(Tt({d:A.d},r)),[A,c,o]);return pc(this,l,i.update)})},function(s){return s.transition(function(){var A=this,c=Ew(this,i.exit);return pg(c,function(){return A.remove()}),c})}).transitions()}function Mj(t,e,n){var r=n.animate,i=n.connect,a=n.areaFill;if(e.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(h){return o[h%o.length]},A=[],c=0;c<e.length-1;c++){var l=q([e[c].points,e[c+1].points],2),u=l[0],f=l[1],d=Ej(u,f,n);A.push({d,fill:s(c)})}return t.selectAll(vg.region.class).data(A,function(h,g){return g}).join(function(h){return h.append("path").each(function(g,v){var y=ps(g,[g,v,A]);this.attr(y)}).attr("className",vg.region.name)},function(h){return h.transition(function(g,v){var y=ps(g,[g,v,A]);return pc(this,y,r.update)})},function(h){return h.transition(function(){var g=this,v=Ew(this,r.exit);return pg(v,function(){return g.remove()}),v})}).transitions()}function Fj(t){var e=t.data,n=e===void 0?[]:e,r=t.closed;return r?n.map(function(i){var a=i.points,o=q(a,1),s=o[0];return Tt(Tt({},i),{points:ye(ye([],q(a),!1),[s],!1)})}):n}var kj=function(t){dr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.type,a=n.center,o=n.areaFill,s=n.closed,A=Kr(n,["type","center","areaFill","closed"]),c=Fj(n),l=cn(r).maybeAppendByClassName(vg.lineGroup,"g"),u=cn(r).maybeAppendByClassName(vg.regionGroup,"g"),f=Sj(l,c,n,A),d=Mj(u,c,n);return ye(ye([],q(f),!1),q(d),!1)},e}(Ta),Tj=function(t,e){return function(n){return t*(1-n)+e*n}};function Ij(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var a=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)a[s]=v_(t[s],e[s]);for(;s<n;++s)o[s]=e[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function Lj(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={},r={};return Object.entries(e).forEach(function(i){var a=q(i,2),o=a[0],s=a[1];o in t?n[o]=v_(t[o],s):r[o]=s}),function(i){return Object.entries(n).forEach(function(a){var o=q(a,2),s=o[0],A=o[1];return r[s]=A(i)}),r}}function v_(t,e){return typeof t=="number"&&typeof e=="number"?Tj(t,e):Array.isArray(t)&&Array.isArray(e)?Ij(t,e):typeof t=="object"&&typeof e=="object"?Lj(t,e):function(n){return t}}function Qj(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,a=i===void 0?0:i,o=v_(e,n),s=Math.ceil(+a/16),A=new Array(s).fill(0).map(function(c,l,u){return{__keyframe_data__:o(l/(u.length-1))}});return t.animate(A,Tt({fill:"both"},r))}function xh(t){return typeof t=="function"?t():fr(t)||rr(t)?new f_({style:{text:String(t)}}):t}function Uj(t,e){return typeof t=="function"?t():fr(t)||rr(t)?new fh({style:Tt(Tt({pointerEvents:"auto"},e),{innerHTML:t})}):t}function y_(t,e,n){n===void 0&&(n=!1);var r=t.getBBox(),i=r.width,a=r.height,o=e/Math.max(i,a);return n&&(t.style.transform="scale(".concat(o,")")),o}function m_(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function Ak(t,e){return Object.fromEntries(Object.entries(t).map(function(n){var r=q(n,2),i=r[0],a=r[1];return[i,ps(a,e)]}))}function Rlt(t){if(t.type==="linear"){var e=t.startPos,n=t.endPos;return __spreadArray(__spreadArray([],__read(e),!1),__read(n),!1)}var r=t.startAngle,i=t.endAngle,a=t.center,o=t.radius;return __spreadArray(__spreadArray([r,i],__read(a),!1),[o],!1)}function w_(t,e){return e&&hi(e)?t.filter(e):t}function ck(t,e){var n=e.startAngle,r=e.endAngle;return(r-n)*t+n}function Sw(t,e){if(e.type==="linear"){var n=q(e.startPos,2),r=n[0],i=n[1],a=q(e.endPos,2),o=a[0],s=a[1],A=q([o-r,s-i],2),c=A[0],l=A[1];return rk([c,l])}var u=gg(ck(t,e));return[-Math.sin(u),Math.cos(u)]}function b_(t,e,n){var r=Sw(t,n);return wj(r,e!=="positive")}function yg(t,e){return b_(t,e.labelDirection,e)}function Uv(t,e,n){return n?"".concat(t," ").concat(n,"axis-").concat(e):t}function Nlt(t,e,n){var r=t.classNamePrefix,i=r===void 0?"":r;return Uv(e.name,n,i)}function js(t,e,n,r){return r&&t.attr("className",Uv(e.name,n,r)),t}function Pj(t,e){var n=q(e.startPos,2),r=n[0],i=n[1],a=q(e.endPos,2),o=a[0],s=a[1],A=q([o-r,s-i],2),c=A[0],l=A[1];return[r+c*t,i+l*t]}function Rj(t,e){var n=e.radius,r=q(e.center,2),i=r[0],a=r[1],o=gg(ck(t,e));return[i+n*Math.cos(o),a+n*Math.sin(o)]}function Mw(t,e){return e.type==="linear"?Pj(t,e):Rj(t,e)}function B_(t){return Sw(0,t)[1]===0}function lk(t){return Sw(0,t)[0]===0}function uk(t,e){return e-t===360}function fk(t,e,n,r,i){var a=e-t,o=q([i,i],2),s=o[0],A=o[1],c=q([gg(t),gg(e)],2),l=c[0],u=c[1],f=function(L){return[n+i*Math.cos(L),r+i*Math.sin(L)]},d=q(f(l),2),h=d[0],g=d[1],v=q(f(u),2),y=v[0],w=v[1];if(uk(t,e)){var b=(u+l)/2,B=q(f(b),2),E=B[0],S=B[1];return[["M",h,g],["A",s,A,0,1,0,E,S],["A",s,A,0,1,0,y,w]]}var F=a>180?1:0,k=t>e?0:1,T=!1;return T?"M".concat(n,",").concat(r,",L").concat(h,",").concat(g,",A").concat(s,",").concat(A,",0,").concat(F,",").concat(k,",").concat(y,",").concat(w,",L").concat(n,",").concat(r):"M".concat(h,",").concat(g,",A").concat(s,",").concat(A,",0,").concat(F,",").concat(k,",").concat(y,",").concat(w)}function Nj(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,a=e.radius;return ye(ye([n,r],q(i),!1),[a],!1)}function Dj(t,e,n,r){var i=e.startAngle,a=e.endAngle,o=e.center,s=e.radius,A=e.classNamePrefix;return t.selectAll(an.line.class).data([{d:fk.apply(void 0,ye(ye([i,a],q(o),!1),[s],!1))}],function(c,l){return l}).join(function(c){var l=c.append("path").attr("className",an.line.name).styles(e).styles({d:function(u){return u.d}});return js(l,an.line,pr.line,A),l},function(c){return c.transition(function(){var l=this,u=Qj(this,Nj(this),ye(ye([i,a],q(o),!1),[s],!1),r.update);if(u){var f=function(){var d=nn(l.attributes,"__keyframe_data__");l.style.d=fk.apply(void 0,ye([],q(d),!1))};u.onframe=f,u.onfinish=f}return u}).styles(e)},function(c){return c.remove()}).styles(n).transitions()}function Hj(t,e){var n=e.truncRange,r=e.truncShape,i=e.lineExtension}function jj(t,e,n){n===void 0&&(n=[0,0]);var r=q([t,e,n],3),i=q(r[0],2),a=i[0],o=i[1],s=q(r[1],2),A=s[0],c=s[1],l=q(r[2],2),u=l[0],f=l[1],d=q([A-a,c-o],2),h=d[0],g=d[1],v=Math.sqrt(Math.pow(h,2)+Math.pow(g,2)),y=q([-u/v,f/v],2),w=y[0],b=y[1];return[w*h,w*g,b*h,b*g]}function dk(t){var e=q(t,2),n=q(e[0],2),r=n[0],i=n[1],a=q(e[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function Gj(t,e,n,r){var i=e.showTrunc,a=e.startPos,o=e.endPos,s=e.truncRange,A=e.lineExtension,c=e.classNamePrefix,l=q([a,o],2),u=q(l[0],2),f=u[0],d=u[1],h=q(l[1],2),g=h[0],v=h[1],y=q(A?jj(a,o,A):new Array(4).fill(0),4),w=y[0],b=y[1],B=y[2],E=y[3],S=function(G){return t.selectAll(an.line.class).data(G,function(Y,at){return at}).join(function(Y){var at=Y.append("line").styles(n).transition(function(it){return pc(this,dk(it.line),!1)});return at.attr("className",function(it){if(!c)return"".concat(an.line.name," ").concat(it.className);var At=Uv(an.line.name,pr.line,c);if(it.className===an.lineFirst.name){var ht=Uv(an.lineFirst.name,pr.lineFirst,c);return"".concat(At," ").concat(ht)}if(it.className===an.lineSecond.name){var ht=Uv(an.lineSecond.name,pr.lineSecond,c);return"".concat(At," ").concat(ht)}return At}),at},function(Y){return Y.styles(n).transition(function(at){var it=at.line;return pc(this,dk(it),r.update)})},function(Y){return Y.remove()}).transitions()};if(!i||!s)return S([{line:[[f+w,d+b],[g+B,v+E]],className:an.line.name}]);var F=q(s,2),k=F[0],T=F[1],L=g-f,P=v-d,R=q([f+L*k,d+P*k],2),U=R[0],N=R[1],j=q([f+L*T,d+P*T],2),z=j[0],W=j[1],D=S([{line:[[f+w,d+b],[U,N]],className:an.lineFirst.name},{line:[[z,W],[g+B,v+E]],className:an.lineSecond.name}]);return Hj(t,e),D}function Kj(t,e,n,r){var i=n.showArrow,a=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,A=n.lineArrowSize,c;if(e==="arc"?c=t.select(an.line.class):a?c=t.select(an.lineSecond.class):c=t.select(an.line.class),!i||!o||n.type==="arc"&&uk(n.startAngle,n.endAngle)){var l=c.node();l&&(l.style.markerEnd=void 0);return}var u=xh(o);u.attr(r),y_(u,A,!0),c.style("markerEnd",u).style("markerEndOffset",-s)}function zj(t,e,n){var r=e.type,i,a=Bn(e,"line");return r==="linear"?i=Gj(t,e,m_(a,"arrow"),n):i=Dj(t,e,m_(a,"arrow"),n),Kj(t,r,e,a),i}function Wj(t,e){return b_(t,e.gridDirection,e)}function hk(t){var e=t.type,n=t.gridCenter;return e==="linear"?n:n||t.center}function Vj(t,e){var n=e.gridLength;return t.map(function(r,i){var a=r.value,o=q(Mw(a,e),2),s=o[0],A=o[1],c=q(hu(Wj(a,e),n),2),l=c[0],u=c[1];return{id:i,points:[[s,A],[s+l,A+u]]}})}function Zj(t,e){var n=e.gridControlAngles,r=hk(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var i=q(r,2),a=i[0],o=i[1];return t.map(function(s,A){var c=s.value,l=q(Mw(c,e),2),u=l[0],f=l[1],d=q([u-a,f-o],2),h=d[0],g=d[1],v=[];return n.forEach(function(y){var w=gg(y),b=q([Math.cos(w),Math.sin(w)],2),B=b[0],E=b[1],S=h*B-g*E+a,F=h*E+g*B+o;v.push([S,F])}),{points:v,id:A}})}function Yj(t,e,n,r){var i=n.classNamePrefix,a=Bn(n,"grid"),o=a.type,s=a.areaFill,A=hk(n),c=w_(e,n.gridFilter),l=o==="segment"?Vj(c,n):Zj(c,n),u=Tt(Tt({},a),{center:A,areaFill:hi(s)?c.map(function(f,d){return ps(s,[f,d,c])}):s,animate:r,data:l});return t.selectAll(an.grid.class).data([1]).join(function(f){var d=f.append(function(){return new kj({style:u})}).attr("className",an.grid.name);return js(d,an.grid,pr.grid,i),d},function(f){return f.transition(function(){return this.update(u)})},function(f){return f.remove()}).transitions()}function qa(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&t===e||i&&t===n?!0:t>e&&t<n}var $j=function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.body.firstElementChild;if(console.log(r==null?void 0:r.getClientRects(),11),!r)return 0;var i=r.getAttribute("style")||"",a=Object.fromEntries(i.split(";").map(function(v){return v.trim()}).filter(function(v){return v.includes(":")}).map(function(v){var y=q(v.split(":").map(function(B){return B.trim()}),2),w=y[0],b=y[1];return[w.toLowerCase(),b]})),o=function(v){if(!v)return 0;var y=v.match(/([\d.]+)px/);return y?parseFloat(y[1]):0};if(a.height)return o(a.height);var s=o(a["font-size"])||16,A=a["line-height"],c;!A||A==="normal"?c=1.2*s:A.endsWith("px")?c=o(A):/^[\d.]+$/.test(A)?c=parseFloat(A)*s:c=s;var l=o(a["padding-top"]),u=o(a["padding-bottom"]);if(a.padding){var f=a.padding.split(/\s+/).map(o);f.length===1||f.length===2?(l=f[0],u=f[0]):(f.length===3||f.length===4)&&(l=f[0],u=f[2])}var d=o(a["border-top-width"]),h=o(a["border-bottom-width"]);if(a.border){var g=a.border.match(/([\d.]+)px/);g&&(d=parseFloat(g[1]),h=parseFloat(g[1]))}if(a["border-width"]){var f=a["border-width"].split(/\s+/).map(o);f.length===1||f.length===2?(d=f[0],h=f[0]):(f.length===3||f.length===4)&&(d=f[0],h=f[2])}return c+l+u+d+h};function Xj(t){var e,n,r,i=t||1;function a(s,A){++e>i&&(r=n,o(1),++e),n[s]=A}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var A=n[s];if(A!==void 0)return A;if((A=r[s])!==void 0)return a(s,A),A},set:function(s,A){n[s]!==void 0?n[s]=A:a(s,A)}}}var x_=new Map;function qj(t,e,n){n===void 0&&(n=128);var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e?e.apply(this,i):i[0];x_.has(t)||x_.set(t,Xj(n));var s=x_.get(t);if(s.has(o))return s.get(o);var A=t.apply(this,i);return s.set(o,A),A};return r}var Fw,__;function Dlt(t){__=t}var pk=qj(function(t,e){var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return __?__(t,n):(Fw||(Fw=jt.offscreenCanvasCreator.getOrCreateContext(void 0)),Fw.font=[a,o,i,"".concat(n,"px"),r].join(" "),Fw.measureText(t).width)},function(t,e){return[t,Object.values(e||gk(t)).join()].join("")},4096),gk=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,a=t.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function vk(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function yk(t,e){var n=vk(t);n&&n.attr(e)}function C_(t,e,n){n===void 0&&(n="..."),yk(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}function Jj(t,e,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),yk(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}function t9(t,e,n){var r=t.getBBox(),i=r.width,a=r.height,o=q([e,n].map(function(c,l){var u;return c.includes("%")?parseFloat(((u=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||u===void 0?void 0:u[0])||"0")/100*(l===0?i:a):c}),2),s=o[0],A=o[1];return[s,A]}function mk(t,e){if(e)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=e.replace(n,function(i,a,o){return"translate(".concat(t9(t,a,o),")")});t.attr("transform",r)}catch(i){}}function Ja(t){if(rr(t))return[t,t,t,t];if(Sr(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}var O_=function(){function t(e,n,r,i){this.set(e,n,r,i)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(e,n,r){var i=this,a=i.x1,o=i.y1,s=i.x2,A=i.y2,c=Math.cos(e),l=Math.sin(e),u=n-n*c+r*l,f=r-n*l-r*c,d=[[c*a-l*A+u,l*a+c*A+f],[c*s-l*A+u,l*s+c*A+f],[c*a-l*o+u,l*a+c*o+f],[c*s-l*o+u,l*s+c*o+f]];return d},t.prototype.set=function(e,n,r,i){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),i<n?(this.y2=n,this.y1=i):(this.y1=n,this.y2=i),this},t.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},t}();function kw(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=q(r.min,2),a=i[0],o=i[1],s=q(r.max,2),A=s[0],c=s[1],l=t.getBBox(),u=l.width,f=l.height,d=f,h=0,g=0,v=a,y=o,w=vk(t);if(w){d-=1.5;var b=w.style.textAlign,B=w.style.textBaseline;b==="center"?v=(a+A)/2:(b==="right"||b==="end")&&(v=A),B==="middle"?y=(o+c)/2:B==="bottom"&&(y=c)}var E=q(Ja(e),4),S=E[0],F=S===void 0?0:S,k=E[1],T=k===void 0?0:k,L=E[2],P=L===void 0?F:L,R=E[3],U=R===void 0?T:R,N=new O_((h+=a)-U,(g+=o)-F,h+u+T,g+d+P);return t.setEulerAngles(n),N.rotatedPoints(gg(n),v,y)}function Pv(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function Rv(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return r===0?0:r<0?2:1}function e9(t,e){var n=Rv(t[0],t[1],e[0]),r=Rv(t[0],t[1],e[1]),i=Rv(e[0],e[1],t[0]),a=Rv(e[0],e[1],t[1]);return!!(n!==r&&i!==a||n===0&&Pv(t,e[0])||r===0&&Pv(t,e[1])||i===0&&Pv(e,t[0])||a===0&&Pv(e,t[1]))}function n9(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,a=0;do{var o=[t[a],t[(a+1)%n]];if(e9(o,r)){if(Rv(o[0],e,o[1])===0)return Pv(o,e);i++}a=(a+1)%n}while(a!==0);return!!(i&1)}function r9(t,e){return e.every(function(n){return n9(t,n)})}function i9(t,e,n){var r=t.x1,i=t.x2,a=t.y1,o=t.y2,s=[[r,a],[i,a],[i,o],[r,o]],A=kw(e,n);return r9(s,A)}function wk(t,e){var n=q(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=q(e,4),A=s[0],c=s[1],l=s[2],u=s[3],f=a-r,d=o-i,h=l-A,g=u-c,v=f*g-h*d;if(v===0)return!1;var y=v>0,w=r-A,b=i-c,B=f*b-d*w;if(B<0===y)return!1;var E=h*b-g*w;return!(E<0===y||B>v===y||E>v===y)}function bk(t,e){var n=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return n.some(function(r){return wk(e,r)})}var Hlt={lineToLine:wk,intersectBoxLine:bk,getBounds:kw};function a9(t,e,n){var r,i,a=kw(t,n).flat(1),o=kw(e,n).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var A=di(s),c=A.next();!c.done;c=A.next()){var l=c.value;if(bk(o,l))return!0}}catch(u){r={error:u}}finally{try{c&&!c.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}return!1}function o9(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if(n==="arc"){var a=t.center,o=t.radius,s=q(a,2),A=s[0],c=s[1],l=r==="negative"?0:i,u=-o-l,f=o+l,d=q(Ja(e),4),h=d[0],g=d[1],v=d[2],y=d[3];return new O_(A+u-y,c+u-h,A+f+g,c+f+v)}var w=q(t.startPos,2),b=w[0],B=w[1],E=q(t.endPos,2),S=E[0],F=E[1],k=q(lk(t)?[-e,0,e,0]:[0,e,0,-e],4),T=k[0],L=k[1],P=k[2],R=k[3],U=yg(0,t),N=hu(U,i),j=new O_(b,B,S,F);return j.x1+=R,j.y1+=T,j.x2+=L+N[0],j.y2+=P+N[1],j}function Tw(t,e,n){var r,i,a=e.crossPadding,o=new Set,s=null,A=o9(e,a),c=function(h){return A?i9(A,h):!0},l=function(h,g){return!h||!h.firstChild?!0:!a9(h.firstChild,g.firstChild,Ja(n))};try{for(var u=di(t),f=u.next();!f.done;f=u.next()){var d=f.value;c(d)?!s||l(s,d)?s=d:(o.add(s),o.add(d)):o.add(d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return Array.from(o)}function E_(t,e){return e===void 0&&(e={}),be(t)?0:typeof t=="number"?t:Math.floor(pk(t,e))}function s9(t,e,n,r){if(!(t.length<=0)){var i=e.suffix,a=i===void 0?"...":i,o=e.minLength,s=e.maxLength,A=s===void 0?1/0:s,c=e.step,l=c===void 0?" ":c,u=e.margin,f=u===void 0?[0,0,0,0]:u,d=gk(r.getTextShape(t[0])),h=E_(l,d),g=o?E_(o,d):h,v=E_(A,d);(be(v)||v===1/0)&&(v=Math.max.apply(null,t.map(function(N){return N.getBBox().width})));for(var y=t.slice(),w=q(f,4),b=w[0],B=b===void 0?0:b,E=w[1],S=E===void 0?0:E,F=w[2],k=F===void 0?B:F,T=w[3],L=T===void 0?S:T,P=function(N){if(y.forEach(function(j){r.ellipsis(r.getTextShape(j),N,a)}),y=Tw(t,n,f),y.length<1)return{value:void 0}},R=v;R>g+h;R-=h){var U=P(R);if(typeof U=="object")return U.value}}}var A9=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)};function jlt(t){var e=t&&t.getRenderBounds();if(!e)return{width:0,height:0};var n=e.getMax(),r=e.getMin();return{width:n[0]-r[0],height:n[1]-r[1]}}function Bk(t){var e=t.getLocalBounds(),n=e.min,r=e.max,i=q([n,r],2),a=q(i[0],2),o=a[0],s=a[1],A=q(i[1],2),c=A[0],l=A[1];return{x:o,y:s,width:c-o,height:l-s,left:o,bottom:l,top:s,right:c}}function Glt(t,e){var n=select(t).append("text").node();return n.attr(__assign(__assign({},e),{visibility:"hidden"})),n}function c9(t,e){var n=q(t,2),r=n[0],i=n[1],a=q(e,2),o=a[0],s=a[1];return r!==o&&i===s}function Klt(t,e){var n=__read(t,2),r=n[0],i=n[1],a=__read(e,2),o=a[0],s=a[1];return r===o&&i!==s}function l9(t,e){var n,r,i=e.attributes;try{for(var a=di(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=q(o.value,2),A=s[0],c=s[1];A!=="id"&&A!=="className"&&t.attr(A,c)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var u9={parity:function(t,e){var n=e.seq,r=n===void 0?2:n;return t.filter(function(i,a){return a%r?(Of(i),!1):!0})}},f9=function(t){return t.filter(A9)};function d9(t,e,n,r){var i=t.length,a=e.keepHeader,o=e.keepTail;if(!(i<=1||i===2&&a&&o)){var s=u9.parity,A=function(b){return b.forEach(r.show),b},c=2,l=t.slice(),u=t.slice(),f=Math.min.apply(Math,ye([1],q(t.map(function(b){return b.getBBox().width})),!1));if(n.type==="linear"&&(B_(n)||lk(n))){var d=Bk(t[0]).left,h=Bk(t[i-1]).right,g=Math.abs(h-d)||1;c=Math.max(Math.floor(i*f/g),c)}var v,y;for(a&&(v=l.splice(0,1)[0]),o&&(y=l.splice(-1,1)[0],l.reverse()),A(l);c<t.length&&Tw(f9(y?ye(ye([y],q(u),!1),[v],!1):ye([v],q(u),!1)),n,e==null?void 0:e.margin).length;){if(y&&!v&&c%2===0){var w=l.splice(0,1);w.forEach(r.hide)}else if(y&&v){var w=l.splice(0,1);w.forEach(r.hide)}u=s(A(l),{seq:c}),c++}}}function h9(t,e,n,r){var i,a,o=e.optionalAngles,s=o===void 0?[0,45,90]:o,A=e.margin,c=e.recoverWhenFailed,l=c===void 0?!0:c,u=t.map(function(y){return y.getLocalEulerAngles()}),f=function(){return Tw(t,n,A).length<1},d=function(y){return t.forEach(function(w,b){var B=Array.isArray(y)?y[b]:y;r.rotate(w,+B)})};try{for(var h=di(s),g=h.next();!g.done;g=h.next()){var v=g.value;if(d(v),f())return}}catch(y){i={error:y}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}l&&d(u)}function p9(t){var e=t.type,n=t.labelDirection;return e==="linear"&&B_(t)?n==="negative"?"bottom":"top":"middle"}function g9(t,e,n,r,i){var a,o=e.maxLines,s=o===void 0?3:o,A=e.recoverWhenFailed,c=A===void 0?!0:A,l=e.margin,u=l===void 0?[0,0,0,0]:l,f=ps((a=e.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),d=t.map(function(b){return b.attr("maxLines")||1}),h=Math.min.apply(Math,ye([],q(d),!1)),g=function(){return Tw(t,n,u).length<1},v=p9(n),y=function(b){return t.forEach(function(B,E){var S=Array.isArray(b)?b[E]:b;r.wrap(B,f,S,v)})};if(!(h>s)){if(n.type==="linear"&&B_(n)){if(y(s),g())return}else for(var w=h;w<=s;w++)if(y(w),g())return;c&&y(d)}}var v9=new Map([["hide",d9],["rotate",h9],["ellipsis",s9],["wrap",g9]]);function y9(t,e,n){return e.labelOverlap.length<1?!1:n==="hide"?!uj(t[0]):n==="rotate"?!t.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):n==="ellipsis"||n==="wrap"?t.filter(function(r){return r.querySelector("text")}).length>=1:!0}function m9(t,e,n,r){var i=e.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(o){var s=o.type,A=v9.get(s);y9(t,e,s)&&(A==null||A(t,o,e,r,n))})}function w9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r==="positive"?-1:1};return t.reduce(function(r,i){return r*n(i)},1)}function xk(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)}function S_(t,e){var n=q(t,2),r=n[0],i=n[1],a=q(e,2),o=a[0],s=a[1],A=q([r*o+i*s,r*s-i*o],2),c=A[0],l=A[1];return Math.atan2(l,c)}function b9(t){var e=(t+360)%180;return qa(e,-90,90)||(e+=180),e}function B9(t,e,n){var r,i=n.labelAlign,a=(r=e.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return e.getLocalEulerAngles();var o=0,s=yg(t.value,n),A=Sw(t.value,n);return i==="horizontal"?0:(i==="perpendicular"?o=S_([1,0],s):o=S_([A[0]<0?-1:1,0],A),b9(ik(o)))}function _k(t,e,n){var r=n.type,i=n.labelAlign,a=yg(t,n),o=xk(e),s=xk(ik(S_([1,0],a))),A="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(A="center",c=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?A="center":s===0?(qa(o,0,90,!1,!0)||qa(o,0,90)||qa(o,270,360))&&(A="start"):s===90?qa(o,0,90,!1,!0)?A="start":(qa(o,90,180)||qa(o,270,360))&&(A="end"):s===270?qa(o,0,90,!1,!0)?A="end":(qa(o,90,180)||qa(o,270,360))&&(A="start"):s===180&&(o===90?A="start":(qa(o,0,90)||qa(o,270,360))&&(A="end")):i==="parallel"?qa(s,0,180,!0)?c="top":c="bottom":i==="horizontal"?qa(s,90,270,!1)?A="end":(qa(s,270,360,!1)||qa(s,0,90))&&(A="start"):i==="perpendicular"&&(qa(s,90,270)?A="end":A="start"),{textAlign:A,textBaseline:c}}function x9(t,e,n){e.setLocalEulerAngles(t);var r=e.__data__.value,i=_k(r,t,n),a=e.querySelector(an.labelItem.class);a&&Ok(a,i)}function Ck(t,e,n){var r=n.showTick,i=n.tickLength,a=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,A=e.indexOf(t),c=ps(s,[t,A,e]),l=q([yg(t.value,n),w9(o,a)],2),u=l[0],f=l[1],d=f===1?ps(r?i:0,[t,A,e]):0,h=q(Lv(hu(u,c+d),Mw(t.value,n)),2),g=h[0],v=h[1];return{x:g,y:v}}function _9(t,e,n,r){var i=r.labelFormatter,a=hi(i)?function(){return xh(ps(i,[t,e,n,yg(t.value,r)]))}:function(){return xh(t.label||"")};return a}function C9(t,e,n,r){var i=r.labelRender,a=(nn(r,"endPos.0",400)-nn(r,"startPos.0",0))/n.length,o=hi(i)?ps(i,[t,e,n,yg(t.value,r)]):t.label||"",s=$j(o)||30;return function(){return Uj(o,{width:a,height:s})}}var O9={html:["fill"],text:[]};function Ok(t,e){["text","html"].includes(t.nodeName)&&t.attr(m_(e,O9[t.nodeName]))}function E9(t,e){m9(this.node().childNodes,t,e,{hide:Of,show:Iv,rotate:function(n,r){x9(+r,n,t)},ellipsis:function(n,r,i){n&&C_(n,r||1/0,i)},wrap:function(n,r,i){n&&Jj(n,r,i)},getTextShape:function(n){return n.querySelector(an.labelItem.class)}})}function Ek(t,e,n,r,i){var a=n.indexOf(e),o=i.labelRender,s=i.classNamePrefix,A=cn(t).append(o?C9(e,a,n,i):_9(e,a,n,i)).attr("className",an.labelItem.name).node();js(cn(A),an.labelItem,pr.labelItem,s);var c=q(pu(Ak(r,[e,a,n])),2),l=c[0],u=c[1],f=u.transform,d=Kr(u,["transform"]);mk(A,f);var h=B9(e,A,i);if(A.getLocalEulerAngles()||A.setLocalEulerAngles(h),Ok(A,Tt(Tt({},_k(e.value,h,i)),l)),A.nodeName==="html"){var g=A.getBBox(),v=A.style.x||0;A.attr("x",v-g.width/2)}return t.attr(d),A}function S9(t,e,n,r,i){var a=n.classNamePrefix,o=w_(e,n.labelFilter),s=Bn(n,"label"),A,c=t.selectAll(an.label.class).data(o,function(l,u){return u}).join(function(l){var u=l.append("g").attr("className",an.label.name).transition(function(f){Ek(this,f,e,s,n);var d=Ck(f,e,n),h=d.x,g=d.y;return this.style.transform="translate(".concat(h,", ").concat(g,")"),null});return js(u,an.label,pr.label,a),u},function(l){return l.transition(function(u){var f=this.querySelector(an.labelItem.class),d=Ek(this,u,e,s,n),h=Aj(f,d,r.update),g=Ck(u,e,n),v=g.x,y=g.y,w=pc(this,{transform:"translate(".concat(v,", ").concat(y,")")},r.update);return ye(ye([],q(h),!1),[w],!1)})},function(l){return A=l,l.transition(function(){var u=this,f=Ew(this.childNodes[0],r.exit);return pg(f,function(){return cn(u).remove()}),f}),A}).transitions();return oj(c,function(){E9.call(t,n,i)}),c}function Sk(t,e){return b_(t,e.tickDirection,e)}function M9(t,e){var n=q(t,2),r=n[0],i=n[1];return[[0,0],[r*e,i*e]]}function F9(t,e,n,r,i){var a=i.tickLength,o=q(M9(r,ps(a,[t,e,n])),2),s=q(o[0],2),A=s[0],c=s[1],l=q(o[1],2),u=l[0],f=l[1];return{x1:A,x2:u,y1:c,y2:f}}function k9(t,e,n,r,i){var a=i.tickFormatter,o=i.classNamePrefix,s=Sk(e.value,i),A="line";hi(a)&&(A=function(){return ps(a,[e,n,r,s])});var c=t.append(A).attr("className",an.tickItem.name);return js(c,an.tickItem,pr.tickItem,o),c}function T9(t,e,n,r,i,a,o){var s=Sk(t.value,a),A=F9(t,e,n,s,a),c=A.x1,l=A.x2,u=A.y1,f=A.y2,d=q(pu(Ak(o,[t,e,n,s])),2),h=d[0],g=d[1];r.node().nodeName==="line"&&r.styles(Tt({x1:c,x2:l,y1:u,y2:f},h)),i.attr(g),r.styles(h)}function Mk(t,e,n,r,i,a){var o=k9(cn(this),t,e,n,r);T9(t,e,n,o,this,r,i);var s=q(Mw(t.value,r),2),A=s[0],c=s[1];return pc(this,{transform:"translate(".concat(A,", ").concat(c,")")},a)}function I9(t,e,n,r){var i=n.classNamePrefix,a=w_(e,n.tickFilter),o=Bn(n,"tick");return t.selectAll(an.tick.class).data(a,function(s){return s.id||s.label}).join(function(s){var A=s.append("g").attr("className",an.tick.name).transition(function(c,l){return Mk.call(this,c,l,a,n,o,!1)});return js(A,an.tick,pr.tick,i),A},function(s){return s.transition(function(A,c){return this.removeChildren(),Mk.call(this,A,c,a,n,o,r.update)})},function(s){return s.transition(function(){var A=this,c=Ew(this.childNodes[0],r.exit);return pg(c,function(){return A.remove()}),c})}).transitions()}function Iw(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(e){return e[0]}):t.length>2?[t[0]]:t.split("")}function L9(t,e,n){var r=n.titlePosition,i=r===void 0?"lb":r,a=n.titleSpacing,o=Iw(i),s=t.node().getLocalBounds(),A=q(s.min,2),c=A[0],l=A[1],u=q(s.halfExtents,2),f=u[0],d=u[1],h=q(e.node().getLocalBounds().halfExtents,2),g=h[0],v=h[1],y=q([c+f,l+d],2),w=y[0],b=y[1],B=q(Ja(a),4),E=B[0],S=B[1],F=B[2],k=B[3];if(["start","end"].includes(i)&&n.type==="linear"){var T=n.startPos,L=n.endPos,P=q(i==="start"?[T,L]:[L,T],2),R=P[0],U=P[1],N=rk([-U[0]+R[0],-U[1]+R[1]]),j=q(hu(N,E),2),z=j[0],W=j[1];return{x:R[0]+z,y:R[1]+W}}return o.includes("t")&&(b-=d+v+E),o.includes("r")&&(w+=f+g+S),o.includes("l")&&(w-=f+g+k),o.includes("b")&&(b+=d+v+F),{x:w,y:b}}function Q9(t,e,n){var r=t.getGeometryBounds().halfExtents,i=r[1]*2;if(e==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function Fk(t,e,n,r,i){var a=Bn(r,"title"),o=q(pu(a),2),s=o[0],A=o[1],c=A.transform,l=A.transformOrigin,u=Kr(A,["transform","transformOrigin"]);e.styles(u);var f=c||Q9(t.node(),s.direction,s.position);t.styles(Tt(Tt({},s),{transformOrigin:l})),mk(t.node(),f);var d=L9(cn(n._offscreen||n.querySelector(an.mainGroup.class)),e,r),h=d.x,g=d.y,v=pc(e.node(),{transform:"translate(".concat(h,", ").concat(g,")")},i);return v}function U9(t,e,n,r){var i=n.titleText,a=n.classNamePrefix;return t.selectAll(an.title.class).data([{title:i}].filter(function(o){return!!o.title}),function(o,s){return o.title}).join(function(o){var s=o.append(function(){return xh(i)}).attr("className",an.title.name).transition(function(){return Fk(cn(this),t,e,n,r.enter)});return js(s,an.title,pr.title,a),s},function(o){return o.transition(function(){return Fk(cn(this),t,e,n,r.update)})},function(o){return o.remove()}).transitions()}function kk(t,e,n,r){var i=t.showLine,a=t.showTick,o=t.showLabel,s=t.classNamePrefix,A=e.maybeAppendByClassName(an.lineGroup,"g");js(A,an.lineGroup,pr.lineGroup,s);var c=Ho(i,A,function(h){return zj(h,t,r)})||[],l=e.maybeAppendByClassName(an.tickGroup,"g");js(l,an.tickGroup,pr.tickGroup,s);var u=Ho(a,l,function(h){return I9(h,n,t,r)})||[],f=e.maybeAppendByClassName(an.labelGroup,"g");js(f,an.labelGroup,pr.labelGroup,s);var d=Ho(o,f,function(h){return S9(h,n,t,r,e.node())})||[];return ye(ye(ye([],q(c),!1),q(u),!1),q(d),!1).filter(function(h){return!!h})}var M_=function(t){dr(e,t);function e(n){return t.call(this,n,d_)||this}return e.prototype.render=function(n,r,i){var a=this,o=n.titleText,s=n.data,A=n.animate,c=n.showTitle,l=n.showGrid,u=n.dataThreshold,f=n.truncRange,d=n.classNamePrefix,h=r.className||"axis";d?r.attr("className","".concat(h," ").concat(d,"axis")):r.className||r.attr("className","axis");var g=dj(s,u).filter(function(F){var k=F.value;return!(f&&k>f[0]&&k<f[1])}),v=qF(i===void 0?A:i),y=cn(r).maybeAppendByClassName(an.gridGroup,"g");js(y,an.gridGroup,pr.gridGroup,d);var w=Ho(l,y,function(F){return Yj(F,g,n,v)})||[],b=cn(r).maybeAppendByClassName(an.mainGroup,"g");js(b,an.mainGroup,pr.mainGroup,d),o&&(!this.initialized&&v.enter||this.initialized&&v.update)&&kk(n,cn(this.offscreenGroup),g,qF(!1));var B=kk(n,cn(b.node()),g,v),E=cn(r).maybeAppendByClassName(an.titleGroup,"g");js(E,an.titleGroup,pr.titleGroup,d);var S=Ho(c,E,function(F){return U9(F,a,n,v)})||[];return ye(ye(ye([],q(w),!1),q(B),!1),q(S),!1).flat().filter(function(F){return!!F})},e}(Ta);function Gs(t){if(mh(t)){var e=t;return e[e.length-1]}}var nl=function(t){return t};function Lw(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function mg(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function F_(t,e,n,r,i){let a=n||0,o=r||t.length;const s=i||(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(t[A])>e?o=A:a=A+1}return a}var P9=Ft(19818),Tk=Ft.n(P9);function k_(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function R9(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=k_(o,a,e+1/3),A=k_(o,a,e),c=k_(o,a,e-1/3);return[s*255,A*255,c*255,i]}function Ik(t){const e=Tk().get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?R9(r):null}const wg=(t,e)=>n=>t*(1-n)+e*n,N9=(t,e)=>{const n=Ik(t),r=Ik(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=n[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},Nv=(t,e)=>typeof t=="number"&&typeof e=="number"?wg(t,e):typeof t=="string"&&typeof e=="string"?N9(t,e):()=>t,D9=(t,e)=>{const n=wg(t,e);return r=>Math.round(n(r))};function Lk(t){return t===null}function Qw(t){return!_n(t)&&!Lk(t)&&!Number.isNaN(t)}const T_=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=hw(o,s,n),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=hw(o,s,n)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=hw(o,s,n)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function H9(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}const j9=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,A;return r<i?(s=Lw(r,i),A=n(a,o)):(s=Lw(i,r),A=n(o,a)),mg(A,s)},G9=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,A=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=Lw(s[c],s[c+1]),a[c]=n(A[c],A[c+1]);return c=>{const l=F_(t,c,1,r)-1,u=i[l],f=a[l];return mg(f,u)(c)}},Qk=(t,e,n,r)=>(Math.min(t.length,e.length)>2?G9:j9)(t,e,r?D9:n);class Uw extends Ev{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:wg,tickCount:5}}map(e){return Qw(e)?this.output(e):this.options.unknown}invert(e){return Qw(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice||Sr(this.options.breaks))return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return T_}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?H9(i[0],i[a-1]):nl}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=Qk(r.map(e),i,o,a);this.output=mg(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=Qk(a,i.map(e),wg);this.input=mg(n,r,o)}}class vc extends Uw{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Nv,tickMethod:_f,tickCount:5}}removeUnsortedValues(e,n,r){let i=-1/0;return n.reduce((o,s,A)=>{if(A===0)return o;const c=i>0?i:s;return i>0&&(r?s>i:s<i)?o.push(A):(c-n[A-1])*(r?-1:1)<0?(i<0&&(i=n[A-1]),o.push(A)):i=-1/0,o},[]).slice().reverse().forEach(o=>{e.splice(o,1),n.splice(o,1)}),{breaksDomain:e,breaksRange:n}}transformDomain(e){const n=[.2,.8],r=.03,{domain:i=[],range:a=[1,0],breaks:o=[],tickCount:s=5,nice:A}=e,[c,l]=[Math.min(...i),Math.max(...i)];let u=c,f=l;if(A&&o.length<2){const T=this.chooseNice()(c,l,s);u=T[0],f=T[T.length-1]}const d=Math.min(u,c);let h=Math.max(f,l);const g=o.filter(({end:T})=>T<h).sort((T,L)=>T.start-L.start),v=_f(d,h,s,g);if(Gs(v)<h){const T=T_(0,h-Gs(v),3);v.push(Gs(v)+Gs(T)),h=Gs(v)}const[y,w]=[a[0],Gs(a)],b=h-d,B=Math.abs(w-y),E=y>w,S=v.map(T=>{const L=(T-d)/b;return E?y-L*B:y+L*B}),[F,k]=n;return g.forEach(({start:T,end:L,gap:P=r,compress:R="middle"})=>{const U=v.indexOf(T),N=v.indexOf(L);let j=(S[U]+S[N])/2;R==="start"&&(j=S[U]),R==="end"&&(j=S[N]);const z=P*B/2;let W=E?j+z:j-z,D=E?j-z:j+z;W<F&&(D+=F-W,W=F),D>k&&(W-=D-k,D=k),W>k&&(D-=W-k,W=k),D<F&&(W+=F-D,D=F),S[U]=W,S[N]=D}),this.removeUnsortedValues(v,S,E)}transformBreaks(e){const{domain:n,breaks:r=[]}=e;if(!Sr(e.breaks))return e;const i=Math.max(...n),a=r.filter(({end:c})=>c<i),o=VB(e0({},e),{breaks:a}),{breaksDomain:s,breaksRange:A}=this.transformDomain(o);return VB(e0({},e),{domain:s,range:A,breaks:a,tickMethod:()=>[...s]})}chooseTransforms(){return[nl,nl]}clone(){return new vc(this.options)}}function K9(t,e){if(t){var n;if(Sr(t))for(var r=0,i=t.length;r<i&&(n=e(t[r],r),n!==!1);r++);else if(Vl(t)){for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),n===!1))break}}}var I_=K9,z9=function(t,e,n){if(!Sr(t)&&!lu(t))return t;var r=n;return I_(t,function(i,a){r=e(r,i,a)}),r},Uk=z9,L_=function(t,e){return Uk(t,function(n,r,i){return e.includes(i)||(n[i]=r),n},{})};function gu(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}var Jr=function(){function t(e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=n,this.width=r,this.height=i}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t}();function zlt(t){var e=t.getRenderBounds(),n=__read(e.min,2),r=n[0],i=n[1],a=__read(e.max,2),o=a[0],s=a[1],A=o-r,c=s-i;return new Jr(r,i,A,c)}function Pk(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;a++){var o=t[a],s=o.x,A=o.y,c=o.width,l=o.height,u=q([s+c,A+l],2),f=u[0],d=u[1];s<e&&(e=s),A<n&&(n=A),f>r&&(r=f),d>i&&(i=d)}return new Jr(e,n,r-e,i-n)}var W9=function(t,e,n){var r=t.width,i=t.height,a=n.flexDirection,o=a===void 0?"row":a,s=n.flexWrap,A=s===void 0?"nowrap":s,c=n.justifyContent,l=c===void 0?"flex-start":c,u=n.alignContent,f=u===void 0?"flex-start":u,d=n.alignItems,h=d===void 0?"flex-start":d,g=o==="row",v=o==="row"||o==="column",y=g?v?[1,0]:[-1,0]:v?[0,1]:[0,-1],w=q([0,0],2),b=w[0],B=w[1],E=e.map(function(U){var N,j=U.width,z=U.height,W=q([b,B],2),D=W[0],G=W[1];return N=q([b+j*y[0],B+z*y[1]],2),b=N[0],B=N[1],new Jr(D,G,j,z)}),S=Pk(E),F={"flex-start":0,"flex-end":g?r-S.width:i-S.height,center:g?(r-S.width)/2:(i-S.height)/2},k=E.map(function(U){var N=U.x,j=U.y,z=Jr.fromRect(U);return z.x=g?N+F[l]:N,z.y=g?j:j+F[l],z}),T=Pk(k),L=function(U){var N=q(g?["height",i]:["width",r],2),j=N[0],z=N[1];switch(h){case"flex-start":return 0;case"flex-end":return z-U[j];case"center":return z/2-U[j]/2;default:return 0}},P=k.map(function(U){var N=U.x,j=U.y,z=Jr.fromRect(U);return z.x=g?N:N+L(z),z.y=g?j+L(z):j,z}),R=P.map(function(U){var N,j,z=Jr.fromRect(U);return z.x+=(N=t.x)!==null&&N!==void 0?N:0,z.y+=(j=t.y)!==null&&j!==void 0?j:0,z});return R},V9=function(t,e,n){return[]},Z9=function(t,e,n){if(e.length===0)return[];var r={flex:W9,grid:V9},i=n.display in r?r[n.display]:null;return(i==null?void 0:i.call(null,t,e,n))||[]},Y9=function(t){dr(e,t);function e(n){var r=t.call(this,n)||this;r.layoutEvents=[X.BOUNDS_CHANGED,X.INSERTED,X.REMOVED],r.$margin=Ja(0),r.$padding=Ja(0);var i=n.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,A=s===void 0?0:s;return r.margin=o,r.padding=A,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=Ja(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=Ja(n)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.width,A=n.height,c=q(this.$margin,4),l=c[0],u=c[1],f=c[2],d=c[3];return new Jr(i-d,o-l,s+d+u,A+l+f)},e.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,t.prototype.appendChild.call(this,n,r),n},e.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,i=n.height,a=q(this.$padding,4),o=a[0],s=a[1],A=a[2],c=a[3],l=q(this.$margin,4),u=l[0],f=l[3];return new Jr(c+f,o+u,r-c-s,i-o-A)},e.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,i=n.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=Z9(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var A=a[s],c=A.x,l=A.y;o.style.transform="translate(".concat(c,", ").concat(l,")")})}catch(o){}},e.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,n.layout())})})},e.prototype.attributeChangedCallback=function(n,r,i){n==="margin"?this.margin=i:n==="padding"&&(this.padding=i),this.layout()},e}(ka),$9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function X9(t){return class extends uh{constructor(e){super(e),this.descriptor=t}connectedCallback(){var e,n;(n=(e=this.descriptor).render)===null||n===void 0||n.call(e,this.attributes,this)}update(e={}){var n,r;this.attr(Mt({},this.attributes,e)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function Rk(t,e,n){return t.querySelector(e)?Ze(t).select(e):Ze(t).append(n)}function Pw(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function Nk(t,e){const n={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return t in o&&([r,i,a]=o[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},e)}class Dk extends Y9{get child(){var e;return(e=this.children)===null||e===void 0?void 0:e[0]}update(e){var n;const{subOptions:r}=e;(n=this.child)===null||n===void 0||n.update(r),this.attr(e)}}class q9 extends Dk{update(e){var n;const{subOptions:r}=e;(n=this.child)===null||n===void 0||n.update(r),this.attr(e)}}function rl(t,e){var n;return(n=t.filter(r=>r.getOptions().name===e))===null||n===void 0?void 0:n[0]}function J9(t){return t==="horizontal"||t===0}function t7(t){return t==="vertical"||t===-Math.PI/2}function Hk(t,e,n){const{bbox:r}=t,{position:i="top",size:a,length:o}=e,s=["top","bottom","center"].includes(i),[A,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:l,defaultLength:u}=n.props,f=a||l||A,d=o||u||c,h=s?"horizontal":"vertical",[g,v]=s?[d,f]:[f,d];return{orientation:h,width:g,height:v,size:f,length:d}}function e7(t){return t.find(e=>e.getOptions().domain.length>0).getOptions().domain}function Rw(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=t,r=$9(t,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{e.includes(a)?i[`show${Cf(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),n)}var jk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Gk(t,e){const{eulerAngles:n,origin:r}=e;r&&t.setOrigin(r),n&&t.rotate(n[0],n[1],n[2])}function Kk(t){const{innerWidth:e,innerHeight:n,depth:r}=t.getOptions();return[e,n,r]}function n7(t,e){const{width:n,height:r}=e.getOptions();return i=>{if(!YF(e))return i;const a=t==="bottom"?[i,1]:[0,i],o=e.map(a);if(t==="bottom"){const s=o[0];return new vc({domain:[0,n],range:[0,1]}).map(s)}else if(t==="left"){const s=o[1];return new vc({domain:[0,r],range:[0,1]}).map(s)}return i}}function r7(t,e,n){if(t.getTicks)return t.getTicks();if(!n)return e;const[r,i]=gu(e,o=>+o),{tickCount:a}=t.getOptions();return n(r,i,a)}function i7(t,e){if(Ar(e))return d=>d;const n=e.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:A}=n,[c,l,u]=t==="left"||t==="right"?[a,o,i]:[s,A,r],f=new vc({domain:[0,1],range:[c/u,1-l/u]});return d=>f.map(d)}function zk(t,e,n,r,i,a,o,s){var A;(n!==void 0||a!==void 0)&&t.update(Object.assign(Object.assign({},n&&{tickCount:n}),a&&{tickMethod:a}));const c=r7(t,e,a),l=i?c.filter(i):c,u=y=>y instanceof Date?String(y):typeof y=="object"&&y?y:String(y),f=r||((A=t.getFormatter)===null||A===void 0?void 0:A.call(t))||u,d=i7(o,s),h=n7(o,s),g=y=>["top","bottom","center","outer"].includes(y),v=y=>["left","right"].includes(y);return Ar(s)||Hr(s)?l.map((y,w,b)=>{var B,E;const S=((B=t.getBandWidth)===null||B===void 0?void 0:B.call(t,y))/2||0,F=d(t.map(y)+S);return{value:kv(s)&&o==="center"||Hr(s)&&((E=t.getTicks)===null||E===void 0?void 0:E.call(t))&&g(o)||Hr(s)&&v(o)?1-F:F,label:u(f(xw(y),w,b)),id:String(w)}}):l.map((y,w,b)=>{var B;const E=((B=t.getBandWidth)===null||B===void 0?void 0:B.call(t,y))/2||0,S=h(d(t.map(y)+E));return{value:v(o)?1-S:S,label:u(f(xw(y),w,b)),id:String(w)}})}function a7(t,e,n="xy"){const[r,i,a]=Kk(e);return n==="xy"?t.includes("bottom")||t.includes("top")?i:r:n==="xz"?t.includes("bottom")||t.includes("top")?a:r:t.includes("bottom")||t.includes("top")?i:a}function o7(t=[],e){if(t.length>0)return t;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=e,o=[],s=(A,c)=>{c&&o.push(Object.assign(Object.assign({},A),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function s7(t,e,n,r,i){const{x:a,y:o,width:s,height:A}=e,c=[a+s/2,o+A/2],l=Math.min(s,A)/2,[u,f]=u_(i),[d,h]=Kk(i),g=Math.min(d,h)/2,v={center:c,radius:l,startAngle:u,endAngle:f,gridLength:(r-n)*g};if(t==="inner"){const{insetLeft:y,insetTop:w}=i.getOptions();return Object.assign(Object.assign({},v),{center:[c[0]-y,c[1]-w],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},v),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function A7(t,e,n){return $F(e)||Tv(e)?!1:t===void 0?!!n.getTicks:t}function c7(t){const{depth:e}=t.getOptions();return e?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function l7(t,e,n,r,i){const{x:a,y:o,width:s,height:A}=n;if(t==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(t==="left")return{startPos:[a+s,o+A],endPos:[a+s,o]};if(t==="right")return{startPos:[a,o+A],endPos:[a,o]};if(t==="top")return{startPos:[a,o+A],endPos:[a+s,o+A]};if(t==="center"){if(e==="vertical")return{startPos:[a,o],endPos:[a,o+A]};if(e==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof e=="number"){const[c,l]=r.getCenter(),[u,f]=_w(r),[d,h]=u_(r),g=Math.min(s,A)/2,{insetLeft:v,insetTop:y}=r.getOptions(),w=u*g,b=f*g,[B,E]=[c+a-v,l+o-y],[S,F]=[Math.cos(e),Math.sin(e)],k=[B+b*S,E+b*F],T=[B+w*S,E+w*F],L=()=>{const{domain:R}=i.getOptions();return R.length},P=Ar(r)&&i?L():3;return{startPos:k,endPos:T,gridClosed:Math.abs(h-d-360)<1e-6,gridCenter:[B,E],gridControlAngles:new Array(P).fill(0).map((R,U,N)=>(h-d)/P*U)}}}return{}}const u7=t=>{const{order:e,size:n,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:A,tickLength:c,important:l={},style:u={},indexBBox:f,title:d,grid:h=!1}=t,g=jk(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[v],value:y,coordinate:w,theme:b})=>{const{bbox:B}=y,{domain:E}=v.getOptions(),S=zk(v,E,s,a,o,A,r,w),F=f?S.map((N,j)=>{const z=f.get(j);return!z||z[0]!==N.label?N:Object.assign(Object.assign({},N),{bbox:z[1]})}):S,[k,T]=_w(w),L=s7(r,B,k,T,w),{axis:P,axisArc:R={}}=b,U=Rw(Mt({},P,R,L,Object.assign(Object.assign(Object.assign({type:"arc",data:F,titleText:Pw(d),grid:h,classNamePrefix:du},c!==void 0?{tickLength:c}:null),g),l)));return new M_({style:L_(U,["transform"])})}};function f7(t,e,n,r,i,a){const o=n.axis,s=["top","right","bottom","left"].includes(i)?n[`axis${n_(i)}`]:n.axisLinear,A=t.getOptions().name,c=n[`axis${Cf(A)}`]||{};return Object.assign({},o,s,c)}function d7(t,e,n,r,i,a){const o=f7(t,e,n,r,i,a);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:t7(a)?10:0,tick:r==="center"?!1:void 0}):o}const h7=t=>{const{direction:e="left",important:n={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:A,style:c={},title:l,tickCount:u,tickFilter:f,tickMethod:d,tickLength:h,transform:g,indexBBox:v}=t,y=jk(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:w,value:b,coordinate:B,theme:E})=>{const{bbox:S}=b,[F]=w,{domain:k,xScale:T}=F.getOptions(),L=d7(F,B,E,e,s,a),P=Object.assign(Object.assign(Object.assign({},L),c),y),R=a7(o||s,B,t.plane),U=l7(s,a,S,B,T),N=c7(B),j=zk(F,k,u,r,f,d,s,B),z=v?j.map((G,Y)=>{const at=v.get(Y);return!at||at[0]!==G.label?G:Object.assign(Object.assign({},G),{bbox:at[1]})}):j,W=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P),{type:"linear",data:z,crossSize:A,titleText:Pw(l),labelOverlap:o7(g,P),grid:A7(P.grid,B,F),gridLength:R,line:!0,indexBBox:v,classNamePrefix:du}),h!==void 0?{tickLength:h}:null),P.line?null:{lineOpacity:0}),U),N),n);return W.labelOverlap.find(G=>G.type==="hide")&&(W.crossSize=!1),new M_({className:"axis",style:Rw(W)})}},Wk=t=>e=>{const{labelFormatter:n,labelFilter:r=()=>!0}=e;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,A=typeof n=="string"?fu(n):n,c=(u,f,d)=>r(s[f],f,s),l=Object.assign(Object.assign({},e),{labelFormatter:A,labelFilter:c,scale:o});return t(l)(i)}},Ef=Wk(h7),Vk=Wk(u7);Ef.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},Vk.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var p7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function g7(t){const e=t%(Math.PI*2);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function v7(t,e,n,r){const{radar:i}=t,[a]=r,o=a.getOptions().name,[s,A]=u_(n),{axisRadar:c={}}=e;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((l,u)=>(A-s)/i.count*u)})}const Zk=t=>{const{important:e={}}=t,n=p7(t,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return Ef(Object.assign(Object.assign(Object.assign({},n),g7(t.orientation)),{important:Object.assign(Object.assign({},v7(t,i,a,o)),e)}))(r)}};Zk.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"center"});class Yk{constructor(e){this.options=Mt({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=Mt({},this.options,e),this.rescale(e)}rescale(e){}}function Q_(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function Nw(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function y7(t,e,n,r,i){let a=n||0,o=r||t.length;const s=i||(A=>A);for(;a<o;){const A=Math.floor((a+o)/2);s(t[A])>e?o=A:a=A+1}return a}function U_(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function m7(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=U_(o,a,e+1/3),A=U_(o,a,e),c=U_(o,a,e-1/3);return[s*255,A*255,c*255,i]}function $k(t){const e=Tk().get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?m7(r):null}const Dw=(t,e)=>n=>t*(1-n)+e*n,w7=(t,e)=>{const n=$k(t),r=$k(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let l=0;l<4;l+=1){const u=n[l],f=r[l];a[l]=u*(1-i)+f*i}const[o,s,A,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(A)}, ${c})`}},b7=(t,e)=>typeof t=="number"&&typeof e=="number"?Dw(t,e):typeof t=="string"&&typeof e=="string"?w7(t,e):()=>t,B7=(t,e)=>{const n=Dw(t,e);return r=>Math.round(n(r))};function Xk(t){return!_n(t)&&!Lk(t)&&!Number.isNaN(t)}const P_=Math.sqrt(50),R_=Math.sqrt(10),N_=Math.sqrt(2);function Hw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Ai(10,i);return i>=0?(a>=P_?10:a>=R_?5:a>=N_?2:1)*Ai(10,i):-Ai(10,-i)/(a>=P_?10:a>=R_?5:a>=N_?2:1)}function Wlt(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=Ai(10,Math.floor(Math.log(r)/Math.LN10));const a=r/i;return a>=P_?i*=10:a>=R_?i*=5:a>=N_&&(i*=2),e<t?-i:i}const x7=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],A;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),A=Hw(o,s,n),A>0?(o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A,A=Hw(o,s,n)):A<0&&(o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A,A=Hw(o,s,n)),A>0?(r[i]=Math.floor(o/A)*A,r[a]=Math.ceil(s/A)*A):A<0&&(r[i]=Math.ceil(o*A)/A,r[a]=Math.floor(s*A)/A),r};function _7(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}const C7=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,A;return r<i?(s=Q_(r,i),A=n(a,o)):(s=Q_(i,r),A=n(o,a)),Nw(A,s)},O7=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,A=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=Q_(s[c],s[c+1]),a[c]=n(A[c],A[c+1]);return c=>{const l=y7(t,c,1,r)-1,u=i[l],f=a[l];return Nw(f,u)(c)}},qk=(t,e,n,r)=>(Math.min(t.length,e.length)>2?O7:C7)(t,e,r?B7:n);class E7 extends Yk{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Dw,tickCount:5}}map(e){return Xk(e)?this.output(e):this.options.unknown}invert(e){return Xk(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return x7}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?_7(i[0],i[a-1]):nl}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=qk(r.map(e),i,o,a);this.output=Nw(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=qk(a,i.map(e),Dw);this.input=Nw(n,r,o)}}const S7=(t,e,n)=>{let r,i,a=t,o=e;if(a===o&&n>0)return[a];let s=Hw(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let A=0;A<r;A+=1)i[A]=(a+A)/s}return i};class _h extends E7{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:b7,tickMethod:S7,tickCount:5}}chooseTransforms(){return[nl,nl]}clone(){return new _h(this.options)}}function jw(t,e){return+t.toPrecision(e)}function Vlt(t){return t.toLocaleString()}function Zlt(t){return t.toExponential()}function Ylt(t,e){return e===void 0&&(e=0),Math.abs(t)<1e3?String(t):"".concat(jw(t/1e3,e).toLocaleString(),"K")}var $lt=function(t,e,n){return t<0&&Number.isFinite(t)?e:n},Xlt=function(t,e,n){return t>0&&Number.isFinite(t)?e:n},qlt=function(t,e){return t*e},Jlt=function(t,e){return t/2+(e||0)/2};function Jk(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e){var a=e.x,o=e.y;return[a,o]}if(n){var s=n[0],A=s.clientX,c=s.clientY;return[A,c]}return r&&i?[r,i]:[0,0]}function tT(t){var e=t.nativeEvent,n=t.touches,r=t.clientX,i=t.clientY;if(e)return[e.clientX,e.clientY];if(n){var a=n[0],o=a.clientX,s=a.clientY;return[o,s]}return typeof r=="number"&&typeof i=="number"?[r,i]:[0,0]}var M7={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},D_=_A({background:"background",labelGroup:"label-group",label:"label"},"indicator"),F7=function(t){dr(e,t);function e(n){var r=t.call(this,n,M7)||this;return r.point=[0,0],r.group=r.appendChild(new ka({})),r.isMutationObserved=!0,r}return e.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,i=n.padding,a=q(Ja(i),4),o=a[0],s=a[1],A=a[2],c=a[3],l=this.label.node().getLocalBounds(),u=l.min,f=l.max,d=new Jr(u[0]-c,u[1]-o,f[0]+s-u[0]+c,f[1]+A-u[1]+o),h=this.getPath(r,d),g=Bn(this.attributes,"background");this.background=cn(this.group).maybeAppendByClassName(D_.background,"path").styles(Tt(Tt({},g),{d:h})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,i=n.labelText,a=Bn(this.attributes,"label"),o=q(pu(a),2),s=o[0],A=o[1],c=s.text,l=Kr(s,["text"]);if(this.label=cn(this.group).maybeAppendByClassName(D_.labelGroup,"g").styles(A),!!i){var u=this.label.maybeAppendByClassName(D_.label,function(){return xh(r(i))}).style("text",r(i).toString());u.selectAll("text").styles(l)}},e.prototype.adjustLayout=function(){var n=q(this.point,2),r=n[0],i=n[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},e.prototype.getPath=function(n,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,A=r.height,c=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+A-i],["A",i,i,0,0,1,a+s-i,o+A],["L",a+i,o+A],["A",i,i,0,0,1,a,o+A-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],l={top:4,right:6,bottom:0,left:2},u=l[n],f=this.createCorner([c[u].slice(-2),c[u+1].slice(-2)]);return c.splice.apply(c,ye([u+1,1],q(f),!1)),c[0][0]="M",c},e.prototype.createCorner=function(n,r){r===void 0&&(r=10);var i=.8,a=c9.apply(void 0,ye([],q(n),!1)),o=q(n,2),s=q(o[0],2),A=s[0],c=s[1],l=q(o[1],2),u=l[0],f=l[1],d=q(a?[u-A,[A,u]]:[f-c,[c,f]],2),h=d[0],g=q(d[1],2),v=g[0],y=g[1],w=h/2,b=h/Math.abs(h),B=r*b,E=B/2,S=B*Math.sqrt(3)/2*i,F=q([v,v+w-E,v+w,v+w+E,y],5),k=F[0],T=F[1],L=F[2],P=F[3],R=F[4];return a?(this.point=[L,c-S],[["L",k,c],["L",T,c],["L",L,c-S],["L",P,c],["L",R,c]]):(this.point=[A+S,L],[["L",A,k],["L",A,T],["L",A+S,L],["L",A,P],["L",A,R]])},e.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?Of(this):Iv(this)},e.prototype.bindEvents=function(){this.label.on(X.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(Ta),eT={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},nT={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},rT={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},il=_A({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),CA=_A({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),k7=function(t){dr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=n.y,o=n.size,s=o===void 0?10:o,A=n.radius,c=A===void 0?s/4:A,l=n.orientation,u=n.classNamePrefix,f=Kr(n,["x","y","size","radius","orientation","classNamePrefix"]),d=s,h=d*2.4,g=u?"".concat(CA.iconRect.name," ").concat(u,"handle-icon-rect"):CA.iconRect.name,v=function(S){return u?"".concat(CA.iconLine,"-").concat(S," ").concat(u,"handle-icon-line"):"".concat(CA.iconLine,"-").concat(S)},y=cn(r).maybeAppendByClassName(CA.iconRect,"rect").attr("className",g).styles(Tt(Tt({},f),{width:d,height:h,radius:c,x:i-d/2,y:a-h/2,transformOrigin:"center"})),w=i+1/3*d-d/2,b=i+2/3*d-d/2,B=a+1/4*h-h/2,E=a+3/4*h-h/2;y.maybeAppendByClassName("".concat(CA.iconLine,"-1"),"line").attr("className",v(1)).styles(Tt({x1:w,x2:w,y1:B,y2:E},f)),y.maybeAppendByClassName("".concat(CA.iconLine,"-2"),"line").attr("className",v(2)).styles(Tt({x1:b,x2:b,y1:B,y2:E},f)),l==="vertical"&&(y.node().style.transform="rotate(90)")},e}(Ta),iT=function(t){dr(e,t);function e(n){return t.call(this,n,rT)||this}return e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,A=Bn(this.attributes,"label"),c=A.x,l=c===void 0?0:c,u=A.y,f=u===void 0?0:u,d=A.transform,h=A.transformOrigin,g=Kr(A,["x","y","transform","transformOrigin"]),v=q(pu(g,[]),2),y=v[0],w=v[1],b=cn(n).maybeAppendByClassName(CA.labelGroup,"g").styles(w),B=Tt(Tt({},nT),y),E=B.text,S=Kr(B,["text"]);Ho(!!s,b,function(F){r.label=F.maybeAppendByClassName(CA.label,"text").styles(Tt(Tt({},S),{x:a+l,y:o+f,transform:d,transformOrigin:h,text:"".concat(E)})),r.label.on("mousedown",function(k){k.stopPropagation()}),r.label.on("touchstart",function(k){k.stopPropagation()})})},e.prototype.renderIcon=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,A=r.classNamePrefix,c=Tt(Tt({x:i,y:a,orientation:o,classNamePrefix:A},eT),Bn(this.attributes,"icon")),l=this.attributes.iconShape,u=l===void 0?function(){return new k7({style:c})}:l,f=cn(n).maybeAppendByClassName(CA.iconGroup,"g");f.selectAll(CA.icon.class).data([u]).join(function(d){return d.append(typeof u=="string"?u:function(){return u(s)}).attr("className",CA.icon.name)},function(d){return d.update(c)},function(d){return d.remove()})},e.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},e}(Ta);function yi(t,e,n){return n?"".concat(t," ").concat(n,"legend-").concat(e):t}function tut(t,e,n){var r=t.classNamePrefix,i=r===void 0?"":r;return yi(e.name,n,i)}var Fi={title:"title",item:"item",marker:"marker",label:"label",value:"value",focusIcon:"focus-icon",background:"background",ribbon:"ribbon",track:"track",selection:"selection",handle:"handle",handleMarker:"handle-marker",handleLabel:"handle-label",indicator:"indicator",prevBtn:"prev-btn",nextBtn:"next-btn",pageInfo:"page-info"},H_=_A({text:"text"},"title");function T7(t,e){var n=t.attributes,r=n.position,i=n.spacing,a=n.inset,o=n.text,s=t.getBBox(),A=e.getBBox(),c=Iw(r),l=q(Ja(o?i:0),4),u=l[0],f=l[1],d=l[2],h=l[3],g=q(Ja(a),4),v=g[0],y=g[1],w=g[2],b=g[3],B=q([h+f,u+d],2),E=B[0],S=B[1],F=q([b+y,v+w],2),k=F[0],T=F[1];if(c[0]==="l")return new Jr(s.x,s.y,A.width+s.width+E+k,Math.max(A.height+T,s.height));if(c[0]==="t")return new Jr(s.x,s.y,Math.max(A.width+k,s.width),A.height+s.height+S+T);var L=q([e.attributes.width||A.width,e.attributes.height||A.height],2),P=L[0],R=L[1];return new Jr(A.x,A.y,P+s.width+E+k,R+s.height+S+T)}function I7(t,e){var n=Object.entries(e).reduce(function(r,i){var a=q(i,2),o=a[0],s=a[1],A=t.node().attr(o);return A||(r[o]=s),r},{});t.styles(n)}function L7(t){var e,n,r,i,a=t,o=a.width,s=a.height,A=a.position,c=q([+o/2,+s/2],2),l=c[0],u=c[1],f=q([+l,+u,"center","middle"],4),d=f[0],h=f[1],g=f[2],v=f[3],y=Iw(A);return y.includes("l")&&(e=q([0,"start"],2),d=e[0],g=e[1]),y.includes("r")&&(n=q([+o,"end"],2),d=n[0],g=n[1]),y.includes("t")&&(r=q([0,"top"],2),h=r[0],v=r[1]),y.includes("b")&&(i=q([+s,"bottom"],2),h=i[0],v=i[1]),{x:d,y:h,textAlign:g,textBaseline:v}}var aT=function(t){dr(e,t);function e(n){return t.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return e.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,A=r.inset,c=n.querySelector(H_.text.class);if(!c)return new Jr(0,0,+i,+a);var l=c.getBBox(),u=l.width,f=l.height,d=q(Ja(s),4),h=d[0],g=d[1],v=d[2],y=d[3],w=q([0,0,+i,+a],4),b=w[0],B=w[1],E=w[2],S=w[3],F=Iw(o);if(F.includes("i"))return new Jr(b,B,E,S);F.forEach(function(z,W){var D,G,Y,at;z==="t"&&(D=q(W===0?[f+v,+a-f-v]:[0,+a],2),B=D[0],S=D[1]),z==="r"&&(G=q([+i-u-y],1),E=G[0]),z==="b"&&(Y=q([+a-f-h],1),S=Y[0]),z==="l"&&(at=q(W===0?[u+g,+i-u-g]:[0,+i],2),b=at[0],E=at[1])});var k=q(Ja(A),4),T=k[0],L=k[1],P=k[2],R=k[3],U=q([R+L,T+P],2),N=U[0],j=U[1];return new Jr(b+R,B+T,E-N,S-j)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new Jr(0,0,0,0)},e.prototype.render=function(n,r){var i=this,a=n.width,o=n.height,s=n.position,A=n.spacing,c=n.classNamePrefix,l=Kr(n,["width","height","position","spacing","classNamePrefix"]),u=q(pu(l),1),f=u[0],d=L7(n),h=d.x,g=d.y,v=d.textAlign,y=d.textBaseline;Ho(!!l.text,cn(r),function(w){var b=yi(H_.text.name,Fi.title,c);i.title=w.maybeAppendByClassName(H_.text,"text").attr("className",b).styles(f).call(I7,{x:h,y:g,textAlign:v,textBaseline:y}).node()})},e}(Ta),oT=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},Q7=oT,U7=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},P7=function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},R7=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},N7=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]},D7=function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},H7=function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},sT=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},j7=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},G7=function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},K7=function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},z7=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},AT=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},W7=AT,V7=function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},Z7=function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},Y7=function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},$7=function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]};function X7(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var q7=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]},J7=function(t,e,n){var r=n,i=n*.2,a=n*.7;return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"],["M",t-a,e],["L",t-i,e],["M",t+i,e],["L",t+a,e],["M",t,e-a],["L",t,e-i],["M",t,e+i],["L",t,e+a]]};function tG(t){var e="default";if(Vl(t)&&t instanceof Image)e="image";else if(hi(t))e="symbol";else if(fr(t)){var n=new RegExp("data:(image|text)");t.match(n)?e="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?e="url":e="symbol"}return e}function eG(t){var e=tG(t);return["base64","url","image"].includes(e)?"image":t&&e==="symbol"?"path":null}var Wn=function(t){dr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,A=this.getSubShapeStyle(n),c=A.symbol,l=A.size,u=l===void 0?16:l,f=Kr(A,["symbol","size"]),d=eG(c);Ho(!!d,cn(r),function(h){h.maybeAppendByClassName("marker",d).attr("className","marker ".concat(d,"-marker")).call(function(g){if(d==="image"){var v=u*2;g.styles({img:c,width:v,height:v,x:a-u,y:s-u})}else{var v=u/2,y=hi(c)?c:e.getSymbol(c);g.styles(Tt({d:y==null?void 0:y(a,s,v)},f))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(n,r){e.MARKER_SYMBOL_MAP.set(n,r)},e.getSymbol=function(n){return e.MARKER_SYMBOL_MAP.get(n)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(Ta);Wn.registerSymbol("cross",j7),Wn.registerSymbol("hyphen",z7),Wn.registerSymbol("line",sT),Wn.registerSymbol("plus",K7),Wn.registerSymbol("tick",G7),Wn.registerSymbol("circle",oT),Wn.registerSymbol("point",Q7),Wn.registerSymbol("bowtie",H7),Wn.registerSymbol("hexagon",D7),Wn.registerSymbol("square",U7),Wn.registerSymbol("diamond",P7),Wn.registerSymbol("triangle",R7),Wn.registerSymbol("triangle-down",N7),Wn.registerSymbol("line",sT),Wn.registerSymbol("dot",AT),Wn.registerSymbol("dash",W7),Wn.registerSymbol("smooth",V7),Wn.registerSymbol("hv",Z7),Wn.registerSymbol("vh",Y7),Wn.registerSymbol("hvh",$7),Wn.registerSymbol("vhv",X7),Wn.registerSymbol("focus",J7);function nG(t,e,n){var r=Math.round((t-n)/e);return n+r*e}function rG(t,e,n){var r=1.4,i=r*n;return[["M",t-n,e-i],["L",t+n,e-i],["L",t+n,e+i],["L",t-n,e+i],["Z"]]}var cT=1.4,lT=.4;function iG(t,e,n){var r=n,i=r*cT,a=r/2,o=r/6,s=t+i*lT;return[["M",t,e],["L",s,e+a],["L",t+i,e+a],["L",t+i,e-a],["L",s,e-a],["Z"],["M",s,e+o],["L",t+i-2,e+o],["M",s,e-o],["L",t+i-2,e-o]]}function aG(t,e,n){var r=n,i=r*cT,a=r/2,o=r/6,s=e+i*lT;return[["M",t,e],["L",t-a,s],["L",t-a,e+i],["L",t+a,e+i],["L",t+a,s],["Z"],["M",t-o,s],["L",t-o,e+i-2],["M",t+o,s],["L",t+o,e+i-2]]}Wn.registerSymbol("hiddenHandle",rG),Wn.registerSymbol("verticalHandle",iG),Wn.registerSymbol("horizontalHandle",aG);var eut=function(t,e,n){return t===void 0&&(t="horizontal"),t==="horizontal"?e:n};function oG(t,e,n,r){var i;r===void 0&&(r=4);var a=q(t,2),o=a[0],s=a[1],A=q(e,2),c=A[0],l=A[1],u=q(n,2),f=u[0],d=u[1],h=q([c,l],2),g=h[0],v=h[1],y=v-g;return g>v&&(i=q([v,g],2),g=i[0],v=i[1]),y>s-o?[o,s]:g<o?f===o&&d===v?[o,v]:[o,y+o]:v>s?d===s&&f===g?[g,s]:[s-y,s]:[g,v]}function al(t,e,n){return t===void 0&&(t="horizontal"),t==="horizontal"?e:n}var Ch=_A({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),uT={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},sG=function(t){dr(e,t);function e(n){return t.call(this,n,uT)||this}return e.prototype.render=function(n,r){var i=cn(r).maybeAppendByClassName(Ch.markerGroup,"g");this.renderMarker(i);var a=cn(r).maybeAppendByClassName(Ch.labelGroup,"g");this.renderLabel(a)},e.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.orientation,o=i.classNamePrefix,s=i.markerSymbol,A=s===void 0?al(a,"horizontalHandle","verticalHandle"):s;Ho(!!A,n,function(c){var l=Bn(r.attributes,"marker"),u=Tt({symbol:A},l),f=yi(Ch.marker.name,Fi.handleMarker,o);if(r.marker=c.maybeAppendByClassName(Ch.marker,function(){return new Wn({style:u,className:f})}).update(u),o){var d=r.marker.node().querySelector(".marker");if(d){var h=d.getAttribute("class")||"",g=h.split(" ")[0],v=yi(g,Fi.handleMarker,o);d.setAttribute("class",v)}}})},e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,A=s===void 0?0:s,c=i.formatter,l=i.classNamePrefix;Ho(a,n,function(u){var f,d=Bn(r.attributes,"label"),h=d.text,g=Kr(d,["text"]),v=((f=u.select(Ch.marker.class))===null||f===void 0?void 0:f.node().getBBox())||{},y=v.width,w=y===void 0?0:y,b=v.height,B=b===void 0?0:b,E=q(al(o,[0,B+A,"center","top"],[w+A,0,"start","middle"]),4),S=E[0],F=E[1],k=E[2],T=E[3],L=yi(Ch.label.name,Fi.handleLabel,l);u.maybeAppendByClassName(Ch.label,"text").attr("className",L).styles(Tt(Tt({},g),{x:S,y:F,text:c(h).toString(),textAlign:k,textBaseline:T}))})},e}(Ta),fT={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},AG=gc({},fT,{}),cG=gc({},fT,el(uT,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),lG=.01,nut=.5,na=_A({title:"title",html:"html",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend");function uG(t,e){for(var n=1;n<t.length;n+=1){var r=t[n-1],i=t[n];if(e>=r&&e<=i)return[r,i]}return[e,e]}function fG(t,e,n){var r=Array.from(e),i=t.length;return new Array(i).fill(0).reduce(function(a,o,s){var A=r[s%r.length];return a+=" ".concat(t[s],":").concat(A).concat(s<i-1?" ".concat(t[s+1],":").concat(A):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function dT(t,e){var n=q(uG(t,e),2),r=n[0],i=n[1];return{tick:e>(r+i)/2?i:r,range:[r,i]}}var Oh=_A({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function hT(t){var e=t.orientation,n=t.size,r=t.length;return al(e,[r,n],[n,r])}function pT(t){var e=t.type,n=q(hT(t),2),r=n[0],i=n[1];return e==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function dG(t){return pT(t)}function hG(t){var e=t.orientation,n=t.color,r=t.block,i=t.partition,a;if(hi(n)){var o=20;a=new Array(o).fill(0).map(function(c,l,u){return n(l/(u.length-1))})}else a=n;var s=a.length,A=a.map(function(c){return Yc(c).toString()});return s?s===1?A[0]:r?fG(i,A,e):A.reduce(function(c,l,u){return c+=" ".concat(u/(s-1),":").concat(l)},"l(".concat(al(e,"0","270"),")")):""}function pG(t){var e=t.orientation,n=t.range;if(!n)return[];var r=q(hT(t),2),i=r[0],a=r[1],o=q(n,2),s=o[0],A=o[1],c=al(e,s*i,0),l=al(e,0,s*a),u=al(e,A*i,i),f=al(e,a,A*a);return[["M",c,l],["L",c,f],["L",u,f],["L",u,l],["Z"]]}function gG(t,e){var n=Bn(e,"track"),r=e.classNamePrefix,i=yi(Oh.track.name,Fi.track,r);t.maybeAppendByClassName(Oh.track,"path").attr("className",i).styles(Tt({d:pT(e)},n))}function vG(t,e){var n=Bn(e,"selection"),r=hG(e),i=e.classNamePrefix,a=yi(Oh.selection.name,Fi.selection,i),o=t.maybeAppendByClassName(Oh.selection,"path").attr("className",a).styles(Tt({d:dG(e),fill:r},n)),s=o.maybeAppendByClassName(Oh.clipPath,"path").styles({d:pG(e)}).node();o.style("clipPath",s)}var yG=function(t){dr(e,t);function e(n){return t.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return e.prototype.render=function(n,r){var i=cn(r).maybeAppendByClassName(Oh.trackGroup,"g");gG(i,n);var a=cn(r).maybeAppendByClassName(Oh.selectionGroup,"g");vG(a,n)},e}(Ta);function mG(t){return{min:Math.min.apply(Math,ye([],q(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,ye([],q(t.map(function(e){return e.value})),!1))}}var wG=function(t){dr(e,t);function e(n){var r=t.call(this,n,cG)||this;return r.eventToOffsetScale=new _h({}),r.innerRibbonScale=new _h({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var A=r.getValueByCanvasPoint(i);if(s){var c=dT(o.map(function(f){var d=f.value;return d}),A).range,l=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(l[0],"-").concat(l[1])),r.dispatchIndicated(A,c)}else{var u=r.getTickValue(A);r.showIndicator(u,"".concat(r.getRealValue(u))),r.dispatchIndicated(u)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=q(r.selection,2),s=o[0],A=o[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),l=c-r.prevValue;a==="start"?s!==c&&r.updateSelection(c,A):a==="end"?A!==c&&r.updateSelection(s,c):a==="ribbon"&&l!==0&&(r.prevValue=c,r.updateSelection(l,l,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.width,i=n.height;return new Jr(0,0,r,i)},e.prototype.render=function(n,r){var i=this,a=n.classNamePrefix,o=r.className||"legend-continuous";a?r.attr("className","".concat(o," ").concat(a,"legend")):r.className||r.attr("className","legend-continuous");var s=n.showLabel;this.renderTitle(cn(r));var A=this.availableSpace,c=A.x,l=A.y,u=cn(r).maybeAppendByClassName(na.contentGroup,"g").styles({transform:"translate(".concat(c,", ").concat(l,")")}),f=u.maybeAppendByClassName(na.labelGroup,"g").styles({zIndex:1});Ho(!!s,f,function(h){i.renderLabel(h)});var d=u.maybeAppendByClassName(na.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=u.maybeAppendByClassName(na.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(d),this.renderIndicator(u),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var n=this.attributes,r=n.data,i=n.domain;return i?{min:i[0],max:i[1]}:mG(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,i=n.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var n=q(this.selection,2),r=n[0],i=n[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var n=this.range,r=n.min,i=n.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=q(o,2),A=s[0],c=s[1];return[A,c]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){return al(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},e.prototype.renderTitle=function(n){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,A=r.classNamePrefix,c=Bn(this.attributes,"title"),l=Tt(Tt({},c),{width:o,height:s,text:a,classNamePrefix:A}),u=this;n.selectAll(na.title.class).data(i?[a]:[]).join(function(f){return f.append(function(){return new aT({style:l})}).attr("className",na.title.name).each(function(){u.title=this})},function(f){return f.update(l)},function(f){return f.each(function(){u.title=void 0}).remove()})},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,i=n.height;return new Jr(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,i=n.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new Jr(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((n=this.label.querySelector(an.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new Jr(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,i=n.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,A=o.height,c=this.ifHorizontal(A,s)+a+this.labelFixedSpacing,l=this.ifHorizontal(s,A);return{width:s,height:A,size:c,length:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,i=n.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,A=this.labelShape,c=A.size,l=A.length,u=q(this.ifHorizontal([s,o],[o,s]),2),f=u[0],d=u[1],h=r?this.handleShape:{size:0,length:0},g=h.size,v=h.length,y=this.handleOffsetRatio,w=0,b=this.labelPosition;i?w=i:["bottom","right"].includes(b)?w=Math.min(f-c,(f-g)/y):f*(1-y)>g?w=Math.max(f-c,0):w=Math.max((f-c-g)/y,0);var B=Math.max(v,l),E=d-B,S=q(this.ifHorizontal([E,w],[w,E]),2),F=S[0],k=S[1],T=["top","left"].includes(b)?c:0,L=q(this.ifHorizontal([B/2,T],[T,B/2]),2),P=L[0],R=L[1];return new Jr(P,R,F,k)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,i=n.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(n){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,A=r.block,c=r.classNamePrefix,l=Bn(this.attributes,"ribbon"),u=this.range,f=u.min,d=u.max,h=this.ribbonBBox,g=h.x,v=h.y,y=this.ribbonShape,w=y.length,b=y.size,B=gc({transform:"translate(".concat(g,", ").concat(v,")"),length:w,size:b,type:a,orientation:o,color:s,block:A,partition:i.map(function(S){return(S.value-f)/(d-f)}),range:this.ribbonRange,classNamePrefix:c},l),E=yi(na.ribbon.name,Fi.ribbon,c);this.ribbon=n.maybeAppendByClassName(na.ribbon,function(){return new yG({style:B,className:E})}).update(B)},e.prototype.getHandleClassName=function(n){return"".concat(na.prefix("".concat(n,"-handle")))},e.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,i=n.orientation,a=n.classNamePrefix,o=Bn(this.attributes,"handle"),s=q(this.selection,2),A=s[0],c=s[1],l=Tt(Tt({},o),{orientation:i,classNamePrefix:a}),u=o.shape,f=u===void 0?"slider":u,d=f==="basic"?sG:iT,h=this,g=yi(na.handle.name,Fi.handle,a);this.handlesGroup.selectAll(na.handle.class).data(r?[{value:A,type:"start"},{value:c,type:"end"}]:[],function(v){return v.type}).join(function(v){return v.append(function(){return new d({style:l,className:g})}).attr("className",function(y){var w=y.type;return"".concat(g," ").concat(h.getHandleClassName(w))}).each(function(y){var w=y.type,b=y.value;this.update({labelText:b});var B="".concat(w,"Handle");h[B]=this,this.addEventListener("pointerdown",h.onDragStart(w))})},function(v){return v.update(l).each(function(y){var w=y.value;this.update({labelText:w})})},function(v){return v.each(function(y){var w=y.type,b="".concat(w,"Handle");h[b]=void 0}).remove()})},e.prototype.adjustHandles=function(){var n=q(this.selection,2),r=n[0],i=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i);var a=this.attributes,o=a.classNamePrefix,s=a.showHandle,A=Bn(this.attributes,"handle").shape,c=A===void 0?"slider":A;s&&c==="slider"&&o&&(this.startHandle&&this.updateSliderHandleClassNames(this.startHandle,o),this.endHandle&&this.updateSliderHandleClassNames(this.endHandle,o))},e.prototype.updateSliderHandleClassNames=function(n,r){var i=n.container||n,a=i.querySelector(".handle-icon-rect");if(a){var o=yi("handle-icon-rect",Fi.handleMarker,r);a.setAttribute("class",o);var s=a.querySelectorAll("line");s.forEach(function(l){var u=l.getAttribute("class")||"",f=u.split(" ")[0],d=yi(f,Fi.handleMarker,r);l.setAttribute("class",d)})}var A=i.querySelector(".handle-label");if(A){var c=yi("handle-label",Fi.handleLabel,r);A.setAttribute("class",c)}},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Jr(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,i=n.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,A=q([Math.max(r,o),Math.max(i,s)],2),c=A[0],l=A[1];return this.cacheHandleBBox=new Jr(0,0,c,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,i=n.height,a=q(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(n,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,A=this.ribbonShape.size,c=this.getOffset(r),l=q(this.ifHorizontal([o+c,s+A*this.handleOffsetRatio],[o+A*this.handleOffsetRatio,s+c]),2),u=l[0],f=l[1],d=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();d==null||d.update({transform:"translate(".concat(u,", ").concat(f,")"),formatter:i})},e.prototype.renderIndicator=function(n){var r=this.attributes.classNamePrefix,i=Bn(this.attributes,"indicator"),a=yi(na.indicator.name,Fi.indicator,r);this.indicator=n.maybeAppendByClassName(na.indicator,function(){return new F7({style:i,className:a})}).update(i)},Object.defineProperty(e.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var A,c,l=(A=a==null?void 0:a.id)!==null&&A!==void 0?A:o.toString();if(i.push(Tt(Tt({},a),{id:l,index:o,type:"value",label:(c=a==null?void 0:a.label)!==null&&c!==void 0?c:a.value.toString(),value:n.ribbonScale.map(a.value)})),o<s.length-1){var u=s[o+1],f=q([a.value,u.value],2),d=f[0],h=f[1],g=(d+h)/2;i.push(Tt(Tt({},a),{id:l,index:o,type:"range",range:[d,h],label:[d,h].join("~"),value:n.ribbonScale.map(g)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var n=q(["center","middle"],2),r=n[0],i=n[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(n){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,A=Bn(this.attributes,"tick"),c=Bn(this.attributes,"label"),l=c.align,u=gc(Tt({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),el(A,"tick"),el(c,"label"),{data:this.labelData}),f={tickFilter:function(h,g,v){return(h==null?void 0:h.type)!=="value"?!1:o?o(h,h.index,v.filter(function(y){return y.type!=="value"})):!0},labelFilter:function(h,g,v){return(h==null?void 0:h.type)!==l?!1:o?o(h,h.index,v.filter(function(y){return y.type===l})):!0},labelFormatter:s},d=Tt(Tt(Tt({},u),f),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(na.label,function(){return new M_({style:d})}).node(),this.label.update(d,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,i=n.labelDirection,a=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,A=this.labelPosition,c=this.labelFixedSpacing,l=q([0,0,0],3),u=l[0],f=l[1],d=l[2],h=o!=null?o:s;return r?(d=h,f=c,i==="positive"?A==="right"?(u=h,d=h):A==="bottom"&&(u=d):i==="negative"&&(A==="top"||A==="left")&&(u=s)):i==="positive"?A==="right"?f=h:A==="bottom"&&(u=s+c,f=a):i==="negative"&&(A==="left"||A==="top")&&(f=a),{offset:u,spacing:f,tickLength:d}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,A=this.labelAxisStyle,c=A.offset,l=A.spacing,u=A.tickLength,f=q(this.ifHorizontal([[i,a+c],[i+o,a+c]],[[i+c,a+s],[i+c,a]]),2),d=f[0],h=f[1];this.label.update({startPos:d,endPos:h,tickLength:u,labelSpacing:l},!1)}},e.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var i=this.attributes.showIndicator;if(!i||typeof n!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,A=this.ribbonBBox,c=A.x,l=A.y,u=Gr(n,o,s),f=this.getOffset(u),d=this.ifHorizontal([f+c,l],[c,f+l]);this.indicator.update({x:d[0],y:d[1],position:this.ifHorizontal("top","left"),labelText:r}),Iv(this.indicator.node())},e.prototype.hideIndicator=function(){Of(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(n,r){this.updateSelection(n,r)},e.prototype.updateSelection=function(n,r,i){var a;i===void 0&&(i=!1);var o=q(this.selection,2),s=o[0],A=o[1],c=q([n,r],2),l=c[0],u=c[1];i&&(l+=s,u+=A);var f=this.range,d=f.min,h=f.max;a=q(oG([d,h],[l,u],this.selection),2),l=a[0],u=a[1],this.update({defaultValue:[l,u]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,i=this.range,a=i.min,o=i.max;return _n(r)?jw((o-a)*lG,0):r},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(n){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?dT(i.map(function(s){var A=s.value;return A}),n).tick:nG(n,this.step,o)},e.prototype.getValueByCanvasPoint=function(n){var r=this.range,i=r.min,a=r.max,o=q(this.ribbon.node().getPosition(),2),s=o[0],A=o[1],c=this.ifHorizontal(s,A),l=this.ifHorizontal.apply(this,ye([],q(Jk(n)),!1)),u=l-c,f=Gr(this.getOffset(u,!0),i,a);return f},e.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,A=this.eventToOffsetScale;return A.update({domain:[a,o],range:[0,s]}),r?A.invert(n):A.map(n)},e.prototype.getRealSelection=function(n){var r=this.range.max,i=q(n,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},e.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},e.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new or("valuechange",{detail:{value:n}});this.dispatchEvent(r)},e.prototype.dispatchIndicated=function(n,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:a-n,range:r?i.getRealSelection(r):void 0}}),s=new or("indicate",{detail:o});this.dispatchEvent(s)},e}(Ta);class bg extends Ev{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!Qw(e))return this.options.unknown;const n=F_(this.thresholds,e,0,this.n);return this.options.range[n]}invert(e){const{range:n}=this.options,r=n.indexOf(e),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new bg(this.options)}rescale(){const{domain:e,range:n}=this.options;this.n=Math.min(e.length,n.length-1),this.thresholds=e}}function Dv(t){return be(t)?0:mh(t)?t.length:Object.keys(t).length}var bG=function(t,e){if(!mh(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},gT=bG;function Hv(t){return Math.abs(t)<1e-14?t:parseFloat(t.toFixed(14))}const BG=[1,5,2,2.5,4,3],rut=null,vT=Number.EPSILON*100;function xG(t,e){return(t%e+e)%e}function _G(t){return Math.round(t*1e12)/1e12}function CG(t,e,n,r,i,a){const o=Dv(e),s=gT(e,t);let A=0;const c=xG(r,a);return(c<vT||a-c<vT)&&r<=0&&i>=0&&(A=1),1-s/(o-1)-n+A}function OG(t,e,n){const r=Dv(e);return 1-gT(e,t)/(r-1)-n+1}function EG(t,e,n,r,i,a){const o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function SG(t,e){return t>=e?2-(t-1)/(e-1):1}function MG(t,e,n,r){const i=e-t;return 1-.5*(Ai(e-r,2)+Ai(t-n,2))/Ai(.1*i,2)}function FG(t,e,n){const r=e-t;if(n>r){const i=(n-r)/2;return 1-Ai(i,2)/Ai(.1*r,2)}return 1}function kG(){return 1}const j_=(t,e,n=5,r=!0,i=BG,a=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!o)return[];if(e-t<1e-15||o===1)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let A=1;for(;A<1/0;){for(let h=0;h<i.length;h+=1){const g=i[h],v=OG(g,i,A);if(a[0]*v+a[1]+a[2]+a[3]<s.score){A=1/0;break}let y=2;for(;y<1/0;){const w=SG(y,o);if(a[0]*v+a[1]+a[2]*w+a[3]<s.score)break;const b=(e-t)/(y+1)/A/g;let B=Math.ceil(Math.log10(b));for(;B<1/0;){const E=A*g*Ai(10,B),S=FG(t,e,E*(y-1));if(a[0]*v+a[1]*S+a[2]*w+a[3]<s.score)break;const F=Math.floor(e/E)*A-(y-1)*A,k=Math.ceil(t/E)*A;if(F<=k){const T=k-F;for(let L=0;L<=T;L+=1){const R=(F+L)*(E/A),U=R+E*(y-1),N=E,j=CG(g,i,A,R,U,N),z=MG(t,e,R,U),W=EG(y,o,t,e,R,U),D=kG(),G=a[0]*j+a[1]*z+a[2]*W+a[3]*D;G>s.score&&(!r||R<=t&&U>=e)&&(s.lmin=R,s.lmax=U,s.lstep=N,s.score=G)}}B+=1}y+=1}}A+=1}const c=Hv(s.lmax),l=Hv(s.lmin),u=Hv(s.lstep),f=Math.floor(_G((c-l)/u))+1,d=new Array(f);d[0]=Hv(l);for(let h=1;h<f;h+=1)d[h]=Hv(d[h-1]+u);return d};class Gw extends bg{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:j_}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[n,r,i]=this.getTickMethodOptions();this.options.domain=T_(n,r,i)}}getTicks(){const{tickMethod:e}=this.options,[n,r,i]=this.getTickMethodOptions();return e(n,r,i)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}rescale(){this.nice();const{range:e,domain:n}=this.options,[r,i]=n;this.n=e.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(e){const[n,r]=super.invert(e),[i,a]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||i,r||a]}getThresholds(){return this.thresholds}clone(){return new Gw(this.options)}}function TG(t,e){const n=t.length;if(!n)return;if(n<2)return t[n-1];const r=(n-1)*e,i=Math.floor(r),a=t[i],o=t[i+1];return a+(o-a)*(r-i)}function IG(t,e,n=!1){const r=t;n||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<e;a+=1)i.push(TG(r,a/e));return i}class Kw extends bg{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:j_}}constructor(e){super(e)}rescale(){const{domain:e,range:n}=this.options;this.n=n.length-1,this.thresholds=IG(e,this.n+1,!1)}invert(e){const[n,r]=super.invert(e),{domain:i}=this.options,a=i[0],o=i[i.length-1];return n===void 0&&r===void 0?[n,r]:[n||a,r||o]}getThresholds(){return this.thresholds}clone(){return new Kw(this.options)}getTicks(){const{tickCount:e,domain:n,tickMethod:r}=this.options,i=n.length-1,a=n[0],o=n[i];return r(a,o,e)}}var LG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function QG(t,e,n){return t.size=e,J9(n)?t.height=e:t.width=e,t}function UG(t,e,n){const{size:r}=e,i=Hk(t,e,n);return QG(i,r,i.orientation)}function PG(t){return e=>({value:e/t,label:String(e),domainValue:e})}function RG(t,e,n,r,i){const a=e.thresholds,o=PG(r);return Object.assign(Object.assign({},t),{color:i,data:[n,...a,r].map(o)})}function NG(t,e,n){const i=[-1/0,...e.thresholds,1/0].map((a,o)=>({value:o,domainValue:a,label:a}));return Object.assign(Object.assign({},t),{data:i,color:n,labelFilter:(a,o)=>o>0&&o<i.length-1})}function G_(t){const{domain:e}=t.getOptions(),[n,r]=[e[0],jF(e)];return[n,r]}function DG(t,e){const n=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},n),{range:[Yc(e).toString()]})),r}function HG(t,e,n,r,i,a){const{length:o}=t,s=n||r,A=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=e||DG(s,A),[l,u]=G_(c),[f,d]=G_([e,n,r].filter(h=>h!==void 0).find(h=>!(h instanceof Sv)));return Object.assign(Object.assign({},t),{domain:[f,d],data:c.getTicks().map(h=>({value:h})),color:new Array(Math.floor(o)).fill(0).map((h,g)=>{const v=(u-l)/(o-1)*g+l,y=c.map(v)||A,w=r?r.map(v):1;return y.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(b,B,E,S)=>`rgba(${B}, ${E}, ${S}, ${w})`)})})}function jG(t,e,n,r,i,a){const o=rl(t,"color"),s=UG(n,r,i);if(o instanceof bg){const{range:l}=o.getOptions(),[u,f]=G_(o);return o instanceof Gw||o instanceof Kw?RG(s,o,u,f,l):NG(s,o,l)}const A=rl(t,"size"),c=rl(t,"opacity");return HG(s,o,A,c,e,a)}const Sf=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,style:A,crossPadding:c,padding:l}=t,u=LG(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:f,value:d,theme:h,scale:g})=>{const{bbox:v}=d,{x:y,y:w,width:b,height:B}=v,E=Nk(a,n),{legendContinuous:S={}}=h,F=Rw(Object.assign({},S,Object.assign(Object.assign(Object.assign({titleText:Pw(s),labelAlign:"value",labelFormatter:typeof e=="string"?T=>fu(e)(T.label):e},jG(f,g,d,t,Sf,h)),A),{classNamePrefix:du}),u)),k=new Dk({style:Object.assign(Object.assign({x:y,y:w,width:b,height:B},E),{subOptions:F})});return k.appendChild(new wG({className:"legend-continuous",style:F})),k}};Sf.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const yT=t=>(...e)=>Sf(Object.assign({},{block:!0},t))(...e);yT.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const K_=t=>e=>{const{scales:n}=e,r=rl(n,"size");return Sf(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},t))(e)};K_.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const mT=t=>K_(Object.assign({},{block:!0},t));mT.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var GG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wT=({static:t=!1}={})=>e=>{const{width:n,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:A,padding:c,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,margin:g,marginLeft:v,marginBottom:y,marginTop:w,marginRight:b,data:B,coordinate:E,theme:S,component:F,interaction:k,x:T,y:L,z:P,key:R,frame:U,labelTransform:N,parentKey:j,clip:z,viewStyle:W,title:D}=e,G=GG(e,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:T,y:L,z:P,key:R,width:n,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:o,paddingTop:s,inset:l,insetLeft:u,insetTop:f,insetRight:d,insetBottom:h,paddingBottom:A,theme:S,coordinate:E,component:F,interaction:k,frame:U,labelTransform:N,margin:g,marginLeft:v,marginBottom:y,marginTop:w,marginRight:b,parentKey:j,clip:z,style:W},!t&&{title:D}),{marks:[Object.assign(Object.assign(Object.assign({},G),{key:`${R}-0`,data:B}),t&&{title:D})]})]};wT.props={};var KG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function jv(t){return(e,...n)=>Mt({},t(e,...n),e)}function Eh(t){return(e,...n)=>Mt({},e,t(e,...n))}function zG(t){return t instanceof Date?!1:typeof t=="object"}function zw(t,e){if(!t)return e;if(Array.isArray(t))return t;if(zG(t)){const{value:n=e}=t,r=KG(t,["value"]);return Object.assign(Object.assign({},r),{value:n})}return t}var z_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bT=()=>t=>{const{children:e}=t,n=z_(t,["children"]);if(!Array.isArray(e))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:A=[],slider:c={}}=n,l=z_(n,["data","scale","axis","legend","encode","transform","slider"]),u=e.map(f=>{var{data:d,scale:h={},axis:g={},legend:v={},encode:y={},transform:w=[],slider:b={}}=f,B=z_(f,["data","scale","axis","legend","encode","transform","slider"]);return Object.assign({data:zw(d,r),scale:Mt({},i,h),encode:Mt({},s,y),transform:[...A,...w],axis:g&&a?Mt({},a,g):!1,legend:v&&o?Mt({},o,v):!1,slider:Mt({},c,b)},B)});return[Object.assign(Object.assign({},l),{marks:u,type:"standardView",slider:c})]};bT.props={};function ki([t,e],[n,r]){return[t-n,e-r]}function Ww([t,e],[n,r]){return[t+n,e+r]}function mi([t,e],[n,r]){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}function OA([t,e]){return Math.atan2(e,t)}function Bg([t,e]){return OA([t,e])+Math.PI/2}function BT(t,e){const n=OA(t),r=OA(e);return n<r?r-n:Math.PI*2-(n-r)}function W_(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,A]of t)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(A,r),i=Math.max(A,i);const a=n-e,o=i-r;return[e,r,a,o]}function xT([t,e],[n,r]){return[(t+n)/2,(e+r)/2]}function Me(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function WG(t,e){return e.forEach((n,r)=>r===0?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])),t.closePath(),t}function VG(t,e,n){const{arrowSize:r}=n,i=typeof r=="string"?+parseFloat(r)/100*mi(t,e):r,a=Math.PI/6,o=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-o-a,A=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],c=o-a,l=[e[0]-i*Math.cos(c),e[1]-i*Math.sin(c)];return[A,l]}function Gv(t,e,n,r,i){const a=OA(ki(r,e))+Math.PI,o=OA(ki(r,n))+Math.PI;return t.arc(r[0],r[1],i,a,o,o-a<0),t}function _T(t,e,n,r="y",i="between",a=!1){const o=(v,y)=>v==="y"||v===!0?y?180:90:y?90:0,s=r==="y"||r===!0?n:e,A=o(r,a),c=yh(s),[l,u]=gu(c,v=>s[v]),f=new vc({domain:[l,u],range:[0,100]}),d=v=>rr(s[v])&&!Number.isNaN(s[v])?f.map(s[v]):0,h={between:v=>`${t[v]} ${d(v)}%`,start:v=>v===0?`${t[v]} ${d(v)}%`:`${t[v-1]} ${d(v)}%, ${t[v]} ${d(v)}%`,end:v=>v===t.length-1?`${t[v]} ${d(v)}%`:`${t[v]} ${d(v)}%, ${t[v+1]} ${d(v)}%`},g=c.sort((v,y)=>d(v)-d(y)).map(h[i]||h.between).join(",");return`linear-gradient(${A}deg, ${g})`}function Vw(t){const[e,n,r,i]=t;return[i,e,n,r]}function Sh(t,e,n){const[r,i,,a]=Hr(t)?Vw(e):e,[o,s]=n,A=t.getCenter(),c=Bg(ki(r,A)),l=Bg(ki(i,A)),u=l===c&&o!==s?l+Math.PI*2:l,f=1e-4;return{startAngle:c+f,endAngle:(u-c>=0?u:Math.PI*2+u)-f,innerRadius:mi(a,A),outerRadius:mi(r,A)}}function iut(t){const e="connect";return Object.fromEntries(Object.entries(t).filter(([n])=>n.startsWith(e)).map(([n,r])=>[lowerFirst(n.replace(e,"").trim()),r]).filter(([n])=>n!==void 0))}function V_(t){const{colorAttribute:e,opacityAttribute:n=e}=t;return`${n}Opacity`}function CT(t,e){if(!Ar(t))return"";const n=t.getCenter(),{transform:r}=e;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function Z_(t){if(t.length===1)return t[0];const[[e,n,r=0],[i,a,o=0]]=t;return[(e+i)/2,(n+a)/2,(r+o)/2]}function Y_(t){return t.replace(/-(\w)/g,function(e,n){return n.toUpperCase()})}function ZG(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var aut=Array.prototype.slice;function OT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ti(t){return function(){return t}}function ET(t){this._context=t}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kv(t){return new ET(t)}const $_=Math.PI,X_=2*$_,Mh=1e-6,YG=X_-Mh;function ST(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $G(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ST;const n=Ai(10,e);return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zw{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ST:$G(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,A=r-e,c=i-n,l=o-e,u=s-n,f=l*l+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Mh)if(!(Math.abs(u*A-c*l)>Mh)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,h=i-s,g=A*A+c*c,v=d*d+h*h,y=Math.sqrt(g),w=Math.sqrt(f),b=a*Math.tan(($_-Math.acos((g+f-v)/(2*y*w)))/2),B=b/w,E=b/y;Math.abs(B-1)>Mh&&this._append`L${e+B*l},${n+B*u}`,this._append`A${a},${a},0,0,${+(u*d>l*h)},${this._x1=e+E*A},${this._y1=n+E*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),A=r*Math.sin(i),c=e+s,l=n+A,u=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Mh||Math.abs(this._y1-l)>Mh)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%X_+X_),f>YG?this._append`A${r},${r},0,1,${u},${e-s},${n-A}A${r},${r},0,1,${u},${this._x1=c},${this._y1=l}`:f>Mh&&this._append`A${r},${r},0,${+(f>=$_)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function EA(){return new Zw}EA.prototype=Zw.prototype;function out(t=3){return new Zw(+t)}function q_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zw(e)}function MT(t){return t[0]}function FT(t){return t[1]}function Fh(t,e){var n=ti(!0),r=null,i=Kv,a=null,o=q_(s);t=typeof t=="function"?t:t===void 0?MT:ti(t),e=typeof e=="function"?e:e===void 0?FT:ti(e);function s(A){var c,l=(A=OT(A)).length,u,f=!1,d;for(r==null&&(a=i(d=o())),c=0;c<=l;++c)!(c<l&&n(u=A[c],c,A))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(u,c,A),+e(u,c,A));if(d)return a=null,d+""||null}return s.x=function(A){return arguments.length?(t=typeof A=="function"?A:ti(+A),s):t},s.y=function(A){return arguments.length?(e=typeof A=="function"?A:ti(+A),s):e},s.defined=function(A){return arguments.length?(n=typeof A=="function"?A:ti(!!A),s):n},s.curve=function(A){return arguments.length?(i=A,r!=null&&(a=i(r)),s):i},s.context=function(A){return arguments.length?(A==null?r=a=null:a=i(r=A),s):r},s}function xg(t){const e=typeof t=="function"?t:t.render;return class extends uh{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}var J_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function XG(t){const{min:[e,n],max:[r,i]}=t.getLocalBounds();let a=0,o=0;return e>0&&(a=e),r<0&&(a=r),n>0&&(o=n),i<0&&(o=i),[a,o]}function qG(t,e=[]){const[n=0,r=0,i=n,a=r]=e,o=t.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:A,halfExtents:c}=t.getLocalBounds(),[l,u]=A,[f,d]=c;return o.setEulerAngles(s),{x:l-a,y:u-n,width:f*2+a+r,height:d*2+n+i}}const sut=(t,e,n)=>{const r=dist(t,e),i=dist(e,n),a=dist(n,t);return(Math.pow(r,2)+Math.pow(i,2)-Math.pow(a,2))/(2*r*i)};function JG(t,e,n,r,i=!0,a=!0){const o=u=>Fh()(u);if(!e[0]&&!e[1])return o([XG(t),e]);if(!n.length)return o([[0,0],e]);const[s,A]=n,c=[...A],l=[...s];if(A[0]!==s[0]){const u=i?-4:4;c[1]=A[1],a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&!i&&(c[0]=Math.max(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.max(l[0],c[0]-u))),!a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]>s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u))),a&&i&&(c[0]=Math.min(s[0],A[0]-u),A[1]<s[1]?l[1]=c[1]:(l[1]=s[1],l[0]=Math.min(l[0],c[0]-u)))}return o([A,c,l,s,e])}const kT=xg(t=>{const e=t.attributes,{className:n,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:A,y:c,x0:l=A,y0:u=c,text:f,background:d,connector:h,startMarker:g,endMarker:v,coordCenter:y,innerHTML:w}=e,b=J_(e,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(t.style.transform=`translate(${A}, ${c})`,[A,c,l,u].some(D=>!rr(D))){t.children.forEach(D=>D.remove());return}const B=qt(b,"background"),{padding:E}=B,S=J_(B,["padding"]),F=qt(b,"connector"),{points:k=[]}=F,T=J_(F,["points"]);let L;w?L=Ze(t).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",w).call(Me,Object.assign({transform:o,transformOrigin:s},b)).node():L=Ze(t).maybeAppend("text","text").style("zIndex",0).style("text",f).call(Me,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},b)).node();const P=Ze(t).maybeAppend("background","rect").style("zIndex",-1).call(Me,qG(L,E)).call(Me,d?S:{}).node(),R=+l<y[0],U=+u<y[1],N=[+l-+A,+u-+c],j=JG(P,N,k,y,R,U),z=g&&new Wn({id:"startMarker",style:Object.assign({x:0,y:0},qt(b,"startMarker"))}),W=v&&new Wn({id:"endMarker",style:Object.assign({x:0,y:0},qt(b,"endMarker"))});Ze(t).maybeAppend("connector","path").style("zIndex",0).style("d",j).style("markerStart",z).style("markerEnd",W).call(Me,h?T:{})});function _g(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function tK(t,e,n,r){const i=e.length/2,a=e.slice(0,i),o=e.slice(i);let s=_g(a,(d,h)=>Math.abs(d[1]-o[h][1]));s=Math.max(Math.min(s,i-2),1);const A=d=>[a[d][0],(a[d][1]+o[d][1])/2],c=A(s),l=A(s-1),u=A(s+1),f=OA(ki(u,l))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${f})`,textAlign:"center",textBaseline:"middle"}}function TT(t,e,n,r){const{bounds:i}=n,[[a,o],[s,A]]=i,c=s-a,l=A-o,u=f=>{const{x:d,y:h}=f,g=MF(n.x,c),v=MF(n.y,l);return Object.assign(Object.assign({},f),{x:(g||d)+a,y:(v||h)+o})};return u(t==="left"?{x:0,y:l/2,textAlign:"start",textBaseline:"middle"}:t==="right"?{x:c,y:l/2,textAlign:"end",textBaseline:"middle"}:t==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:t==="bottom"?{x:c/2,y:l,textAlign:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:t==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:l,textAlign:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:c,y:l,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:l/2,textAlign:"center",textBaseline:"middle"})}function IT(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=n,A=r.getCenter(),c=Sh(r,e,[i,a]),{innerRadius:l,outerRadius:u,startAngle:f,endAngle:d}=c,h=t==="inside"?(f+d)/2:d,g=tC(h,o,s),v=(()=>{const[y,w]=e,b=l+(u-l)*.5,[B,E]=t==="inside"?zv(A,h,b):xT(y,w);return{x:B,y:E}})();return Object.assign(Object.assign({},v),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:g})}function zv(t,e,n){return[t[0]+Math.sin(e)*n,t[1]-Math.cos(e)*n]}function tC(t,e,n){if(!e)return 0;const r=n?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function eK(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:A=.5,offset:c=0}=n,l=Sh(r,e,[i,a]),{startAngle:u,endAngle:f}=l,d=r.getCenter(),h=(u+f)/2,v={textAlign:"center",textBaseline:"middle",rotate:tC(h,o,s)},{innerRadius:y,outerRadius:w}=l,B=y+(w-y)*A+c,[E,S]=zv(d,h,B);return Object.assign({x:E,y:S},v)}function LT(t){return t===void 0?null:t}function QT(t,e,n,r){const{bounds:i}=n,[a]=i;return{x:LT(a[0]),y:LT(a[1])}}function vu(t,e,n,r){const{bounds:i}=n;return i.length===1?QT(t,e,n,r):(kv(r)?IT:hg(r)?eK:TT)(t,e,n,r)}function nK(t,e,n,r,i){const[a,o]=zv(t,e,n),[s,A]=zv(t,e,r),c=Math.sin(e)>0?1:-1;return[[a,o],[s,A],[s+c*i,A]]}function UT(t,e,n){const r=Sh(n,t,[e.y,e.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function PT(t,e,n){const r=Sh(n,t,[e.y,e.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function eC(t,e,n,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:A=o,connectorLength2:c=0,connectorDistance:l=0}=n,u=r.getCenter(),f=PT(e,n,r),d=Math.sin(f)>0?1:-1,h=tC(f,i,a),g={textAlign:d>0||kv(r)?"start":"end",textBaseline:"middle",rotate:h},v=UT(e,n,r),y=v+(s?A:o),[[w,b],[B,E],[S,F]]=nK(u,f,v,y,s?c:0),k=s?+l*d:0,T=S+k,L=F,P={connector:s,connectorPoints:[[B-T,E-L],[S-T,F-L]]};return Object.assign(Object.assign({x0:w,y0:b,x:S+k,y:F},g),P)}function rK(t,e,n,r){const{bounds:i}=n;return i.length===1?QT(t,e,n,r):(kv(r)?IT:hg(r)?eC:TT)(t,e,n,r)}function Ti(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iK(t,e){return Array.from(e,n=>t[n])}function yc(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=Wv(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>Wv(n[i],n[a]))),iK(t,r)}return t.sort(RT(n))}function RT(t=Ti){if(t===Ti)return Wv;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Wv(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function NT(t,e={}){const{labelHeight:n=14,height:r}=e,i=yc(t,c=>c.y),a=i.length,o=new Array(a);for(let c=0;c<a;c++){const l=i[c],{y:u}=l;o[c]={y:u,y1:u+n,labels:[u]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const l=o[c],u=o[c-1];if(u.y1>l.y){s=!0,u.labels.push(...l.labels),o.splice(c,1),u.y1+=l.y1-l.y;const f=u.y1-u.y;u.y1=Math.max(Math.min(u.y1,r),f),u.y=u.y1-f}}}let A=0;for(const c of o){const{y:l,labels:u}=c;let f=l-n;for(const d of u){const h=i[A++],v=f+n-d;h.connectorPoints[0][1]-=v,h.y=f+n,f+=n}}}function DT(t,e){const n=yc(t,s=>s.y),{height:r,labelHeight:i=14}=e,a=Math.ceil(r/i);if(n.length<=a)return NT(n,e);const o=[];for(let s=0;s<n.length;s++)s<n.length-a?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);NT(o,e)}var aK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Yw=new WeakMap;function oK(t,e,n){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=e,o=aK(eC("outside",t,e,n),[]),s=n.getCenter(),A=UT(t,e,n),c=PT(t,e,n),l=A+r+i,u=Math.sin(c)>0?1:-1,f=s[0]+(l+ +a)*u,{x:d}=o,h=f-d;return o.x+=h,o.connectorPoints[0][0]-=h,o}function sK(t,e,n,r,i,a){if(!hg(r))return{};if(Yw.has(e))return Yw.get(e);const o=a.map(f=>oK(f,n,r)),{width:s,height:A}=r.getOptions(),c=o.filter(f=>f.x<s/2),l=o.filter(f=>f.x>=s/2),u=Object.assign(Object.assign({},i),{height:A});return DT(c,u),DT(l,u),o.forEach((f,d)=>Yw.set(a[d],f)),Yw.get(e)}var AK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cK(t,e,n,r){if(!hg(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=n,s=AK(eC("outside",e,n,r),[]),{x0:A,y0:c}=s,l=r.getCenter(),f=rj(r)+i,d=Bg([A-l[0],c-l[1]]),h=Math.sin(d)>0?1:-1,[g,v]=zv(l,d,f);return s.x=g+(a+o)*h,s.y=v,s}var HT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lK(t,e){return t!==void 0?t:hg(e)?"inside":Hr(e)?"right":"top"}function uK(t,e,n,r,i,a){const{position:o}=e,{render:s}=i,A=lK(o,n),l=r[s?"htmlLabel":A==="inside"?"innerLabel":"label"],u=Object.assign({},l,e),f=J[Y_(A)];if(!f)throw new Error(`Unknown position: ${A}`);return Object.assign(Object.assign({},l),f(A,t,u,n,i,a))}const jT=(t,e)=>{const{coordinate:n,theme:r}=e,{render:i}=t;return(a,o,s,A)=>{const{text:c,x:l,y:u,transform:f="",transformOrigin:d,className:h=""}=o,g=HT(o,["text","x","y","transform","transformOrigin","className"]),v=uK(a,o,n,r,t,A),{rotate:y=0,transform:w=""}=v,b=HT(v,["rotate","transform"]);return Ze(new kT).call(Me,b).style("text",`${c}`).style("className",`${h} g2-label`).style("innerHTML",i?i(c,o.datum,o.index):void 0).style("labelTransform",`${w} rotate(${+y}) ${f}`.trim()).style("labelTransformOrigin",d).style("coordCenter",n.getCenter()).call(Me,g).node()}};jT.props={defaultMarker:"point"};var $w=function(t,e,n){var r=t,i=fr(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(Vl(r[a])||(r[a]=rr(i[o+1])?[]:{}),r=r[a]):r[a]=n}),t},Xw=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},fK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dK=.03,hK={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},kh=0,pK=(t,e,n,r,i,a)=>{const o=[],s=[],A=r-1;for(let c=1;c<A;c++){const l=c/A*e,u=t+(c%2===0?n:-n);o.push(`${l},${u}`),s.push(`${l},${i?u-a:u+a}`)}return o.push(`${e},${t}`),s.push(`${e+a},${t}`),[o,s]},GT=(t,e)=>{const{context:n,selection:r,view:i}=e,a=r.select(`.${wa}`).node(),{document:o}=n.canvas,{scale:s}=i,A=new Map,c=(u,f,d)=>Xw(void 0,void 0,void 0,function*(){const{update:h,setState:g}=n.externals;g("options",v=>{const{marks:y}=v;if(!y||!y.length)return v;const w=y.map(b=>{const B=nn(b,"scale.y.breaks",[]),E=B.filter(S=>S.start!==f&&S.end!==d&&!S.collapsed);return B.forEach(S=>{S.start===f&&S.end===d&&(S.collapsed=!0)}),console.log("breaks group:",B,E),Mt({},b,{scale:{y:{breaks:E}}})});return A.set(u,{start:f,end:d}),Object.assign(Object.assign({},v),{marks:w})}),yield h()}),l=()=>Xw(void 0,void 0,void 0,function*(){if(!A.size)return;const{update:u,setState:f}=n.externals;f("options",d=>{const{marks:h}=d,g=h.map(v=>{const y=nn(v,"scale.y.breaks",[]);return $w(v,"scale.y.breaks",y.map(w=>Object.assign(Object.assign({},w),{collapsed:!1}))),v});return A.clear(),Object.assign(Object.assign({},d),{marks:g})}),yield u()});return u=>{const{key:f,start:d,end:h,gap:g=dK,vertices:v=50,lineWidth:y=.5,verticeOffset:w=3}=u,b=fK(u,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),B=o.createElement("g",{id:`break-group-${f}`,className:oa}),E=nn(s,"x.sortedDomain",[]),S=s.y.getOptions(),{range:F,domain:k}=S,T=k.indexOf(d),L=k.indexOf(h),{width:P,height:R}=a.getBBox();if(T===-1||L===-1||!E.length)return B;const U=F[0]>F[1],N=F[T]*R,j=F[L]*R;let z="",W="";for(const[G,{y:Y,isLower:at}]of[{y:j,isLower:!1},{y:N,isLower:!0}].entries()){const it=U?y:-y,[At,ht]=pK(Y,P-kh,w,v,at,it);G===0?(z=`M ${kh},${Y} L ${At.join(" L ")} `,W=`M ${kh-y},${Y+it} L ${ht.join(" L ")} `):(z+=`L ${P-kh},${Y} L ${[...At].reverse().join(" L ")} L ${kh},${Y} Z`,W+=`L ${P-kh+y+2},${Y-it} L ${[...ht].reverse().join(" L ")} L ${kh-y},${Y-it} Z`)}const D=Object.assign(Object.assign({},hK),b);try{const G=new pa({style:Object.assign(Object.assign({},D),{d:z})}),Y=new pa({style:Object.assign(Object.assign({},D),{d:W,lineWidth:0,cursor:"pointer"})});Y.addEventListener("click",at=>Xw(void 0,void 0,void 0,function*(){at.stopPropagation(),at.detail===2&&(yield c(f,d,h))})),B.appendChild(G),B.appendChild(Y),a.addEventListener("click",at=>Xw(void 0,void 0,void 0,function*(){at.detail===2&&(yield l())})),a.appendChild(B)}catch(G){console.error("Failed to create break path:",G)}return B}};GT.props={};function gK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yu(t){let e,n,r;t.length!==2?(e=Ti,n=(s,A)=>Ti(t(s),A),r=(s,A)=>t(s)-A):(e=t===Ti||t===gK?t:vK,n=t,r=t);function i(s,A,c=0,l=s.length){if(c<l){if(e(A,A)!==0)return l;do{const u=c+l>>>1;n(s[u],A)<0?c=u+1:l=u}while(c<l)}return c}function a(s,A,c=0,l=s.length){if(c<l){if(e(A,A)!==0)return l;do{const u=c+l>>>1;n(s[u],A)<=0?c=u+1:l=u}while(c<l)}return c}function o(s,A,c=0,l=s.length){const u=i(s,A,c,l-1);return u>c&&r(s[u-1],A)>-r(s[u],A)?u-1:u}return{left:i,center:o,right:a}}function vK(){return 0}var yK=function(t,e){if(!mh(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},KT=yK;function nC(t){return t===null?NaN:+t}function*mK(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const zT=yu(Ti),wK=zT.right,bK=zT.left,BK=yu(nC).center;var xK=wK;function _K(t,e,n){return Math.min(n,Math.max(e,t))}function mu(t){return!!t.getBandWidth}function Cg(t,e,n){if(!mu(t))return t.invert(e);const{adjustedRange:r}=t;if(r.includes(e))return t.invert(e);const{domain:i}=t.getOptions(),a=n?-1:0,o=t.getStep(),s=n?r:r.map(l=>l+o),A=bK(s,e),c=_K(A+a,0,i.length-1);return i[c]}function Mf(t,e,n){if(!e)return t.getOptions().domain;if(!mu(t)){const A=yc(e);if(!n)return A;const[c]=A,{range:l}=t.getOptions(),[u,f]=l,d=u>f?-1:1,h=t.invert(t.map(c)+d*n);return[c,h]}const{domain:r}=t.getOptions(),i=e[0],a=r.indexOf(i);if(n){const A=a+Math.round(r.length*n);return r.slice(a,A)}const o=e[e.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function qw(t,e,n,r,i,a){const{x:o,y:s}=i,A=(d,h)=>{const[g,v]=a.invert(d);return[Cg(o,g,h),Cg(s,v,h)]},c=A([t,e],!0),l=A([n,r],!1),u=Mf(o,[c[0],l[0]]),f=Mf(s,[c[1],l[1]]);return[u,f]}function WT(t,e){const[n,r]=t,i=a=>a.getStep?a.getStep():0;return[e.map(n),e.map(r)+i(e)]}const VT=(t,e)=>{var n,r;const[i,a]=t,o=((r=(n=e.getOptions)===null||n===void 0?void 0:n.call(e))===null||r===void 0?void 0:r.domain)||[],s=o.indexOf(i),A=o.indexOf(a);if(s===-1||A===-1)return[e.map(i),e.map(a)];const c=o.length;return c<=1?[0,1]:[s/(c-1),A/(c-1)]};function CK(t,e,n){const{x:r,y:i}=e,[a,o]=t,s=WT(a,r),A=WT(o,i),c=[s[0],A[0]],l=[s[1],A[1]],[u,f]=n.map(c),[d,h]=n.map(l);return[u,f,d,h]}const ZT=Math.abs,Co=Math.atan2,Th=Math.cos,OK=Math.max,rC=Math.min,ol=Math.sin,Og=Math.sqrt,Oo=1e-12,Vv=Math.PI,Jw=Vv/2,EK=2*Vv;function SK(t){return t>1?0:t<-1?Vv:Math.acos(t)}function YT(t){return t>=1?Jw:t<=-1?-Jw:Math.asin(t)}function MK(t){return t.innerRadius}function FK(t){return t.outerRadius}function kK(t){return t.startAngle}function TK(t){return t.endAngle}function IK(t){return t&&t.padAngle}function LK(t,e,n,r,i,a,o,s){var A=n-t,c=r-e,l=o-i,u=s-a,f=u*A-l*c;if(!(f*f<Oo))return f=(l*(e-a)-u*(t-i))/f,[t+f*A,e+f*c]}function tb(t,e,n,r,i,a,o){var s=t-n,A=e-r,c=(o?a:-a)/Og(s*s+A*A),l=c*A,u=-c*s,f=t+l,d=e+u,h=n+l,g=r+u,v=(f+h)/2,y=(d+g)/2,w=h-f,b=g-d,B=w*w+b*b,E=i-a,S=f*g-h*d,F=(b<0?-1:1)*Og(OK(0,E*E*B-S*S)),k=(S*b-w*F)/B,T=(-S*w-b*F)/B,L=(S*b+w*F)/B,P=(-S*w+b*F)/B,R=k-v,U=T-y,N=L-v,j=P-y;return R*R+U*U>N*N+j*j&&(k=L,T=P),{cx:k,cy:T,x01:-l,y01:-u,x11:k*(i/E-1),y11:T*(i/E-1)}}function iC(){var t=MK,e=FK,n=ti(0),r=null,i=kK,a=TK,o=IK,s=null,A=q_(c);function c(){var l,u,f=+t.apply(this,arguments),d=+e.apply(this,arguments),h=i.apply(this,arguments)-Jw,g=a.apply(this,arguments)-Jw,v=ZT(g-h),y=g>h;if(s||(s=l=A()),d<f&&(u=d,d=f,f=u),!(d>Oo))s.moveTo(0,0);else if(v>EK-Oo)s.moveTo(d*Th(h),d*ol(h)),s.arc(0,0,d,h,g,!y),f>Oo&&(s.moveTo(f*Th(g),f*ol(g)),s.arc(0,0,f,g,h,y));else{var w=h,b=g,B=h,E=g,S=v,F=v,k=o.apply(this,arguments)/2,T=k>Oo&&(r?+r.apply(this,arguments):Og(f*f+d*d)),L=rC(ZT(d-f)/2,+n.apply(this,arguments)),P=L,R=L,U,N;if(T>Oo){var j=YT(T/f*ol(k)),z=YT(T/d*ol(k));(S-=j*2)>Oo?(j*=y?1:-1,B+=j,E-=j):(S=0,B=E=(h+g)/2),(F-=z*2)>Oo?(z*=y?1:-1,w+=z,b-=z):(F=0,w=b=(h+g)/2)}var W=d*Th(w),D=d*ol(w),G=f*Th(E),Y=f*ol(E);if(L>Oo){var at=d*Th(b),it=d*ol(b),At=f*Th(B),ht=f*ol(B),ut;if(v<Vv)if(ut=LK(W,D,At,ht,at,it,G,Y)){var Ct=W-ut[0],_t=D-ut[1],mt=at-ut[0],Lt=it-ut[1],Nt=1/ol(SK((Ct*mt+_t*Lt)/(Og(Ct*Ct+_t*_t)*Og(mt*mt+Lt*Lt)))/2),Vt=Og(ut[0]*ut[0]+ut[1]*ut[1]);P=rC(L,(f-Vt)/(Nt-1)),R=rC(L,(d-Vt)/(Nt+1))}else P=R=0}F>Oo?R>Oo?(U=tb(At,ht,W,D,d,R,y),N=tb(at,it,G,Y,d,R,y),s.moveTo(U.cx+U.x01,U.cy+U.y01),R<L?s.arc(U.cx,U.cy,R,Co(U.y01,U.x01),Co(N.y01,N.x01),!y):(s.arc(U.cx,U.cy,R,Co(U.y01,U.x01),Co(U.y11,U.x11),!y),s.arc(0,0,d,Co(U.cy+U.y11,U.cx+U.x11),Co(N.cy+N.y11,N.cx+N.x11),!y),s.arc(N.cx,N.cy,R,Co(N.y11,N.x11),Co(N.y01,N.x01),!y))):(s.moveTo(W,D),s.arc(0,0,d,w,b,!y)):s.moveTo(W,D),!(f>Oo)||!(S>Oo)?s.lineTo(G,Y):P>Oo?(U=tb(G,Y,at,it,f,-P,y),N=tb(W,D,At,ht,f,-P,y),s.lineTo(U.cx+U.x01,U.cy+U.y01),P<L?s.arc(U.cx,U.cy,P,Co(U.y01,U.x01),Co(N.y01,N.x01),!y):(s.arc(U.cx,U.cy,P,Co(U.y01,U.x01),Co(U.y11,U.x11),!y),s.arc(0,0,f,Co(U.cy+U.y11,U.cx+U.x11),Co(N.cy+N.y11,N.cx+N.x11),y),s.arc(N.cx,N.cy,P,Co(N.y11,N.x11),Co(N.y01,N.x01),!y))):s.arc(0,0,f,E,B,y)}if(s.closePath(),l)return s=null,l+""||null}return c.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Vv/2;return[Th(u)*l,ol(u)*l]},c.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:ti(+l),c):t},c.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:ti(+l),c):e},c.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:ti(+l),c):n},c.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:ti(+l),c):r},c.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:ti(+l),c):i},c.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:ti(+l),c):a},c.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:ti(+l),c):o},c.context=function(l){return arguments.length?(s=l==null?null:l,c):s},c}var eb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function $T(t,e,n,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:A=a,insetRight:c=a,insetBottom:l=a,radiusBottomLeft:u=o,radiusBottomRight:f=o,radiusTopLeft:d=o,radiusTopRight:h=o,minWidth:g=-1/0,maxWidth:v=1/0,minHeight:y=-1/0}=i,w=eb(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!Ar(r)&&!ZF(r)){const k=!!Hr(r),[T,,L]=k?Vw(e):e,[P,R]=T,[U,N]=ki(L,T),j=U>0?P:P+U,z=N>0?R:R+N,W=Math.abs(U),D=Math.abs(N),G=j+s,Y=z+A,at=W-(s+c),it=D-(A+l),At=k?Bw(at,y,1/0):Bw(at,g,v),ht=k?Bw(it,g,v):Bw(it,y,1/0),ut=k?G:G-(At-at)/2,Ct=k?Y-(ht-it)/2:Y-(ht-it);return Ze(t.createElement("rect",{})).style("x",ut).style("y",Ct).style("width",At).style("height",ht).style("radius",[d,h,f,u]).call(Me,w).node()}const{y:b,y1:B}=n,E=r.getCenter(),S=Sh(r,e,[b,B]),F=iC().cornerRadius(o).padAngle(a*Math.PI/180);return Ze(t.createElement("path",{})).style("d",F(S)).style("transform",`translate(${E[0]}, ${E[1]})`).style("radius",o).style("inset",a).call(Me,w).node()}const Zv=(t,e)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:a=!0}=t,o=eb(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:A}=e;return(c,l,u)=>{const{color:f,radius:d=0}=u,h=eb(u,["color","radius"]),g=h.lineWidth||1,{stroke:v,radius:y=d,radiusTopLeft:w=y,radiusTopRight:b=y,radiusBottomRight:B=y,radiusBottomLeft:E=y,innerRadius:S=0,innerRadiusTopLeft:F=S,innerRadiusTopRight:k=S,innerRadiusBottomRight:T=S,innerRadiusBottomLeft:L=S,lineWidth:P=n==="stroke"||v?g:0,inset:R=0,insetLeft:U=R,insetRight:N=R,insetBottom:j=R,insetTop:z=R,minWidth:W,maxWidth:D,minHeight:G}=o,Y=eb(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:at=f,opacity:it}=l,At=[i?w:F,i?b:k,a?B:T,a?E:L],ht=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];Hr(s)&&ht.push(ht.shift());const ut=Object.assign(Object.assign({radius:y},Object.fromEntries(ht.map((Ct,_t)=>[Ct,At[_t]]))),{inset:R,insetLeft:U,insetRight:N,insetBottom:j,insetTop:z,minWidth:W,maxWidth:D,minHeight:G});return Ze($T(A,c,l,s,ut)).call(Me,h).style("fill","transparent").style(n,at).style(V_(t),it).style("lineWidth",P).style("stroke",v===void 0?at:v).call(Me,Y).node()}};Zv.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function Yv(t,e){if(e(t))return!0;if(t.tagName==="g"){const{childNodes:n=[]}=t;for(const r of n)if(Yv(r,e))return!0}return!1}const QK={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function UK(t,e){let n;return Yv(t,r=>{var i;return r.tagName!=="g"&&((i=r.style)===null||i===void 0?void 0:i[e])!==void 0?(n=r.style[e],!0):!1}),n!=null?n:QK[e]}function aC(t,e,n,r){t.style[e]=n,r&&t.children.forEach(i=>aC(i,e,n,r))}function oC(t){aC(t,"visibility","hidden",!0)}function nb(t){aC(t,"visibility","visible",!0)}var $v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wu(t){return Ze(t).selectAll(`.${bi}`).nodes().filter(e=>!e.__removed__)}function XT(t,e){return sC(t,e).flatMap(({container:n})=>wu(n))}function sC(t,e){return e.filter(n=>n!==t&&n.options.parentKey===t.options.key)}function SA(t){return Ze(t).select(`.${wa}`).node()}function Xv(t){if(t.tagName==="g")return t.getRenderBounds();const e=t.getGeometryBounds(),n=new Rr;return n.setFromTransformedAABB(e,t.getWorldTransform()),n}function Ih(t,e){const{offsetX:n,offsetY:r}=e,i=Xv(t),{min:[a,o],max:[s,A]}=i,c=n<a||n>s,l=r<o||r>A;return c||l?null:[n-a,r-o]}function AC(t,e){const{offsetX:n,offsetY:r}=e,[i,a,o,s]=PK(t);return[Math.min(o,Math.max(i,n))-i,Math.min(s,Math.max(a,r))-a]}function PK(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return[n,r,i,a]}function qT(t){return e=>e.__data__.color}function qv(t){return e=>e.__data__.x}function Ff(t){const e=Array.isArray(t)?t:[t],n=new Map(e.flatMap(r=>Array.from(r.markState.keys()).map(a=>[rb(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return n.get(rb(o,a))[i]}}const JT={selected:3,unselected:3,active:2,inactive:2,default:1},RK={selection:["selected","unselected"],highlight:["active","inactive"]},tI=(t,e,n)=>{Yv(t,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(e,n)})};function cC(t,e){return e.forEach(n=>{const r=n.__interactionStyle__;r?n.__interactionStyle__=Object.assign(Object.assign({},r),t):n.__interactionStyle__=t}),(n=(i,a)=>i,r=tI)=>kf(void 0,n,r)}function kf(t,e=(r,i)=>r,n=tI){const r="__states__",i="__ordinal__",a=d=>JT[d]||JT.default,o=d=>{var h;return(h=Object.entries(RK).find(([g,v])=>v.includes(d)))===null||h===void 0?void 0:h[0]},s=d=>{var h;const{[r]:g=[],[i]:v={}}=d,y=[...g].sort((B,E)=>a(E)-a(B)),w=new Map;for(const B of y){const E=((h=t!=null?t:d.__interactionStyle__)===null||h===void 0?void 0:h[B])||{};for(const[S,F]of Object.entries(E))w.has(S)||w.set(S,F)}const b=Object.assign({},v);for(const[B,E]of w.entries())b[B]=E;if(Object.keys(b).length!==0){for(const[B,E]of Object.entries(b)){const S=UK(d,B),F=e(E,d);n(d,B,F),B in v||(v[B]=S)}d[i]=v}},A=d=>{d[r]||(d[r]=[])};return{setState:(d,...h)=>{A(d),d[r]=[...h],s(d)},updateState:(d,...h)=>{A(d);const g=d[r],v=new Set(h.map(w=>o(w)).filter(w=>w!==void 0)),y=g.filter(w=>!v.has(o(w)));d[r]=[...y,...h],s(d)},removeState:(d,...h)=>{A(d);for(const g of h){const v=d[r].indexOf(g);v!==-1&&d[r].splice(v,1)}s(d)},hasState:(d,h)=>(A(d),d[r].indexOf(h)!==-1)}}function NK(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function rb(t,e){return`${t},${e}`}function Lh(t,e){const r=(Array.isArray(t)?t:[t]).flatMap(a=>a.marks.map(o=>[rb(a.key,o.key),o.state])),i={};for(const a of e){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((A,c)=>{const[l,u={}]=c,f=NK(u[o])?s:u[o];for(const[d,h]of Object.entries(f)){const g=A[d],v=(y,w,b,B)=>{const E=rb(B.__data__.viewKey,B.__data__.markKey);return l!==E?g==null?void 0:g(y,w,b,B):typeof h!="function"?h:h(y,w,b,B)};A[d]=v}return A},{})}return i}function Eg(t,e){const n=new Map(t.map((i,a)=>[i,a])),r=e?t.map(e):t;return(i,a)=>{if(typeof i!="function")return i;const o=n.get(a),s=e?e(a):a;return i(s,o,r,a)}}function eI(t){var{link:e=!1,valueof:n=(l,u)=>l,coordinate:r}=t,i=$v(t,["link","valueof","coordinate"]);const a="element-link";if(!e)return[()=>{},()=>{}];const o=l=>l.__data__.points,s=(l,u)=>{const[,f,d]=l,[h,,,g]=u;return[f,h,g,d]};return[l=>{var u;if(l.length<=1)return;const f=yc(l,(d,h)=>{const{x:g}=d.__data__,{x:v}=h.__data__;return g-v});for(let d=1;d<f.length;d++){const h=EA(),g=f[d-1],v=f[d],[y,w,b,B]=s(o(g),o(v));h.moveTo(...y),h.lineTo(...w),h.lineTo(...b),h.lineTo(...B),h.closePath();const E=tl(i,T=>n(T,g)),{fill:S=g.getAttribute("fill")}=E,F=$v(E,["fill"]),k=new pa({className:a,style:Object.assign({d:h.toString(),fill:S,zIndex:-2},F)});(u=g.link)===null||u===void 0||u.remove(),g.parentNode.appendChild(k),g.link=k}},l=>{var u;(u=l.link)===null||u===void 0||u.remove(),l.link=null}]}function nI(t,e,n){const r=i=>{const{transform:a}=t.style;return a?`${a} ${i}`:i};if(Ar(n)){const{points:i}=t.__data__,[a,o]=Hr(n)?Vw(i):i,s=n.getCenter(),A=ki(a,s),c=ki(o,s),l=OA(A),u=BT(A,c),f=l+u/2,d=e*Math.cos(f),h=e*Math.sin(f);return r(`translate(${d}, ${h})`)}return Hr(n)?r(`translate(${e}, 0)`):r(`translate(0, ${-e})`)}function rI(t){var{document:e,background:n,scale:r,coordinate:i,valueof:a}=t,o=$v(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const A=(y,w,b)=>{const B=y.invert(w),E=w+y.getBandWidth(B)/2,S=y.getStep(B)/2,F=S*b;return[E-S+F,E+S-F]},c=(y,w)=>{const{x:b}=r;if(!mu(b))return[0,1];const{__data__:B}=y,{x:E}=B,[S,F]=A(b,E,w);return[S,F]},l=(y,w)=>{const{y:b}=r;if(!mu(b))return[0,1];const{__data__:B}=y,{y:E}=B,[S,F]=A(b,E,w);return[S,F]},u=(y,w)=>{const{padding:b}=w,[B,E]=c(y,b),[S,F]=l(y,b),k=[[B,S],[E,S],[E,F],[B,F]].map(R=>i.map(R)),{__data__:T}=y,{y:L,y1:P}=T;return $T(e,k,{y:L,y1:P},i,w)},f=(y,w)=>{const{transform:b="scale(1.2, 1.2)",transformOrigin:B="center center",stroke:E=""}=w,S=$v(w,["transform","transformOrigin","stroke"]),F=Object.assign({transform:b,transformOrigin:B,stroke:E},S),k=y.cloneNode(!0);for(const[T,L]of Object.entries(F))k.style[T]=L;return k},d=()=>{const{x:y,y:w}=r;return[y,w].some(mu)};return[y=>{y.background&&y.background.remove();const w=tl(o,R=>a(R,y)),{fill:b="#CCD6EC",fillOpacity:B=.3,zIndex:E=-2,padding:S=.001,lineWidth:F=0}=w,k=$v(w,["fill","fillOpacity","zIndex","padding","lineWidth"]),T=Object.assign(Object.assign({},k),{fill:b,fillOpacity:B,zIndex:E,padding:S,lineWidth:F}),P=(d()?u:f)(y,T);P.className=s,y.parentNode.parentNode.appendChild(P),y.background=P},y=>{var w;(w=y.background)===null||w===void 0||w.remove(),y.background=null},y=>y.className===s]}function Tf(t,e){const r=t.getRootNode().defaultView.getContextService().getDomElement();r!=null&&r.style&&(t.cursor=r.style.cursor,r.style.cursor=e)}function DK(t){Tf(t,t.cursor)}function ib(t,e,n){return t.find(r=>Object.entries(e).every(([i,a])=>n(r)[i]===a))}function ab(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Jv(t,e=!1){const n=KT(t,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return e&&n.push(["Z"]),n}function iI(t){return t.querySelectorAll(".element")}function HK(t,e,n=0){const r=[["M",...e[1]]],i=ab(t,e[1]),a=ab(t,e[0]);return i===0?r.push(["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]):r.push(["A",i,i,0,n,0,...e[2]],["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]),r}function ty(t,e){if(e(t))return t;let n=t.parent;for(;n&&!e(n);)n=n.parent;return n}const lC=["interval","point","density"];function aI({elementsof:t,root:e,coordinate:n,scale:r,validFindByXMarks:i=lC}){var a,o;let s=t(e);const A=l=>i.includes(l.markType);if(s.find(A)){s=s.filter(A);const l=r.x,u=r.series,f=(o=(a=l==null?void 0:l.getBandWidth)===null||a===void 0?void 0:a.call(l))!==null&&o!==void 0?o:0,d=u?h=>{var g,v;const y=Math.round(1/((g=u.valueBandWidth)!==null&&g!==void 0?g:1));return h.__data__.x+((v=h.__data__.series)!==null&&v!==void 0?v:0)*f+f/(y*2)}:h=>h.__data__.x+f/2;return s.sort((h,g)=>d(h)-d(g)),h=>{const g=Ih(e,h);if(!g)return;const[v]=n.invert(g),y=yu(d).center,w=y(s,v);return s[w]}}return l=>{const{target:u}=l;return ty(u,f=>f.classList?f.classList.includes("element"):!1)}}function jK(t){const a=.01/Math.max(t,1e-4);return Math.max(.1,Math.min(100,a))}function oI(t){return t===!1||t===null||t===void 0}function GK(t){var e,n;const r=[],i=[],a=[],o=t.markState;if(o){for(const[s,A]of o.entries())if(A!=null&&A.channels){const c={};for(const f of A.channels)if((f==null?void 0:f.name)==="x"&&((e=f.values)===null||e===void 0?void 0:e.length)>0){let d=[];for(const h of f.values)h!=null&&h.value&&(d=d.concat(h.value),r.push(h.value));c.x=d}else if(f&&(f.name==="y"||f.name.startsWith("y"))&&((n=f.values)===null||n===void 0?void 0:n.length)>0){const d=f.name,h=[];for(const g of f.values)if(g!=null&&g.value){const v=g.value;h.push(v),(d==="y"||d==="y1")&&(Array.isArray(v)?i.push(v.flat()):i.push([v]))}c[d]=h}const l=c.x||[],u=c.y||[];l.length>0&&u.length>0&&a.push({markKey:s.key||`mark_${a.length}`,channelData:c})}}return{xChannelValues:r.flat(),yChannelValues:i.flat(),markDataPairs:a}}function sI(t,e){const n=new Set;for(const r of e){const{scale:i}=r,a=i==null?void 0:i[t];if(!a)continue;if(a.independent)return!0;const o=a.key||"default";if(n.add(o),n.size>1)return!0}return!1}function KK(t,e,n,r,i){var a,o,s,A;const c={x:e.x||n.getOptions().domain||[],y:e.y||r.getOptions().domain||[]},l=i||AI(t),{hasIndependentX:u,hasIndependentY:f}=l;if(u||f){let d=1,h=1;for(const[g,v]of t.markState.entries())if(v!=null&&v.channels){if(u){const y=v.channels.find(w=>w.name==="x");if(!((o=(a=g==null?void 0:g.scale)===null||a===void 0?void 0:a.x)===null||o===void 0)&&o.independent){const w=`x${d}`;c[w]=y.scale.domain,d++}}if(f){const y=v.channels.find(w=>w.name==="y");if(!((A=(s=g==null?void 0:g.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent){const w=`y${h}`;c[w]=y.scale.domain,h++}}}}return c}function AI(t){var e,n,r,i,a,o,s,A;const c=Array.from(t.markState.keys()),l=sI("x",c),u=sI("y",c),f=[],d=[],h=[],g=[],v=new Map,y=new Map,w=new Map,b=new Map;let B=1,E=1;for(const[S]of t.markState.entries()){const F=S.key,k=((n=(e=S==null?void 0:S.scale)===null||e===void 0?void 0:e.x)===null||n===void 0?void 0:n.key)||"x";if(!!(!((i=(r=S==null?void 0:S.scale)===null||r===void 0?void 0:r.x)===null||i===void 0)&&i.independent)||l&&k!=="x"){d.push(F),w.has(k)||w.set(k,B++);const R=w.get(k);v.set(F,`x${R}`)}else f.push(F),v.set(F,"x");const L=((o=(a=S==null?void 0:S.scale)===null||a===void 0?void 0:a.y)===null||o===void 0?void 0:o.key)||"y";if(!!(!((A=(s=S==null?void 0:S.scale)===null||s===void 0?void 0:s.y)===null||A===void 0)&&A.independent)||u&&L!=="y"){g.push(F),b.has(L)||b.set(L,E++);const R=b.get(L);y.set(F,`y${R}`)}else h.push(F),y.set(F,"y")}return{hasIndependentX:l,hasIndependentY:u,marksWithSharedX:f,marksWithIndependentX:d,marksWithSharedY:h,marksWithIndependentY:g,markToXScaleMap:v,markToYScaleMap:y}}function zK(t){return ty(t,e=>e.className==="component")}function WK(t){return ty(t,e=>e.className==="element")}function VK(t){return ty(t,e=>e.className==="label")}function za(t,e,n,r=i=>!0){return i=>{if(!r(i))return;n.emit(`plot:${t}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=WK(a),A=zK(a),c=VK(a),l=s||A||c;if(!l)return;const{className:u,markType:f}=l,d=Object.assign(Object.assign({},i),{nativeEvent:!0});u==="element"?(d.data={data:t_(l,e)},n.emit(`element:${t}`,d),n.emit(`${f}:${t}`,d)):u==="label"?(d.data={data:l.attributes.datum},n.emit(`label:${t}`,d),o.split(/\s+/).filter(Boolean).forEach(g=>{n.emit(`${g}:${t}`,d)})):(n.emit(`component:${t}`,d),o.split(/\s+/).filter(Boolean).forEach(g=>{n.emit(`${g}:${t}`,d)}))}}function cI(){return(t,e,n)=>{const{container:r,view:i}=t,a=za(sr.CLICK,i,n,F=>F.detail===1),o=za(sr.DBLCLICK,i,n,F=>F.detail===2),s=za(sr.POINTER_TAP,i,n),A=za(sr.POINTER_DOWN,i,n),c=za(sr.POINTER_UP,i,n),l=za(sr.POINTER_OVER,i,n),u=za(sr.POINTER_OUT,i,n),f=za(sr.POINTER_MOVE,i,n),d=za(sr.POINTER_ENTER,i,n),h=za(sr.POINTER_LEAVE,i,n),g=za(sr.POINTER_UPOUTSIDE,i,n),v=za(sr.DRAG_START,i,n),y=za(sr.DRAG,i,n),w=za(sr.DRAG_END,i,n),b=za(sr.DRAG_ENTER,i,n),B=za(sr.DRAG_LEAVE,i,n),E=za(sr.DRAG_OVER,i,n),S=za(sr.DROP,i,n);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",A),r.addEventListener("pointerup",c),r.addEventListener("pointerover",l),r.addEventListener("pointerout",u),r.addEventListener("pointermove",f),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",h),r.addEventListener("pointerupoutside",g),r.addEventListener("dragstart",v),r.addEventListener("drag",y),r.addEventListener("dragend",w),r.addEventListener("dragenter",b),r.addEventListener("dragleave",B),r.addEventListener("dragover",E),r.addEventListener("drop",S),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",A),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",l),r.removeEventListener("pointerout",u),r.removeEventListener("pointermove",f),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",h),r.removeEventListener("pointerupoutside",g),r.removeEventListener("dragstart",v),r.removeEventListener("drag",y),r.removeEventListener("dragend",w),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",B),r.removeEventListener("dragover",E),r.removeEventListener("drop",S)}}}cI.props={reapplyWhenUpdate:!0};function ZK(){return{"component.axisRadar":Zk,"component.axisLinear":Ef,"component.axisArc":Vk,"component.legendContinuousBlock":yT,"component.legendContinuousBlockSize":mT,"component.legendContinuousSize":K_,"interaction.event":cI,"composition.mark":wT,"composition.view":bT,"shape.label.label":jT,"shape.break":GT}}var YK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wr(t,e){const n=Object.assign(Object.assign({},ZK()),e),r=a=>{if(typeof a!="string")return a;const o=`${t}.${a}`;return n[o]||fg(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,A=YK(a,["type"]);s||fg("Plot type is required!");const c=r(s);return c==null?void 0:c(A,o)},r]}function lI(t){const{canvas:e,group:n}=t;return(e==null?void 0:e.document)||(n==null?void 0:n.ownerDocument)||fg("Cannot find library document")}var uI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function $K(t,e,n){const[r]=Wr("coordinate",n),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:A,insetBottom:c}=t,{coordinates:l=[]}=e,u=ez(l),f=u[0].type==="cartesian3D",d=Object.assign(Object.assign({},t),{x:o,y:s,width:a-o-A,height:i-c-s,transformations:u.flatMap(r)});return f?new VF.Coordinate3D(d):new VF.Coordinate(d)}function fI(t,e){const{coordinate:n={},coordinates:r}=t,i=uI(t,["coordinate","coordinates"]);if(r)return t;const{type:a,transform:o=[]}=n,s=uI(n,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,A]=Wr("coordinate",e),{transform:c=!1}=A(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function mc(t,e){return t.filter(n=>n.type===e)}function Qh(t){return mc(t,"polar").length>0}function XK(t){return mc(t,"helix").length>0}function Sg(t){return mc(t,"transpose").length%2===1}function qK(t){return mc(t,"parallel").length>0}function dI(t){return mc(t,"theta").length>0}function JK(t){return mc(t,"reflect").length>0}function ey(t){return mc(t,"radial").length>0}function hI(t){return mc(t,"radar").length>0}function tz(t){return mc(t,"reflectY").length>0}function ez(t){return t.find(e=>e.type==="cartesian"||e.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function xn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var nz=xn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),rz=xn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),iz=xn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),az=xn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),oz=xn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),sz=xn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Az=xn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),cz=xn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),lz=xn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),uz=xn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),fz=xn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ob(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uC(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mg(){}var Uh=.7,Fg=1/Uh,kg="\\s*([+-]?\\d+)\\s*",ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dz=/^#([0-9a-f]{3,8})$/,hz=new RegExp("^rgb\\(".concat(kg,",").concat(kg,",").concat(kg,"\\)$")),pz=new RegExp("^rgb\\(".concat(sl,",").concat(sl,",").concat(sl,"\\)$")),gz=new RegExp("^rgba\\(".concat(kg,",").concat(kg,",").concat(kg,",").concat(ny,"\\)$")),vz=new RegExp("^rgba\\(".concat(sl,",").concat(sl,",").concat(sl,",").concat(ny,"\\)$")),yz=new RegExp("^hsl\\(".concat(ny,",").concat(sl,",").concat(sl,"\\)$")),mz=new RegExp("^hsla\\(".concat(ny,",").concat(sl,",").concat(sl,",").concat(ny,"\\)$")),pI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ob(Mg,fC,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:gI,formatHex:gI,formatHex8:wz,formatHsl:bz,formatRgb:vI,toString:vI});function gI(){return this.rgb().formatHex()}function wz(){return this.rgb().formatHex8()}function bz(){return xI(this).formatHsl()}function vI(){return this.rgb().formatRgb()}function fC(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dz.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yI(e):n===3?new Eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hz.exec(t))?new Eo(e[1],e[2],e[3],1):(e=pz.exec(t))?new Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gz.exec(t))?sb(e[1],e[2],e[3],e[4]):(e=vz.exec(t))?sb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yz.exec(t))?BI(e[1],e[2]/100,e[3]/100,1):(e=mz.exec(t))?BI(e[1],e[2]/100,e[3]/100,e[4]):pI.hasOwnProperty(t)?yI(pI[t]):t==="transparent"?new Eo(NaN,NaN,NaN,0):null}function yI(t){return new Eo(t>>16&255,t>>8&255,t&255,1)}function sb(t,e,n,r){return r<=0&&(t=e=n=NaN),new Eo(t,e,n,r)}function mI(t){return t instanceof Mg||(t=fC(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function ry(t,e,n,r){return arguments.length===1?mI(t):new Eo(t,e,n,r==null?1:r)}function Eo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ob(Eo,ry,uC(Mg,{brighter:function(e){return e=e==null?Fg:Math.pow(Fg,e),new Eo(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Uh:Math.pow(Uh,e),new Eo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Eo(Ph(this.r),Ph(this.g),Ph(this.b),Ab(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wI,formatHex:wI,formatHex8:Bz,formatRgb:bI,toString:bI}));function wI(){return"#".concat(Rh(this.r)).concat(Rh(this.g)).concat(Rh(this.b))}function Bz(){return"#".concat(Rh(this.r)).concat(Rh(this.g)).concat(Rh(this.b)).concat(Rh((isNaN(this.opacity)?1:this.opacity)*255))}function bI(){var t=Ab(this.opacity);return"".concat(t===1?"rgb(":"rgba(").concat(Ph(this.r),", ").concat(Ph(this.g),", ").concat(Ph(this.b)).concat(t===1?")":", ".concat(t,")"))}function Ab(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ph(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rh(t){return t=Ph(t),(t<16?"0":"")+t.toString(16)}function BI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wc(t,e,n,r)}function xI(t){if(t instanceof wc)return new wc(t.h,t.s,t.l,t.opacity);if(t instanceof Mg||(t=fC(t)),!t)return new wc;if(t instanceof wc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,A=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=A<.5?a+i:2-a-i,o*=60):s=A>0&&A<1?0:o,new wc(o,s,A,t.opacity)}function xz(t,e,n,r){return arguments.length===1?xI(t):new wc(t,e,n,r==null?1:r)}function wc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ob(wc,xz,uC(Mg,{brighter:function(e){return e=e==null?Fg:Math.pow(Fg,e),new wc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Uh:Math.pow(Uh,e),new wc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new Eo(dC(e>=240?e-240:e+120,a,i),dC(e,a,i),dC(e<120?e+240:e-120,a,i),this.opacity)},clamp:function(){return new wc(_I(this.h),cb(this.s),cb(this.l),Ab(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Ab(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(_I(this.h),", ").concat(cb(this.s)*100,"%, ").concat(cb(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function _I(t){return t=(t||0)%360,t<0?t+360:t}function cb(t){return Math.max(0,Math.min(1,t||0))}function dC(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function CI(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function _z(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return CI((n-r/e)*e,o,i,a,s)}}function Cz(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return CI((n-r/e)*e,i,a,o,s)}}var hC=function(t){return function(){return t}};function OI(t,e){return function(n){return t+n*e}}function Oz(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ez(t,e){var n=e-t;return n?OI(t,n>180||n<-180?n-360*Math.round(n/360):n):hC(isNaN(t)?e:t)}function Sz(t){return(t=+t)==1?Tg:function(e,n){return n-e?Oz(e,n,t):hC(isNaN(e)?n:e)}}function Tg(t,e){var n=e-t;return n?OI(t,n):hC(isNaN(t)?e:t)}var Aut=function t(e){var n=Sz(e);function r(i,a){var o=n((i=ry(i)).r,(a=ry(a)).r),s=n(i.g,a.g),A=n(i.b,a.b),c=Tg(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=s(l),i.b=A(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function EI(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=ry(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(A){return s.r=r(A),s.g=i(A),s.b=a(A),s+""}}}var Mz=EI(_z),cut=EI(Cz),Vr=t=>Mz(t[t.length-1]),SI=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(xn),Fz=Vr(SI),MI=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(xn),kz=Vr(MI),FI=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(xn),Tz=Vr(FI),kI=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(xn),Iz=Vr(kI),TI=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(xn),Lz=Vr(TI),II=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(xn),Qz=Vr(II),LI=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(xn),Uz=Vr(LI),QI=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(xn),Pz=Vr(QI),UI=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(xn),Rz=Vr(UI),PI=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(xn),Nz=Vr(PI),RI=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(xn),Dz=Vr(RI),NI=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(xn),Hz=Vr(NI),DI=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(xn),jz=Vr(DI),HI=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(xn),Gz=Vr(HI),jI=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(xn),Kz=Vr(jI),GI=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(xn),zz=Vr(GI),KI=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(xn),Wz=Vr(KI),zI=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(xn),Vz=Vr(zI),WI=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(xn),Zz=Vr(WI),VI=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(xn),Yz=Vr(VI),ZI=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(xn),$z=Vr(ZI),YI=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(xn),Xz=Vr(YI),$I=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(xn),qz=Vr($I),XI=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(xn),Jz=Vr(XI),qI=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(xn),tW=Vr(qI),JI=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(xn),eW=Vr(JI),tL=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(xn),nW=Vr(tL);function rW(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var iW=Math.PI/180,aW=180/Math.PI,eL=-.14861,pC=1.78277,gC=-.29227,lb=-.90649,iy=1.97294,nL=iy*lb,rL=iy*pC,iL=pC*gC-lb*eL;function oW(t){if(t instanceof Nh)return new Nh(t.h,t.s,t.l,t.opacity);t instanceof Eo||(t=mI(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(iL*r+nL*e-rL*n)/(iL+nL-rL),a=r-i,o=(iy*(n-i)-gC*a)/lb,s=Math.sqrt(o*o+a*a)/(iy*i*(1-i)),A=s?Math.atan2(o,a)*aW-120:NaN;return new Nh(A<0?A+360:A,s,i,t.opacity)}function Al(t,e,n,r){return arguments.length===1?oW(t):new Nh(t,e,n,r==null?1:r)}function Nh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ob(Nh,Al,uC(Mg,{brighter:function(e){return e=e==null?Fg:Math.pow(Fg,e),new Nh(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Uh:Math.pow(Uh,e),new Nh(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*iW,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(e),a=Math.sin(e);return new Eo(255*(n+r*(eL*i+pC*a)),255*(n+r*(gC*i+lb*a)),255*(n+r*(iy*i)),this.opacity)}}));function aL(t){return function e(n){n=+n;function r(i,a){var o=t((i=Al(i)).h,(a=Al(a)).h),s=Tg(i.s,a.s),A=Tg(i.l,a.l),c=Tg(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=s(l),i.l=A(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=e,r}(1)}var lut=aL(Ez),vC=aL(Tg),sW=vC(Al(300,.5,0),Al(-240,.5,1)),AW=vC(Al(-100,.75,.35),Al(80,1.5,.8)),cW=vC(Al(260,.75,.35),Al(80,1.5,.8)),ub=Al();function lW(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ub.h=360*t-100,ub.s=1.5-1.5*e,ub.l=.8-.9*e,ub+""}var fb=ry(),uW=Math.PI/3,fW=Math.PI*2/3;function dW(t){var e;return t=(.5-t)*Math.PI,fb.r=255*(e=Math.sin(t))*e,fb.g=255*(e=Math.sin(t+uW))*e,fb.b=255*(e=Math.sin(t+fW))*e,fb+""}function hW(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function db(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var pW=db(xn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gW=db(xn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vW=db(xn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yW=db(xn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function mW(t,e,n,r,i,a){const{guide:o={}}=n,s=MW(t,e,n);if(typeof s!="string")return n;const A=FW(s,t,e,n),c=OW(s,A,n);return Object.assign(Object.assign(Object.assign({},n),TW(s,t,e,n,r)),{domain:c,range:kW(s,t,e,n,c,i,a),expectedDomain:A,guide:o,name:t,type:s})}function wW(t,e){const n={};for(const r of t){const{values:i,name:a}=r,o=e[a];for(const s of i){const{name:A,value:c}=s;n[A]=c.map(l=>o.map(l))}}return n}function bW(t,e){const n=Array.from(t.values()).flatMap(i=>i.channels);uw(n,i=>i.map(a=>e.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function BW(t,e){var n;const{components:r=[]}=e,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(t.flatMap(s=>s.channels.map(A=>A.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const A=CW(s);for(const c of A){const l=o.get(c),u=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:f=!1}=u;if(l&&!f){const{guide:d}=l,h=typeof d=="boolean"?{}:d;l.guide=Mt({},h,s),Object.assign(l,u)}else{const d=Object.assign(Object.assign({},u),{expectedDomain:u.domain,name:c,guide:L_(s,i)});a.push(d)}}}return a}function xW(t){if(!t||!Array.isArray(t))return[vh,vh];let e,n;return[a=>{var o;e=a.map.bind(a),n=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=t.filter(([f])=>typeof f=="function"),A=t.filter(([f])=>typeof f!="function"),c=new Map(A);if(a.map=f=>{for(const[d,h]of s)if(d(f))return h;return c.has(f)?c.get(f):e(f)},!n)return a;const l=new Map(A.map(([f,d])=>[d,f])),u=new Map(s.map(([f,d])=>[d,f]));return a.invert=f=>u.has(f)?f:l.has(f)?l.get(f):n(f),a},a=>(e!==null&&(a.map=e),n!==null&&(a.invert=n),a)]}function oL(t,e){const n=Object.keys(t);for(const r of Object.values(e)){const{name:i}=r.getOptions();if(!(i in t))t[i]=r;else{const a=n.filter(A=>A.startsWith(i)).map(A=>+(A.replace(i,"")||0)),o=hr(a)+1,s=`${i}${o}`;t[s]=r,r.getOptions().key=s}}return t}function sL(t,e){const[n]=Wr("scale",e),{relations:r}=t,[i]=xW(r),a=n(t);return i(a)}function _W(t){const e=t.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));AL(e,"x"),AL(e,"y")}function CW(t){const{channels:e=[],type:n,scale:r={}}=t,i=["shape","color","opacity","size"];return e.length!==0?e:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function AL(t,e){const n=t.filter(({name:a,facet:o=!0})=>o&&a===e),r=n.flatMap(a=>a.domain),i=n.every(cL)?gu(r):n.every(lL)?Array.from(new Set(r)):null;if(i!==null)for(const a of n)a.domain=i}function OW(t,e,n){const{ratio:r}=n;return r==null?e:cL({type:t})?EW(e,r,t):lL({type:t})?SW(e,r):e}function EW(t,e,n){const r=t.map(Number),i=new vc({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*e]});return n==="time"?t.map(a=>new Date(i.map(a))):t.map(a=>i.map(a))}function SW(t,e){const n=Math.round(t.length*e);return t.slice(0,n)}function cL(t){const{type:e}=t;return typeof e!="string"?!1:["linear","log","pow","time"].includes(e)}function lL(t){const{type:e}=t;return typeof e!="string"?!1:["band","point","ordinal"].includes(e)}function MW(t,e,n){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=n;return r!==void 0?r:KW(e)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?yC(t,s):i!==void 0?hL([i])?yC(t,s):pL(e)?"time":fL(t,a,o):hL(e)?yC(t,s):pL(e)?"time":fL(t,a,o)}function FW(t,e,n,r){const{domain:i}=r;if(i!==void 0)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return dL(NW(n,r),r);case"band":case"ordinal":case"point":return DW(n);case"quantile":return HW(n);case"sequential":return dL(jW(n),r);default:return[]}}function kW(t,e,n,r,i,a,o){const{range:s}=r;if(typeof s=="string")return IW(s);if(s!==void 0)return s;const{rangeMin:A,rangeMax:c}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const l=uL(n,r,i,a,o),[u,f]=GW(e,l);return[A!=null?A:u,c!=null?c:f]}case"band":case"point":{const l=e==="size"?5:0,u=e==="size"?10:1;return[A!=null?A:l,c!=null?c:u]}case"ordinal":return uL(n,r,i,a,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function TW(t,e,n,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return UW(i,r);case"band":case"point":return PW(t,e,i,r);case"sequential":return QW(r);default:return r}}function uL(t,e,n,r,i){const[a]=Wr("palette",i),{category10:o,category20:s}=r,A=X6(n).length<=o.length?o:s,{palette:c=A,offset:l}=e;if(Array.isArray(c))return c;try{return a({type:c})}catch(u){const f=LW(c,n,l);if(f)return f;throw new Error(`Unknown Component: ${c} `)}}function IW(t){return t.split("-")}function LW(t,e,n=r=>r){if(!t)return null;const r=Cf(t),i=De[`scheme${r}`],a=De[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[e.length];if(o)return o}return e.map((o,s)=>a(n(s/e.length)))}function QW(t){const{palette:e="ylGnBu",offset:n}=t,r=Cf(e),i=De[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?a=>i(n(a)):i}}function UW(t,e){const{interpolate:n=Nv,nice:r=!1,tickCount:i=5}=e;return Object.assign(Object.assign({},e),{interpolate:n,nice:r,tickCount:i})}function PW(t,e,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=RW(t,e,n),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function RW(t,e,n){return e==="enterDelay"||e==="enterDuration"||e==="size"?0:t==="band"?dI(n)?0:.1:t==="point"?.5:0}function yC(t,e){return e||(zW(t)?"point":"ordinal")}function fL(t,e,n){return n||(t!=="color"||e?"linear":"sequential")}function dL(t,e){if(t.length===0)return t;const{domainMin:n,domainMax:r}=e,[i,a]=t;return[n!=null?n:i,r!=null?r:a]}function NW(t,e){const{zero:n=!1}=e;let r=1/0,i=-1/0;for(const a of t)for(const o of a)Tr(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function DW(t){return Array.from(new Set(t.flat()))}function HW(t){return t.flat().sort()}function jW(t){let e=1/0,n=-1/0;for(const r of t)for(const i of r)Tr(i)&&(e=Math.min(e,+i),n=Math.max(n,+i));return e===1/0?[]:[e<0?-n:e,n]}function GW(t,e){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[$6(e),jF(e)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function hL(t){return mC(t,e=>{const n=typeof e;return n==="string"||n==="boolean"})}function pL(t){return mC(t,e=>e instanceof Date)}function KW(t){return mC(t,dg)}function mC(t,e){for(const n of t)if(n.some(e))return!0;return!1}function zW(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function WW(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function VW(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:e,domain:n,range:r,interpolator:i}=t,a=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&a&&o||["sequential"].includes(e)&&a&&(o||i)||["constant","identity"].includes(e)&&o)}const ZW={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},YW={threshold:"threshold",quantize:"quantize",quantile:"quantile"},$W={ordinal:"ordinal",band:"band",point:"point"},XW={constant:"constant"};var If=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qW(t,e,n){const{coordinates:r=[],title:i}=e,[,a]=Wr("component",n),o=t.filter(({guide:l})=>l!==null),s=[],A=AV(e,t,n);if(s.push(...A),i){const{props:l}=a("title"),{defaultPosition:u,defaultOrientation:f,defaultOrder:d,defaultSize:h,defaultCrossPadding:g}=l,v=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:u,orientation:f,order:d,crossPadding:g[0],defaultSize:h},v))}return rV(o,r).forEach(([l,u])=>{const{props:f}=a(l),{defaultPosition:d,defaultPlane:h="xy",defaultOrientation:g,defaultSize:v,defaultOrder:y,defaultLength:w,defaultPadding:b=[0,0],defaultCrossPadding:B=[0,0]}=f,E=Mt({},...u),{guide:S,field:F}=E,k=Array.isArray(S)?S:[S];for(const T of k){const[L,P]=oV(l,d,g,T,u,o,r);if(!L&&!P)continue;const R=L==="left"||L==="right",U=R?b[1]:b[0],N=R?B[1]:B[0],{size:j,order:z=y,length:W=w,padding:D=U,crossPadding:G=N}=T;s.push(Object.assign(Object.assign({title:F},T),{defaultSize:v,length:W,position:L,plane:h,orientation:P,padding:D,order:z,crossPadding:G,size:j,type:l,scales:u}))}}),s}function gL(t,e,n,r,i){const[a]=Wr("component",r),{scaleInstances:o,scale:s,bbox:A}=t,c=If(t,["scaleInstances","scale","bbox"]),l={bbox:A,library:r};return a(c)({coordinate:e,library:r,markState:i,scales:o,theme:n,value:l,scale:s})}function JW(t){return t.map(e=>{const n=Mt(e,e.style);return delete n.style,n})}function uut(t){return t.flatMap(e=>e.type=="group"?e.children:e)}function vL(t,e){const n=["left","right","bottom","top"];return lw(t,({type:a,position:o,group:s})=>n.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(e!==void 0){const l=a.filter(g=>g.length!==void 0).map(g=>g.length),u=xA(l);if(u>e)return a.forEach(g=>g.group=Symbol("independent")),a;const f=e-u,d=a.length-l.length,h=f/d;a.forEach(g=>{g.length===void 0&&(g.length=h)})}const o=hr(a,l=>l.size),s=hr(a,l=>l.order),A=hr(a,l=>l.crossPadding),c=a[0].position;return{type:"group",size:o,order:s,position:c,children:a,crossPadding:A}})}function tV(t,e){const n=["shape","size","color","opacity"],r=(f,d)=>f==="constant"&&d==="size",i=t.filter(({type:f,name:d})=>typeof f=="string"&&n.includes(d)&&!r(f,d)),a=i.filter(({type:f})=>f==="constant"),o=i.filter(({type:f})=>f!=="constant"),A=lw(o,f=>f.field?f.field:Symbol("independent")).map(([f,d])=>[f,[...d,...a]]).filter(([,f])=>f.some(d=>d.type!=="constant")),c=new Map(A);if(c.size===0)return[];const l=f=>f.sort(([d],[h])=>d.localeCompare(h));return Array.from(c).map(([,f])=>{const h=q6(f).sort((g,v)=>v.length-g.length).map(g=>({combination:g,option:g.map(v=>[v.name,eV(v)])}));for(const{option:g,combination:v}of h)if(!g.every(y=>y[1]==="constant")&&g.every(y=>y[1]==="discrete"||y[1]==="constant"))return["legendCategory",v];for(const[g,v]of ej)for(const{option:y,combination:w}of h)if(v.some(b=>A_(l(b),l(y))))return[g,w];return null}).filter(Tr)}function eV(t){const{type:e}=t;return typeof e!="string"?null:e in ZW?"continuous":e in $W?"discrete":e in YW?"distribution":e in XW?"constant":null}function nV(t,e){return t.map(n=>{const{name:r}=n;if(XK(e)||dI(e)||Sg(e)&&(Qh(e)||ey(e)))return null;if(r.startsWith("x"))return Qh(e)?["axisArc",[n]]:ey(e)?["axisLinear",[n]]:[Sg(e)?"axisY":"axisX",[n]];if(r.startsWith("y"))return Qh(e)?["axisLinear",[n]]:ey(e)?["axisArc",[n]]:[Sg(e)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(hI(e))return["axisRadar",[n]];if(!Qh(e))return["axisY",[n]]}return null}).filter(Tr)}function rV(t,e){const n=t.filter(r=>VW(r));return[...tV(n,e),...nV(n,e)]}function wC(t){const e=mc(t,"polar");if(e.length){const r=e[e.length-1],{startAngle:i,endAngle:a}=zF(r);return[i,a]}const n=mc(t,"radial");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=WF(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function iV(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function aV(t,e,n,r,i){const{name:a}=n[0];if(t==="axisRadar"){const o=r.filter(f=>f.name.startsWith("position")),s=iV(a);if(s===null)return[null,null];const[A,c]=wC(i),l=hI(i)?o.length:o.length-1;return["center",(c-A)/l*s+A]}if(t==="axisY"&&qK(i))return Sg(i)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[o]=wC(i);return["center",o]}return t==="axisArc"?e[0]==="inner"?["inner",null]:["outer",null]:Qh(i)?["center",null]:ey(i)?["center",null]:t==="axisX"&&JK(i)||t==="axisX"&&tz(i)?["top",null]:e}function oV(t,e,n,r,i,a,o){const[s]=wC(o),A=[r.position||e,s!=null?s:n];return typeof t=="string"&&t.startsWith("axis")?aV(t,A,i,a,o):typeof t=="string"&&t.startsWith("legend")&&Qh(o)&&r.position==="center"?["center","vertical"]:A}function sV(t,e,n=[]){return t==="x"?Sg(n)?`${e}Y`:`${e}X`:t==="y"?Sg(n)?`${e}X`:`${e}Y`:null}function AV(t,e,n){const[,r]=Wr("component",n),{coordinates:i}=t;function a(o,s,A,c){const l=sV(s,o,i);if(!c||!l)return;const{props:u}=r(l),{defaultPosition:f,defaultSize:d,defaultOrder:h,defaultCrossPadding:[g]}=u;return Object.assign(Object.assign({position:f,defaultSize:d,order:h,type:l,crossPadding:g},c),{scales:[A]})}return e.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:A,name:c}=o;return[a("slider",c,o,s),a("scrollbar",c,o,A)]}).filter(o=>!!o)}function yL(t,e,n,r,i,a){const{type:o}=t;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const A=o;return(A.startsWith("axis")?dV:A.startsWith("group")?cV:A.startsWith("legendContinuous")?hV:A==="legendCategory"?pV:A.startsWith("slider")?fV:A==="title"?uV:A.startsWith("scrollbar")?lV:()=>{})(t,e,n,r,i,a)}function cV(t,e,n,r,i,a){const{children:o}=t,s=hr(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>yL(c,e,n,r,i,a));const A=hr(o,c=>c.size);t.size=A,o.forEach(c=>c.size=A)}function lV(t,e,n,r,i,a){const{trackSize:o=6}=Mt({},i.scrollbar,t);t.size=o}function uV(t,e,n,r,i,a){const o=Mt({},i.title,t),{title:s,subtitle:A,spacing:c=0}=o,l=If(o,["title","subtitle","spacing"]);if(s){const u=qt(l,"title"),f=gb(s,u);t.size=f.height}if(A){const u=qt(l,"subtitle"),f=gb(A,u);t.size+=c+f.height}}function fV(t,e,n,r,i,a){const o=()=>{const{slider:l}=i;return Mt({},l,t)},{trackSize:s,handleIconSize:A}=o(),c=Math.max(s,A*2.4);t.size=c}function dV(t,e,n,r,i,a){var o,s;t.transform=t.transform||[{type:"hide"}];const A=r==="left"||r==="right",c=mL(t,r,i),{tickLength:l=0,labelSpacing:u=0,titleSpacing:f=0,labelAutoRotate:d}=c,h=If(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),g=hb(t,a),v=ay(h,g);let y=l;if(typeof t.tickLength=="function"){const E=(((o=g.getTicks)===null||o===void 0?void 0:o.call(g))||g.getOptions().domain).map((S,F,k)=>t.tickLength(S,F,k));y=Math.max(...E,0)}const w=y+u;if(v&&v.length){const B=hr(v,S=>S.width),E=hr(v,S=>S.height);if(A)t.size=B+w;else{const{tickFilter:S,labelTransform:F}=t;yV(g,v,e,n,S)&&!F&&d!==!1&&d!==null?(t.labelTransform="rotate(90)",t.size=B+w):(t.labelTransform=(s=t.labelTransform)!==null&&s!==void 0?s:"rotate(0)",t.size=E+w)}}else t.size=y;const b=pb(h);b&&(A?t.size+=f+b.width:t.size+=f+b.height)}function hV(t,e,n,r,i,a){const s=(()=>{const{legendContinuous:B}=i;return Mt({},B,t)})(),{labelSpacing:A=0,titleSpacing:c=0}=s,l=If(s,["labelSpacing","titleSpacing"]),u=r==="left"||r==="right",f=qt(l,"ribbon"),{size:d}=f,h=qt(l,"handleIcon"),{size:g}=h,v=Math.max(d,g*2.4);t.size=v;const y=hb(t,a),w=ay(l,y);if(w){const B=u?"width":"height",E=hr(w,S=>S[B]);t.size+=E+A}const b=pb(l);b&&(u?t.size=Math.max(t.size,b.width):t.size+=c+b.height)}function pV(t,e,n,r,i,a){const s=(()=>{const{legendCategory:D}=i,{title:G}=t,[Y,at]=Array.isArray(G)?[G,void 0]:[void 0,G];return Mt({title:Y},D,Object.assign(Object.assign({},t),{title:at}))})(),{focus:A,itemSpacing:c,focusMarkerSize:l,itemMarkerSize:u,titleSpacing:f,rowPadding:d,colPadding:h,maxCols:g=1/0,maxRows:v=1/0}=s,y=If(s,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:w,length:b}=t,B=D=>Math.min(D,v),E=D=>Math.min(D,g),S=r==="left"||r==="right",F=b===void 0?e+(S?0:n[0]+n[1]):b,k=hb(t,a),{render:T}=t;if(T&&typeof document!="undefined"){const D=k.getOptions().domain,{labelFormatter:G}=y,Y=mt=>G?typeof G=="string"?fu(G)(mt):G(mt):`${mt}`,at=D.map((mt,Lt)=>({id:mt,index:Lt,label:Y(mt),value:mt,color:k.map(mt)})),it=T(at,y),At=document.createElement("div"),{width:ht,height:ut}=t,Ct={position:"absolute",visibility:"hidden",top:"-9999px"};ht?Ct.width=`${ht}px`:S||(Ct.width=`${F}px`),ut?Ct.height=`${ut}px`:S&&(Ct.height=`${F}px`),Object.assign(At.style,Ct),typeof it=="string"?At.innerHTML=it:it instanceof HTMLElement&&At.appendChild(it),document.body.appendChild(At);const _t=At.getBoundingClientRect();document.body.removeChild(At),t.size=S?_t.width:_t.height;return}const L=pb(y),P=ay(y,k,"itemLabel"),R=y.itemValueText!==void 0?ay(y,k,"itemValue"):null,U=Math.max(P[0].height,u,...R!=null&&R[0]?[R[0].height]:[])+d,N=(D,G=0)=>{let Y=u+D+c[0]+G;return R!=null&&R[0]&&(Y+=R[0].width+c[1]),A&&(Y+=l+c[2]),Y};S?(()=>{let D=-1/0,G=0,Y=1,at=0,it=-1/0,At=-1/0;const ht=L?L.height:0,ut=F-ht;for(const{width:Ct}of P){const _t=N(Ct,h);D=Math.max(D,_t),G+U>ut?(Y++,it=Math.max(it,at),At=Math.max(At,G),at=1,G=U):(G+=U,at++)}Y<=1&&(it=at,At=G),t.size=D*E(Y),t.length=At+ht,Mt(t,{cols:E(Y),gridRow:it})})():typeof w=="number"?(()=>{const D=Math.ceil(P.length/w),G=hr(P,Y=>N(Y.width))*w;t.size=U*B(D)-d,t.length=Math.min(G,F)})():(()=>{let D=1,G=0,Y=-1/0;for(const{width:at}of P){const it=N(at,h);G+it>F?(Y=Math.max(Y,G),G=it,D++):G+=it}D===1&&(Y=G),t.size=U*B(D)-d,t.length=Y})(),L&&(S?t.size=Math.max(t.size,L.width):t.size+=f+L.height)}function hb(t,e){const[n]=Wr("scale",e),{scales:r,tickCount:i,tickMethod:a}=t,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),n(o)}function ay(t,e,n="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=t,o=If(t,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=gV(e,r,i),A=qt(o,n),c=s.map((f,d)=>Object.fromEntries(Object.entries(A).map(([h,g])=>[h,typeof g=="function"?g(f,d):g]))),l=s.map((f,d)=>{const h=c[d];return gb(f,h)});if(!c.some(f=>f.transform)){const f=s.map((d,h)=>h);t.indexBBox=new Map(f.map(d=>[d,[s[d],l[d]]]))}return l}function pb(t){const e=c=>c===!1||c===null,{title:n}=t,r=If(t,["title"]);if(e(n)||n===void 0)return null;const i=qt(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:gb(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function mL(t,e,n){const{title:r}=t,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${n_(e)}`]:s}=n;return Mt({title:i},o,s,Object.assign(Object.assign({},t),{title:a}))}function wL(t,e){const n=t.getTicks?t.getTicks():t.getOptions().domain;return e?n.filter(e):n}function gV(t,e,n){const i=wL(t,n).map(o=>typeof o=="number"?xw(o):o),a=e?typeof e=="string"?fu(e):e:t.getFormatter?t.getFormatter():o=>`${o}`;return i.map(a)}function vV(t,e){return t.getBandWidth?t.getBandWidth(e)/2:0}function yV(t,e,n,r,i){if(xA(e,d=>d.width)>n)return!0;const o=t.clone();o.update({range:[0,n]});const s=wL(t,i),A=s.map(d=>o.map(d)+vV(o,d)),c=s.map((d,h)=>h),l=-r[0],u=n+r[1],f=(d,h)=>{const{width:g}=h;return[d-g/2,d+g/2]};for(let d=0;d<c.length;d++){const h=A[d],[g,v]=f(h,e[d]);if(g<l||v>u)return!0;const y=A[d+1];if(y){const[w]=f(y,e[d+1]);if(v>w)return!0}}return!1}function gb(t,e){const n=mV(t),{filter:r}=e,i=If(e,["filter"]);return n.attr(Object.assign(Object.assign({},i),{visibility:"none"})),n.getBBox()}function mV(t){return t instanceof Dr?t:new yA({style:{text:`${t}`}})}function Ks(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function wV(t){if(mh(t))return t[0]}const bL=16;function bV(t){const e=t.find(({type:i})=>i==="axisX"),n=t.find(({type:i})=>i==="axisY"),r=t.find(({type:i})=>i==="axisZ");e&&n&&r&&(e.plane="xy",n.plane="xy",r.plane="yz",r.origin=[e.bbox.x,e.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=e.bbox.x,r.bbox.y=e.bbox.y,t.push(Object.assign(Object.assign({},e),{plane:"xz",showLabel:!1,showTitle:!1,origin:[e.bbox.x,e.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function BV(t,e,n,r){var i,a,o,s;const{width:A,height:c,depth:l,x:u=0,y:f=0,z:d=0,inset:h=(i=n.inset)!==null&&i!==void 0?i:0,insetLeft:g=h,insetTop:v=h,insetBottom:y=h,insetRight:w=h,margin:b=(a=n.margin)!==null&&a!==void 0?a:0,marginLeft:B=b,marginBottom:E=b,marginTop:S=b,marginRight:F=b,padding:k=n.padding,paddingBottom:T=k,paddingLeft:L=k,paddingRight:P=k,paddingTop:R=k}=_V(t,e,n,r),U=B===bL&&L==="auto",N=F===bL&&P==="auto",j=nn(e,"coordinates",[]).some(me=>me.type==="transpose"),z=t.find(({type:me})=>me==="axisX"),{size:W,labelTransform:D}=z||{},G=1/4,Y=(me,Fe,Jn,tr,Sn)=>{const{marks:jr}=e;if(jr.length===0)return[tr,Sn];if(me-tr-Sn-me*G>0)return[tr,Sn];const Nn=me*(1-G);return[Fe==="auto"?Nn*tr/(tr+Sn):tr,Jn==="auto"?Nn*Sn/(tr+Sn):Sn]},at=me=>me==="auto"?20:me!=null?me:20,it=at(R),At=at(T),ht=BL(t,c-it-At,[it+S,At+E],["left","right"],e,n,r),{paddingLeft:ut,paddingRight:Ct}=ht,_t=A-B-F;let[mt,Lt]=Y(_t,L,P,ut,Ct),Nt=_t-mt-Lt;const Vt=BL(t,Nt,[mt+B,Lt+F],["bottom","top"],e,n,r),{paddingTop:Wt,paddingBottom:Zt}=Vt,pe=c-E-S,[Ce,Qe]=Y(pe,T,R,Zt,Wt),se=pe-Ce-Qe;if(W&&!j&&!D){const{fontSize:me=12,fontFamily:Fe="sans-serif",scales:Jn=[]}=z,tr=(s=(o=Jn==null?void 0:Jn[0])===null||o===void 0?void 0:o.domain)!==null&&s!==void 0?s:[];if(!tr.length)return;const Sn=(jr,Lr,_r,Nn)=>{const Qr=pk(Lr,{fontSize:me,fontFamily:Fe}),Zr=Qr/2-_r-Nn;Zr>0&&(Nt-=Zr,jr==="left"?mt+=Qr/2-_r:Lt+=Qr/2-_r)};U&&Sn("left",wV(tr),B,mt),N&&Sn("right",Gs(tr),F,Lt)}return{width:A,height:c,depth:l,insetLeft:g,insetTop:v,insetBottom:y,insetRight:w,innerWidth:Nt,innerHeight:se,paddingLeft:mt,paddingRight:Lt,paddingTop:Qe,paddingBottom:Ce,marginLeft:B,marginBottom:E,marginTop:S,marginRight:F,x:u,y:f,z:d}}function xV(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:A=16,marginLeft:c=A,marginRight:l=A,marginTop:u=A,marginBottom:f=A,inset:d=0,insetLeft:h=d,insetRight:g=d,insetTop:v=d,insetBottom:y=d}=t,w=E=>E==="auto"?20:E,b=n-w(i)-w(a)-c-l-h-g,B=e-w(o)-w(s)-u-f-v-y;return{width:b,height:B}}function _V(t,e,n,r){const{coordinates:i}=e;if(!Qh(i)&&!ey(i))return e;const a=t.filter(y=>typeof y.type=="string"&&y.type.startsWith("axis"));if(a.length===0)return e;const o=a.map(y=>{const w=y.type==="axisArc"?"arc":"linear";return mL(y,w,n)}),s=hr(o,y=>{var w;return(w=y.labelSpacing)!==null&&w!==void 0?w:0}),A=a.flatMap((y,w)=>{const b=o[w],B=hb(y,r);return ay(b,B)}).filter(Tr),c=hr(A,y=>y.height)+s,l=a.flatMap((y,w)=>{const b=o[w];return pb(b)}).filter(y=>y!==null),u=l.length===0?0:hr(l,y=>y.height),{inset:f=c,insetLeft:d=f,insetBottom:h=f,insetTop:g=f+u,insetRight:v=f}=e;return Object.assign(Object.assign({},e),{insetLeft:d,insetBottom:h,insetTop:g,insetRight:v})}function BL(t,e,n,r,i,a,o){const s=kr(t,h=>h.position),{padding:A=a.padding,paddingLeft:c=A,paddingRight:l=A,paddingBottom:u=A,paddingTop:f=A}=i,d={paddingBottom:u,paddingLeft:c,paddingTop:f,paddingRight:l};for(const h of r){const g=`padding${n_(Y_(h))}`,v=s.get(h)||[],y=d[g],w=T=>{T.size===void 0&&(T.size=T.defaultSize)},b=T=>{T.type==="group"?(T.children.forEach(w),T.size=hr(T.children,L=>L.size)):T.size=T.defaultSize},B=T=>{T.size||(y!=="auto"?b(T):(yL(T,e,n,h,a,o),w(T)))},E=T=>{T.type.startsWith("axis")&&T.labelAutoHide===void 0&&(T.labelAutoHide=!0)},S=h==="bottom"||h==="top",F=Ks(v,T=>T.order),k=v.filter(T=>T.type.startsWith("axis")&&T.order==F);if(k.length&&(k[0].crossPadding=0),typeof y=="number")v.forEach(w),v.forEach(E);else if(v.length===0)d[g]=0;else{const T=S?e+n[0]+n[1]:e,L=vL(v,T);L.forEach(B);const P=L.reduce((R,{size:U,crossPadding:N=12})=>R+U+N,0);d[g]=P}}return d}function CV(t,e,n){const r=kr(t,S=>`${S.plane||"xy"}-${S.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:g,insetRight:v,insetTop:y,height:w,width:b,depth:B}=n,E={xy:bC({width:b,height:w,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:A,marginTop:c,marginBottom:l,marginRight:u,innerHeight:f,innerWidth:d,insetBottom:h,insetLeft:g,insetRight:v,insetTop:y}),yz:bC({width:B,height:w,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:B,innerHeight:w,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:bC({width:b,height:B,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:b,innerHeight:B,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[S,F]of r.entries()){const[k,T]=S.split("-"),L=E[k][T],[P,R]=GF(F,U=>typeof U.type!="string"?!1:!!(T==="center"||U.type.startsWith("axis")&&["inner","outer"].includes(T)));P.length&&OV(P,e,L,T),R.length&&QV(F,e,L)}}function bC({width:t,height:e,paddingLeft:n,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:A,marginRight:c,innerHeight:l,innerWidth:u,insetBottom:f,insetLeft:d,insetRight:h,insetTop:g}){const v=n+o,y=i+s,w=r+c,b=a+A,B=t-o-c,E=[v+d,y+g,u-d-h,l-g-f,"center",null,null];return{top:[v,0,u,y,"vertical",!0,Ti,o,B],right:[t-w,y,w,l,"horizontal",!1,Ti],bottom:[v,e-b,u,b,"vertical",!1,Ti,o,B],left:[0,y,v,l,"horizontal",!0,Ti],"top-left":[v,0,u,y,"vertical",!0,Ti],"top-right":[v,0,u,y,"vertical",!0,Ti],"bottom-left":[v,e-b,u,b,"vertical",!1,Ti],"bottom-right":[v,e-b,u,b,"vertical",!1,Ti],center:E,inner:E,outer:E}}function OV(t,e,n,r){const[i,a]=GF(t,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));EV(i,e,n,r),UV(a,e,n)}function EV(t,e,n,r){r==="center"?nj(e)?LV(t,e,n,r):Ar(e)?FV(t,e,n):Tv(e)&&kV(t,e,n,t[0].orientation):r==="inner"?SV(t,e,n):r==="outer"&&MV(t,e,n)}function SV(t,e,n){const[r,i,,a]=n,[o,s]=e.getCenter(),[A]=_w(e),c=a/2,l=A*c,u=o-l,f=s-l;for(let d=0;d<t.length;d++){const h=t[d];h.bbox={x:r+u,y:i+f,width:l*2,height:l*2}}}function MV(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function FV(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function kV(t,e,n,r){r==="horizontal"?IV(t,e,n):r==="vertical"&&TV(t,e,n)}function TV(t,e,n){const[r,i,,a]=n,o=new Array(t.length).fill(0),A=e.map(o).filter((c,l)=>l%2===0).map(c=>c+r);for(let c=0;c<t.length;c++){const l=t[c],u=A[c],f=A[c+1]-u;l.bbox={x:u,y:i,width:f,height:a}}}function IV(t,e,n){const[r,i,a]=n,o=new Array(t.length).fill(0),A=e.map(o).filter((c,l)=>l%2===1).map(c=>c+i);for(let c=0;c<t.length;c++){const l=t[c],u=A[c],f=A[c+1]-u;l.bbox={x:r,y:u,width:a,height:f}}}function LV(t,e,n,r){const[i,a,o,s]=n;for(const A of t)A.bbox={x:i,y:a,width:o,height:s},A.radar={index:t.indexOf(A),count:t.length}}function QV(t,e,n){const[r,i,a,o,s,A,c,l,u]=n,[f,d,h,g,v,y,w,b]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];t.sort((T,L)=>c==null?void 0:c(T.order,L.order));const B=T=>T==="title"||T==="group"||T.startsWith("legend"),E=(T,L,P)=>P===void 0?L:B(T)?P:L,S=(T,L,P)=>P===void 0?L:B(T)?P:L,F=A?d+y:d;for(let T=0,L=F;T<t.length;T++){const P=t[T],{crossPadding:R=0,type:U}=P,{size:N}=P;P.bbox={[f]:A?L-N-R:L+R,[h]:S(U,g,l),[v]:N,[w]:E(U,b,u)},L+=(N+R)*(A?-1:1)}const k=t.filter(T=>T.type==="group");for(const T of k){const{bbox:L,children:P}=T,R=L[w],U=R/P.length,N=P.reduce((G,Y)=>{var at;const it=(at=Y.layout)===null||at===void 0?void 0:at.justifyContent;return it||G},"flex-start"),j=P.map((G,Y)=>{const{length:at=U,padding:it=0}=G;return at+(Y===P.length-1?0:it)}),z=xA(j),W=R-z,D=N==="flex-start"?0:N==="center"?W/2:W;for(let G=0,Y=L[h]+D;G<P.length;G++){const at=P[G],{padding:it=0}=at,At=G===P.length-1?0:it;at.bbox={[v]:L[v],[f]:L[f],[h]:Y,[w]:j[G]-At},Mt(at,{layout:{justifyContent:N}}),Y+=j[G]}}}function UV(t,e,n){if(t.length===0)return;const[r,i,a,o]=n,[s]=_w(e),A=o/2*s/Math.sqrt(2),c=r+a/2,l=i+o/2;for(let u=0;u<t.length;u++){const f=t[u];f.bbox={x:c-A,y:l-A,width:A*2,height:A*2}}}function cl(t,e,n={},r=!1){if(uu(t)||Array.isArray(t)&&r)return t;const i=qt(t,e);return Mt(n,i)}function vb(t,e={}){return uu(t)||Array.isArray(t)||!xL(t)?t:Mt(e,t)}function xL(t){if(Object.keys(t).length===0)return!0;const{title:e,items:n}=t;return e!==void 0||n!==void 0}function ll(t,e){return typeof t=="object"?qt(t,e):t}var PV=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},Ig=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const BC=Symbol("CALLBACK_ITEM");function RV(t,e,n){const{encode:r={},scale:i={},transform:a=[]}=e,o=Ig(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function _L(t,e,n){return PV(this,void 0,void 0,function*(){const{library:r}=n,{data:i}=e,[a]=Wr("data",r),o=qV(i),{transform:s=[]}=o,l=[Ig(o,["transform"]),...s].map(d=>a(d,n)),u=yield w6(l)(i),f=i&&!Array.isArray(i)&&!Array.isArray(u)?{value:u}:u;return[Array.isArray(u)?yh(u):[],Object.assign(Object.assign({},e),{data:f})]})}function NV(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=`${a}${s===0?"":s}`;i[A]=o[s]}else i[a]=o;return[t,Object.assign(Object.assign({},e),{encode:i})]}function DV(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const a=tl(r,o=>YV(o)?o:{type:$V(i,o),value:o});return[t,Object.assign(Object.assign({},e),{encode:a})]}function HV(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i=tl(r,(a,o)=>{const{type:s}=a;return s!=="constant"||WW(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[t,Object.assign(Object.assign({},e),{encode:i})]}function jV(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const{library:a}=n,o=eZ(a),s=tl(r,A=>o(i,A));return[t,Object.assign(Object.assign({},e),{encode:s})]}function GV(t,e,n){const{tooltip:r={}}=e;return uu(r)?[t,e]:Array.isArray(r)?[t,Object.assign(Object.assign({},e),{tooltip:{items:r}})]:dg(r)&&xL(r)?[t,Object.assign(Object.assign({},e),{tooltip:r})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[r]}})]}function KV(t,e,n){const{data:r,encode:i,tooltip:a={}}=e;if(uu(a))return[t,e];const o=u=>{if(!u)return u;if(typeof u=="string")return t.map(f=>({name:u,value:r[f][u]}));if(dg(u)){const{field:f,channel:d,color:h,name:g=f,valueFormatter:v=S=>S}=u,y=typeof v=="string"?fu(v):v,w=d&&i[d],b=w&&i[d].field,B=g||b||d,E=[];for(const S of t){const F=f?r[S][f]:w?i[d].value[S]:null;E[S]={name:B,color:h,value:y(F)}}return E}if(typeof u=="function"){const f=[];for(const d of t){const h=u(r[d],d,r,i);dg(h)?f[d]=Object.assign(Object.assign({},h),{[BC]:!0}):f[d]={value:h}}return f}return u},{title:s,items:A=[]}=a,c=Ig(a,["title","items"]),l=Object.assign({title:o(s),items:Array.isArray(A)?A.map(o):[]},c);return[t,Object.assign(Object.assign({},e),{tooltip:l})]}function zV(t,e,n){const{encode:r}=e,i=Ig(e,["encode"]);if(!r)return[t,e];const a=Object.entries(r),o=a.filter(([,A])=>{const{value:c}=A;return Array.isArray(c[0])}).flatMap(([A,c])=>{const l=[[A,new Array(t.length).fill(void 0)]],{value:u}=c,f=Ig(c,["value"]);for(let d=0;d<u.length;d++){const h=u[d];if(Array.isArray(h))for(let g=0;g<h.length;g++){const v=l[g]||[`${A}${g}`,new Array(t).fill(void 0)];v[1][d]=h[g],l[g]=v}}return l.map(([d,h])=>[d,Object.assign({type:"column",value:h},f)])}),s=Object.fromEntries([...a,...o]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function WV(t,e,n){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=e,s=(c,l)=>{if(typeof c=="boolean")return c?{}:null;const u=c[l];return u===void 0||u?u:null},A=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return Mt(e,{scale:Object.assign(Object.assign({},Object.fromEntries(A.map(c=>{const l=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(a,c),scrollbar:l},l&&{ratio:l.ratio===void 0?.5:l.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,e]}function VV(t,e,n){const{animate:r}=e;return r||r===void 0?[t,e]:(Mt(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e])}function ZV(t,e,n){var r,i;return Mt(e,{scale:{series:Object.assign({key:`DEFAULT_${e.type}_SERIES_KEY`},(i=(r=e==null?void 0:e.scale)===null||r===void 0?void 0:r.series)!==null&&i!==void 0?i:{})}}),[t,e]}function YV(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:e}=t;return Tr(e)}function $V(t,e){return typeof e=="function"?"transform":typeof e=="string"&&XV(t,e)?"field":"constant"}function XV(t,e){return Array.isArray(t)?t.some(n=>n[e]!==void 0):!1}function qV(t){if(rr(t))return{type:"inline",value:t};if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,n=Ig(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}var CL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},JV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function tZ(t,e,n){return CL(this,void 0,void 0,function*(){const[r,i]=yield nZ(t,e,n),{encode:a,scale:o,data:s,tooltip:A,key:c}=i;if(Array.isArray(s)===!1)return null;const{channels:l}=e,u=uw(Object.entries(a).filter(([,d])=>Tr(d)),d=>d.map(([h,g])=>Object.assign({name:h},g)),([d])=>{var h;const g=(h=/([^\d]+)\d*$/.exec(d))===null||h===void 0?void 0:h[1],v=l.find(y=>y.name===g);return v!=null&&v.independent?d:g}),f=l.filter(d=>{const{name:h,required:g}=d;if(u.find(([v])=>v===h))return!0;if(g)throw new Error(`Missing encoding for channel: ${h}.`);return!1}).flatMap(d=>{const{name:h,scale:g,scaleKey:v,range:y,quantitative:w,ordinal:b}=d;return u.filter(([E])=>E.startsWith(h)).map(([E,S],F)=>{const k=S.some(W=>W.visual),T=S.some(W=>W.constant),L=o[E]||{},{independent:P=!1,key:R=v||E,type:U=T?"constant":k?"identity":g}=L,N=JV(L,["independent","key","type"]),j=U==="constant",z=j?void 0:y;return{name:E,values:S,scaleKey:P||j?Symbol("independent"):R,scale:Object.assign(Object.assign({type:U,markKey:c,range:z},N),{quantitative:w,ordinal:b})}})});return[i,Object.assign(Object.assign({},e),{index:r,channels:f,tooltip:A})]})}function eZ(t){const[e]=Wr("encode",t);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:e(r)(n),field:rZ(r)})}function nZ(t,e,n){return CL(this,void 0,void 0,function*(){const{library:r}=n,[i]=Wr("transform",r),{preInference:a=[],postInference:o=[]}=e,{transform:s=[]}=t,A=[RV,_L,NV,DV,HV,jV,zV,VV,WV,GV,ZV,...a.map(i),...s.map(i),...o.map(i),KV];let c=[],l=t;for(const u of A)[c,l]=yield u(c,l,n);return[c,l]})}function rZ(t){const{type:e,value:n}=t;return e==="field"&&typeof n=="string"?n:null}var bu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},Lf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xC(t,e,n){return bu(this,void 0,void 0,function*(){var r;const{library:i}=n,[a]=Wr("composition",i),[o]=Wr("interaction",i),s=new Set(Object.keys(i).map(U=>{var N;return(N=/mark\.(.*)/.exec(U))===null||N===void 0?void 0:N[1]}).filter(Tr)),A=new Set(Object.keys(i).map(U=>{var N;return(N=/component\.(.*)/.exec(U))===null||N===void 0?void 0:N[1]}).filter(Tr)),c=U=>{const{type:N}=U;if(typeof N=="function"){const{props:j={}}=N,{composite:z=!0}=j;if(z)return"mark"}return typeof N!="string"?N:s.has(N)||A.has(N)?"mark":N},l=U=>c(U)==="mark",u=U=>c(U)==="standardView",f=U=>{const{type:N}=U;return typeof N!="string"?!1:!!A.has(N)},d=U=>{if(u(U))return[U];const N=c(U);return a({type:N,static:f(U)})(U)},h=[],g=new Map,v=new Map,y=[t],w=[];for(;y.length;){const U=y.shift();if(u(U)){const N=v.get(U),[j,z]=N?ML(N,U,i):yield EL(U,n);g.set(j,U),h.push(j);const W=z.flatMap(d).map(D=>fI(D,i));if(y.push(...W),W.every(u)){const D=yield Promise.all(W.map(G=>SL(G,n)));_W(D);for(let G=0;G<W.length;G++){const Y=W[G],at=D[G];v.set(Y,at)}}}else{const N=l(U)?U:yield IL(U,n),j=d(N);Array.isArray(j)?y.push(...j):typeof j=="function"&&w.push(j())}}n.emitter.emit(sr.BEFORE_PAINT);const b=new Map,B=new Map,E=[];e.selectAll(MA(La)).data(h,U=>U.key).join(U=>U.append("g").attr("className",La).attr("id",N=>N.key).call(OL).each(function(N,j,z){CC(N,Ze(z),E,n),b.set(N,z)}),U=>U.call(OL).each(function(N,j,z){CC(N,Ze(z),E,n),B.set(N,z)}),U=>U.each(function(N,j,z){const W=z.nameInteraction.values();for(const D of W)D.destroy()}).remove());const S=(U,N,j)=>Array.from(U.entries()).map(([z,W])=>{const D=j||new Map,G=(At,ht=ut=>ut)=>D.set(At,ht),Y=g.get(z),at=aZ(Ze(W),Y,n),it={view:z,container:W,options:Y,setState:G,update:(At,ht)=>bu(this,void 0,void 0,function*(){const Ct=e_(Array.from(D.values()))(Y);return yield at(Ct,At,()=>{Sr(ht)&&N(U,ht,D)})})};return n.externals.update=it.update,n.externals.setState=G,it}),F=(U=B,N,j)=>{var z;const W=S(U,F,j);for(const D of W){const{options:G,container:Y}=D,at=Y.nameInteraction;let it=yb(G);N&&(it=it.filter(At=>N.includes(At[0])));for(const At of it){const[ht,ut]=At,Ct=at.get(ht);if(Ct&&((z=Ct.destroy)===null||z===void 0||z.call(Ct)),ut){const mt=_C(D.view,ht,ut,o)(D,W,n.emitter);at.set(ht,{destroy:mt})}}}},k=S(b,F);for(const U of k){const{options:N}=U,j=new Map;U.container.nameInteraction=j;for(const z of yb(N)){const[W,D]=z;if(D){const Y=_C(U.view,W,D,o)(U,k,n.emitter);j.set(W,{destroy:Y})}}}F();const{width:T,height:L}=t,P=[];for(const U of w){const N=new Promise(j=>bu(this,void 0,void 0,function*(){for(const z of U){const W=Object.assign({width:T,height:L},z);yield xC(W,e,n)}j()}));P.push(N)}n.views=h,(r=n.animations)===null||r===void 0||r.forEach(U=>U==null?void 0:U.cancel()),n.animations=E,n.emitter.emit(sr.AFTER_PAINT);const R=E.filter(Tr).map(bZ).map(U=>U.finished);return Promise.all([...R,...P])})}function OL(t){t.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function iZ(t){const[,e]=Wr("interaction",t);return n=>{const[r,i]=n;try{return[r,e(r)]}catch(a){return[r,i.type]}}}function aZ(t,e,n){const{library:r}=n,i=iZ(r),a=A=>A[1]&&A[1].props&&A[1].props.reapplyWhenUpdate,s=yb(e).map(i).filter(a).map(A=>A[0]);return(A,c,l)=>bu(this,void 0,void 0,function*(){const u=[],[f,d]=yield EL(A,n);CC(f,t,u,n);for(const h of s.filter(g=>g!==c))oZ(h,t,A,f,n);for(const h of d)xC(h,t,n);return l(),{options:A,view:f}})}function oZ(t,e,n,r,i){var a;const{library:o}=i,[s]=Wr("interaction",o),c=e.node().nameInteraction,l=yb(n).find(([g])=>g===t),u=c.get(t);if(!u||((a=u.destroy)===null||a===void 0||a.call(u),!l[1]))return;const f=_C(r,t,l[1],s),d={options:n,view:r,container:e.node(),update:g=>Promise.resolve(g)},h=f(d,[],i.emitter);c.set(t,{destroy:h})}function EL(t,e){return bu(this,void 0,void 0,function*(){const{library:n}=e,r=yield AZ(t,e),i=sZ(r);t.interaction=i.interaction,t.coordinate=i.coordinate,t.marks=[...i.marks,...i.components];const a=fI(i,n),o=yield SL(a,e);return ML(o,a,n)})}function sZ(t){const{coordinate:e={},interaction:n={},style:r={},marks:i}=t,a=Lf(t,["coordinate","interaction","style","marks"]),o=i.map(f=>f.coordinate||{}),s=i.map(f=>f.interaction||{}),A=i.map(f=>f.viewStyle||{}),c=[...o,e].reduceRight((f,d)=>Mt(f,d),{}),l=[n,...s].reduce((f,d)=>Mt(f,d),{}),u=[...A,r].reduce((f,d)=>Mt(f,d),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:l,style:u})}function AZ(t,e){return bu(this,void 0,void 0,function*(){const{library:n}=e,[r,i]=Wr("mark",n),a=new Set(Object.keys(n).map(d=>{var h;return(h=/component\.(.*)/.exec(d))===null||h===void 0?void 0:h[1]}).filter(Tr)),{marks:o}=t,s=[],A=[],c=[...o],{width:l,height:u}=xV(t),f={options:t,width:l,height:u};for(;c.length;){const[d]=c.splice(0,1),h=yield IL(d,e),{type:g=fg("G2Mark type is required."),key:v}=h;if(a.has(g))A.push(h);else{const{props:y={}}=i(g),{composite:w=!0}=y;if(!w)s.push(h);else{const{data:b}=h,B=Object.assign(Object.assign({},h),{data:b&&(Array.isArray(b)?b:b.value)}),E=yield r(B,f),S=Array.isArray(E)?E:[E];c.unshift(...S.map((F,k)=>Object.assign(Object.assign({},F),{key:`${v}-${k}`})))}}}return Object.assign(Object.assign({},t),{marks:s,components:A})})}function SL(t,e){return bu(this,void 0,void 0,function*(){const{library:n}=e,[r]=Wr("theme",n),[,i]=Wr("mark",n),{theme:a,marks:o,coordinates:s=[]}=t,A=r(TL(a)),c=new Map;for(const u of o){const{type:f}=u,{props:d={}}=i(f),h=yield tZ(u,d,e);if(h){const[g,v]=h;c.set(g,v)}}const l=kr(Array.from(c.values()).flatMap(u=>u.channels),({scaleKey:u})=>u);for(const u of l.values()){const f=u.reduce((B,{scale:E})=>Mt(B,E),{}),{scaleKey:d}=u[0],{values:h}=u[0],g=Array.from(new Set(h.map(B=>B.field).filter(Tr))),v=Mt({guide:{title:g.length===0?void 0:g},field:g[0]},f),{name:y}=u[0],w=u.flatMap(({values:B})=>B.map(E=>E.value)),b=Object.assign(Object.assign({},mW(y,w,v,s,A,n)),{uid:Symbol("scale"),key:d});u.forEach(B=>B.scale=b)}return c})}function _C(t,e,n,r){const i=t.theme,a=typeof e=="string"?i[e]||{}:{};return r(Mt(a,Object.assign({type:e},n)))}function ML(t,e,n){var r;const[i]=Wr("mark",n),[a]=Wr("theme",n),[o]=Wr("labelTransform",n),{key:s,frame:A=!1,theme:c,clip:l,style:u={},labelTransform:f=[]}=e,d=a(TL(c)),h=Array.from(t.values()),g=BW(h,e),v=JW(qW(_Z(Array.from(g),h,t),e,n)),y=BV(v,e,d,n),w=$K(y,e,n),b=A?Mt({mainLineWidth:1,mainStroke:"#000"},u):u;CV(vL(v),w,y),bV(v);const B=new Map(Array.from(t.values()).flatMap(T=>{const{channels:L}=T;return L.map(({scale:P})=>[P.uid,sL(P,n)])}));bW(t,B);const E={};for(const T of v){const{scales:L=[]}=T,P=[];for(const R of L){const{name:U,uid:N}=R,j=(r=B.get(N))!==null&&r!==void 0?r:sL(R,n);P.push(j),U==="y"&&j.update(Object.assign(Object.assign({},j.getOptions()),{xScale:E.x})),oL(E,{[U]:j})}T.scaleInstances=P}const S=[],F=new Map;for(const[T,L]of t.entries()){const{children:P,dataDomain:R,modifier:U,key:N,data:j}=T;F.set(N,j);const{index:z,channels:W,tooltip:D}=L,G=Object.fromEntries(W.map(({name:Wt,scale:Zt})=>[Wt,Zt])),Y=tl(G,({uid:Wt})=>B.get(Wt));oL(E,Y);const at=wW(W,Y),it=i(T),[At,ht,ut]=fZ(it(z,Y,at,w)),Ct=R||At.length,_t=U?U(ht,Ct,y):[],mt=Wt=>{var Zt,pe;return(pe=(Zt=D.title)===null||Zt===void 0?void 0:Zt[Wt])===null||pe===void 0?void 0:pe.value},Lt=Wt=>D.items.map(Zt=>Zt[Wt]),Nt=At.map((Wt,Zt)=>{const pe=Object.assign({points:ht[Zt],transform:_t[Zt],index:Wt,markKey:N,viewKey:s,data:j[Wt]},D&&{title:mt(Wt),items:Lt(Wt)});for(const[Ce,Qe]of Object.entries(at))pe[Ce]=Qe[Wt],ut&&(pe[`series${Cf(Ce)}`]=ut[Zt].map(se=>Qe[se]));return ut&&(pe.seriesIndex=ut[Zt]),ut&&D&&(pe.seriesItems=ut[Zt].map(Ce=>Lt(Ce)),pe.seriesTitle=ut[Zt].map(Ce=>mt(Ce))),pe});L.data=Nt,L.index=At;const Vt=P==null?void 0:P(Nt,Y,y);S.push(...Vt||[])}return[{layout:y,theme:d,coordinate:w,markState:t,key:s,clip:l,scale:E,style:b,components:v,data:F,options:e,labelTransform:e_(f.map(o))},S]}function CC(t,e,n,r){return bu(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:A,coordinate:c,key:l,style:u,clip:f,scale:d}=t,{x:h,y:g,width:v,height:y}=s,w=Lf(s,["x","y","width","height"]),b=["view","plot","main","content"],B=b.map((D,G)=>G),E=["a","margin","padding","inset"],S=b.map(D=>SF(Object.assign({},o.view,u),D)),F=E.map(D=>qt(w,D)),k=D=>D.style("x",G=>U[G].x).style("y",G=>U[G].y).style("width",G=>U[G].width).style("height",G=>U[G].height).each(function(G,Y,at){CZ(Ze(at),S[G])});let T=0,L=0,P=v,R=y;const U=B.map(D=>{const G=F[D],{left:Y=0,top:at=0,bottom:it=0,right:At=0}=G;return T+=Y,L+=at,P-=Y+At,R-=at+it,{x:T,y:L,width:P,height:R}});e.selectAll(MA(Qa)).data(B.filter(D=>Tr(S[D])),D=>b[D]).join(D=>D.append("rect").attr("className",Qa).style("zIndex",-2).call(k),D=>D.call(k),D=>D.remove());const N=gZ(A),j=N?{duration:N[1]}:!1;for(const[,D]of lw(a,G=>`${G.type}-${G.position}`))D.forEach((G,Y)=>G.index=Y);const z=e.selectAll(MA(xc)).data(a,D=>`${D.type}-${D.position}-${D.index}`).join(D=>D.append("g").style("zIndex",({zIndex:G})=>G||-1).attr("className",xc).append(G=>gL(Mt({animate:j,scale:d},G),c,o,i,A)),D=>D.transition(function(G,Y,at){const{preserve:it=!1}=G;if(it)return;const At=gL(Mt({animate:j,scale:d},G),c,o,i,A),{attributes:ht}=At,[ut]=at.childNodes;return ut.update(ht,!1)})).transitions();n.push(...z.flat().filter(Tr));const W=e.selectAll(MA(wa)).data([s],()=>l).join(D=>D.append("rect").style("zIndex",0).style("fill","transparent").attr("className",wa).call(LL).call(UL,Array.from(A.keys())).call(PL,f),D=>D.call(UL,Array.from(A.keys())).call(LL).call(PL,f)).transitions();n.push(...W.flat());for(const[D,G]of A.entries()){const{data:Y}=G,{key:at,class:it,type:At}=D,ht=e.select(`#${at}`),ut=mZ(D,G,t,r),Ct=wZ(D,G,t,i),_t=BZ(D,G,t,i),mt=xZ(D,G,t,i),Lt=vZ(e,ht,it,"element"),Nt=ht.selectAll(MA(bi)).selectFacetAll(Lt).data(Y,Vt=>Vt.key,Vt=>Vt.groupKey).join(Vt=>Vt.append(ut).attr("className",bi).attr("markType",At).transition(function(Wt,Zt,pe){return Ct(Wt,[pe])}),Vt=>Vt.call(Wt=>{const Zt=Wt.parent(),pe=b6(Ce=>{const[Qe,se]=Ce.getBounds().min;return[Qe,se]});Wt.transition(function(Ce,Qe,se){yZ(se,Zt,pe);const me=ut(Ce,Qe),Fe=_t(Ce,[se],[me]);return Fe!=null&&Fe.length||(se.nodeName===me.nodeName&&me.nodeName!=="g"?gw(se,me):(se.parentNode.replaceChild(me,se),me.className=bi,me.markType=At,me.__data__=se.__data__)),Fe}).each(function(Ce,Qe,se){se.__removed__&&(se.__removed__=!1)}).attr("markType",At).attr("className",bi)}),Vt=>Vt.each(function(Wt,Zt,pe){pe.__removed__=!0}).transition(function(Wt,Zt,pe){return mt(Wt,[pe])}).remove(),Vt=>Vt.append(ut).attr("className",bi).attr("markType",At).transition(function(Wt,Zt,pe){const{__fromElements__:Ce}=pe,Qe=_t(Wt,Ce,[pe]);return new ea(Ce,null,pe.parentNode).transition(Qe).remove(),Qe}),Vt=>Vt.transition(function(Wt,Zt,pe){const Qe=new ea([],pe.__toData__,pe.parentNode).append(ut).attr("className",bi).attr("markType",At).nodes();return _t(Wt,[pe],Qe)}).remove()).transitions();n.push(...Nt.flat())}cZ(t,e,n,i,r),uZ(t,e,i,r)})}function cZ(t,e,n,r,i){const[a]=Wr("labelTransform",r),{markState:o,labelTransform:s}=t,A=e.select(MA(ni)).node(),c=new Map,l=new Map,u=Array.from(o.entries()).flatMap(([y,w])=>{const{labels:b=[],key:B}=y,E=pZ(y,w,t,r,i),S=e.select(`#${B}`).selectAll(MA(bi)).nodes().filter(F=>{var k;return F.__removed__?!1:!(((k=F.style)===null||k===void 0?void 0:k.visibility)==="hidden"||F.children&&F.children.some(L=>{var P;return((P=L.style)===null||P===void 0?void 0:P.visibility)==="hidden"}))});return b.flatMap((F,k)=>{const{transform:T=[]}=F,L=Lf(F,["transform"]);return S.flatMap(P=>{const R=lZ(L,k,P);return R.forEach(U=>{c.set(U,N=>E(Object.assign(Object.assign({},N),{element:P}))),l.set(U,F)}),R})})}),f=Ze(A).selectAll(MA(bs)).data(u,y=>y.key).join(y=>y.append(w=>c.get(w)(w)).attr("className",bs),y=>y.each(function(w,b,B){const S=c.get(w)(w);gw(B,S)}),y=>y.remove()).nodes(),d=kr(f,y=>l.get(y.__data__)),{coordinate:h,layout:g}=t,v={canvas:i.canvas,coordinate:h,layout:g};for(const[y,w]of d){const{transform:b=[]}=y;e_(b.map(a))(w,v)}s&&s(f,v)}function lZ(t,e,n){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=n.__data__,A=hZ(n);if(!r)return[Object.assign(Object.assign({},t),{key:`${o}-${e}`,bounds:A,index:s,points:a,dependentElement:n})];const c=dZ(t),l=r.map((u,f)=>Object.assign(Object.assign({},t),{key:`${i[f]}-${e}`,bounds:[a[f]],index:u,points:a,dependentElement:n}));return c?c(l):l}function uZ(t,e,n,r){const i=t.scale,a=nn(i,"y.options.breaks",[]),{document:o}=r.canvas;if([aa,oa].forEach(l=>{o.getElementsByClassName(l).forEach(u=>{u.remove()})}),!a.length)return;const s=e.select(MA(wa)).node(),[A]=Wr("shape",n),c=new Map;a.forEach((l,u)=>{c.set(l,A({type:"break"},{view:t,selection:e,context:r}))}),Ze(s).selectAll(MA(aa)).data(a,l=>l.key).join(l=>l.append((u,f)=>c.get(u)(u,f)).attr("className",aa),l=>l.each(function(u,f,d){const g=c.get(u)(u,f);gw(d,g)}),l=>l.remove()).nodes()}function fZ([t,e,n]){if(n)return[t,e,n];const r=[],i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a];s.every(([A,c])=>Tr(A)&&Tr(c))&&(r.push(o),i.push(s))}return[r,i]}function dZ(t){const{selector:e}=t;if(!e)return null;if(typeof e=="function")return e;if(e==="first")return n=>[n[0]];if(e==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${e}`)}function hZ(t){const e=t.cloneNode(!0),n=t.getAnimations();e.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();e.attr(s[s.length-1])}),t.parentNode.appendChild(e);const r=e.getLocalBounds();e.destroy();const{min:i,max:a}=r;return[i,a]}function pZ(t,e,n,r,i){const[a]=Wr("shape",r),{data:o,encode:s}=t,{data:A,defaultLabelShape:c}=e,l=A.map(g=>g.points),u=tl(s,g=>g.value),{theme:f,coordinate:d}=n,h=Object.assign(Object.assign({},i),{document:lI(i),theme:f,coordinate:d});return g=>{const{index:v,points:y}=g,w=o[v],{formatter:b=G=>`${G}`,transform:B,style:E,render:S,selector:F,element:k}=g,T=Lf(g,["formatter","transform","style","render","selector","element"]),L=tl(Object.assign(Object.assign({},T),E),G=>FL(G,w,v,o,{channel:u,element:k})),{shape:P=c,text:R}=L,U=Lf(L,["shape","text"]),N=typeof b=="string"?fu(b):b,j=Object.assign(Object.assign({},U),{text:N(R,w,v,o),datum:w}),z=Object.assign({type:`label.${P}`,render:S},U),W=a(z,h),D=kL(f,"label",P,"label");return W(y,j,D,l)}}function FL(t,e,n,r,i){return typeof t=="function"?t(e,n,r,i):typeof t!="string"?t:dg(e)&&e[t]!==void 0?e[t]:t}function gZ(t){let e=-1/0,n=1/0;for(const[r,i]of t){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:A={},exit:c={}}=a,{type:l,duration:u=300,delay:f=0}=A,{type:d,duration:h=300,delay:g=0}=s,{type:v,duration:y=300,delay:w=0}=c;for(const b of o){const{updateType:B=l,updateDuration:E=u,updateDelay:S=f,enterType:F=d,enterDuration:k=h,enterDelay:T=g,exitDuration:L=y,exitDelay:P=w,exitType:R=v}=b;(B===void 0||B)&&(e=Math.max(e,E+S),n=Math.min(n,S)),(R===void 0||R)&&(e=Math.max(e,L+P),n=Math.min(n,P)),(F===void 0||F)&&(e=Math.max(e,k+T),n=Math.min(n,T))}}return e===-1/0?null:[n,e-n]}function vZ(t,e,n,r){const i=t.node().parentElement;return!i||typeof i.findAll!="function"?[]:i.findAll(a=>a.style.facet!==void 0&&a.style.facet===n&&a!==e.node()).flatMap(a=>a.getElementsByClassName(r))}function yZ(t,e,n){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=e.parentNode,[a,o]=n(r),[s,A]=n(i),c=`translate(${a-s}, ${o-A})`;B6(t,c),e.append(t)}function mZ(t,e,n,r){const{library:i}=r,[a]=Wr("shape",i),{data:o,encode:s}=t,{defaultShape:A,data:c,shape:l}=e,u=tl(s,w=>w.value),f=c.map(w=>w.points),{theme:d,coordinate:h}=n,{type:g,style:v={}}=t,y=Object.assign(Object.assign({},r),{document:lI(r),coordinate:h,theme:d});return w=>{const{shape:b=A}=v,{shape:B=b,points:E,seriesIndex:S,index:F}=w,k=Lf(w,["shape","points","seriesIndex","index"]),T=Object.assign(Object.assign({},k),{index:F}),L=S?S.map(j=>o[j]):o[F],P=S||F,R=tl(v,j=>FL(j,L,P,o,{channel:u})),U=l[B]?l[B](R,y):a(Object.assign(Object.assign({},R),{type:QL(t,B)}),y),N=kL(d,g,B,A);return U(E,T,N,f)}}function kL(t,e,n,r){if(typeof e!="string")return;const{color:i}=t,a=t[e]||{},o=a[n]||a[r];return Object.assign({color:i},o)}function OC(t,e,n,r,i){var a,o;const[,s]=Wr("shape",i),[A]=Wr("animation",i),{defaultShape:c,shape:l}=n,{theme:u,coordinate:f}=r,h=`default${Cf(t)}Animation`,{[h]:g}=((a=l[c])===null||a===void 0?void 0:a.props)||s(QL(e,c)).props,{[t]:v={}}=u,y=((o=e.animate)===null||o===void 0?void 0:o[t])||{},w={coordinate:f};return(b,B,E)=>{const{[`${t}Type`]:S,[`${t}Delay`]:F,[`${t}Duration`]:k,[`${t}Easing`]:T}=b,L=Object.assign({type:S||g},y);if(!L.type)return null;const U=A(L,w)(B,E,Mt(v,{delay:F,duration:k,easing:T}));let N=[];return Array.isArray(U)?N=U:N=[U],N.filter(Boolean)}}function wZ(t,e,n,r){return OC("enter",t,e,n,r)}function bZ(t){return t.finished.then(()=>{t.cancel()}),t}function BZ(t,e,n,r){return OC("update",t,e,n,r)}function xZ(t,e,n,r){return OC("exit",t,e,n,r)}function TL(t={}){if(typeof t=="string")return{type:t};const{type:e="light"}=t,n=Lf(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}function yb(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=t;return Object.entries(Mt(e,n)).reverse()}function IL(t,e){return bu(this,void 0,void 0,function*(){const{data:n}=t,r=Lf(t,["data"]);if(n==null)return t;const[,{data:i}]=yield _L([],{data:n},e);return Object.assign({data:i},r)})}function LL(t){t.style("transform",e=>`translate(${e.paddingLeft+e.marginLeft}, ${e.paddingTop+e.marginTop})`).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function fut(t,e){const[n,r]=e;t.transition(function(i,a,o){const{transform:s,width:A,height:c}=o.style,{paddingLeft:l,paddingTop:u,innerWidth:f,innerHeight:d,marginLeft:h,marginTop:g}=i,v=[{transform:s,width:A,height:c},{transform:`translate(${l+h}, ${u+g})`,width:f,height:d}];return o.animate(v,{delay:n,duration:r,fill:"both"})})}function QL(t,e){const{type:n}=t;return typeof e=="string"?`${n}.${e}`:e}function UL(t,e){const n=a=>a.class!==void 0?`${a.class}`:"";t.nodes().length===0||(t.selectAll(MA(Vo)).data(e,a=>a.key).join(a=>a.append("g").attr("className",Vo).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),t.select(MA(ni)).node())||t.append("g").attr("className",ni).style("zIndex",0)}function MA(...t){return t.map(e=>`.${e}`).join("")}function PL(t,e){t.node()&&t.style("clipPath",n=>{if(!e)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:A}=n;return new Bf({style:{x:i+a,y:r+o,width:s,height:A}})})}function _Z(t,e,n){var r;for(const[c]of n.entries())if(c.type==="cell")return t.filter(l=>l.name!=="shape");if(e.length!==1||t.some(c=>c.name==="shape"))return t;const{defaultShape:i}=e[0];if(!["point","line","rect","hollow"].includes(i))return t;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},A={field:((r=t.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...t,A]}function CZ(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function OZ(...t){return e=>t.reduce((n,r)=>r(n),e)}function EZ(t){const{style:e,scale:n,type:r}=t,i={},a=nn(e,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},n==null?void 0:n.x),{padding:1-a})),Object.assign(Object.assign({},t),{scale:Object.assign(Object.assign({},n),i)})}const SZ=t=>{if(!t||typeof t!="string")return t;const e=t.endsWith("%")?parseFloat(t.slice(0,-1))/100:parseFloat(t);if(isNaN(e)||e<0||e>1)throw new Error(`Invalid gap value: ${t}. It should be between 0 and 1.`);return e};function MZ(t){const{axis:e}=t,n=nn(e,"y.breaks");return n&&$w(t,"scale.y.breaks",n.map(r=>Object.assign(Object.assign({key:`break-${r.start}-${r.end}`},r),{gap:SZ(r.gap)}))),t}function RL(t){const e=FZ(t);return e.children&&Array.isArray(e.children)&&(e.children=e.children.map(n=>RL(n))),e}function FZ(t){return OZ(EZ,MZ)(t)}function NL(t){const e=Mt({},t),n=new Map([[e,null]]),r=new Map([[null,-1]]),i=[e];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=n.get(a),A=r.get(a),c=s===null?"0":`${s.key}-${A}`;a.key=c}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const A=Mt({},o[s]);o[s]=A,n.set(A,a),r.set(A,s),i.push(A)}}return e}function kZ(t,e){const n=new AF;return n.registerPlugin(new lF),new rM({width:t,height:e,container:document.createElement("div"),renderer:n})}function TZ(t,e={},n=()=>{},r=i=>{throw i}){const i=yw(t),{width:a=640,height:o=480,depth:s=0}=i,A=RL(i),c=NL(A),{canvas:l=kZ(a,o),emitter:u=new ws,library:f}=e;e.canvas=l,e.emitter=u,e.externals={};const{width:d,height:h}=l.getConfig();(d!==a||h!==o)&&l.resize(a,o),u.emit(sr.BEFORE_RENDER);const g=Ze(l.document.documentElement);return l.ready.then(()=>xC(Object.assign(Object.assign({},c),{width:a,height:o,depth:s}),g,e)).then(()=>{if(s){const[v,y]=l.document.documentElement.getPosition();l.document.documentElement.setPosition(v,y,-s/2)}l.requestAnimationFrame(()=>{l.requestAnimationFrame(()=>{u.emit(sr.AFTER_RENDER),n==null||n()})})}).catch(v=>{r==null||r(v)}),LZ(l.getConfig().container)}function dut(t,e={},n=()=>{},r=i=>{throw i}){var i;const{width:a=640,height:o=480}=t,s=NL(t),{group:A=new Group,emitter:c=new EventEmitter,library:l}=e;A!=null&&A.parentElement||error("renderToMountedElement can't render chart to unmounted group.");const u=select(A);return e.group=A,e.emitter=c,e.externals={},e.canvas=e.canvas||((i=A==null?void 0:A.ownerDocument)===null||i===void 0?void 0:i.defaultView),c.emit(ChartEvent.BEFORE_RENDER),plot(Object.assign(Object.assign({},s),{width:a,height:o}),u,e).then(()=>{var f;(f=e.canvas)===null||f===void 0||f.requestAnimationFrame(()=>{c.emit(ChartEvent.AFTER_RENDER),n==null||n()})}).catch(f=>{r==null||r(f)}),A}function DL(t,e={},n=!1,r=!0){const{canvas:i,emitter:a}=e;i&&(IZ(i),n?i.destroy():i.destroyChildren()),r&&a.off()}function IZ(t){const e=t.getRoot().querySelectorAll(`.${La}`);e==null||e.forEach(n=>{const{nameInteraction:r=new Map}=n;(r==null?void 0:r.size)>0&&Array.from(r==null?void 0:r.values()).forEach(i=>{i==null||i.destroy()})})}function LZ(t){return typeof t=="string"?document.getElementById(t):t}function oy(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function sy(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}var Dh=function(t,e,n){var r,i,a,o,s=0;n||(n={});var A=function(){s=n.leading===!1?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var l=Date.now();!s&&n.leading===!1&&(s=l);var u=e-(l-s);return i=this,a=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=l,o=t.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(A,u)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c};function HL(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}function QZ(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):e[r]===void 0?"":e[r]})}var UZ=QZ,jL=function(t,e){if(e==null){t.innerHTML="";return}t.replaceChildren?Array.isArray(e)?t.replaceChildren.apply(t,ye([],q(e),!1)):t.replaceChildren(e):(t.innerHTML="",Array.isArray(e)?e.forEach(function(n){return t.appendChild(n)}):t.appendChild(e))};function EC(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var GL={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function PZ(t){var e;t===void 0&&(t="");var n=EC(t);return e={},e[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=Tt({flex:1},GL),e[".".concat(n.VALUE)]=Tt({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},GL),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var RZ=function(t){dr(e,t);function e(n){var r=this,i,a,o=(a=(i=n.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=EC(o);return r=t.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:PZ(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,i=n.template;return r.map(function(a,o){var s=a.name,A=s===void 0?"":s,c=a.color,l=c===void 0?"black":c,u=a.index,f=Kr(a,["name","color","index"]),d=Tt({name:A,color:l,index:u!=null?u:o},f);return HL(UZ(i.item,d))})},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(n,r){var i=this;if(n!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=n!=null?n:i.attributes.x,i.attributes.y=r!=null?r:i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},e.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){var n=this.attributes.template;this.element=HL(n.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:jL(this.element,n))}},e.prototype.renderHTMLTooltipElement=function(){var n,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,A=i.style,c=i.content,l=EC(a.prefixCls),u=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(u.innerHTML=a.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=o):(r=(n=u.getElementsByClassName(l.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var f=this.HTMLTooltipItemsElements,d=document.createElement("ul");d.className=l.LIST,jL(d,f);var h=this.element.querySelector(".".concat(l.LIST));h?h.replaceWith(d):u.appendChild(d)}xj(u,A)},e.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,i=r.position,a=r.offset,o=n||i,s=o.split("-"),A={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,l=c.width,u=c.height,f=[-l/2,-u/2];return s.forEach(function(d){var h=q(f,2),g=h[0],v=h[1],y=q(A[d],2),w=y[0],b=y[1];f=[g+(l/2+a[0])*w,v+(u/2+a[1])*b]}),f},e.prototype.setOffsetPosition=function(n){var r=q(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=s===void 0?0:s,c=o.y,l=c===void 0?0:c,u=o.container,f=u.x,d=u.y;this.element.style.left="".concat(+A+f+i,"px"),this.element.style.top="".concat(+l+d+a,"px")},e.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(n){var r=q(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,A=o.y,c=o.bounding,l=o.position;if(!c)return[i,a];var u=this.element,f=u.offsetWidth,d=u.offsetHeight,h=q([+s+i,+A+a],2),g=h[0],v=h[1],y={left:"right",right:"left",top:"bottom",bottom:"top"},w=c.x,b=c.y,B=c.width,E=c.height,S={left:g<w,right:g+f>w+B,top:v<b,bottom:v+d>b+E},F=[];l.split("-").forEach(function(T){S[T]?F.push(y[T]):F.push(T)});var k=F.join("-");return this.getRelativeOffsetFromCursor(k)},e.prototype.isCursorEntered=function(n,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,A=i.height;return new Jr(a,o,s,A).isPointIn(n,r)}return!1},e.prototype.closeTransition=function(n){var r=this,i=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=i},10)},e.tag="tooltip",e}(Ta),Qf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bu="tooltipLocked";function mb(t,e){var n;if(e)return typeof e=="string"?document.querySelector(e):e;const r=(n=t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function NZ(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return{x:n,y:r,width:i-n,height:a-r}}function DZ(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function HZ(t,e,n,r,i,a,o,s={},A=[10,10]){const c={[wh("tooltip")]:{},[wh("tooltip-title")]:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},l=new RZ({className:"tooltip",style:{x:e,y:n,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:A,template:{prefixCls:du},style:Mt(c,s)}});return t.appendChild(l.HTMLTooltipElement),l}function KL({root:t,data:e,x:n,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:A=!1,css:c,mount:l,bounding:u,offset:f}){const d=mb(t,l),h=mb(t),g=o?h:t,v=u||NZ(t),y=DZ(h,d),{tooltipElement:w=HZ(d,n,r,s,A,v,y,c,f)}=g,{items:b,title:B=""}=e;w.update(Object.assign({x:n,y:r,data:b.map(E=>Object.assign(Object.assign({},E),{value:!E.value&&E.value!==0?"":E.value})),title:B,position:s,enterable:A,container:y},i!==void 0&&{content:i(a,{items:b,title:B})})),g.tooltipElement=w}function Uf({root:t,single:e,emitter:n,nativeEvent:r=!0,event:i=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const a=mb(t),o=e?a:t,{tooltipElement:s}=o;s&&s.hide(i==null?void 0:i.clientX,i==null?void 0:i.clientY),VL(t),ZL(t),YL(t)}function SC({root:t,single:e}){const n=mb(t),r=e?n:t;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),VL(t),ZL(t),YL(t)}function MC(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:e===void 0?"undefined":e})}function jZ(t){var e,n,r,i,a,o,s;const{__data__:A}=t,{title:c,items:l=[]}=A;if(l.some(S=>BC in S)){const S=l.filter(Tr).map(F=>{var{color:k=FC(t)}=F,T=Qf(F,["color"]);return Object.assign(Object.assign({},T),{color:k})}).map(MC);return Object.assign(Object.assign({},c&&{title:c}),{items:S})}const f=(n=(e=A==null?void 0:A.normalized)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:0,d=(r=t.parentNode)===null||r===void 0?void 0:r.__data__,h=(i=d==null?void 0:d.encode)!==null&&i!==void 0?i:{},{x:g={},y:v={},color:y={}}=h,{value:w=[]}=g,{value:b=[]}=v,{value:B=[]}=y,E=Math.min(Math.round(w.length*f),w.length-1);return{title:`${w[E]}, ${b[E]}`,items:[{name:(a=y.field)!==null&&a!==void 0?a:"value",value:B[E],color:((o=t.style)===null||o===void 0?void 0:o.fill)||((s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"color"))||"#000"}]}}function GZ(t){const{__data__:e}=t;if(pw(t))return jZ(t);const{title:n,items:r=[]}=e,i=r.filter(Tr).map(a=>{var{color:o=FC(t)}=a,s=Qf(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(MC);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function FC(t){const e=t.getAttribute("fill"),n=t.getAttribute("stroke"),{__data__:r}=t,{color:i=e&&e!=="transparent"?e:n}=r;return i}function zL(t,e=n=>n){const n=new Map(t.map(r=>[e(r),r]));return Array.from(n.values())}function WL(t,e,n,r=t.map(a=>a.__data__),i={}){const a=A=>A instanceof Date?+A:A,o=zL(r.map(A=>A.title),a).filter(Tr),s=r.flatMap((A,c)=>{const l=A.element||t[c],{items:u=[],title:f}=A,d=u.filter(Tr),h=n!==void 0?n:u.length<=1;return d.map(g=>{var{color:v=FC(l)||i.color,name:y}=g,w=Qf(g,["color","name"]);const b=EF(e,A),B=h&&!(BC in w)?b||y:y||b;return Object.assign(Object.assign({},w),{color:v,name:B||f})})}).map(MC);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:zL(s,A=>`(${a(A.name)}, ${a(A.value)}, ${a(A.color)})`)})}function KZ(t,e,n,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:A,startY:c,transposed:l,polar:u,insetLeft:f,insetTop:d}=r,h=Qf(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const g=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},h),v=(S,F,k)=>{const T=new Xc({style:Object.assign({cx:S,cy:F,r:k},g)});return t.appendChild(T),T},y=(S,F,k,T)=>{const L=new dh({style:Object.assign({x1:S,x2:F,y1:k,y2:T},g)});return t.appendChild(L),L},b=((S,F)=>{if(F.length===1)return F[0];const k=F.map(L=>mi(L,S)),T=oy(k,L=>L);return F[T]})(n,e),B=()=>l?[A+b[0],A+b[0],c,c+a]:[A,A+i,b[1]+c,b[1]+c],E=()=>{const S=A+f+o/2,F=c+d+s/2,k=mi([S,F],b);return[S,F,k]};if(u){const[S,F,k]=E(),T=t.ruleX||v(S,F,k);T.style.cx=S,T.style.cy=F,T.style.r=k,t.ruleX=T}else{const[S,F,k,T]=B(),L=t.ruleX||y(S,F,k,T);L.style.x1=S,L.style.x2=F,L.style.y1=k,L.style.y2=T,t.ruleX=L}}function zZ(t,e,n){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:A,transposed:c,polar:l,insetLeft:u,insetTop:f}=n,d=Qf(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const h=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),g=e.map(T=>T[1]),v=e.map(T=>T[0]),y=sy(g),w=sy(v),b=()=>{if(l){const T=Math.min(a,o)/2,L=s+u+a/2,P=A+f+o/2,R=OA(ki([w,y],[L,P])),U=L+T*Math.cos(R),N=P+T*Math.sin(R);return[L,U,P,N]}return c?[s,s+r,y+A,y+A]:[w+s,w+s,A,A+i]},[B,E,S,F]=b(),k=()=>{const T=new dh({style:Object.assign({x1:B,x2:E,y1:S,y2:F},h)});return t.appendChild(T),T};if(v.length>0){const T=t.ruleY||k();T.style.x1=B,T.style.x2=E,T.style.y1=S,T.style.y2=F,t.ruleY=T}}function VL(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function ZL(t){t.ruleX&&(t.ruleX.remove(),t.ruleX=void 0)}function WZ(t,{data:e,style:n,theme:r}){t.markers&&t.markers.forEach(o=>o.remove());const{type:i=""}=n,a=e.filter(o=>{const[{x:s,y:A}]=o;return Tr(s)&&Tr(A)}).map(o=>{const[{color:s,element:A},c]=o,l=s||A.style.fill||A.style.stroke||r.color,u=i==="hollow"?"transparent":l,f=i==="hollow"?l:"#fff";return new Xc({className:`${du}tooltip-marker`,style:Object.assign({cx:c[0],cy:c[1],fill:u,r:4,stroke:f,lineWidth:2,pointerEvents:"none"},n)})});for(const o of a)t.appendChild(o);t.markers=a}function YL(t){t.markers&&(t.markers.forEach(e=>e.remove()),t.markers=[])}function $L(t,e){return Array.from(t.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[e]})}function ul(t,e){return t===void 0?e:t}function XL(t){const{title:e,items:n}=t;return n.length===0&&e===void 0}function VZ(t){return Array.from(t.values()).some(e=>{var n;return((n=e.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&e.tooltip})}function ZZ(t,e){const{innerWidth:n,innerHeight:r,marginLeft:i,paddingLeft:a,insetLeft:o,marginTop:s,paddingTop:A,insetTop:c}=t.getOptions();return{x:(e.x-i-a-o)/n,y:(e.y-s-A-c)/r}}function YZ(t){const{x:e}=t;if(!e||!e.valueBandWidth)return!0;const{valueBandWidth:n}=e;return rr(n)?!0:new Set(n.values()).size===1}function $Z(t,e){const{adjustedRange:n,valueBandWidth:r,valueStep:i}=t,a=Array.from(r.values()),o=Array.from(i.values()),A=n.map((c,l)=>{const u=(o[l]-a[l])/2;return[c-u,c+a[l]+u]}).findIndex(([c,l])=>c<=e&&e<=l);return A!==-1?A:e>.5?n.length-1:0}function qL({root:t,event:e,elements:n=[],coordinate:r,scale:i,shared:a}){var o,s;const A=b=>b.markType==="interval",c=b=>l_.includes(b.markType),l=n.filter(b=>!c(b)),u=l.length>0&&l.every(A)&&!Ar(r),f=i.x,d=YZ(i),h=i.series,g=(s=(o=f==null?void 0:f.getBandWidth)===null||o===void 0?void 0:o.call(f))!==null&&s!==void 0?s:0,v=h&&h.valueBandWidth?b=>{const B=Math.round(1/h.valueBandWidth);return b.__data__.x+b.__data__.series*g+g/(B*2)}:b=>b.__data__.x+g/2;u&&l.sort((b,B)=>v(b)-v(B));const y=b=>{const{target:B=Gs(n)}=b;return ty(B,E=>E.classList?(pw(E)&&$w(E,"__data__.normalized",ZZ(r,{x:b.offsetX,y:b.offsetY})),E.classList.includes("element")):!1)};return(u?b=>{const B=Ih(t,b);if(!B)return;const[E]=r.invert(B),S=yu(v).center,F=d?S(l,E):$Z(f,E),k=l[F];if(!a){const T=l.find(L=>L!==k&&v(L)===v(k));if(T)return y(b)||T}return k}:y)(e)}function JL({root:t,event:e,elements:n,coordinate:r,scale:i,startX:a,startY:o}){const s=Hr(r),A=[],c=[];for(const W of n){if(l_.includes(W.markType))continue;const{__data__:D}=W,{seriesX:G,title:Y,items:at}=D;G?A.push(W):(Y||at)&&c.push(W)}const l=W=>W.markType==="interval",u=c.length&&c.every(l)&&!Ar(r),f=W=>W.__data__.x,h=!!i.x.getBandWidth&&c.length>0;A.sort((W,D)=>{const G=s?0:1,Y=at=>at.getBounds().min[G];return s?Y(D)-Y(W):Y(W)-Y(D)});const g=W=>{const D=s?1:0,{min:G,max:Y}=W.getLocalBounds();return yc([G[D],Y[D]])};u?c.sort((W,D)=>f(W)-f(D)):c.sort((W,D)=>{const[G,Y]=g(W),[at,it]=g(D),At=(G+Y)/2,ht=(at+it)/2;return s?ht-At:At-ht});const v=new Map(A.map(W=>{const{__data__:D}=W,{seriesX:G}=D,Y=G.map((it,At)=>At),at=yc(Y,it=>G[+it]);return[W,[at,G]]})),{x:y}=i,w=y!=null&&y.getBandWidth?y.getBandWidth()/2:0,b=W=>{const[D]=r.invert(W);return D-w},B=(W,D,G,Y)=>{const{_x:at}=W,it=at!==void 0?y.map(at):b(D),At=Y.filter(Tr),[ht,ut]=yc([At[0],At[At.length-1]]),Ct=ht===ut;if(!h&&(it<ht||it>ut)&&!Ct)return null;const _t=yu(Lt=>Y[+Lt]).center,mt=_t(G,it);return G[mt]},E=u?(W,D)=>{const G=yu(f).center,Y=G(D,b(W)),at=D[Y];return kr(D,f).get(f(at))}:(W,D)=>{const Y=W[s?1:0],at=D.filter(ht=>{const[ut,Ct]=g(ht);return Y>=ut&&Y<=Ct});if(!h||at.length>0)return at;const it=yu(ht=>{const[ut,Ct]=g(ht);return(ut+Ct)/2}).center,At=it(D,Y);return[D[At]].filter(Tr)},S=(W,D)=>{const{__data__:G}=W;return Object.fromEntries(Object.entries(G).filter(([Y])=>Y.startsWith("series")&&Y!=="series").map(([Y,at])=>{const it=at[D];return[mF(Y.replace("series","")),it]}))},F=Ih(t,e);if(!F)return;const k=[F[0]-a,F[1]-o];if(!k)return;const T=E(k,c),L=[],P=[];for(const W of A){const[D,G]=v.get(W),Y=B(e,k,D,G);if(Y!==null){L.push(W);const at=S(W,Y),{x:it,y:At}=at,ht=r.map([(it||0)+w,At||0]);P.push([Object.assign(Object.assign({},at),{element:W}),ht])}}const R=Array.from(new Set(P.map(W=>W[0].x))),U=R[oy(R,W=>Math.abs(W-b(k)))],N=P.filter(W=>W[0].x===U),j=[...N.map(W=>W[0]),...T.map(W=>W.__data__)];return{selectedElements:[...L,...T],selectedData:j,filteredSeriesData:N,abstractX:b}}function tQ(t,e){var{elements:n,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:A,crosshairsY:c,render:l,groupName:u,emitter:f,wait:d=50,leading:h=!0,trailing:g=!1,startX:v=0,startY:y=0,body:w=!0,single:b=!0,position:B,enterable:E,mount:S,bounding:F,theme:k,offset:T,disableNative:L=!1,marker:P=!0,preserve:R=!1,style:U={},css:N={},clickLock:j=!1,disableAutoHide:z=!1}=e,W=Qf(e,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css","clickLock","disableAutoHide"]);const D=n(t),G=Mt(U,W),Y=Ar(o),at=Hr(o),{innerWidth:it,innerHeight:At,width:ht,height:ut,insetLeft:Ct,insetTop:_t}=o.getOptions(),mt=Dh(Fe=>{var Jn;if(j&&t.getAttribute(Bu))return;const tr=Ih(t,Fe);if(!tr)return;const Sn=Xv(t),jr=Sn.min[0],Lr=Sn.min[1],{selectedElements:_r,selectedData:Nn,filteredSeriesData:Qr,abstractX:Zr}=JL({root:t,event:Fe,elements:D,coordinate:o,scale:a,startX:v,startY:y}),lr=WL(_r,a,u,Nn,k);if(r&&lr.items.sort((wi,ko)=>r(wi)-r(ko)),i&&(lr.items=lr.items.filter(i)),_r.length===0||XL(lr)){Lt(Fe);return}if(w&&KL({root:t,data:lr,x:tr[0]+jr,y:tr[1]+Lr,render:l,event:Fe,single:b,position:B,enterable:E,mount:S,bounding:F,css:N,offset:T}),s||A||c){const wi=qt(G,"crosshairs"),ko=Object.assign(Object.assign({},wi),qt(G,"crosshairsX")),vl=Object.assign(Object.assign({},wi),qt(G,"crosshairsY")),Xf=Qr.map($h=>$h[1]);A&&KZ(t,Xf,tr,Object.assign(Object.assign({},ko),{plotWidth:it,plotHeight:At,mainWidth:ht,mainHeight:ut,insetLeft:Ct,insetTop:_t,startX:v,startY:y,transposed:at,polar:Y})),c&&zZ(t,Xf,Object.assign(Object.assign({},vl),{plotWidth:it,plotHeight:At,mainWidth:ht,mainHeight:ut,insetLeft:Ct,insetTop:_t,startX:v,startY:y,transposed:at,polar:Y}))}if(P){const wi=qt(G,"marker");WZ(t,{data:Qr,style:wi,theme:k})}const pn=(Jn=Qr[0])===null||Jn===void 0?void 0:Jn[0].x,ur=pn!=null?pn:Zr(focus);f.emit("tooltip:show",Object.assign(Object.assign({},Fe),{nativeEvent:!0,data:Object.assign(Object.assign({},lr),{data:{x:Cg(a.x,ur,!0)}})}))},d,{leading:h,trailing:g}),Lt=Fe=>{j&&t.getAttribute(Bu)||z||Uf({root:t,single:b,emitter:f,event:Fe})},Nt=()=>{SC({root:t,single:b})},Vt=Fe=>{var Jn,{nativeEvent:tr,data:Sn,offsetX:jr,offsetY:Lr}=Fe,_r=Qf(Fe,["nativeEvent","data","offsetX","offsetY"]);if(tr)return;const Nn=(Jn=Sn==null?void 0:Sn.data)===null||Jn===void 0?void 0:Jn.x,Zr=a.x.map(Nn),[lr,pn]=o.map([Zr,.5]),ur=Xv(t),wi=ur.min[0],ko=ur.min[1];mt(Object.assign(Object.assign({},_r),{offsetX:jr!==void 0?jr:wi+lr,offsetY:Lr!==void 0?Lr:ko+pn,_x:Nn}))},Wt=()=>{Uf({root:t,single:b,emitter:f,nativeEvent:!1})},Zt=()=>{me(),Nt()},pe=Fe=>{Ih(t,Fe)||Lt(Fe)},Ce=()=>{se()},Qe=Fe=>{j&&t.setAttribute(Bu,!t.getAttribute(Bu)),mt(Fe)},se=()=>{L||(t.addEventListener("pointerdown",Qe),t.addEventListener("pointerenter",mt),t.addEventListener("pointermove",mt),t.addEventListener("pointerleave",pe),t.addEventListener("pointerup",Lt))},me=()=>{L||(t.removeEventListener("pointerdown",Qe),t.removeEventListener("pointerenter",mt),t.removeEventListener("pointermove",mt),t.removeEventListener("pointerleave",pe),t.removeEventListener("pointerup",Lt))};return se(),f.on("tooltip:show",Vt),f.on("tooltip:hide",Wt),f.on("tooltip:disable",Zt),f.on("tooltip:enable",Ce),()=>{me(),f.off("tooltip:show",Vt),f.off("tooltip:hide",Wt),f.off("tooltip:disable",Zt),f.off("tooltip:enable",Ce),R?Uf({root:t,single:b,emitter:f,nativeEvent:!1}):Nt()}}function XZ(t,{elements:e,coordinate:n,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:A,wait:c=50,leading:l=!0,trailing:u=!1,groupKey:f=U=>U,single:d=!0,position:h,enterable:g,datum:v,view:y,mount:w,bounding:b,theme:B,offset:E,shared:S=!1,body:F=!0,disableNative:k=!1,preserve:T=!1,css:L={},clickLock:P=!1,disableAutoHide:R=!1}){const U=e(t),N=kr(U,f),j=Dh(ht=>{if(P&&t.getAttribute(Bu))return;const ut=qL({root:t,event:ht,elements:U,coordinate:n,scale:r,shared:S});if(!ut){R||Uf({root:t,single:d,emitter:A,event:ht});return}const Ct=f(ut),_t=N.get(Ct);if(!_t)return;const mt=_t.length===1&&!S?GZ(_t[0]):WL(_t,r,a,void 0,B);if(o&&mt.items.sort((Vt,Wt)=>o(Vt)-o(Wt)),s&&(mt.items=mt.items.filter(s)),XL(mt)){R||Uf({root:t,single:d,emitter:A,event:ht});return}const{offsetX:Lt,offsetY:Nt}=ht;F&&KL({root:t,data:mt,x:Lt,y:Nt,render:i,event:ht,single:d,position:h,enterable:g,mount:w,bounding:b,css:L,offset:E}),A.emit("tooltip:show",Object.assign(Object.assign({},ht),{nativeEvent:!0,data:Object.assign(Object.assign({},mt),{data:t_(ut,y)})}))},c,{leading:l,trailing:u}),z=ht=>{R||Uf({root:t,single:d,emitter:A,event:ht})},W=ht=>{P&&t.setAttribute(Bu,!t.getAttribute(Bu)),j(ht)},D=()=>{k||(t.addEventListener("pointerdown",W),t.addEventListener("pointermove",j),t.addEventListener("pointerleave",z),t.addEventListener("pointerup",z))},G=()=>{k||(t.removeEventListener("pointerdown",W),t.removeEventListener("pointermove",j),t.removeEventListener("pointerleave",z),t.removeEventListener("pointerup",z))},Y=({nativeEvent:ht,offsetX:ut,offsetY:Ct,data:_t})=>{if(ht)return;const{data:mt}=_t,Lt=ib(U,mt,v);if(!Lt)return;const Nt=Lt.getBBox(),{x:Vt,y:Wt,width:Zt,height:pe}=Nt,Ce=t.getBBox();j({target:Lt,offsetX:ut!==void 0?ut+Ce.x:Vt+Zt/2,offsetY:Ct!==void 0?Ct+Ce.y:Wt+pe/2})},at=({nativeEvent:ht}={})=>{ht||Uf({root:t,single:d,emitter:A,nativeEvent:!1})},it=()=>{G(),SC({root:t,single:d})},At=()=>{D()};return A.on("tooltip:show",Y),A.on("tooltip:hide",at),A.on("tooltip:enable",At),A.on("tooltip:disable",it),D(),()=>{G(),A.off("tooltip:show",Y),A.off("tooltip:hide",at),A.off("tooltip:enable",At),A.off("tooltip:disable",it),T?Uf({root:t,single:d,emitter:A,nativeEvent:!1}):SC({root:t,single:d})}}function eQ(t){const{shared:e,crosshairs:n,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:A=!1}=t,c=Qf(t,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(l,u,f)=>{const{container:d,view:h}=l,{scale:g,markState:v,coordinate:y,theme:w}=h,b=$L(v,"seriesTooltip"),B=$L(v,"crosshairs"),E=SA(d),S=ul(a,b),F=ul(n,B);if(c.clickLock&&!A&&E.setAttribute(Bu,!1),S&&VZ(v)&&!A)return tQ(E,Object.assign(Object.assign({},c),{theme:w,elements:wu,scale:g,coordinate:y,crosshairs:F,crosshairsX:ul(ul(r,n),!1),crosshairsY:ul(i,F),item:s,emitter:f}));if(S&&A){const k=u.filter(j=>j!==l&&j.options.parentKey===l.options.key),T=XT(l,u),L=k[0].view.scale,P=E.getBounds(),R=P.min[0],U=P.min[1];Object.assign(L,{facet:!0});const N=E.parentNode.parentNode;return c.clickLock&&N.setAttribute(Bu,!1),tQ(N,Object.assign(Object.assign({},c),{theme:w,elements:()=>T,scale:L,coordinate:y,crosshairs:ul(n,B),crosshairsX:ul(ul(r,n),!1),crosshairsY:ul(i,F),item:s,startX:R,startY:U,emitter:f}))}return XZ(E,Object.assign(Object.assign({},c),{datum:Ff(h),elements:wu,scale:g,coordinate:y,groupKey:e?qv(h):void 0,item:s,emitter:f,view:h,theme:w,shared:e}))}}eQ.props={reapplyWhenUpdate:!0};const Lg=t=>t?parseInt(t):0;function qZ(t){const e=getComputedStyle(t),n=t.clientWidth||Lg(e.width),r=t.clientHeight||Lg(e.height),i=Lg(e.paddingLeft)+Lg(e.paddingRight),a=Lg(e.paddingTop)+Lg(e.paddingBottom);return{width:n-i,height:r-a}}function hut(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:A=0,marginLeft:c=A,marginRight:l=A,marginTop:u=A,marginBottom:f=A,inset:d=0,insetLeft:h=d,insetRight:g=d,insetTop:v=d,insetBottom:y=d}=t,w=E=>E==="auto"?20:E,b=n-w(i)-w(a)-c-l-h-g,B=e-w(o)-w(s)-u-f-v-y;return{width:b,height:B}}function kC(t,e){const n=[t];for(;n.length;){const r=n.shift();e&&e(r);const i=r.children||[];for(const a of i)n.push(a)}}class TC{constructor(e={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=e}map(e=n=>n){const n=e(this.value);return this.value=n,this}attr(e,n){return arguments.length===1?this.value[e]:this.map(r=>(r[e]=n,r))}append(e){const n=new e({});return n.children=[],this.push(n),n}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){const e=this.parentNode;if(e){const{children:n}=e,r=n.findIndex(i=>i===this);n.splice(r,1)}return this}getNodeByKey(e){let n=null;return kC(this,i=>{e===i.attr("key")&&(n=i)}),n}getNodesByType(e){const n=[];return kC(this,i=>{e===i.type&&n.push(i)}),n}getNodeByType(e){let n=null;return kC(this,r=>{n||e===r.type&&(n=r)}),n}call(e,...n){return e(this.map(),...n),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}var nQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IC=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],rQ="__remove__",iQ="__callback__",aQ=1,oQ=1;function JZ(t){if(t===void 0){const e=document.createElement("div");return e[rQ]=!0,e}return typeof t=="string"?document.getElementById(t):t}function tY(t){const e=t.parentNode;e&&e.removeChild(t)}function eY(t){if(t.type!==null)return t;const e=t.children[t.children.length-1];for(const n of IC)e.attr(n,t.attr(n));return e}function sQ(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function LC(t,e){const{width:n,height:r,autoFit:i,depth:a=0}=t;let o=640,s=480;if(i){const{width:A,height:c}=qZ(e);o=A||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(rr(o)?o:aQ,aQ),height:Math.max(rr(s)?s:oQ,oQ),depth:a}}function nY(t){const e=eY(t),n=[e],r=new Map;for(r.set(e,sQ(e));n.length;){const i=n.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===iQ)a.children=s.value;else{const A=sQ(s),{children:c=[]}=a;c.push(A),n.push(s),r.set(s,A),a.children=c}}return r.get(e)}function rY(t,e){return typeof t=="function"?!0:new Set(Object.keys(e)).has(t)}function iY(t,e){return typeof t!="function"&&new Set(Object.keys(e)).has(t)}function aY(t,e,n,r,i){const{type:a}=t,{type:o=n||a}=e;if(iY(o,i)){for(const s of IC)t.attr(s)!==void 0&&e[s]===void 0&&(e[s]=t.attr(s));return e}if(rY(o,r)){const s={type:"view"},A=Object.assign({},e);for(const c of IC)A[c]!==void 0&&(s[c]=A[c],delete A[c]);return Object.assign(Object.assign({},s),{children:[A]})}return e}function oY(t,e,n){if(typeof t=="function")return e.mark;const i=Object.assign(Object.assign({},e),n)[t];if(!i)throw new Error(`Unknown mark: ${t}.`);return i}function sY(t,e,n){if(typeof t=="function"){const A=new TC;return A.value=t,A.type=iQ,A}const{type:r,children:i}=t,a=nQ(t,["type","children"]),o=oY(r,e,n),s=new o;return s.value=a,s.type=r,s}function AY(t,e){const{type:n,children:r}=e,i=nQ(e,["type","children"]);t.type===n||n===void 0?FF(t.value,i):typeof n=="string"&&(t.type=n,t.value=i)}function cY(t,e,n,r){if(!t)return;const i=[[t,e]];for(;i.length;){const[a,o]=i.shift(),s=sY(o,n,r);Array.isArray(a.children)&&a.push(s);const{children:A}=o;if(Array.isArray(A))for(const c of A)i.push([s,c]);else typeof A=="function"&&i.push([s,A])}}function lY(t,e,n,r,i){const a=aY(t,e,n,r,i),o=[[null,t,a]];for(;o.length;){const[s,A,c]=o.shift();if(!A)cY(s,c,r,i);else if(!c)A.remove();else{AY(A,c);const{children:l}=c,{children:u}=A;if(Array.isArray(l)&&Array.isArray(u)){const f=Math.max(l.length,u.length);for(let d=0;d<f;d++){const h=l[d],g=u[d];o.push([A,g,h])}}else typeof l=="function"&&o.push([A,null,l])}}}function uY(){let t,e;return[new Promise((r,i)=>{e=r,t=i}),e,t]}function fY(t,e,{key:n=e}){t.prototype[e]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function dY(t,e,{key:n=e}){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const i=[...this.attr(n)||[],r];return this.attr(n,i)}}function hY(t,e,{key:n=e}){t.prototype[e]=function(r,i){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const a=this.attr(n)||{};return a[r]=arguments.length===1?!0:i,this.attr(n,a)}}function pY(t,e,n){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(e);if(Array.isArray(r))return this.attr(e,{items:r});if(dg(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(e,r);if(r===null||r===!1)return this.attr(e,r);const i=this.attr(e)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(e,i)}}function gY(t,e,{ctor:n}){t.prototype[e]=function(r){const i=this.append(n);return e==="mark"&&(i.type=r),i}}function vY(t,e,{ctor:n}){t.prototype[e]=function(){return this.type=null,this.append(n)}}function wb(t){return e=>{for(const[n,r]of Object.entries(t)){const{type:i}=r;i==="value"?fY(e,n,r):i==="array"?dY(e,n,r):i==="object"?hY(e,n,r):i==="node"?gY(e,n,r):i==="container"?vY(e,n,r):i==="mix"&&pY(e,n,r)}return e}}function AQ(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{type:"node",ctor:n}]))}const cQ={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},yY=Object.assign(Object.assign({},cQ),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),mY=Object.assign(Object.assign({},cQ),{labelTransform:{type:"array"}});var wY=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let bb=class extends TC{changeData(e){var n;const r=this.getRoot();if(r)return this.attr("data",e),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(i=>{i.attr("data",e)}),r==null?void 0:r.render()}getView(){const e=this.getRoot(),{views:n}=e.getContext();if(n!=null&&n.length)return n.find(r=>r.key===this._key)}getScale(){var e;return(e=this.getView())===null||e===void 0?void 0:e.scale}getScaleByChannel(e){const n=this.getScale();if(n)return n[e]}getCoordinate(){var e;return(e=this.getView())===null||e===void 0?void 0:e.coordinate}getTheme(){var e;return(e=this.getView())===null||e===void 0?void 0:e.theme}getGroup(){const e=this._key;return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}show(){const e=this.getGroup();e&&!e.isVisible()&&nb(e)}hide(){const e=this.getGroup();e&&e.isVisible()&&oC(e)}};bb=wY([wb(mY)],bb);var bY=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let QC=class extends TC{changeData(e){const n=this.getRoot();if(n)return this.attr("data",e),n==null?void 0:n.render()}getMark(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!n)return;const{markState:r}=n,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(n)return n==null?void 0:n.scale}getScaleByChannel(e){var n,r;const i=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(i)return(r=i==null?void 0:i.scale)===null||r===void 0?void 0:r[e]}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}};QC=bY([wb(yY)],QC);var BY=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},xY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _Y="G2_CHART_KEY";class CY extends bb{constructor(e){const{container:n,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=e,A=xY(e,["container","canvas","renderer","plugins","lib","createCanvas"]);super(A,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=uF(()=>{this.forceFit()},300),this._renderer=i||new AF,this._plugins=a||[],this._container=JZ(n),this._emitter=new ws,this._context={library:Object.assign(Object.assign({},o),VM),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const e=new Promise((a,o)=>TZ(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[n,r,i]=uY();return e.then(r).then(()=>{if(this._trailingClear){const a=this.options();this._trailingClear(),this._trailing&&this.options(a)}}).catch(i).then(()=>{this._trailingClear=null,this._renderTrailing()}),n}options(e){if(arguments.length===0)return nY(this);const{type:n}=e;return n&&(this._previousDefinedType=n),lY(this,e,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(e,n,r){return this._emitter.on(e,n,r),this}once(e,n){return this._emitter.once(e,n),this}emit(e,...n){return this._emitter.emit(e,...n),this}off(e,n){return this._emitter.off(e,n),this}clear(e=!0){if(this._rendering){this._trailingClear=()=>{this.clear(e)},this._reset();return}const n=this.options();this.emit(sr.BEFORE_CLEAR),this._reset(),DL(n,this._context,!1,e),this.emit(sr.AFTER_CLEAR)}destroy(){const e=this.options();this.emit(sr.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),DL(e,this._context,!0),this._container[rQ]&&tY(this._container),this.emit(sr.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:e,height:n}=LC(this.options(),this._container);if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(sr.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(sr.AFTER_CHANGE_SIZE)}),r}changeSize(e,n){if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(sr.BEFORE_CHANGE_SIZE),this.attr("width",e),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(sr.AFTER_CHANGE_SIZE)}),r}getDataByXY(e,n={}){const{shared:r=!1,series:i,facet:a=!1,startX:o=0,startY:s=0}=n,{canvas:A,views:c}=this._context,{document:l}=A,{x:u,y:f}=e,{coordinate:d,scale:h,markState:g,data:v,key:y}=c[0],w=l.getElementsByClassName(bi),b=r?P=>P.__data__.x:P=>P,B=kr(w,b),E=l.getElementsByClassName(La)[0],S=SA(E),F=P=>Array.from(P.values()).some(R=>{var U,N;return((U=R.interaction)===null||U===void 0?void 0:U.seriesTooltip)||((N=R.channels)===null||N===void 0?void 0:N.some(j=>j.name==="series"&&j.values!==void 0))}),k=ul(i,F(g)),T=P=>nn(P,"__data__.data",null),L=P=>P.map(T);try{if(k&&F(g)&&!a){const{selectedData:N}=JL({root:S,event:{offsetX:u,offsetY:f},elements:w,coordinate:d,scale:h,startX:o,startY:s}),j=v.get(`${y}-0`);return N.map(({index:z})=>j[z])}const P=qL({root:S,event:{offsetX:u,offsetY:f},elements:w,coordinate:d,scale:h,shared:r});if(pw(P))return t_(P,v.get(y));const R=b(P),U=B.get(R);return U?L(U):[]}catch(P){const R=A.document.elementFromPointSync(u,f);return R?T(R):[]}}_create(){const{library:e}=this._context,n=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(e).filter(n)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends QC{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(A){const c=this.append(s);return o==="mark"&&(c.type=A),c}}const i=["composition.view",...Object.keys(e).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends bb{constructor(){super({},o)}};return s=BY([wb(AQ(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))wb(AQ(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const e=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||e.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const e=this._trailingResolve.bind(this);this._trailingResolve=null,e(this)}).catch(e=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(e)}))}_createResolve(e){return()=>{this._rendering=!1,e(this)}}_createReject(e){return n=>{this._rendering=!1,e(n)}}_computedOptions(){const e=this.options(),{key:n=_Y}=e,{width:r,height:i,depth:a}=LC(e,this._container);return this._width=r,this._height=i,this._key=n,Object.assign(Object.assign({key:this._key},e),{width:r,height:i,depth:a})}_createCanvas(){var e,n;const{width:r,height:i}=LC(this.options(),this._container);this._plugins.push(new lF),this._plugins.forEach(o=>this._renderer.registerPlugin(o)),this._context.canvas=new rM({container:this._container,width:r,height:i,renderer:this._renderer});const a=(n=(e=this._context.canvas)===null||e===void 0?void 0:e.getContextService())===null||n===void 0?void 0:n.getDomElement();a&&(a.style.display="block")}_addToTrailing(){var e;return(e=this._trailingResolve)===null||e===void 0||e.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const e=this.options(),{autoFit:n}=e;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}function OY(t,e){class n extends t{constructor(i){super(Object.assign(Object.assign({},i),{lib:e}))}}return n}var EY=Object.prototype.hasOwnProperty,Ay=function(t,e){if(t===null||!lu(t))return{};var n={};return I_(e,function(r){EY.call(t,r)&&(n[r]=t[r])}),n};function lQ(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cy(t,e,n,r,i){for(var a=t.children,o,s=-1,A=a.length,c=t.value&&(r-e)/t.value;++s<A;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function SY(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(lQ),o}function a(o,s){return function(A){A.children&&cy(A,A.x0,o*(A.depth+1)/s,A.x1,o*(A.depth+2)/s);var c=A.x0,l=A.y0,u=A.x1-n,f=A.y1-n;u<c&&(c=u=(c+u)/2),f<l&&(l=f=(l+f)/2),A.x0=c,A.y0=l,A.x1=u,A.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var MY=Ft(9783);function FY(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function kY(){return this.eachAfter(FY)}var UC=Ft(64599);function TY(t,e){var n=-1,r=UC(this),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;t.call(e,a,++n,this)}}catch(o){r.e(o)}finally{r.f()}return this}function IY(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function LY(t,e){for(var n=this,r=[n],i=[],a,o,s,A=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++A,this);return this}function QY(t,e){var n=-1,r=UC(this),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;if(t.call(e,a,++n,this))return a}}catch(o){r.e(o)}finally{r.f()}}function UY(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function PY(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function RY(t){for(var e=this,n=NY(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function NY(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function DY(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function HY(){return Array.from(this)}function jY(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function GY(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}var uQ=Ft(15009),KY=uQ().mark(fQ);function fQ(){var t,e,n,r,i,a;return uQ().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=this,n=[t];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){s.next=8;break}return s.next=5,t;case 5:if(r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);s.next=2;break;case 8:if(n.length){s.next=1;break}case 9:case"end":return s.stop()}},KY,this)}function Qg(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=VY)):e===void 0&&(e=WY);for(var n=new Ug(t),r,i=[n],a,o,s,A;r=i.pop();)if((o=e(r.data))&&(A=(o=Array.from(o)).length))for(r.children=o,s=A-1;s>=0;--s)i.push(a=o[s]=new Ug(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(dQ)}function zY(){return Qg(this).eachBefore(ZY)}function WY(t){return t.children}function VY(t){return Array.isArray(t)?t[1]:null}function ZY(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function dQ(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ug(t){this.data=t,this.depth=this.height=0,this.parent=null}Ug.prototype=Qg.prototype=MY({constructor:Ug,count:kY,each:TY,eachAfter:LY,eachBefore:IY,find:QY,sum:UY,sort:PY,path:RY,ancestors:DY,descendants:HY,leaves:jY,links:GY,copy:zY},Symbol.iterator,fQ);function PC(t,e){for(var n in e)e.hasOwnProperty(n)&&n!=="constructor"&&e[n]!==void 0&&(t[n]=e[n])}function hQ(t,e,n,r){return e&&PC(t,e),n&&PC(t,n),r&&PC(t,r),t}const YY={field:"value",size:[1,1],round:!1,padding:0,sort:(t,e)=>e.value-t.value,as:["x","y"],ignoreParentValue:!0},$Y="nodeIndex",ly="childNodeCount",XY="nodeAncestor",RC="Invalid field: it must be a string!";function qY(t,e){const{field:n,fields:r}=t;if(fr(n))return n;if(Sr(n))return console.warn(RC),n[0];if(console.warn(`${RC} will try to get fields instead.`),fr(r))return r;if(Sr(r)&&r.length)return r[0];if(e)return e;throw new TypeError(RC)}function JY(t){const e=[];if(t&&t.each){let n,r;t.each(i=>{var a,o;i.parent!==n?(n=i.parent,r=0):r+=1;const s=KT((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(A=>e.find(c=>c.name===A.name)||A),({depth:A})=>A>0&&A<i.depth);i[XY]=s,i[ly]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[$Y]=r,e.push(i)})}else t&&t.eachNode&&t.eachNode(n=>{e.push(n)});return e}function t$(t,e){e=hQ({},YY,e);const n=e.as;if(!Sr(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let r;try{r=qY(e)}catch(A){console.warn(A)}const a=(A=>SY().size(e.size).round(e.round).padding(e.padding)(Qg(A).sum(c=>Dv(c.children)?e.ignoreParentValue?0:c[r]-Uk(c.children,(l,u)=>l+u[r],0):c[r]).sort(e.sort)))(t),o=n[0],s=n[1];return a.each(A=>{var c,l;A[o]=[A.x0,A.x1,A.x1,A.x0],A[s]=[A.y1,A.y1,A.y0,A.y0],A.name=A.name||((c=A.data)===null||c===void 0?void 0:c.name)||((l=A.data)===null||l===void 0?void 0:l.label),A.data.name=A.name,["x0","x1","y0","y1"].forEach(u=>{n.indexOf(u)===-1&&delete A[u]})}),JY(a)}var e$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Pg="sunburst",NC="markType",put="value",pQ="path",Bb="ancestor-node";function n$(t){const{data:e,encode:n}=t,{color:r,value:i}=n,o=t$(e,{field:i,type:"hierarchy.partition",as:["x","y"]}),s=[];return o.forEach(A=>{var c,l,u,f;if(A.depth===0)return null;let d=A.data.name;const h=[d];let g=Object.assign({},A);for(;g.depth>1;)d=`${(c=g.parent.data)===null||c===void 0?void 0:c.name} / ${d}`,h.unshift((l=g.parent.data)===null||l===void 0?void 0:l.name),g=g.parent;const v=Object.assign(Object.assign(Object.assign({},Ay(A.data,[i])),{[pQ]:d,[Bb]:g.data.name}),A);r&&r!==Bb&&(v[r]=A.data[r]||((f=(u=A.parent)===null||u===void 0?void 0:u.data)===null||f===void 0?void 0:f[r])),s.push(v)}),s.map(A=>{const c=A.x.slice(0,2),l=[A.y[2],A.y[0]];return c[0]===c[1]&&(l[0]=l[1]=(A.y[2]+A.y[0])/2),Object.assign(Object.assign({},A),{x:c,y:l,fillOpacity:Math.pow(.85,A.depth)})})}const gQ={id:Pg,encode:{x:"x",y:"y",key:pQ,color:Bb,value:"value"},axis:{x:!1,y:!1},style:{[NC]:Pg,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[ly]:ly,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},vQ=t=>{const{encode:e,data:n=[]}=t,r=e$(t,["encode","data"]),i=Object.assign(Object.assign({},r.coordinate),{innerRadius:Math.max(nn(r,["coordinate","innerRadius"],.2),1e-5)}),a=Object.assign(Object.assign({},gQ.encode),e),{value:o}=a,s=n$({encode:a,data:n});return[Mt({},gQ,Object.assign(Object.assign({type:"rect",data:s,encode:a,tooltip:{title:"path",items:[A=>({name:o,value:A[o]})]}},r),{coordinate:i}))]};vQ.props={};var r$=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return I_(t,function(n,r){hi(t)&&r==="prototype"||e.push(r)}),e},xb=r$,i$=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};const a$=t=>t.querySelectorAll(".element").filter(e=>nn(e,["style",NC])===Pg);function o$(t){return Ze(t).select(`.${wa}`).node()}const s$={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function A$(t={}){const{breadCrumb:e={},isFixedColor:n=!1}=t,r=Mt({},s$,e);return i=>{const{update:a,setState:o,container:s,view:A,options:c}=i,l=s.ownerDocument,u=o$(s),f=c.marks.find(({id:b})=>b===Pg),{state:d}=f,h=l.createElement("g");u.appendChild(h);const g=(b,B)=>i$(this,void 0,void 0,function*(){if(h.removeChildren(),b){const E=l.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});h.appendChild(E);let S="";const F=b==null?void 0:b.split(" / ");let k=r.style.y,T=h.getBBox().width;const L=u.getBBox().width,P=F.map((R,U)=>{const N=l.createElement("text",{style:Object.assign(Object.assign({x:T,text:" / "},r.style),{y:k})});h.appendChild(N),T+=N.getBBox().width,S=`${S}${R} / `;const j=l.createElement("text",{name:S.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:R,x:T,depth:U+1},r.style),{y:k})});return h.appendChild(j),T+=j.getBBox().width,T>L&&(k=h.getBBox().height,T=0,N.attr({x:T,y:k}),T+=N.getBBox().width,j.attr({x:T,y:k}),T+=j.getBBox().width),j});[E,...P].forEach((R,U)=>{if(U===P.length)return;const N=Object.assign({},R.attributes);R.attr("cursor","pointer"),R.addEventListener("mouseenter",()=>{R.attr(r.active)}),R.addEventListener("mouseleave",()=>{R.attr(N)}),R.addEventListener("click",()=>{g(R.name,nn(R,["style","depth"]))})})}o("drillDown",E=>{const{marks:S}=E,F=S.map(k=>{if(k.id!==Pg&&k.type!=="rect")return k;const{data:T}=k,L=Object.fromEntries(["color"].map(R=>[R,{domain:A.scale[R].getOptions().domain}])),P=T.filter(R=>{const U=R.path;return n||(R[Bb]=U.split(" / ")[B]),b?new RegExp(`^${b}.+`).test(U):!0});return Mt({},k,n?{data:P,scale:L}:{data:P})});return Object.assign(Object.assign({},E),{marks:F})}),yield a()}),v=b=>{const B=b.target;if(nn(B,["style",NC])!==Pg||nn(B,["markType"])!=="rect"||!nn(B,["style",ly]))return;const E=nn(B,["__data__","key"]),S=nn(B,["style","depth"]);B.style.cursor="pointer",g(E,S)};u.addEventListener("click",v);const y=xb(Object.assign(Object.assign({},d.active),d.inactive)),w=()=>{a$(u).forEach(B=>{const E=nn(B,["style",ly]);if(nn(B,["style","cursor"])!=="pointer"&&E){B.style.cursor="pointer";const F=Ay(B.attributes,y);B.addEventListener("mouseenter",()=>{B.attr(d.active)}),B.addEventListener("mouseleave",()=>{B.attr(Mt(F,d.inactive))})}})};return u.addEventListener("mousemove",w),()=>{h.remove(),u.removeEventListener("click",v),u.removeEventListener("mousemove",w)}}}function c$(){return{"interaction.drillDown":A$,"mark.sunburst":vQ}}const yQ=()=>[["cartesian"]];yQ.props={};const DC=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];DC.props={transform:!0};const l$=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},mQ=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=l$(t);return[...DC(),...Fv({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};mQ.props={};const HC=()=>[["parallel",0,1,0,1]];HC.props={};const wQ=({focusX:t=0,focusY:e=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,e,n,r,i]];wQ.props={transform:!0};const bQ=t=>{const{startAngle:e=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=t;return[...HC(),...Fv({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};bQ.props={};const BQ=({startAngle:t=0,endAngle:e=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,e,n,r]];BQ.props={};const xQ=({value:t})=>e=>e.map(()=>t);xQ.props={};const _Q=({value:t})=>e=>e.map(n=>n[t]);_Q.props={};const CQ=({value:t})=>e=>e.map(t);CQ.props={};const OQ=({value:t})=>()=>t;OQ.props={};function Ir(t,e){if(t!==null)return{type:"column",value:t,field:e}}function uy(t,e){const n=Ir(t,e);return Object.assign(Object.assign({},n),{inferred:!0})}function _b(t,e){if(t!==null)return{type:"column",value:t,field:e,visual:!0}}function u$(t,e){const n=Ir(t,e);return Object.assign(Object.assign({},n),{constant:!1})}function Pf(t,e){const n=[];for(const r of t)n[r]=e;return n}function Hn(t,e){const n=t[e];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function Cb(t,...e){for(const n of e)if(typeof n=="string"){const[r,i]=Hn(t,n);if(r!==null)return[r,i]}else return[n,null];return[null,null]}function fy(t){return t instanceof Date?!1:typeof t=="object"}const dy=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;return r!==void 0?[t,e]:[t,Mt({},e,{encode:{y1:uy(Pf(t,0))}})]};dy.props={};const Rf=()=>(t,e)=>{const{encode:n}=e,{x:r}=n;return r!==void 0?[t,e]:[t,Mt({},e,{encode:{x:uy(Pf(t,0))},scale:{x:{guide:null}}})]};Rf.props={};const Hh=(t,e)=>Zv(Object.assign({colorAttribute:"fill"},t),e);Hh.props=Object.assign(Object.assign({},Zv.props),{defaultMarker:"square"});const Ob=(t,e)=>Zv(Object.assign({colorAttribute:"stroke"},t),e);Ob.props=Object.assign(Object.assign({},Zv.props),{defaultMarker:"hollowSquare"});function Rg(){}function EQ(t){this._context=t}EQ.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jC(t){return new EQ(t)}var SQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function f$(t,e,n,r,i){const[a,o,s,A]=t;if(Hr(r)){if(i){const d=[n?n[1][0]:a[0],a[1]],h=[n?n[2][0]:A[0],A[1]];return[d,o,s,h]}const u=[e?e[0][0]:o[0],o[1]],f=[e?e[3][0]:s[0],s[1]];return[a,u,f,A]}if(i){const u=[a[0],n?n[1][1]:a[1]],f=[A[0],n?n[2][1]:A[1]];return[u,o,s,f]}const c=[o[0],e?e[0][1]:o[1]],l=[s[0],e?e[3][1]:s[1]];return[a,c,l,A]}const d$=(t,e,n)=>{const r=Math.cos(t)*e,i=Math.sin(t)*e;return{x:r*n,y:i}},Eb=(t,e)=>e/Math.tan(t/2);function h$(t,e){const[n,r,i,a]=t,[o,s,A,c]=e,l=r[0]-n[0]>i[0]-a[0],u=Math.atan2(Math.abs(r[1]-i[1]),Math.abs(r[0]-i[0])),f=l?[Eb(u,o),Eb(u,s),A,c]:[o,s,Eb(u,A),Eb(u,c)],d=l?1:-1,h=f.map(g=>d$(u,g,d));return[`M${n[0]+f[0]} ${n[1]}`,`L${r[0]-f[1]} ${r[1]}`,`Q${r[0]} ${r[1]} ${r[0]-h[1].x} ${r[1]+h[1].y}`,`L${i[0]+h[2].x} ${i[1]-h[2].y}`,`Q${i[0]} ${i[1]} ${i[0]-f[2]} ${i[1]}`,`L${a[0]+f[3]} ${a[1]}`,`Q${a[0]} ${a[1]} ${a[0]-h[3].x} ${a[1]-h[3].y}`,`L${n[0]+h[0].x} ${n[1]+h[0].y}`,`Q${n[0]} ${n[1]} ${n[0]+f[0]} ${n[1]}`,"Z"].join(" ")}const GC=(t,e)=>{const{adjustPoints:n=f$,radius:r,radiusTopLeft:i=r,radiusTopRight:a=r,radiusBottomRight:o=r,radiusBottomLeft:s=r,innerRadius:A=0,innerRadiusTopLeft:c=A,innerRadiusTopRight:l=A,innerRadiusBottomRight:u=A,innerRadiusBottomLeft:f=A,first:d=!0,last:h=!0}=t,g=SQ(t,["adjustPoints","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","first","last"]),{coordinate:v,document:y}=e;return(w,b,B,E)=>{const{index:S}=b,{color:F}=B,k=SQ(B,["color"]),T=E[S+1],L=E[S-1],P=n(w,T,L,v,g.reverse),R=!!Hr(v),[U,N,j,z]=R?Vw(P):P,{color:W=F,opacity:D}=b,G=[d&&i!=null?i:c,d&&a!=null?a:l,h&&o!=null?o:u,h&&s!=null?s:f],Y=G.find(at=>at>0)?h$([U,N,j,z],G):Fh().curve(jC)([U,N,j,z]);return Ze(y.createElement("path",{})).call(Me,k).style("d",Y).style("fill",W).style("fillOpacity",D).call(Me,g).node()}};GC.props={defaultMarker:"square"};function p$(t,e,n,r,i){const[a,o,s,A]=t;if(Hr(r)){if(i){const d=[n?n[1][0]:(a[0]+A[0])/2,a[1]],h=[n?n[2][0]:(a[0]+A[0])/2,A[1]];return[d,o,s,h]}const u=[e?e[0][0]:(o[0]+s[0])/2,o[1]],f=[e?e[3][0]:(o[0]+s[0])/2,s[1]];return[a,u,f,A]}if(i){const u=[a[0],n?n[1][1]:(a[1]+A[1])/2],f=[A[0],n?n[2][1]:(a[1]+A[1])/2];return[u,o,s,f]}const c=[o[0],e?e[0][1]:(o[1]+s[1])/2],l=[s[0],e?e[3][1]:(o[1]+s[1])/2];return[a,c,l,A]}const MQ=(t,e)=>GC(Object.assign({adjustPoints:p$},t),e);MQ.props={defaultMarker:"square"};function hy(t){return Math.abs(t)>10?String(t):t.toString().padStart(2,"0")}function g$(t){const e=t.getFullYear(),n=hy(t.getMonth()+1),r=hy(t.getDate()),i=`${e}-${n}-${r}`,a=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return a||o||s?`${i} ${hy(a)}:${hy(o)}:${hy(s)}`:i}const Sb=(t={})=>{const{channel:e="x"}=t;return(n,r)=>{const{encode:i}=r,{tooltip:a}=r;if(uu(a))return[n,r];const{title:o}=a;if(o!==void 0)return[n,r];const s=Object.keys(i).filter(c=>c.startsWith(e)).filter(c=>!i[c].inferred).map(c=>Hn(i,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const A=[];for(const c of n)A[c]={value:s.map(l=>l[c]instanceof Date?g$(l[c]):l[c]).join(", ")};return[n,Mt({},r,{tooltip:{title:A}})]}};Sb.props={};const Mb=t=>{const{channel:e}=t;return(n,r)=>{const{encode:i,tooltip:a}=r;if(uu(a))return[n,r];const{items:o=[]}=a;if(!o||o.length>0)return[n,r];const A=(Array.isArray(e)?e:[e]).flatMap(c=>Object.keys(i).filter(l=>l.startsWith(c)).map(l=>{const{field:u,value:f,inferred:d=!1,aggregate:h}=i[l];return d?null:h&&f?{channel:l}:u?{field:u}:f?{channel:l}:null}).filter(l=>l!==null));return[n,Mt({},r,{tooltip:{items:A}})]}};Mb.props={};var v$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FQ=()=>(t,e)=>{const{encode:n}=e,{key:r}=n,i=v$(n,["key"]);if(r!==void 0)return[t,e];const a=Object.values(i).map(({value:s})=>s),o=t.map(s=>a.filter(Array.isArray).map(A=>A[s]).join("-"));return[t,Mt({},e,{encode:{key:Ir(o)}})]};FQ.props={};function kQ(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function So(t={}){return[...kQ(t),{name:"title",scale:"identity"}]}function gut(){return[{type:MaybeTitle,channel:"color"},{type:MaybeTooltip,channel:["x","y","z"]}]}function xu(){return[{type:Sb,channel:"color"},{type:Mb,channel:["x","y"]}]}function Ng(){return[{type:Sb,channel:"x"},{type:Mb,channel:["y"]}]}function y$(){return[{type:Sb,channel:"color"},{type:Mb,channel:["position"]}]}function Dg(t={}){return kQ(t)}function Ii(){return[{type:FQ}]}function Vi(){return[]}function KC(t,e){return t.getBandWidth(t.invert(e))}function Nf(t,e,n={}){const{x:r,y:i,series:a}=e,{x:o,y:s,series:A}=t,{style:{bandOffset:c=A?0:.5,bandOffsetX:l=c,bandOffsetY:u=c}={}}=n,f=!!(o!=null&&o.getBandWidth),d=!!(s!=null&&s.getBandWidth),h=!!(A!=null&&A.getBandWidth);return!f&&!d?g=>g:(g,v)=>{const y=f?KC(o,r[v]):0,w=d?KC(s,i[v]):0,B=h&&a?(KC(A,a[v])/2+ +a[v])*y:0,[E,S]=g;return[E+l*y+B,S+u*w]}}function Fb(t){return parseFloat(t)/100}function zC(t,e,n,r){const{x:i,y:a}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),A=Array.from(t,c=>{const l=i[c],u=a[c],f=typeof l=="string"?Fb(l)*o:+l,d=typeof u=="string"?Fb(u)*s:+u;return[[f,d]]});return[t,A]}function fl(t){return typeof t=="function"?t:e=>e[t]}function WC(t,e){return Array.from(t,fl(e))}function m$(t){return Array.isArray(t)?{links:t}:t&&typeof t=="object"?{links:t.links||[],nodes:t.nodes}:{links:[]}}function VC(t,e){const n=m$(t),{source:r=u=>u.source,target:i=u=>u.target,value:a=u=>u.value}=e,{links:o,nodes:s}=n;if(!o.length)return{links:[],nodes:s||[]};const A=WC(o,r),c=WC(o,i),l=WC(o,a);return{links:o.map((u,f)=>({target:c[f],source:A[f],value:l[f]})),nodes:s||Array.from(new Set([...A,...c]),u=>({key:u}))}}function TQ(t,e){return t.getBandWidth(t.invert(e))}const IQ={rect:Hh,hollow:Ob,funnel:GC,pyramid:MQ},LQ=()=>(t,e,n,r)=>{const{x:i,y1:a,series:o,size:s}=n;let{y:A}=n;A=A.map(g=>g!==void 0?g:1);const c=e.x,l=e.series,[u]=r.getSize(),f=s?s.map(g=>+g/u):null,d=s?(g,v,y)=>{const w=g+v/2,b=f[y];return[w-b/2,w+b/2]}:(g,v,y)=>[g,g+v],h=Array.from(t,g=>{const v=TQ(c,i[g]),y=l?TQ(l,o==null?void 0:o[g]):1,w=v*y,b=(+(o==null?void 0:o[g])||0)*v,B=+i[g]+b,[E,S]=d(B,w,g),F=+A[g],k=+a[g];return[[E,F],[S,F],[S,k],[E,k]].map(U=>r.map(U))});return[t,h]};LQ.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:IQ,channels:[...So({shapes:Object.keys(IQ)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Ii(),{type:dy},{type:Rf}],postInference:[...Vi(),...Ng()],interaction:{shareTooltip:!0}};const QQ={rect:Hh,hollow:Ob},UQ=()=>(t,e,n,r)=>{const{x:i,x1:a,y:o,y1:s}=n,A=Array.from(t,c=>{const l=[+i[c],+o[c]],u=[+a[c],+o[c]],f=[+a[c],+s[c]],d=[+i[c],+s[c]];return[l,u,f,d].map(h=>r.map(h))});return[t,A]};UQ.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:QQ,channels:[...So({shapes:Object.keys(QQ)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii(),{type:dy}],postInference:[...Vi(),...Ng()],interaction:{shareTooltip:!0}};var PQ=ZC(Kv);function RQ(t){this._curve=t}RQ.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function ZC(t){function e(n){return new RQ(t(n))}return e._curve=t,e}function py(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(ZC(n)):e()._curve},t}function w$(){return py(Fh().curve(PQ))}var NQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const b$=xg(t=>{const{d1:e,d2:n,style1:r,style2:i}=t.attributes,a=t.ownerDocument;Ze(t).maybeAppend("line",()=>a.createElement("path",{})).style("d",e).call(Me,r),Ze(t).maybeAppend("line1",()=>a.createElement("path",{})).style("d",n).call(Me,i)});function B$(t,e){const n=[],r=[];let i=!1,a=null;for(const o of t)!e(o[0])||!e(o[1])?i=!0:(n.push(o),i&&(i=!1,r.push([a,o])),a=o);return[n,r]}const FA=(t,e)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:a=l=>!Number.isNaN(l)&&l!==void 0&&l!==null,connect:o=!1}=t,s=NQ(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:A,document:c}=e;return(l,u,f)=>{const{color:d,lineWidth:h}=f,g=NQ(f,["color","lineWidth"]),{color:v=d,size:y=h,seriesColor:w,seriesX:b,seriesY:B}=u,E=CT(A,u),S=Hr(A),F=r&&w?_T(w,b,B,r,i,S):v,k=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g),F&&{stroke:F}),y&&{lineWidth:y}),E&&{transform:E}),s);let T;if(Ar(A)){const j=A.getCenter();T=z=>w$().angle((W,D)=>Bg(ki(z[D],j))).radius((W,D)=>mi(z[D],j)).defined(([W,D])=>a(W)&&a(D)).curve(n)(z)}else T=Fh().x(j=>j[0]).y(j=>j[1]).defined(([j,z])=>a(j)&&a(z)).curve(n);const[L,P]=B$(l,a),R=qt(k,"connect"),U=!!P.length;if(!U||o&&!Object.keys(R).length)return Ze(c.createElement("path",{})).style("d",T(L)||[]).call(Me,k).node();if(U&&!o)return Ze(c.createElement("path",{})).style("d",T(l)).call(Me,k).node();const N=j=>j.map(T).join(",");return Ze(new b$).style("style1",Object.assign(Object.assign({},k),R)).style("style2",k).style("d1",N(P)).style("d2",T(l)).node()}};FA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const DQ=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=Ar(n)?jC:Kv;return FA(Object.assign({curve:i},t),e)(...r)}};DQ.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"line"});function YC(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function $C(t,e){this._context=t,this._k=(1-e)/6}$C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:YC(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:YC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vut=function t(e){function n(r){return new $C(r,e)}return n.tension=function(r){return t(+r)},n}(0);function XC(t,e){this._context=t,this._k=(1-e)/6}XC.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:YC(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yut=function t(e){function n(r){return new XC(r,e)}return n.tension=function(r){return t(+r)},n}(0);function HQ(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Oo){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,A=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/A,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/A}if(t._l23_a>Oo){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function jQ(t,e){this._context=t,this._alpha=e}jQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:HQ(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mut=function t(e){function n(r){return e?new jQ(r,e):new $C(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function GQ(t,e){this._context=t,this._alpha=e}GQ.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:HQ(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var KQ=function t(e){function n(r){return e?new GQ(r,e):new XC(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function zQ(t){return t<0?-1:1}function WQ(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(zQ(a)+zQ(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VQ(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qC(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function kb(t){this._context=t}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qC(this,this._t0,VQ(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qC(this,VQ(this,n=WQ(this,t,e)),n);break;default:qC(this,this._t0,n=WQ(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZQ(t){this._context=new YQ(t)}(ZQ.prototype=Object.create(kb.prototype)).point=function(t,e){kb.prototype.point.call(this,e,t)};function YQ(t){this._context=t}YQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function $Q(t){return new kb(t)}function XQ(t){return new ZQ(t)}var x$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const qQ=(t,e)=>{const n=x$(t,[]),{coordinate:r}=e;return(...i)=>{const a=Ar(r)?KQ:Hr(r)?XQ:$Q;return FA(Object.assign({curve:a},n),e)(...i)}};qQ.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"smooth"});function Tb(t,e){this._context=t,this._t=e}Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function JQ(t){return new Tb(t,.5)}function tU(t){return new Tb(t,0)}function eU(t){return new Tb(t,1)}const nU=(t,e)=>FA(Object.assign({curve:eU},t),e);nU.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"hv"});const rU=(t,e)=>FA(Object.assign({curve:tU},t),e);rU.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"vh"});const iU=(t,e)=>FA(Object.assign({curve:JQ},t),e);iU.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"hvh"});var _$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function C$(t,e,n,r,i){const a=ki(n,e),o=OA(a),s=o+Math.PI/2,A=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],l=[i/2*Math.cos(o),i/2*Math.sin(o)],u=[r/2*Math.cos(o),r/2*Math.sin(o)],f=Ww(e,A),d=Ww(n,c),h=Ww(d,l),g=Ww(n,l),v=ki(g,c),y=ki(n,c),w=ki(e,A),b=ki(w,u),B=ki(e,u),E=ki(f,u);t.moveTo(...f),t.lineTo(...d),t.arcTo(...h,...g,i/2),t.arcTo(...v,...y,i/2),t.lineTo(...w),t.arcTo(...b,...B,r/2),t.arcTo(...E,...f,r/2),t.closePath()}const aU=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:A}=a,c=_$(a,["color"]),l=EA();for(let u=0;u<r.length-1;u++){const f=r[u],d=r[u+1],h=o[u],g=o[u+1];[...f,...d].every(Tr)&&C$(l,f,d,h,g)}return Ze(n.createElement("path",{})).call(Me,c).style("fill",s||A).style("d",l.toString()).call(Me,t).node()}};aU.props=Object.assign(Object.assign({},FA.props),{defaultMarker:"line"});const oU=()=>(t,e)=>{const{style:n={},encode:r}=e,{series:i}=r,{gradient:a}=n;return!a||i?[t,e]:[t,Mt({},e,{encode:{series:_b(Pf(t,void 0))}})]};oU.props={};const JC=()=>(t,e)=>{const{encode:n}=e,{series:r,color:i}=n;if(r!==void 0||i===void 0)return[t,e];const[a,o]=Hn(n,"color");return[t,Mt({},e,{encode:{series:Ir(a,o)}})]};JC.props={};const sU={line:DQ,smooth:qQ,hv:nU,vh:rU,hvh:iU,trail:aU},O$=(t,e,n,r)=>{var i,a;const{series:o,x:s,y:A}=n,{x:c,y:l}=e;if(s===void 0||A===void 0)throw new Error("Missing encode for x or y channel.");const u=o?Array.from(kr(t,v=>o[v]).values()):[t],f=u.map(v=>v[0]).filter(v=>v!==void 0),d=(((i=c==null?void 0:c.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,h=(((a=l==null?void 0:l.getBandWidth)===null||a===void 0?void 0:a.call(l))||0)/2,g=Array.from(u,v=>v.map(y=>r.map([+s[y]+d,+A[y]+h])));return[f,g,u]},E$=(t,e,n,r)=>{const i=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");Ar(r)&&i.push(i[0]);const a=Array.from(t,o=>{const s=i.map(l=>+l[o]),A=r.map(s),c=[];for(let l=0;l<A.length;l+=2)c.push([A[l],A[l+1]]);return c});return[t,a]},AU=()=>(t,e,n,r)=>(Tv(r)?E$:O$)(t,e,n,r);AU.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:sU,channels:[...So({shapes:Object.keys(sU)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Ii(),{type:oU},{type:JC}],postInference:[...Vi(),...Ng(),...y$()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};var S$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cU(t,e,n,r){if(e.length===1)return;const{size:i}=n;if(t==="fixed")return i;if(t==="normal"||YF(r)){const[[a,o],[s,A]]=e,c=Math.abs((s-a)/2),l=Math.abs((A-o)/2);return Math.max(0,(c+l)/2)}return i}const Ln=(t,e)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=t,a=S$(t,["colorAttribute","symbol","mode"]),o=lg.get(Y_(r))||lg.get("point"),{coordinate:s,document:A}=e;return(c,l,u)=>{const{lineWidth:f,color:d}=u,h=a.stroke?f||1:f,{color:g=d,transform:v,opacity:y}=l,[w,b]=Z_(c),E=cU(i,c,l,s)||a.r||u.r;return Ze(A.createElement("path",{})).call(Me,u).style("fill","transparent").style("d",o(w,b,E)).style("lineWidth",h).style("transform",v).style("transformOrigin",`${w-E} ${b-E}`).style("stroke",g).style(V_(t),y).style(n,g).call(Me,a).node()}};Ln.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const tO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);tO.props=Object.assign({defaultMarker:"hollowPoint"},Ln.props);const eO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);eO.props=Object.assign({defaultMarker:"hollowDiamond"},Ln.props);const nO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);nO.props=Object.assign({defaultMarker:"hollowHexagon"},Ln.props);const rO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);rO.props=Object.assign({defaultMarker:"hollowSquare"},Ln.props);const iO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);iO.props=Object.assign({defaultMarker:"hollowTriangleDown"},Ln.props);const aO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);aO.props=Object.assign({defaultMarker:"hollowTriangle"},Ln.props);const oO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);oO.props=Object.assign({defaultMarker:"hollowBowtie"},Ln.props);var M$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lU=(t,e)=>{const{colorAttribute:n,mode:r="auto"}=t,i=M$(t,["colorAttribute","mode"]),{coordinate:a,document:o}=e;return(s,A,c)=>{const{lineWidth:l,color:u}=c,f=i.stroke?l||1:l,{color:d=u,transform:h,opacity:g}=A,[v,y]=Z_(s),b=cU(r,s,A,a)||i.r||c.r;return Ze(o.createElement("circle",{})).call(Me,c).style("fill","transparent").style("cx",v).style("cy",y).style("r",b).style("lineWidth",f).style("transform",h).style("transformOrigin",`${v} ${y}`).style("stroke",d).style(V_(t),g).style(n,d).call(Me,i).node()}},Ib=(t,e)=>lU(Object.assign({colorAttribute:"fill"},t),e);Ib.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const sO=(t,e)=>lU(Object.assign({colorAttribute:"stroke"},t),e);sO.props=Object.assign({defaultMarker:"hollowPoint"},Ib.props);const AO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);AO.props=Object.assign({defaultMarker:"point"},Ln.props);const cO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);cO.props=Object.assign({defaultMarker:"plus"},Ln.props);const lO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);lO.props=Object.assign({defaultMarker:"diamond"},Ln.props);const uO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);uO.props=Object.assign({defaultMarker:"square"},Ln.props);const fO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);fO.props=Object.assign({defaultMarker:"triangle"},Ln.props);const dO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);dO.props=Object.assign({defaultMarker:"hexagon"},Ln.props);const hO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);hO.props=Object.assign({defaultMarker:"cross"},Ln.props);const pO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);pO.props=Object.assign({defaultMarker:"bowtie"},Ln.props);const gO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);gO.props=Object.assign({defaultMarker:"hyphen"},Ln.props);const vO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);vO.props=Object.assign({defaultMarker:"line"},Ln.props);const yO=(t,e)=>Ln(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);yO.props=Object.assign({defaultMarker:"tick"},Ln.props);const mO=(t,e)=>Ln(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);mO.props=Object.assign({defaultMarker:"triangleDown"},Ln.props);const gy=()=>(t,e)=>{const{encode:n}=e,{y:r}=n;return r!==void 0?[t,e]:[t,Mt({},e,{encode:{y:uy(Pf(t,0))},scale:{y:{guide:null}}})]};gy.props={};const wO=()=>(t,e)=>{const{encode:n}=e,{size:r}=n;return r!==void 0?[t,e]:[t,Mt({},e,{encode:{size:_b(Pf(t,3))}})]};wO.props={};const uU={hollow:tO,hollowDiamond:eO,hollowHexagon:nO,hollowSquare:rO,hollowTriangleDown:iO,hollowTriangle:aO,hollowBowtie:oO,hollowCircle:sO,point:AO,plus:cO,diamond:lO,square:uO,triangle:fO,hexagon:dO,cross:hO,bowtie:pO,hyphen:gO,line:vO,tick:yO,triangleDown:mO,circle:Ib},fU=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s,y1:A,size:c,dx:l,dy:u}=r,[f,d]=i.getSize(),h=Nf(n,r,t),g=y=>{const w=+((l==null?void 0:l[y])||0),b=+((u==null?void 0:u[y])||0),B=s?(+a[y]+ +s[y])/2:+a[y],E=A?(+o[y]+ +A[y])/2:+o[y],S=B+w,F=E+b;return[S,F]},v=c?Array.from(e,y=>{const[w,b]=g(y),B=+c[y],E=B/f,S=B/d,F=[w-E,b-S],k=[w+E,b+S];return[i.map(h(F,y)),i.map(h(k,y))]}):Array.from(e,y=>[i.map(h(g(y),y))]);return[e,v]};fU.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:uU,channels:[...So({shapes:Object.keys(uU)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Ii(),{type:Rf},{type:gy}],postInference:[...Vi(),{type:wO},...xu()]};const dU=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A},[[f,d]]=r;return Ze(new kT).style("x",f).style("y",d).call(Me,a).style("transform",`${l}rotate(${+c})`).style("coordCenter",n.getCenter()).call(Me,u).call(Me,t).node()}};dU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var bO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function F$(t){const e=t/Math.sqrt(2),n=t*Math.sqrt(2),[r,i]=[-e,e-n],[a,o]=[0,0],[s,A]=[e,e-n];return[["M",r,i],["A",t,t,0,1,1,s,A],["L",a,o],["Z"]]}function k$(t){const{min:e,max:n}=t.getLocalBounds();return[(e[0]+n[0])*.5,(e[1]+n[1])*.5]}const T$=xg(t=>{const e=t.attributes,{class:n,x:r,y:i,transform:a}=e,o=bO(e,["class","x","y","transform"]),s=qt(o,"marker"),{size:A=24}=s,c=()=>F$(A/2),l=Ze(t).maybeAppend("marker",()=>new Wn({})).call(d=>d.node().update(Object.assign({symbol:c},s))).node(),[u,f]=k$(l);Ze(t).maybeAppend("text","text").style("x",u).style("y",f).call(Me,o)}),hU=(t,e)=>{const n=bO(t,[]);return(r,i,a)=>{const{color:o}=a,s=bO(a,["color"]),{color:A=o,text:c=""}=i,l={text:String(c),stroke:A,fill:A},[[u,f]]=r;return Ze(new T$).call(Me,s).style("transform",`translate(${u},${f})`).call(Me,l).call(Me,n).node()}};hU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const pU=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:A,rotate:c=0,transform:l=""}=i,u={text:String(s),stroke:o,fill:o,fontSize:A,textAlign:"center",textBaseline:"middle"},[[f,d]]=r;return Ze(new yA).style("x",f).style("y",d).call(Me,a).style("transformOrigin","center center").style("transform",`${l}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(Me,u).call(Me,t).node()}};pU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Lb=()=>(t,e)=>{const{data:n}=e;if(!Array.isArray(n)||n.some(fy))return[t,e];const r=Array.isArray(n[0])?n:[n],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[t,Mt({},e,{encode:{x:Ir(i),y:Ir(a)}})]};Lb.props={};var gU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qb=()=>(t,e)=>{const{data:n,style:r={}}=e,i=gU(e,["data","style"]),{x:a,y:o}=r,s=gU(r,["x","y"]);if(a==null||o==null)return[t,e];const A=a||0,c=o||0;return[[0],Mt({},i,{data:[0],cartesian:!0,encode:{x:Ir([A]),y:Ir([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};Qb.props={};const vU={text:dU,badge:hU,tag:pU},yU=t=>{const{cartesian:e=!1}=t;return e?zC:(n,r,i,a)=>{const{x:o,y:s}=i,A=Nf(r,i,t),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};yU.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:vU,channels:[...So({shapes:Object.keys(vU)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...Ii(),{type:Lb},{type:Qb}],postInference:[...Vi(),...xu()]};const BO=()=>(t,e)=>[t,Mt({scale:{x:{padding:0},y:{padding:0}}},e)];BO.props={};const mU={cell:Hh,hollow:Ob},wU=()=>(t,e,n,r)=>{const{x:i,y:a}=n,o=e.x,s=e.y,A=Array.from(t,c=>{const l=o.getBandWidth(o.invert(+i[c])),u=s.getBandWidth(s.invert(+a[c])),f=+i[c],d=+a[c],h=[f,d],g=[f+l,d],v=[f+l,d+u],y=[f,d+u];return[h,g,v,y].map(w=>r.map(w))});return[t,A]};wU.props={defaultShape:"cell",defaultLabelShape:"label",shape:mU,composite:!1,channels:[...So({shapes:Object.keys(mU)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Ii(),{type:Rf},{type:gy},{type:BO}],postInference:[...Vi(),...xu()]};function xO(t,e,n){var r=null,i=ti(!0),a=null,o=Kv,s=null,A=q_(c);t=typeof t=="function"?t:t===void 0?MT:ti(+t),e=typeof e=="function"?e:ti(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?FT:ti(+n);function c(u){var f,d,h,g=(u=OT(u)).length,v,y=!1,w,b=new Array(g),B=new Array(g);for(a==null&&(s=o(w=A())),f=0;f<=g;++f){if(!(f<g&&i(v=u[f],f,u))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=f-1;h>=d;--h)s.point(b[h],B[h]);s.lineEnd(),s.areaEnd()}y&&(b[f]=+t(v,f,u),B[f]=+e(v,f,u),s.point(r?+r(v,f,u):b[f],n?+n(v,f,u):B[f]))}if(w)return s=null,w+""||null}function l(){return Fh().defined(i).curve(o).context(a)}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:ti(+u),r=null,c):t},c.x0=function(u){return arguments.length?(t=typeof u=="function"?u:ti(+u),c):t},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:ti(+u),c):r},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:ti(+u),n=null,c):e},c.y0=function(u){return arguments.length?(e=typeof u=="function"?u:ti(+u),c):e},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:ti(+u),c):n},c.lineX0=c.lineY0=function(){return l().x(t).y(e)},c.lineY1=function(){return l().x(t).y(n)},c.lineX1=function(){return l().x(r).y(e)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:ti(!!u),c):i},c.curve=function(u){return arguments.length?(o=u,a!=null&&(s=o(a)),c):o},c.context=function(u){return arguments.length?(u==null?a=s=null:s=o(a=u),c):a},c}function I$(){var t=xO().curve(PQ),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return py(n())},delete t.lineX0,t.lineEndAngle=function(){return py(r())},delete t.lineX1,t.lineInnerRadius=function(){return py(i())},delete t.lineY0,t.lineOuterRadius=function(){return py(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(ZC(o)):e()._curve},t}var L$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Q$(t,e){const n=[],r=[],i=[];let a=!1,o=null;const s=t.length/2;for(let A=0;A<s;A++){const c=t[A],l=t[A+s];if([...c,...l].some(u=>!e(u)))a=!0;else{if(n.push(c),r.push(l),a&&o){a=!1;const[u,f]=o;i.push([u,c,f,l])}o=[c,l]}}return[n.concat(r),i]}const bU=xg(t=>{const{areaPath:e,connectPath:n,areaStyle:r,connectStyle:i}=t.attributes,a=t.ownerDocument;Ze(t).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",n).call(Me,i),Ze(t).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",e).call(Me,r)}),bc=(t,e)=>{const{curve:n,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=t,o=L$(t,["curve","gradient","defined","connect"]),{coordinate:s,document:A}=e;return(c,l,u)=>{const{color:f}=u,{color:d=f,seriesColor:h,seriesX:g,seriesY:v}=l,y=Hr(s),w=CT(s,l),b=r&&h?_T(h,g,v,r,void 0,y):d,B=Object.assign(Object.assign(Object.assign(Object.assign({},u),{stroke:b,fill:b}),w&&{transform:w}),o),[E,S]=Q$(c,i),F=qt(B,"connect"),k=!!S.length,T=L=>Ze(A.createElement("path",{})).style("d",L||"").call(Me,B).node();if(Ar(s)){const L=P=>{const R=s.getCenter(),U=P.slice(0,P.length/2),N=P.slice(P.length/2);return I$().angle((j,z)=>Bg(ki(U[z],R))).outerRadius((j,z)=>mi(U[z],R)).innerRadius((j,z)=>mi(N[z],R)).defined((j,z)=>[...U[z],...N[z]].every(i)).curve(n)(N)};return!k||a&&!Object.keys(F).length?T(L(E)):k&&!a?T(L(c)):Ze(new bU).style("areaStyle",B).style("connectStyle",Object.assign(Object.assign({},F),o)).style("areaPath",L(c)).style("connectPath",S.map(L).join("")).node()}else{const L=P=>{const R=P.slice(0,P.length/2),U=P.slice(P.length/2);return y?xO().y((N,j)=>R[j][1]).x1((N,j)=>R[j][0]).x0((N,j)=>U[j][0]).defined((N,j)=>[...R[j],...U[j]].every(i)).curve(n)(R):xO().x((N,j)=>R[j][0]).y1((N,j)=>R[j][1]).y0((N,j)=>U[j][1]).defined((N,j)=>[...R[j],...U[j]].every(i)).curve(n)(R)};return!k||a&&!Object.keys(F).length?T(L(E)):k&&!a?T(L(c)):Ze(new bU).style("areaStyle",B).style("connectStyle",Object.assign(Object.assign({},F),o)).style("areaPath",L(c)).style("connectPath",S.map(L).join("")).node()}}};bc.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const BU=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=Ar(n)?jC:Kv;return bc(Object.assign({curve:i},t),e)(...r)}};BU.props=Object.assign(Object.assign({},bc.props),{defaultMarker:"square"});var U$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xU=(t,e)=>{const n=U$(t,[]),{coordinate:r}=e;return(...i)=>{const a=Ar(r)?KQ:Hr(r)?XQ:$Q;return bc(Object.assign({curve:a},n),e)(...i)}};xU.props=Object.assign(Object.assign({},bc.props),{defaultMarker:"smooth"});const _U=(t,e)=>(...n)=>bc(Object.assign({curve:JQ},t),e)(...n);_U.props=Object.assign(Object.assign({},bc.props),{defaultMarker:"hvh"});const CU=(t,e)=>(...n)=>bc(Object.assign({curve:tU},t),e)(...n);CU.props=Object.assign(Object.assign({},bc.props),{defaultMarker:"vh"});const OU=(t,e)=>(...n)=>bc(Object.assign({curve:eU},t),e)(...n);OU.props=Object.assign(Object.assign({},bc.props),{defaultMarker:"hv"});const EU={area:BU,smooth:xU,hvh:_U,vh:CU,hv:OU},SU=()=>(t,e,n,r)=>{var i,a;const{x:o,y:s,y1:A,series:c}=n,{x:l,y:u}=e,f=c?Array.from(kr(t,y=>c[y]).values()):[t],d=f.map(y=>y[0]).filter(y=>y!==void 0),h=(((i=l==null?void 0:l.getBandWidth)===null||i===void 0?void 0:i.call(l))||0)/2,g=(((a=u==null?void 0:u.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,v=Array.from(f,y=>{const w=y.length,b=new Array(w*2);for(let B=0;B<y.length;B++){const E=y[B];b[B]=r.map([+o[E]+h,+s[E]+g]),b[w+B]=r.map([+o[E]+h,+A[E]+g])}return b});return[d,v,f]};SU.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:EU,channels:[...So({shapes:Object.keys(EU)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...Ii(),{type:JC},{type:dy},{type:BO}],postInference:[...Vi(),...Ng()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const MU=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;if(r)return[t,e];const[i]=Hn(n,"y");return[t,Mt({},e,{encode:{y1:Ir([...i])}})]};MU.props={};const FU=()=>(t,e)=>{const{encode:n}=e,{x1:r}=n;if(r)return[t,e];const[i]=Hn(n,"x");return[t,Mt({},e,{encode:{x1:Ir([...i])}})]};FU.props={};var kU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _O=(t,e)=>{const{arrow:n=!0,arrowSize:r="40%"}=t,i=kU(t,["arrow","arrowSize"]),{document:a}=e;return(o,s,A)=>{const{defaultColor:c}=A,l=kU(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,g=EA();if(g.moveTo(...d),g.lineTo(...h),n){const[v,y]=VG(d,h,{arrowSize:r});g.moveTo(...v),g.lineTo(...h),g.lineTo(...y)}return Ze(a.createElement("path",{})).call(Me,l).style("d",g.toString()).style("stroke",u).style("transform",f).call(Me,i).node()}};_O.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const TU=(t,e)=>{const{arrow:n=!1}=t;return(...r)=>_O(Object.assign(Object.assign({},t),{arrow:n}),e)(...r)};TU.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var IU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const LU=(t,e)=>{const n=IU(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:A}=s,c=IU(s,["color"]),{color:l=A,transform:u}=o,[f,d]=a,h=EA();if(h.moveTo(f[0],f[1]),Ar(r)){const g=r.getCenter();h.quadraticCurveTo(g[0],g[1],d[0],d[1])}else{const g=xT(f,d),v=mi(f,d)/2;Gv(h,f,d,g,v)}return Ze(i.createElement("path",{})).call(Me,c).style("d",h.toString()).style("stroke",l).style("transform",u).call(Me,n).node()}};LU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var QU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const UU=(t,e)=>{const n=QU(t,[]),{document:r}=e;return(i,a,o)=>{const{color:s}=o,A=QU(o,["color"]),{color:c=s,transform:l}=a,[u,f]=i,d=EA();return d.moveTo(u[0],u[1]),d.bezierCurveTo(u[0]/2+f[0]/2,u[1],u[0]/2+f[0]/2,f[1],f[0],f[1]),Ze(r.createElement("path",{})).call(Me,A).style("d",d.toString()).style("stroke",c).style("transform",l).call(Me,n).node()}};UU.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var PU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function P$(t,e,n,r){const i=EA();if(Ar(n)){const a=n.getCenter(),o=mi(t,a),A=(mi(e,a)-o)*r+o;return i.moveTo(t[0],t[1]),Gv(i,t,e,a,A),i.lineTo(e[0],e[1]),i}return Hr(n)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],e[1]),i)}const RU=(t,e)=>{const{cornerRatio:n=1/3}=t,r=PU(t,["cornerRatio"]),{coordinate:i,document:a}=e;return(o,s,A)=>{const{defaultColor:c}=A,l=PU(A,["defaultColor"]),{color:u=c,transform:f}=s,[d,h]=o,g=P$(d,h,i,n);return Ze(a.createElement("path",{})).call(Me,l).style("d",g.toString()).style("stroke",u).style("transform",f).call(Me,r).node()}};RU.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const NU={link:TU,arc:LU,smooth:UU,vhv:RU},CO=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s=a,y1:A=o}=r,c=Nf(n,r,t),l=e.map(u=>[i.map(c([+a[u],+o[u]],u)),i.map(c([+s[u],+A[u]],u))]);return[e,l]};CO.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:NU,channels:[...So({shapes:Object.keys(NU)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii(),{type:MU},{type:FU}],postInference:[...Vi(),...xu()]};var R$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const DU=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,A=R$(o,["color"]),{color:c=s,src:l="",size:u=32,transform:f=""}=a;let{width:d=u,height:h=u}=t;const[[g,v]]=i,[y,w]=n.getSize();d=typeof d=="string"?Fb(d)*y:d,h=typeof h=="string"?Fb(h)*w:h;const b=g-Number(d)/2,B=v-Number(h)/2;return Ze(r.createElement("image",{})).call(Me,A).style("x",b).style("y",B).style("src",l).style("stroke",c).style("transform",f).call(Me,t).style("width",d).style("height",h).node()}};DU.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const HU={image:DU},jU=t=>{const{cartesian:e}=t;return e?zC:(n,r,i,a)=>{const{x:o,y:s}=i,A=Nf(r,i,t),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};jU.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:HU,channels:[...So({shapes:Object.keys(HU)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Ii(),{type:Lb},{type:Qb}],postInference:[...Vi(),...xu()]};var N$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function D$(t,e){const n=EA();if(Ar(e)){const r=e.getCenter(),i=[...t,t[0]],a=i.map(o=>mi(o,r));return i.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const A=a[s],c=t[s-1],l=a[s-1];l!==void 0&&Math.abs(A-l)<1e-10?Gv(n,c,o,r,A):n.lineTo(o[0],o[1])}),n.closePath(),n}return WG(n,t)}const GU=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,A=N$(o,["color"]),{color:c=s,transform:l}=a,u=D$(i,n);return Ze(r.createElement("path",{})).call(Me,A).style("d",u.toString()).style("stroke",c).style("fill",c).style("transform",l).call(Me,t).node()}};GU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var KU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function H$(t,e){const[n,r,i,a]=t,o=EA();if(Ar(e)){const s=e.getCenter(),A=mi(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),Gv(o,i,a,s,A),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),Gv(o,r,n,s,A),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const zU=(t,e)=>{const n=KU(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:A}=s,c=KU(s,["color"]),{color:l=A,transform:u}=o,f=H$(a,r);return Ze(i.createElement("path",{})).call(Me,c).style("d",f.toString()).style("fill",l||A).style("stroke",l||A).style("transform",u).call(Me,n).node()}};zU.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const WU={polygon:GU,ribbon:zU},VU=()=>(t,e,n,r)=>{const i=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=t.map(s=>{const A=[];for(let c=0;c<i.length;c++){const l=i[c][s];if(l===void 0)break;const u=a[c][s];A.push(r.map([+l,+u]))}return A});return[t,o]};VU.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:WU,channels:[...So({shapes:Object.keys(WU)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii()],postInference:[...Vi(),...xu()]};var j$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function G$(t,e){const n=EA();if(!Ar(e))n.moveTo(...t[0]),n.lineTo(...t[1]),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.lineTo(...t[5]),n.lineTo(...t[6]),n.lineTo(...t[7]),n.closePath(),n.moveTo(...t[8]),n.lineTo(...t[9]),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.lineTo(...t[13]);else{const r=e.getCenter(),[i,a]=r,o=OA(ki(t[0],r)),s=OA(ki(t[1],r)),A=mi(r,t[2]),c=mi(r,t[3]),l=mi(r,t[8]),u=mi(r,t[10]),f=mi(r,t[11]);n.moveTo(...t[0]),n.arc(i,a,A,o,s),n.arc(i,a,A,s,o,!0),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.arc(i,a,c,o,s),n.lineTo(...t[6]),n.arc(i,a,u,s,o,!0),n.closePath(),n.moveTo(...t[8]),n.arc(i,a,l,o,s),n.arc(i,a,l,s,o,!0),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.arc(i,a,f,o,s),n.arc(i,a,f,s,o,!0)}return n}const ZU=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:A}=a,{color:c,fill:l=c,stroke:u=c}=o,f=j$(o,["color","fill","stroke"]),d=G$(i,n);return Ze(r.createElement("path",{})).call(Me,f).style("d",d.toString()).style("stroke",u).style("fill",s||l).style("transform",A).call(Me,t).node()}};ZU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var K$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function z$(t,e,n=4){const r=EA();if(!Ar(e))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-n,t[3][1]),r.lineTo(t[10][0]-n,t[10][1]),r.lineTo(t[10][0]+n,t[10][1]),r.lineTo(t[3][0]+n,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+n/2,t[8][1]),r.arc(t[3][0],t[8][1],n/2,0,Math.PI*2),r.closePath(),r;const i=e.getCenter(),[a,o]=i,s=mi(i,t[3]),A=mi(i,t[8]),c=mi(i,t[10]),l=OA(ki(t[2],i)),u=Math.asin(n/A),f=l-u,d=l+u;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.arc(a,o,s,f,d),r.lineTo(Math.cos(d)*c+a,Math.sin(d)*c+o),r.arc(a,o,c,d,f,!0),r.lineTo(Math.cos(f)*s+a,Math.sin(f)*s+o),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const h=(f+d)/2;return r.moveTo(Math.cos(h)*(A+n/2)+a,Math.sin(h)*(A+n/2)+o),r.arc(Math.cos(h)*A+a,Math.sin(h)*A+o,n/2,h,Math.PI*2+h),r.closePath(),r}const YU=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:A}=a,c=4,{color:l,fill:u=l,stroke:f=l}=o,d=K$(o,["color","fill","stroke"]),h=z$(i,n,c);return Ze(r.createElement("path",{})).call(Me,d).style("d",h.toString()).style("stroke",f).style("fill",s||u).style("transform",A).call(Me,t).node()}};YU.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const $U={box:ZU,violin:YU},XU=()=>(t,e,n,r)=>{const{x:i,y:a,y1:o,y2:s,y3:A,y4:c,series:l}=n,u=e.x,f=e.series,d=Array.from(t,h=>{const g=u.getBandWidth(u.invert(+i[h])),v=f?f.getBandWidth(f.invert(+(l==null?void 0:l[h]))):1,y=g*v,w=(+(l==null?void 0:l[h])||0)*g,b=+i[h]+w+y/2,[B,E,S,F,k]=[+a[h],+o[h],+s[h],+A[h],+c[h]];return[[b-y/2,k],[b+y/2,k],[b,k],[b,F],[b-y/2,F],[b+y/2,F],[b+y/2,E],[b-y/2,E],[b-y/2,S],[b+y/2,S],[b,E],[b,B],[b-y/2,B],[b+y/2,B]].map(L=>r.map(L))});return[t,d]};XU.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:$U,channels:[...So({shapes:Object.keys($U)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Ii(),{type:Rf}],postInference:[...Vi(),...Ng()],interaction:{shareTooltip:!0}};const qU={vector:_O},JU=()=>(t,e,n,r)=>{const{x:i,y:a,size:o,rotate:s}=n,[A,c]=r.getSize(),l=t.map(u=>{const f=+s[u]/180*Math.PI,d=+o[u],h=d/A,g=d/c,v=h*Math.cos(f),y=-g*Math.sin(f);return[r.map([+i[u]-v/2,+a[u]-y/2]),r.map([+i[u]+v/2,+a[u]+y/2])]});return[t,l]};JU.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:qU,channels:[...So({shapes:Object.keys(qU)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Ii()],postInference:[...Vi(),...xu()]};var tP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function W$(t,e,n){return t.createElement("path",{style:Object.assign({d:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,transformOrigin:"center"},n)})}function V$(t,e){if(!Ar(e))return Fh().x(r=>r[0]).y(r=>r[1])(t);const n=e.getCenter();return iC()({startAngle:0,endAngle:Math.PI*2,outerRadius:mi(t[0],n),innerRadius:mi(t[1],n)})}function Z$(t,e){if(!Ar(t))return e;const[n,r]=t.getCenter();return`translate(${n}, ${r}) ${e||""}`}const OO=(t,e)=>{const{arrow:n,arrowSize:r=4}=t,i=tP(t,["arrow","arrowSize"]),{coordinate:a,document:o}=e;return(s,A,c)=>{const{color:l,lineWidth:u}=c,f=tP(c,["color","lineWidth"]),{color:d=l,size:h=u}=A,g=n?W$(o,r,Object.assign({fill:i.stroke||d,stroke:i.stroke||d},qt(i,"arrow"))):null,v=V$(s,a),y=Z$(a,A.transform);return Ze(o.createElement("path",{})).call(Me,f).style("d",v).style("stroke",d).style("lineWidth",h).style("transform",y).style("markerEnd",g).call(Me,i).node()}};OO.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const eP=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(fy)?[t,e]:[t,Mt({},e,{encode:{x:Ir(n)}})]};eP.props={};const nP={line:OO},rP=t=>(e,n,r,i)=>{const{x:a}=r,o=Nf(n,r,Mt({style:{bandOffset:0}},t)),s=Array.from(e,A=>{const c=[a[A],1],l=[a[A],0];return[c,l].map(u=>i.map(o(u,A)))});return[e,s]};rP.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:nP,channels:[...Dg({shapes:Object.keys(nP)}),{name:"x",required:!0}],preInference:[...Ii(),{type:eP}],postInference:[...Vi()]};const iP=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(fy)?[t,e]:[t,Mt({},e,{encode:{y:Ir(n)}})]};iP.props={};const aP={line:OO},oP=t=>(e,n,r,i)=>{const{y:a}=r,o=Nf(n,r,Mt({style:{bandOffset:0}},t)),s=Array.from(e,A=>{const c=[0,a[A]],l=[1,a[A]];return[c,l].map(u=>i.map(o(u,A)))});return[e,s]};oP.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:aP,channels:[...Dg({shapes:Object.keys(aP)}),{name:"y",required:!0}],preInference:[...Ii(),{type:iP}],postInference:[...Vi()]};var sP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Y$(t,e,n){return[["M",t,e],["L",t+2*n,e-n],["L",t+2*n,e+n],["Z"]]}function $$(t){return Fh().x(e=>e[0]).y(e=>e[1])(t)}function X$(t,e,n,r,i,a,o=0){const[[s,A],[c,l]]=e;if(Hr(t)){const v=s+n,y=c+r,w=v+o,b=A+i,B=l+a;return[[v,b],[w,b],[w,B],[y,B]]}const u=A-n,f=l-r,d=u-o,h=s-i,g=c-a;return[[h,u],[h,d],[g,d],[g,f]]}const AP=(t,e)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:i=n,offsetY:a=0,sourceOffsetY:o=a,targetOffsetY:s=a,connectLength1:A,endMarker:c=!0}=t,l=sP(t,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:u}=e;return(f,d,h)=>{const{color:g,connectLength1:v}=h,y=sP(h,["color","connectLength1"]),{color:w,transform:b}=d,B=X$(u,f,o,s,r,i,A!=null?A:v),E=qt(Object.assign(Object.assign({},l),h),"endMarker");return Ze(new pa).call(Me,y).style("d",$$(B)).style("stroke",w||g).style("transform",b).style("markerEnd",c?new Wn({className:"marker",style:Object.assign(Object.assign({},E),{symbol:Y$})}):null).call(Me,l).node()}};AP.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const cP={connector:AP},lP=(...t)=>CO(...t);lP.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:cP,channels:[...Dg({shapes:Object.keys(cP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii()],postInference:[...Vi()]};function uP(t,e,n,r){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:a}=n;return o=>{var s;const A=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+A]}}function EO(t={}){const{extendX:e=!1,extendY:n=!1}=t;return(r,i,a,o)=>{const s=uP("x",e,a,i.x),A=uP("y",n,a,i.y),c=Array.from(r,l=>{const[u,f]=s(l),[d,h]=A(l);return[[u,d],[f,d],[f,h],[u,h]].map(b=>o.map(b))});return[r,c]}}const fP={range:Hh},dP=()=>EO();dP.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:fP,channels:[...Dg({shapes:Object.keys(fP)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii()],postInference:[...Vi()]};const hP=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(fy))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,Mt({},e,{encode:{x:Ir(r(n,0)),x1:Ir(r(n,1))}})]}return[t,e]};hP.props={};const pP={range:Hh},gP=()=>EO({extendY:!0});gP.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:pP,channels:[...Dg({shapes:Object.keys(pP)}),{name:"x",required:!0}],preInference:[...Ii(),{type:hP}],postInference:[...Vi()]};const vP=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(fy))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,Mt({},e,{encode:{y:Ir(r(n,0)),y1:Ir(r(n,1))}})]}return[t,e]};vP.props={};const yP={range:Hh},mP=()=>EO({extendX:!0});mP.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:yP,channels:[...Dg({shapes:Object.keys(yP)}),{name:"y",required:!0}],preInference:[...Ii(),{type:vP}],postInference:[...Vi()]};var wP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const SO=(t,e)=>{const{arrow:n,colorAttribute:r}=t,i=wP(t,["arrow","colorAttribute"]),{coordinate:a,document:o}=e;return(s,A,c)=>{const{color:l,stroke:u}=c,f=wP(c,["color","stroke"]),{d,color:h=l}=A,[g,v]=a.getSize();return Ze(o.createElement("path",{})).call(Me,f).style("d",typeof d=="function"?d({width:g,height:v}):d).style(r,h).call(Me,i).node()}};SO.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const bP=(t,e)=>SO(Object.assign({colorAttribute:"fill"},t),e);bP.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const BP=(t,e)=>SO(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);BP.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xP={path:bP,hollow:BP},_P=t=>(e,n,r,i)=>[e,e.map(()=>[[0,0]])];_P.props={defaultShape:"path",defaultLabelShape:"label",shape:xP,composite:!1,channels:[...So({shapes:Object.keys(xP)}),{name:"d",scale:"identity"}],preInference:[...Ii()],postInference:[...Vi()]};var q$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const CP=(t,e)=>{const{render:n}=t,r=q$(t,["render"]);return i=>{const[[a,o]]=i;return n(Object.assign(Object.assign({},r),{x:a,y:o}),e)}};CP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const OP=()=>(t,e)=>{const{style:n={}}=e;return[t,Mt({},e,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};OP.props={};const J$={shape:CP},EP=t=>{const{cartesian:e}=t;return e?zC:(n,r,i,a)=>{const{x:o,y:s}=i,A=Nf(r,i,t),c=Array.from(n,l=>{const u=[+o[l],+s[l]];return[a.map(A(u,l))]});return[n,c]}};EP.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:J$,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Ii(),{type:Lb},{type:Qb},{type:OP}]};var tX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const SP=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,A=tX(a,["color"]),{color:c=s}=i,[l,...u]=r,f=EA();return f.moveTo(...l),u.forEach(([d,h])=>{f.lineTo(d,h)}),f.closePath(),Ze(n.createElement("path",{})).call(Me,A).style("d",f.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(Me,t).node()}};SP.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const MP={density:SP},FP=()=>(t,e,n,r)=>{const{x:i,series:a}=n,o=Object.entries(n).filter(([u])=>u.startsWith("y")).map(([,u])=>u),s=Object.entries(n).filter(([u])=>u.startsWith("size")).map(([,u])=>u);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const A=e.x,c=e.series,l=Array.from(t,u=>{const f=A.getBandWidth(A.invert(+i[u])),d=c?c.getBandWidth(c.invert(+(a==null?void 0:a[u]))):1,h=f*d,g=(+(a==null?void 0:a[u])||0)*f,v=+i[u]+g+h/2;return[...o.map((w,b)=>[v+ +s[b][u]/t.length,+o[b][u]]),...o.map((w,b)=>[v-+s[b][u]/t.length,+o[b][u]]).reverse()].map(w=>r.map(w))});return[t,l]};FP.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:MP,channels:[...So({shapes:Object.keys(MP)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Ii(),{type:dy},{type:Rf}],postInference:[...Vi(),...Ng()],interaction:{shareTooltip:!0}};function eX(t){return typeof t=="string"?t.split(" ").map(e=>{const[n,r]=e.split(":");return[+n,r]}):t}function Ub(t,e,n){const r=t?t():document.createElement("canvas");return r.width=e,r.height=n,r}const nX=UF((t,e,n)=>{const r=Ub(n,t*2,t*2),i=r.getContext("2d"),a=t,o=t;if(e===1)i.beginPath(),i.arc(a,o,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,t*e,a,o,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return r},t=>`${t}`);function rX(t,e){const r=Ub(e,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return eX(t).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function iX(t,e,n,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:A,y:c,value:l,radius:u}=r[s],f=Math.min(l,n),d=A-u,h=c-u,g=nX(u,1-o,a),v=(f-e)/(n-e);t.globalAlpha=Math.max(v,.001),t.drawImage(g,d,h)}return t}function aX(t,e,n,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:A}=i,c=0,l=0,u=e,f=n,d=t.getImageData(c,l,u,f),h=d.data,g=h.length;for(let v=3;v<g;v+=4){const y=h[v],w=y*4;if(!w)continue;const b=o||Math.max(0,Math.min(s,Math.max(a,y)));h[v-3]=r[w],h[v-2]=r[w+1],h[v-1]=r[w+2],h[v]=A?r[w+3]:b}return d}function oX(t,e,n,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=Ub(o,t,e).getContext("2d"),l=rX(s.gradient,o);c.clearRect(0,0,t,e),iX(c,n,r,i,s,o);const u=aX(c,t,e,l,s),d=Ub(o,t,e).getContext("2d");return d.putImageData(u,0,0),d}var sX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function AX(t,e){return Object.keys(t).reduce((n,r)=>{const i=t[r];return e(i,r)||(n[r]=i),n},{})}const kP=(t,e)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=t,A=sX(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:l,document:u}=e;return(f,d,h)=>{const{transform:g}=d,[v,y]=c.getSize(),w=f.map(F=>({x:F[0],y:F[1],value:F[2],radius:F[3]})),b=Ks(f,F=>F[2]),B=hr(f,F=>F[2]),S=v&&y?oX(v,y,b,B,w,AX({gradient:n,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},F=>F===void 0),l):{canvas:null};return Ze(u.createElement("image",{})).call(Me,h).style("x",0).style("y",0).style("width",v).style("height",y).style("src",S.canvas.toDataURL()).style("transform",g).call(Me,A).node()}};kP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const TP={heatmap:kP},IP=t=>(e,n,r,i)=>{const{x:a,y:o,size:s,color:A}=r,c=Array.from(e,l=>{const u=s?+s[l]:40;return[...i.map([+a[l],+o[l]]),A[l],u]});return[[0],[c]]};IP.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:TP,channels:[...So({shapes:Object.keys(TP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Ii(),{type:Rf},{type:gy}],postInference:[...Vi(),...xu()]};var cX=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},lX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function uX(t,e){const{text:n="text",value:r="value"}=e;return t.map(i=>Object.assign(Object.assign({},i),{text:i[n],value:i[r]}))}const fX=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:t=>t.fontFamily},tooltip:{items:[t=>({name:t.text,value:t.value})]}}),MO=(t,e)=>cX(void 0,void 0,void 0,function*(){const{width:n,height:r}=e,{data:i,encode:a={},scale:o,style:s={},layout:A={}}=t,c=lX(t,["data","encode","scale","style","layout"]),l=uX(i,a);return Mt({},fX(),Object.assign(Object.assign({data:{value:l,transform:[Object.assign({type:"wordCloud",size:[n,r]},A)]},encode:a,scale:o,style:s},c),{axis:!1}))});MO.props={};var dX={value:function(){}};function LP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Pb(n)}function Pb(t){this._=t}function hX(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Pb.prototype=LP.prototype={constructor:Pb,on:function(e,n){var r=this._,i=hX(e+"",r),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(e=i[o]).type)&&(a=pX(r[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(a=(e=i[o]).type)r[a]=QP(r[a],e.name,n);else if(n==null)for(a in r)r[a]=QP(r[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Pb(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,o;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,r)}};function pX(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function QP(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=dX,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var gX=LP,Hg=0,vy=0,yy=0,UP=1e3,Rb,my,Nb=0,jh=0,Db=0,wy=typeof performance=="object"&&performance.now?performance:Date,PP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function RP(){return jh||(PP(vX),jh=wy.now()+Db)}function vX(){jh=0}function FO(){this._call=this._time=this._next=null}FO.prototype=NP.prototype={constructor:FO,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?RP():+n)+(e==null?0:+e),!this._next&&my!==this&&(my?my._next=this:Rb=this,my=this),this._call=t,this._time=n,kO()},stop:function(){this._call&&(this._call=null,this._time=1/0,kO())}};function NP(t,e,n){var r=new FO;return r.restart(t,e,n),r}function yX(){RP(),++Hg;for(var t=Rb,e;t;)(e=jh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hg}function DP(){jh=(Nb=wy.now())+Db,Hg=vy=0;try{yX()}finally{Hg=0,wX(),jh=0}}function mX(){var t=wy.now(),e=t-Nb;e>UP&&(Db-=e,Nb=t)}function wX(){for(var t,e=Rb,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Rb=n);my=t,kO(r)}function kO(t){if(!Hg){vy&&(vy=clearTimeout(vy));var e=t-jh;e>24?(t<1/0&&(vy=setTimeout(DP,t-wy.now()-Db)),yy&&(yy=clearInterval(yy))):(yy||(Nb=wy.now(),yy=setInterval(mX,UP)),Hg=1,PP(DP))}}const bX=1664525,BX=1013904223,HP=4294967296;function xX(){let t=1;return()=>(t=(bX*t+BX)%HP)/HP}function _X(t){return t.x}function CX(t){return t.y}var OX=10,EX=Math.PI*(3-Math.sqrt(5));function jP(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,A=NP(u),c=gX("tick","end"),l=xX();t==null&&(t=[]);function u(){f(),c.call("tick",e),n<r&&(A.stop(),c.call("end",e))}function f(g){var v,y=t.length,w;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(a-n)*i,s.forEach(function(B){B(n)}),v=0;v<y;++v)w=t[v],w.fx==null?w.x+=w.vx*=o:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=o:(w.y=w.fy,w.vy=0);return e}function d(){for(var g=0,v=t.length,y;g<v;++g){if(y=t[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var w=OX*Math.sqrt(.5+g),b=g*EX;y.x=w*Math.cos(b),y.y=w*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function h(g){return g.initialize&&g.initialize(t,l),g}return d(),e={tick:f,restart:function(){return A.restart(u),e},stop:function(){return A.stop(),e},nodes:function(g){return arguments.length?(t=g,d(),s.forEach(h),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(a=+g,e):a},velocityDecay:function(g){return arguments.length?(o=1-g,e):1-o},randomSource:function(g){return arguments.length?(l=g,s.forEach(h),e):l},force:function(g,v){return arguments.length>1?(v==null?s.delete(g):s.set(g,h(v)),e):s.get(g)},find:function(g,v,y){var w=0,b=t.length,B,E,S,F,k;for(y==null?y=1/0:y*=y,w=0;w<b;++w)F=t[w],B=g-F.x,E=v-F.y,S=B*B+E*E,S<y&&(k=F,y=S);return k},on:function(g,v){return arguments.length>1?(c.on(g,v),e):c.on(g)}}}function SX(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return GP(this.cover(e,n),e,n,t)}function GP(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,A=t._y0,c=t._x1,l=t._y1,u,f,d,h,g,v,y,w;if(!a)return t._root=o,t;for(;a.length;)if((g=e>=(u=(s+c)/2))?s=u:c=u,(v=n>=(f=(A+l)/2))?A=f:l=f,i=a,!(a=a[y=v<<1|g]))return i[y]=o,t;if(d=+t._x.call(null,a.data),h=+t._y.call(null,a.data),e===d&&n===h)return o.next=a,i?i[y]=o:t._root=o,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(g=e>=(u=(s+c)/2))?s=u:c=u,(v=n>=(f=(A+l)/2))?A=f:l=f;while((y=v<<1|g)===(w=(h>=f)<<1|d>=u));return i[w]=a,i[y]=o,t}function MX(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),A=1/0,c=1/0,l=-1/0,u=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<A&&(A=i),i>l&&(l=i),a<c&&(c=a),a>u&&(u=a));if(A>l||c>u)return this;for(this.cover(A,c).cover(l,u),n=0;n<r;++n)GP(this,o[n],s[n],t[n]);return this}function FX(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,A,c;n>t||t>=i||r>e||e>=a;)switch(c=(e<r)<<1|t<n,A=new Array(4),A[c]=s,s=A,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function kX(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function TX(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function jo(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function IX(t,e,n){var r,i=this._x0,a=this._y0,o,s,A,c,l=this._x1,u=this._y1,f=[],d=this._root,h,g;for(d&&f.push(new jo(d,i,a,l,u)),n==null?n=1/0:(i=t-n,a=e-n,l=t+n,u=e+n,n*=n);h=f.pop();)if(!(!(d=h.node)||(o=h.x0)>l||(s=h.y0)>u||(A=h.x1)<i||(c=h.y1)<a))if(d.length){var v=(o+A)/2,y=(s+c)/2;f.push(new jo(d[3],v,y,A,c),new jo(d[2],o,y,v,c),new jo(d[1],v,s,A,y),new jo(d[0],o,s,v,y)),(g=(e>=y)<<1|t>=v)&&(h=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=h)}else{var w=t-+this._x.call(null,d.data),b=e-+this._y.call(null,d.data),B=w*w+b*b;if(B<n){var E=Math.sqrt(n=B);i=t-E,a=e-E,l=t+E,u=e+E,r=d.data}}return r}function LX(t){if(isNaN(l=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,A=this._x1,c=this._y1,l,u,f,d,h,g,v,y;if(!n)return this;if(n.length)for(;;){if((h=l>=(f=(o+A)/2))?o=f:A=f,(g=u>=(d=(s+c)/2))?s=d:c=d,e=n,!(n=n[v=g<<1|h]))return this;if(!n.length)break;(e[v+1&3]||e[v+2&3]||e[v+3&3])&&(r=e,y=v)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[v]=a:delete e[v],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function QX(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function UX(){return this._root}function PX(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function RX(t){var e=[],n,r=this._root,i,a,o,s,A;for(r&&e.push(new jo(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,A=n.y1)&&r.length){var c=(a+s)/2,l=(o+A)/2;(i=r[3])&&e.push(new jo(i,c,l,s,A)),(i=r[2])&&e.push(new jo(i,a,l,c,A)),(i=r[1])&&e.push(new jo(i,c,o,s,l)),(i=r[0])&&e.push(new jo(i,a,o,c,l))}return this}function NX(t){var e=[],n=[],r;for(this._root&&e.push(new jo(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,A=r.x1,c=r.y1,l=(o+A)/2,u=(s+c)/2;(a=i[0])&&e.push(new jo(a,o,s,l,u)),(a=i[1])&&e.push(new jo(a,l,s,A,u)),(a=i[2])&&e.push(new jo(a,o,u,l,c)),(a=i[3])&&e.push(new jo(a,l,u,A,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function DX(t){return t[0]}function HX(t){return arguments.length?(this._x=t,this):this._x}function jX(t){return t[1]}function GX(t){return arguments.length?(this._y=t,this):this._y}function TO(t,e,n){var r=new IO(e==null?DX:e,n==null?jX:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function IO(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function KP(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Go=TO.prototype=IO.prototype;Go.copy=function(){var t=new IO(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=KP(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=KP(r));return t},Go.add=SX,Go.addAll=MX,Go.cover=FX,Go.data=kX,Go.extent=TX,Go.find=IX,Go.remove=LX,Go.removeAll=QX,Go.root=UX,Go.size=PX,Go.visit=RX,Go.visitAfter=NX,Go.x=HX,Go.y=GX;function Ko(t){return function(){return t}}function Df(t){return(t()-.5)*1e-6}function KX(t){return t.x+t.vx}function zX(t){return t.y+t.vy}function WX(t){var e,n,r,i=1,a=1;typeof t!="function"&&(t=Ko(t==null?1:+t));function o(){for(var c,l=e.length,u,f,d,h,g,v,y=0;y<a;++y)for(u=TO(e,KX,zX).visitAfter(s),c=0;c<l;++c)f=e[c],g=n[f.index],v=g*g,d=f.x+f.vx,h=f.y+f.vy,u.visit(w);function w(b,B,E,S,F){var k=b.data,T=b.r,L=g+T;if(k){if(k.index>f.index){var P=d-k.x-k.vx,R=h-k.y-k.vy,U=P*P+R*R;U<L*L&&(P===0&&(P=Df(r),U+=P*P),R===0&&(R=Df(r),U+=R*R),U=(L-(U=Math.sqrt(U)))/U*i,f.vx+=(P*=U)*(L=(T*=T)/(v+T)),f.vy+=(R*=U)*L,k.vx-=P*(L=1-L),k.vy-=R*L)}return}return B>d+L||S<d-L||E>h+L||F<h-L}}function s(c){if(c.data)return c.r=n[c.data.index];for(var l=c.r=0;l<4;++l)c[l]&&c[l].r>c.r&&(c.r=c[l].r)}function A(){if(e){var c,l=e.length,u;for(n=new Array(l),c=0;c<l;++c)u=e[c],n[u.index]=+t(u,c,e)}}return o.initialize=function(c,l){e=c,r=l,A()},o.iterations=function(c){return arguments.length?(a=+c,o):a},o.strength=function(c){return arguments.length?(i=+c,o):i},o.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ko(+c),A(),o):t},o}function zP(t){var e=Ko(.1),n,r,i;typeof t!="function"&&(t=Ko(t==null?0:+t));function a(s){for(var A=0,c=n.length,l;A<c;++A)l=n[A],l.vx+=(i[A]-l.x)*r[A]*s}function o(){if(n){var s,A=n.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ko(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Ko(+s),o(),a):t},a}function WP(t){var e=Ko(.1),n,r,i;typeof t!="function"&&(t=Ko(t==null?0:+t));function a(s){for(var A=0,c=n.length,l;A<c;++A)l=n[A],l.vy+=(i[A]-l.y)*r[A]*s}function o(){if(n){var s,A=n.length;for(r=new Array(A),i=new Array(A),s=0;s<A;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ko(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ko(+s),o(),a):t},a}const VP={hollow:tO,hollowDiamond:eO,hollowHexagon:nO,hollowSquare:rO,hollowTriangleDown:iO,hollowTriangle:aO,hollowBowtie:oO,hollowCircle:sO,point:AO,plus:cO,diamond:lO,square:uO,triangle:fO,hexagon:dO,cross:hO,bowtie:pO,hyphen:gO,line:vO,tick:yO,triangleDown:mO,circle:Ib},VX=4,ZX=200,ZP=t=>(e,n,r,i)=>{const{x:a,y:o,size:s}=r;if(!a.length||!o.length)return[e,o.map(()=>[[]])];const[A,c]=i.getSize(),l=Nf(n,r,t),u=Array.from(e,g=>{const v=+a[g]*A,y=+o[g]*c,w=+s[g]||VX;return{i:g,x:v,y,r:w}}),f=jP(u).stop().force("collide",WX().radius(g=>g.r+1).strength(1));f.force("x",zP(g=>g.x).strength(0)),f.force("y",WP(g=>g.y).strength(5));for(let g=0;g<ZX;g++)f.tick();f.stop();const d=g=>{const v=u.find(y=>y.i===g);return[v.x/A,v.y/c]},h=s?Array.from(e,g=>{const[v,y]=d(g),w=+s[g],b=w/A,B=w/c,E=[v-b,y-B],S=[v+b,y+B];return[i.map(l(E,g)),i.map(l(S,g))]}):Array.from(e,g=>[i.map(l(d(g),g))]);return[e,h]};ZP.props={defaultShape:"point",defaultLabelShape:"label",composite:!1,shape:VP,channels:[...So({shapes:Object.keys(VP)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"}],preInference:[...Ii(),{type:Rf},{type:gy}],postInference:[...Vi(),{type:wO},...xu()]};const YP=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];YP.props={};const $P=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];$P.props={};const XP=t=>new vc(t);XP.props={};const qP=t=>new dw(t);qP.props={};const JP=t=>new gh(t);JP.props={};class Hb extends Ev{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:j_}}map(e){return Qw(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new Hb(this.options)}getTicks(){const{domain:e,tickCount:n,tickMethod:r}=this.options,[i,a]=e;return!rr(i)||!rr(a)?[]:r(i,a,n)}}const t4=t=>new Hb(t);t4.props={};class LO extends gh{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:fw,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new LO(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}const e4=t=>new LO(t);e4.props={};var n4=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Hf="\\d\\d?",jf="\\d\\d",YX="\\d{3}",$X="\\d{4}",by="[^\\s]+",r4=/\[([^]*?)\]/gm;function i4(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var a4=function(t){return function(e,n){var r=n[t].map(function(a){return a.toLowerCase()}),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function Gh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var o4=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s4=["January","February","March","April","May","June","July","August","September","October","November","December"],XX=i4(s4,3),qX=i4(o4,3),A4={dayNamesShort:qX,dayNames:o4,monthNamesShort:XX,monthNames:s4,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},jb=Gh({},A4),JX=function(t){return jb=Gh(jb,t)},c4=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},gs=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},tq={D:function(t){return String(t.getDate())},DD:function(t){return gs(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return gs(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return gs(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return gs(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return gs(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return gs(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return gs(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return gs(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return gs(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return gs(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return gs(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+gs(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+gs(Math.floor(Math.abs(e)/60),2)+":"+gs(Math.abs(e)%60,2)}},l4=function(t){return+t-1},u4=[null,Hf],f4=[null,by],d4=["isPm",by,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],h4=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?n:-n}return 0}],eq={D:["day",Hf],DD:["day",jf],Do:["day",Hf+by,function(t){return parseInt(t,10)}],M:["month",Hf,l4],MM:["month",jf,l4],YY:["year",jf,function(t){var e=new Date,n=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?n-1:n)+t)}],h:["hour",Hf,void 0,"isPm"],hh:["hour",jf,void 0,"isPm"],H:["hour",Hf],HH:["hour",jf],m:["minute",Hf],mm:["minute",jf],s:["second",Hf],ss:["second",jf],YYYY:["year",$X],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",jf,function(t){return+t*10}],SSS:["millisecond",YX],d:u4,dd:u4,ddd:f4,dddd:f4,MMM:["month",by,a4("monthNamesShort")],MMMM:["month",by,a4("monthNames")],a:d4,A:d4,ZZ:h4,Z:h4},Gb={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},nq=function(t){return Gh(Gb,t)},p4=function(t,e,n){if(e===void 0&&(e=Gb.default),n===void 0&&(n={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=Gb[e]||e;var r=[];e=e.replace(r4,function(a,o){return r.push(o),"@@@"});var i=Gh(Gh({},jb),n);return e=e.replace(n4,function(a){return tq[a](t,i)}),e.replace(/@@@/g,function(){return r.shift()})};function rq(t,e,n){if(n===void 0&&(n={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Gb[e]||e,t.length>1e3)return null;var r=new Date,i={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(r4,function(B,E){return o.push(c4(E)),"@@@"}),A={},c={};s=c4(s).replace(n4,function(B){var E=eq[B],S=E[0],F=E[1],k=E[3];if(A[S])throw new Error("Invalid format. "+S+" specified twice in format");return A[S]=!0,k&&(c[k]=!0),a.push(E),"("+F+")"}),Object.keys(c).forEach(function(B){if(!A[B])throw new Error("Invalid format. "+B+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var l=t.match(new RegExp(s,"i"));if(!l)return null;for(var u=Gh(Gh({},jb),n),f=1;f<l.length;f++){var d=a[f-1],h=d[0],g=d[2],v=g?g(l[f],u):+l[f];if(v==null)return null;i[h]=v}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var y;if(i.timezoneOffset==null){y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var w=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],f=0,b=w.length;f<b;f++)if(A[w[f][0]]&&i[w[f][0]]!==y[w[f][1]]())return null}else if(y=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return y}var wut={format:p4,parse:rq,defaultI18n:A4,setGlobalDateI18n:JX,setGlobalDateMasks:nq},but=null;const By=1e3,xy=By*60,_y=xy*60,Kh=_y*24,Cy=Kh*7,g4=Kh*30,v4=Kh*365;function Mo(t,e,n,r){const i=(c,l)=>{const u=d=>r(d)%l===0;let f=l;for(;f&&!u(c);)n(c,-1),f-=1;return c},a=(c,l)=>{l&&i(c,l),e(c)},o=(c,l)=>{const u=new Date(+c);return a(u,l),u},s=(c,l)=>{const u=new Date(+c-1);return a(u,l),n(u,l),a(u),u};return{ceil:s,floor:o,range:(c,l,u,f)=>{const d=[],h=Math.floor(u),g=f?s(c,u):s(c);for(let v=g;v<l;n(v,h),a(v))d.push(new Date(+v));return d},duration:t}}const iq=Mo(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),aq=Mo(By,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+By*e)},t=>t.getSeconds()),oq=Mo(xy,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+xy*e)},t=>t.getMinutes()),sq=Mo(_y,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+_y*e)},t=>t.getHours()),Aq=Mo(Kh,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Kh*e)},t=>t.getDate()-1),y4=Mo(g4,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getMonth();t.setMonth(n+e)},t=>t.getMonth()),cq=Mo(Cy,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setDate(t.getDate()+7*e)},t=>{const e=y4.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Cy)}),lq=Mo(v4,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getFullYear();t.setFullYear(n+e)},t=>t.getFullYear()),m4={millisecond:iq,second:aq,minute:oq,hour:sq,day:Aq,week:cq,month:y4,year:lq},uq=Mo(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),fq=Mo(By,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+By*e)},t=>t.getUTCSeconds()),dq=Mo(xy,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+xy*e)},t=>t.getUTCMinutes()),hq=Mo(_y,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+_y*e)},t=>t.getUTCHours()),pq=Mo(Kh,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Kh*e)},t=>t.getUTCDate()-1),w4=Mo(g4,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCMonth();t.setUTCMonth(n+e)},t=>t.getUTCMonth()),gq=Mo(Cy,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Cy*e)},t=>{const e=w4.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Cy)}),vq=Mo(v4,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCFullYear();t.setUTCFullYear(n+e)},t=>t.getUTCFullYear()),b4={millisecond:uq,second:fq,minute:dq,hour:hq,day:pq,week:gq,month:w4,year:vq};function yq(t){const e=t?b4:m4,{year:n,month:r,week:i,day:a,hour:o,minute:s,second:A,millisecond:c}=e;return{tickIntervals:[[A,1],[A,5],[A,15],[A,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function B4(t,e,n,r,i){const a=+t,o=+e,{tickIntervals:s,year:A,millisecond:c}=yq(i),l=([v,y])=>v.duration*y,u=r?(o-a)/r:n||5,f=r||(o-a)/u,d=s.length,h=F_(s,f,0,d,l);let g;if(h===d){const v=CF(a/A.duration,o/A.duration,u);g=[A,v]}else if(h){const v=f/l(s[h-1])<l(s[h])/f,[y,w]=v?s[h-1]:s[h],b=r?Math.ceil(r/y.duration):w;g=[y,b]}else{const v=Math.max(CF(a,o,u),1);g=[c,v]}return g}const mq=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[A,c]=B4(o,s,n,r,i),l=A.range(o,new Date(+s+1),c,!0);return a?l.reverse():l},wq=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[A,c]=B4(o,s,n,r,i),l=[A.floor(o,c),A.ceil(s,c)];return a?l.reverse():l};function bq(t,e){const{second:n,minute:r,hour:i,day:a,week:o,month:s,year:A}=e;return n.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":a.floor(t)<t?"hh A":s.floor(t)<t?o.floor(t)<t?"MMM DD":"ddd DD":A.floor(t)<t?"MMMM":"YYYY"}function Bq(t){const e=t.getTimezoneOffset(),n=new Date(t);return n.setMinutes(n.getMinutes()+e,n.getSeconds(),n.getMilliseconds()),n}class QO extends Uw{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:mq,interpolate:wg,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return wq}getTickMethodOptions(){const{domain:e,tickCount:n,tickInterval:r,utc:i}=this.options,a=e[0],o=e[e.length-1];return[a,o,n,r,i]}getFormatter(){const{mask:e,utc:n}=this.options,r=n?b4:m4,i=n?Bq:nl;return a=>p4(i(a),e||bq(a,r))}clone(){return new QO(this.options)}}const x4=t=>new QO(t);x4.props={};const _4=t=>e=>-t(-e),UO=(t,e)=>{const n=Math.log(t),r=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:i=>Math.log(i)/n;return e?_4(r):r},PO=(t,e)=>{const n=t===Math.E?Math.exp:r=>Ai(t,r);return e?_4(n):n},xq=(t,e,n,r=10)=>{const i=t<0,a=PO(r,i),o=UO(r,i),s=e<t,A=s?e:t,c=s?t:e;let l=o(A),u=o(c),f=[];if(!(r%1)&&u-l<n){if(l=Math.floor(l),u=Math.ceil(u),i)for(;l<=u;l+=1){const d=a(l);for(let h=r-1;h>=1;h-=1){const g=d*h;if(g>c)break;g>=A&&f.push(g)}}else for(;l<=u;l+=1){const d=a(l);for(let h=1;h<r;h+=1){const g=d*h;if(g>c)break;g>=A&&f.push(g)}}f.length*2<n&&(f=_f(A,c,n))}else{const d=n===-1?u-l:Math.min(u-l,n);f=_f(l,u,d).map(a)}return s?f.reverse():f},_q=(t,e,n,r)=>{const i=t<0,a=UO(r,i),o=PO(r,i),s=t>e,A=s?e:t,c=s?t:e,l=[o(Math.floor(a(A))),o(Math.ceil(a(c)))];return s?l.reverse():l};class RO extends Uw{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:Nv,tickMethod:xq,tickCount:5}}chooseNice(){return _q}getTickMethodOptions(){const{domain:e,tickCount:n,base:r}=this.options,i=e[0],a=e[e.length-1];return[i,a,n,r]}chooseTransforms(){const{base:e,domain:n}=this.options,r=n[0]<0;return[UO(e,r),PO(e,r)]}clone(){return new RO(this.options)}}const C4=t=>new RO(t);C4.props={};const Cq=t=>e=>e<0?-Ai(-e,t):Ai(e,t),Oq=t=>e=>e<0?-Ai(-e,1/t):Ai(e,1/t),Eq=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class Kb extends Uw{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:Nv,tickMethod:_f,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[nl,nl];const n=e===.5?Eq:Cq(e),r=Oq(e);return[n,r]}clone(){return new Kb(this.options)}}const O4=t=>new Kb(t);O4.props={};class NO extends Kb{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Nv,tickMethod:_f,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new NO(this.options)}}const E4=t=>new NO(t);E4.props={};const S4=t=>new bg(t);S4.props={};const M4=t=>new Kw(t);M4.props={};const F4=t=>new Gw(t);F4.props={};const Sq=t=>e=>{const n=t(e);return rr(n)?Math.round(n):n};function Mq(t,e){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=t(r)},n.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),A=e(a.map(r)),c=s?Sq(o):o;this.output=mg(c,A,i,r)},n.prototype.invert=void 0}}var Fq=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DO;function kq(t){return[t(0),t(1)]}const Tq=t=>{const[e,n]=t;return mg(wg(0,1),Lw(e,n))};let HO=DO=class extends vc{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:nl,tickMethod:_f,tickCount:5}}constructor(e){super(e)}clone(){return new DO(this.options)}};HO=DO=Fq([Mq(kq,Tq)],HO);const k4=t=>new HO(t);k4.props={};const T4=t=>new Sv(t);T4.props={};function jO({colorDefault:t,colorBlack:e,colorWhite:n,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:A,alpha65:c,alpha45:l,alpha25:u,alpha10:f,category10:d,category20:h,sizeDefault:g=1,padding:v="auto",margin:y=16}){return{padding:v,margin:y,size:g,color:t,category10:d,category20:h,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:e,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:e,gridStrokeOpacity:f,labelAlign:"horizontal",labelFill:e,labelOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:e,lineStrokeOpacity:l,tickLength:4,tickLineWidth:1,tickStroke:e,tickOpacity:l,titleFill:e,titleOpacity:A,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:e,itemLabelFillOpacity:A,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[a,a,a/2],itemValueFill:e,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:e,navButtonFillOpacity:.65,navPageNumFill:e,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:e,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:e,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:e,handleLabelFillOpacity:l,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:e,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:e,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:e,labelFillOpacity:l,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:A,tickStroke:e,tickStrokeOpacity:l},label:{fill:e,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:e,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:e,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:t,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:e,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:e,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:e,titleFillOpacity:A,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:e,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{[wh("tooltip")]:{"font-family":"sans-serif"}}}}}const Iq=jO({colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),GO=t=>Mt({},Iq,t);GO.props={};const I4=t=>Mt({},GO(),{category10:"category10",category20:"category20"},t);I4.props={};const Lq=jO({colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25}),L4=t=>Mt({},Lq,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{[wh("tooltip")]:{background:"#1f1f1f",opacity:.95},[wh("tooltip-title")]:{color:"#A6A6A6"},[wh("tooltip-list-item-name-label")]:{color:"#A6A6A6"},[wh("tooltip-list-item-value")]:{color:"#A6A6A6"}}}},t),Q4=t=>Object.assign({},L4(),{category10:"category10",category20:"category20"},t);Q4.props={};const Qq=jO({colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),U4=t=>Mt({},Qq,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(e,n)=>n!==0},axisRight:{gridFilter:(e,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},t);U4.props={};const P4=t=>(...e)=>{const n=Ef(Object.assign({},{crossPadding:50},t))(...e);return Gk(n,t),n};P4.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"bottom"});function Cut(){}const R4=t=>(...e)=>{const n=Ef(Object.assign({},{crossPadding:10},t))(...e);return Gk(n,t),n};R4.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"left"});var KO=function(){};function Uq(t,e){return t.reduce(function(n,r){return(n[r[e]]=n[r[e]]||[]).push(r),n},{})}function Pq(t){var e;return((e=t[0])===null||e===void 0?void 0:e.map(function(n,r){return t.map(function(i){return i[r]})}))||[]}var zo=_A({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Rq=function(t){dr(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:q7(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new ka({class:zo.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new ka({class:zo.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(e.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return Gr(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var n=this.pageViews,r=q(Pq(n.map(function(u){var f=u.getBBox(),d=f.width,h=f.height;return[d,h]})).map(function(u){return Math.max.apply(Math,ye([],q(u),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,A=s===void 0?i:s,c=o.pageHeight,l=c===void 0?a:c;return{pageWidth:A,pageHeight:l}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=t.prototype.getBBox.call(this),r=n.x,i=n.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,A=o.pageHeight;return new Jr(r,i,s+a.width,A)},e.prototype.goTo=function(n){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,A=a.playWindow,c=a.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var l=q(this.getFollowingPageDiff(n),2),u=l[0],f=l[1];this.playState="running";var d=tk(A,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-f,")")}],i);return pg(d,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),d},e.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i<=0)return null;var a=n?(i-1+r)%r:Gr(i-1,0,r);return this.goTo(a)},e.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i>=r-1)return null;var a=n?(i+1)%r:Gr(i+1,0,r);return this.goTo(a)},e.prototype.renderClipPath=function(n){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(zo.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,i){n.includes(i)?Iv(r):Of(r)})},e.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,i=n.nextBtnGroup,a=n.pageInfoGroup,o=this.attributes,s=o.orientation,A=o.controllerPadding,c=a.getBBox(),l=c.width,u=c.height,f=q(s==="horizontal"?[-180,0]:[-90,90],2),d=f[0],h=f[1];r.setLocalEulerAngles(d),i.setLocalEulerAngles(h);var g=r.getBBox(),v=g.width,y=g.height,w=i.getBBox(),b=w.width,B=w.height,E=Math.max(v,l,b),S=s==="horizontal"?{offset:[[0,0],[v/2+A,0],[v+l+A*2,0]],textAlign:"start"}:{offset:[[E/2,-y-A],[E/2,0],[E/2,B+A]],textAlign:"center"},F=q(S.offset,3),k=q(F[0],2),T=k[0],L=k[1],P=q(F[1],2),R=P[0],U=P[1],N=q(F[2],2),j=N[0],z=N[1],W=S.textAlign,D=a.querySelector("text");D&&(D.style.textAlign=W),r.setLocalPosition(T,L),a.setLocalPosition(R,U),i.setLocalPosition(j,z)},e.prototype.updatePageInfo=function(){var n,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((n=this.pageInfoGroup.querySelector(zo.pageInfo.class))===null||n===void 0||n.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,A=n<r?-1:1;return i==="horizontal"?[A*o,0]:[0,A*s]},e.prototype.prepareFollowingPage=function(n){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([n,i]),n!==i){var o=q(this.getFollowingPageDiff(n),2),s=o[0],A=o[1];a[n].setLocalPosition(s,A)}},e.prototype.renderController=function(n){var r=this,i=this.attributes,a=i.controllerSpacing,o=i.classNamePrefix,s=o===void 0?"":o,A=this.pageShape,c=A.pageWidth,l=A.pageHeight,u=this.pageViews.length>=2,f=n.maybeAppendByClassName(zo.controller,"g");if(Cw(f.node(),u),!!u){var d=Bn(this.attributes,"button"),h=Bn(this.attributes,"pageNum"),g=q(pu(d),2),v=g[0],y=g[1],w=v.size,b=Kr(v,["size"]),B=!f.select(zo.prevBtnGroup.class).node(),E=f.maybeAppendByClassName(zo.prevBtnGroup,"g").styles(y);this.prevBtnGroup=E.node();var S=E.maybeAppendByClassName(zo.prevBtn,"path");if(s){var F=yi(zo.prevBtn.name,Fi.prevBtn,s);S.node().setAttribute("class",F)}var k=f.maybeAppendByClassName(zo.nextBtnGroup,"g").styles(y);this.nextBtnGroup=k.node();var T=k.maybeAppendByClassName(zo.nextBtn,"path");if(s){var L=yi(zo.nextBtn.name,Fi.nextBtn,s);T.node().setAttribute("class",L)}[S,T].forEach(function(N){N.styles(Tt(Tt({},b),{transformOrigin:"center"})),y_(N.node(),w,!0)});var P=f.maybeAppendByClassName(zo.pageInfoGroup,"g");this.pageInfoGroup=P.node();var R=P.maybeAppendByClassName(zo.pageInfo,"text");if(R.styles(h),s){var U=yi(zo.pageInfo.name,Fi.pageInfo,s);R.node().setAttribute("class",U)}this.updatePageInfo(),f.node().setLocalPosition(c+a,l/2),B&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var A=cn(r);this.renderClipPath(A),this.renderController(A),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var n=this,r=uF(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(X.INSERTED,r),this.playWindow.addEventListener(X.REMOVED,r)},e}(Ta);function Nq(t){return t instanceof Element||t instanceof Document}var Cn,Dq="component-poptip",mn={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},N4=(Cn={},Cn[".".concat(mn.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Cn[".".concat(mn.TEXT)]={"text-align":"center"},Cn[".".concat(mn.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Cn[".".concat(mn.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Cn[".".concat(mn.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Cn[".".concat(mn.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Cn[".".concat(mn.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Cn[".".concat(mn.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Cn[".".concat(mn.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Cn[".".concat(mn.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},Cn[".".concat(mn.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Cn[".".concat(mn.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Cn[".".concat(mn.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Cn["[data-position='top'] .".concat(mn.ARROW)]={bottom:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Cn["[data-position='left'] .".concat(mn.ARROW)]={right:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},Cn["[data-position='right'] .".concat(mn.ARROW)]={left:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Cn["[data-position='bottom'] .".concat(mn.ARROW)]={top:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Cn["[data-position='top-left'] .".concat(mn.ARROW)]={left:"10px",bottom:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Cn["[data-position='top-right'] .".concat(mn.ARROW)]={right:"10px",bottom:"-2px"},Cn[".".concat(mn.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Cn["[data-position='left-top'] .".concat(mn.ARROW)]={right:"-2px",top:"8px"},Cn[".".concat(mn.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Cn["[data-position='left-bottom'] .".concat(mn.ARROW)]={right:"-2px",bottom:"8px"},Cn[".".concat(mn.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Cn["[data-position='right-top'] .".concat(mn.ARROW)]={left:"-2px",top:"8px"},Cn[".".concat(mn.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Cn["[data-position='right-bottom'] .".concat(mn.ARROW)]={left:"-2px",bottom:"8px"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Cn["[data-position='bottom-left'] .".concat(mn.ARROW)]={top:"-2px",left:"8px"},Cn[".".concat(mn.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Cn["[data-position='bottom-right'] .".concat(mn.ARROW)]={top:"-2px",right:"8px"},Cn),Hq=void 0;function jq(t,e,n,r,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[t,e];var o=n.getBoundingClientRect(),s=o.x,A=o.y,c=o.width,l=o.height;switch(r){case"top":return i?[s+c/2,A]:[t,A];case"left":return i?[s,A+l/2]:[s,e];case"bottom":return i?[s+c/2,A+l]:[t,A+l];case"right":return i?[s+c,A+l/2]:[s+c,e];case"top-right":case"right-top":return[s+c,A];case"left-bottom":case"bottom-left":return[s,A+l];case"right-bottom":case"bottom-right":return[s+c,A+l];case"top-left":case"left-top":default:return[s,A]}}var Gq=function(t){var e;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e||(e=t.apply(Hq,n)),e}};function Kq(t){var e=t&&document.getElementById(t);return e||(e=document.createElement("div"),e.setAttribute("id",t),document.body.appendChild(e)),e}function zq(t){var e=Gq(Kq)(t);return e}var Wq=function(t){dr(e,t);function e(n){var r=t.call(this,Mt({style:{id:Dq}},e.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){this.visibility=this.style.visibility,this.updatePoptipElement()},e.prototype.update=function(n){this.attr(Mt({},this.style,n)),this.render(this.attributes,this)},e.prototype.bind=function(n,r){var i=this;if(n){var a=this.style.text,o=function(A){var c=n,l=i.style,u=a;if(r){var f=typeof r=="function"?r.call(null,A):r,d=f.html,h=f.target,g=Kr(f,["html","target"]);l=hQ({},i.style,g),(h||h===!1)&&(c=h),typeof d=="string"&&(u=d)}var v=l.position,y=l.arrowPointAtCenter,w=l.follow,b=l.offset;if(c){var B=A,E=B.clientX,S=B.clientY,F=q(jq(E,S,c,v,y,w),2),k=F[0],T=F[1];i.showTip(k,T,{text:u,position:v,offset:b})}else i.hideTip()},s=function(){i.hideTip()};n.addEventListener("mousemove",o),n.addEventListener("mouseleave",s),this.map.set(n,[o,s])}},e.prototype.unbind=function(n){if(this.map.has(n)){var r=q(this.map.get(n)||[],2),i=r[0],a=r[1];i&&n.removeEventListener("mousemove",i),a&&n.removeEventListener("mouseleave",a),this.map.delete(n)}},e.prototype.clear=function(){this.container.innerHTML=""},e.prototype.destroy=function(){var n=this,r;ye([],q(this.map.keys()),!1).forEach(function(i){return n.unbind(i)}),(r=this.container)===null||r===void 0||r.remove(),t.prototype.destroy.call(this)},e.prototype.showTip=function(n,r,i){var a=nn(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),n&&r&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(n,r,o),typeof a=="string"){var A=this.container.querySelector(".".concat(mn.TEXT));A&&(A.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},e.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},e.prototype.getContainer=function(){return this.container},e.prototype.getClassName=function(){var n=this.style.containerClassName;return"".concat(mn.CONTAINER).concat(n?" ".concat(n):"")},e.prototype.initShape=function(){var n=this,r=this.style.id;this.container=zq(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return n.showTip()}),this.container.addEventListener("mouseleave",function(){return n.hideTip()})},e.prototype.updatePoptipElement=function(){var n=this.container;this.clear();var r=this.style,i=r.id,a=r.template,o=r.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var s='<span class="'.concat(mn.ARROW,'"></span>');n.innerHTML=s,fr(a)?n.innerHTML+=a:a&&Nq(a)&&n.appendChild(a),o&&(n.getElementsByClassName(mn.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},e.prototype.applyStyles=function(){var n=gc({},N4,this.style.domStyles),r=Object.entries(n).reduce(function(a,o){var s=q(o,2),A=s[0],c=s[1],l=Object.entries(c).reduce(function(u,f){var d=q(f,2),h=d[0],g=d[1];return"".concat(u).concat(h,": ").concat(g,";")},"");return"".concat(a).concat(A,"{").concat(l,"}")},"");if(this.domStyles!==r){this.domStyles=r;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=r,this.container.appendChild(i)}},e.prototype.setOffsetPosition=function(n,r,i){i===void 0&&(i=this.style.offset);var a=q(i,2),o=a[0],s=o===void 0?0:o,A=a[1],c=A===void 0?0:A;this.container.style.left="".concat(n+s,"px"),this.container.style.top="".concat(r+c,"px")},e.tag="poptip",e.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:N4,template:'<div class="'.concat(mn.TEXT,'"></div>')}},e}(Ta),ya=_A({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),Vq={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function Zq(t){var e=t.querySelector(ya.marker.class);return e?e.style:{}}var Yq=function(t){dr(e,t);function e(n,r){var i=t.call(this,n,{span:[1,1],marker:function(){return new Xc({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this;return i.keyFields={},i.keyFields=r||{},i}return Object.defineProperty(e.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,i=this.attributes,a=i.markerSize,o=i.focus,s=i.focusMarkerSize,A=n.node().getBBox(),c=A.width,l=A.height,u=r.node().getBBox(),f=u.width,d=u.height,h=o?s!=null?s:12:0;return{markerWidth:a,labelWidth:c,valueWidth:f,focusWidth:h,height:Math.max(a,l,d)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=q(Ja(n),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),e.prototype.setAttribute=function(n,r){t.prototype.setAttribute.call(this,n,r)},Object.defineProperty(e.prototype,"shape",{get:function(){var n,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,A=o.focusWidth,c=o.height,l=this.actualSpace,u=l.labelWidth,f=l.valueWidth,d=q(this.spacing,3),h=d[0],g=d[1],v=d[2];if(a){var y=a-i-h-g-A-v,w=q(this.span,2),b=w[0],B=w[1];n=q([b*y,B*y],2),u=n[0],f=n[1]}var E=s+u+f+h+g+A+v;return{width:E,height:c,markerWidth:s,labelWidth:u,valueWidth:f,focusWidth:A}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var n=this.attributes,r=n.spacing,i=n.focus;if(!r)return[0,0,0];var a=q(Ja(r),3),o=a[0],s=a[1],A=a[2];return[o,this.showValue?s:0,i?A:0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,i=n.labelWidth,a=n.valueWidth,o=n.focusWidth,s=n.width,A=n.height,c=q(this.spacing,3),l=c[0],u=c[1],f=c[2];return{height:A,width:s,markerWidth:r,labelWidth:i,valueWidth:a,focusWidth:o,position:[r/2,r+l,r+i+l+u,r+i+a+l+u+f+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var n=Zq(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?n.strokeWidth:a,s=r.markerLineWidth,A=s===void 0?n.lineWidth:s,c=r.markerStroke,l=c===void 0?n.stroke:c,u=+(o||A||(l?1:0))*Math.sqrt(2),f=this.markerGroup.node().getBBox(),d=f.width,h=f.height;return(1-u/Math.max(d,h))*i},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.marker,o=i.classNamePrefix,s=Bn(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(ya.markerGroup,"g").style("zIndex",0),Ho(!!a,this.markerGroup,function(){var A,c=r.markerGroup.node(),l=(A=c.childNodes)===null||A===void 0?void 0:A[0],u=yi(ya.marker.name,Fi.marker,o),f=typeof a=="string"?new Wn({style:{symbol:a},className:u}):a();if(l)if(f.nodeName===l.nodeName)l instanceof Wn?l.update(Tt(Tt({},s),{symbol:a})):(l9(l,f),cn(l).styles(s));else{if(l.remove(),!(f instanceof Wn)){var h=yi(ya.marker.name,Fi.marker,o);f.className=h}cn(f).styles(s),c.appendChild(f)}else{if(!(f instanceof Wn)){var d=yi(ya.marker.name,Fi.marker,o);f.className=d,cn(f).styles(s)}c.appendChild(f)}r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var g=y_(r.markerGroup.node(),r.scaleSize,!0);r.markerGroup.node().style._transform="scale(".concat(g,")")})},e.prototype.renderLabel=function(n){var r=Bn(this.attributes,"label"),i=r.text,a=Kr(r,["text"]),o=this.attributes.classNamePrefix;this.labelGroup=n.maybeAppendByClassName(ya.labelGroup,"g").style("zIndex",0);var s=yi(ya.label.name,Fi.label,o),A=this.labelGroup.maybeAppendByClassName(ya.label,function(){return xh(i)});A.node().setAttribute("class",s),A.styles(a)},e.prototype.renderValue=function(n){var r=this,i=Bn(this.attributes,"value"),a=i.text,o=Kr(i,["text"]),s=this.attributes.classNamePrefix;this.valueGroup=n.maybeAppendByClassName(ya.valueGroup,"g").style("zIndex",0),Ho(this.showValue,this.valueGroup,function(){var A=yi(ya.value.name,Fi.value,s),c=r.valueGroup.maybeAppendByClassName(ya.value,function(){return xh(a)});c.node().setAttribute("class",A),c.styles(o)})},e.prototype.createPoptip=function(){var n=this.attributes.poptip,r=n||{},i=r.render,a=Kr(r,["render"]),o=new Wq({style:gc(Vq,a)});return this.poptipGroup=o,o},e.prototype.bindPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(n,function(){var o=r.attributes,s=o.labelText,A=o.valueText,c=o.markerFill,l=typeof s=="string"?s:s==null?void 0:s.attr("text"),u=typeof A=="string"?A:A==null?void 0:A.attr("text");if(typeof i.render=="function")return{html:i.render(Tt(Tt({},r.keyFields),{label:l,value:u,color:c}))};var f="";return(typeof l=="string"||typeof l=="number")&&(f+='<div class="component-poptip-label">'.concat(l,"</div>")),(typeof u=="string"||typeof u=="number")&&(f+='<div class="component-poptip-value">'.concat(u,"</div>")),{html:f}})}},e.prototype.renderFocus=function(n){var r=this,i=this.attributes,a=i.focus,o=i.focusMarkerSize,s=i.classNamePrefix,A={x:0,y:0,size:o,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};_n(a)||(this.focusGroup=n.maybeAppendByClassName(ya.focusGroup,"g").style("zIndex",0),Ho(a,this.focusGroup,function(){var c=yi(ya.focus.name,Fi.focusIcon,s),l=new Wn({style:Tt(Tt({},A),{symbol:"focus"}),className:c}),u=new Xc({style:{r:A.size/2,fill:"transparent"}}),f=r.focusGroup.node();f.appendChild(u),f.appendChild(l),l.update({opacity:0}),n.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),n.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},e.prototype.renderPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=n.maybeAppendByClassName(ya.value,"g").node(),o=n.maybeAppendByClassName(ya.label,"g").node();[a,o].forEach(function(s){s&&r.bindPoptip(s)})}},e.prototype.renderBackground=function(n){var r=this.shape,i=r.width,a=r.height,o=Bn(this.attributes,"background");this.background=n.maybeAppendByClassName(ya.backgroundGroup,"g").style("zIndex",-1);var s=this.background.maybeAppendByClassName(ya.background,"rect");s.styles(Tt({width:i,height:a},o));var A=this.attributes.classNamePrefix,c=A===void 0?"":A;if(c){var l=yi(ya.background.name,Fi.background,c);s.node().setAttribute("class",l)}},e.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,i=n.valueWidth,a=n.height,o=q(n.position,4),s=o[0],A=o[1],c=o[2],l=o[3],u=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(u,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(A,", ").concat(u,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(l,", ").concat(u,")")}),C_(this.labelGroup.select(ya.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(u,")")}),C_(this.valueGroup.select(ya.value.class).node(),Math.ceil(i)))},e.prototype.render=function(n,r){var i=cn(r),a=n.x,o=a===void 0?0:a,s=n.y,A=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(A,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.renderFocus(i),this.adjustLayout()},e}(Ta),zh=_A({page:"item-page",navigator:"navigator",item:"item"},"items"),D4=function(t,e,n){return n===void 0&&(n=!0),t?e(t):n},$q=function(t){dr(e,t);function e(n){var r=t.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:KO,mouseenter:KO,mouseleave:KO})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,i=n.gridCol,a=n.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,i=n.layout,a=n.poptip,o=n.focus,s=n.focusMarkerSize,A=n.classNamePrefix,c=Bn(this.attributes,"item"),l=r.map(function(u,f){var d=u.id,h=d===void 0?f:d,g=u.label,v=u.value;return{id:"".concat(h),index:f,style:Tt({layout:i,labelText:g,valueText:v,poptip:a,focus:o,focusMarkerSize:s,classNamePrefix:A},Object.fromEntries(Object.entries(c).map(function(y){var w=q(y,2),b=w[0],B=w[1];return[b,ps(B,[u,f,r])]})))}});return l},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var n=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,A=q(this.navigatorShape,1),c=A[0],l=q(this.grid,2),u=l[0],f=l[1],d=f*u,h=0;return this.pageViews.children.map(function(g,v){var y,w,b=Math.floor(v/d),B=v%d,E=n.ifHorizontal(f,u),S=[Math.floor(B/E),B%E];i==="vertical"&&S.reverse();var F=q(S,2),k=F[0],T=F[1],L=(a-c-(f-1)*s)/f,P=g.getBBox().height,R=q([0,0],2),U=R[0],N=R[1];return i==="horizontal"?(y=q([h,k*(P+o)],2),U=y[0],N=y[1],h=T===f-1?0:h+L+s):(w=q([T*(L+s),h],2),U=w[0],N=w[1],h=k===u-1?0:h+P+o),{page:b,index:v,row:k,col:T,pageIndex:B,width:L,height:P,x:U,y:N}})},e.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,i=n.height,a=n.rowPadding,o=n.colPadding,s=q(this.navigatorShape,1),A=s[0],c=q(this.grid,2),l=c[0],u=c[1],f=q([r-A,i],2),d=f[0],h=f[1],g=q([0,0,0,0,0,0,0,0],8),v=g[0],y=g[1],w=g[2],b=g[3],B=g[4],E=g[5],S=g[6],F=g[7];return this.pageViews.children.map(function(k,T){var L,P,R,U,N=k.getBBox(),j=N.width,z=N.height,W=S===0?0:o,D=S+W+j;if(D<=d&&D4(B,function(Y){return Y<u}))return L=q([S+W,F,D],3),v=L[0],y=L[1],S=L[2],{width:j,height:z,x:v,y,page:w,index:T,pageIndex:b++,row:E,col:B++};P=q([E+1,0,0,F+z+a],4),E=P[0],B=P[1],S=P[2],F=P[3];var G=F+z;return G<=h&&D4(E,function(Y){return Y<l})?(R=q([S,F,j],3),v=R[0],y=R[1],S=R[2],{width:j,height:z,x:v,y,page:w,index:T,pageIndex:b++,row:E,col:B++}):(U=q([0,0,j,0,w+1,0,0,0],8),v=U[0],y=U[1],S=U[2],F=U[3],w=U[4],b=U[5],E=U[6],B=U[7],{width:j,height:z,x:v,y,page:w,index:T,pageIndex:b++,row:E,col:B++})})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){var i=this.attributes.orientation;return al(i,n,r)},e.prototype.flattenPage=function(n){n.querySelectorAll(zh.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(zh.page.class).forEach(function(r){var i=n.removeChild(r);i.destroy()})},e.prototype.renderItems=function(n){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave,s=r.classNamePrefix;this.flattenPage(n);var A=this.dispatchCustomEvent.bind(this),c=yi(zh.item.name,Fi.item,s);cn(n).selectAll(zh.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){var f=u.style,d=Kr(u,["style"]);return new Yq({style:f},d)}).attr("className",c).on("click",function(){i==null||i(this),A("itemClick",{item:this})}).on("pointerenter",function(){a==null||a(this),A("itemMouseenter",{item:this})}).on("pointerleave",function(){o==null||o(this),A("itemMouseleave",{item:this})})},function(l){return l.each(function(u){var f=u.style;this.update(f)})},function(l){return l.remove()})},e.prototype.relayoutNavigator=function(){var n,r=this.attributes,i=r.layout,a=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=q(this.navigatorShape,2),A=s[0],c=s[1];this.navigator.update(i==="grid"?{pageWidth:a-A,pageHeight:o-c}:{})},e.prototype.adjustLayout=function(){var n=this,r=Object.entries(Uq(this.itemsLayout,"page")).map(function(a){var o=q(a,2),s=o[0],A=o[1];return{page:s,layouts:A}}),i=ye([],q(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=n.pageViews.appendChild(new ka({className:zh.page.name}));o.forEach(function(A){var c=A.x,l=A.y,u=A.index,f=A.width,d=A.height,h=i[u];s.appendChild(h),$w(h,"__layout__",A),h.update({x:c,y:l,width:f,height:d})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(n){var r=this.attributes,i=r.orientation,a=r.classNamePrefix,o=Bn(this.attributes,"nav"),s=gc({orientation:i,classNamePrefix:a},o),A=this;return n.selectAll(zh.navigator.class).data(["nav"]).join(function(c){return c.append(function(){return new Rq({style:s})}).attr("className",zh.navigator.name).each(function(){A.navigator=this})},function(c){return c.each(function(){this.update(s)})},function(c){return c.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(n,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(cn(r));this.renderItems(a.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(n,r){var i=new or(n,{detail:r});this.dispatchEvent(i)},e}(Ta),Xq=function(t){dr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.update=function(n){this.attr(n)},e}(fh),H4=function(t){dr(e,t);function e(n){return t.call(this,n,AG)||this}return e.prototype.renderTitle=function(n,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,A=a.classNamePrefix,c=Bn(this.attributes,"title"),l=q(pu(c),2),u=l[0],f=l[1];this.titleGroup=n.maybeAppendByClassName(na.titleGroup,"g").styles(f);var d=Tt(Tt({width:r,height:i},u),{text:o?s:"",classNamePrefix:A});this.title=this.titleGroup.maybeAppendByClassName(na.title,function(){return new aT({style:d})}).update(d)},e.prototype.renderCustom=function(n){var r=this.attributes.data,i={innerHTML:this.attributes.render(r),pointerEvents:"auto"};n.maybeAppendByClassName(na.html,function(){return new Xq({className:na.html.name,style:i})}).update(i)},e.prototype.renderItems=function(n,r){var i=r.x,a=r.y,o=r.width,s=r.height,A=Bn(this.attributes,"title",!0),c=q(pu(A),2),l=c[0],u=c[1],f=Tt(Tt({},l),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(na.itemsGroup,"g").styles(Tt(Tt({},u),{transform:"translate(".concat(i,", ").concat(a,")")}));var d=this;this.itemsGroup.selectAll(na.items.class).data(["items"]).join(function(h){return h.append(function(){return new $q({style:f})}).attr("className",na.items.name).each(function(){d.items=cn(this)})},function(h){return h.update(f)},function(h){return h.remove()})},e.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,i=n.width,a=n.height;return r?this.title.node().getAvailableSpace():new Jr(0,0,i,a)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n,r,i=(n=this.title)===null||n===void 0?void 0:n.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?t.prototype.getBBox.call(this):T7(i,a)},e.prototype.render=function(n,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,A=s===void 0?0:s,c=i.y,l=c===void 0?0:c,u=i.classNamePrefix,f=i.render,d=cn(r),h=r.className||"legend-category";u?r.attr("className","".concat(h," ").concat(u,"legend")):r.className||r.attr("className","legend-category"),r.style.transform="translate(".concat(A,", ").concat(l,")"),f?this.renderCustom(d):(this.renderTitle(d,a,o),this.renderItems(d,this.availableSpace),this.adjustLayout())},e}(Ta),dl=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};const j4="legend-category",zO="legend-html-category",qq="legend-continuous",Jq="items-item",tJ="legend-category-item-marker",eJ="legend-category-item-label",nJ="legend-category-item-focus-group";function G4(t){return t.getElementsByClassName(tJ)[0]}function K4(t){return t.getElementsByClassName(eJ)[0]}function z4(t){return t.getElementsByClassName(nJ)[0]}function W4(t){return t.getElementsByClassName(Jq)}function WO(t){return t.getElementsByClassName(j4)}function rJ(t){return t.getElementsByClassName(zO)}function V4(t){return t.getElementsByClassName(qq)}function iJ(t,e){[...WO(t),...V4(t)].forEach(r=>{e(r,i=>i)})}function VO(t){let e=t.parentNode;for(;e&&!e.__data__;)e=e.parentNode;return e.__data__}function Out(t){let e=t;for(;e&&!e.attr("class").startsWith("legend");)e=e.children[0];return e.attributes}function aJ(t,e,n){var r;const i=Object.keys(t).find(a=>{if(a.startsWith(n)){const o=t[a].getOptions();return o.name===n&&o.markKey===e}});return(r=t[i])!==null&&r!==void 0?r:t[n]}function oJ(t,{legends:e,marker:n,label:r,datum:i,filter:a,defaultSelect:o,emitter:s,channel:A,state:c={}}){const l=new Map,u=new Map,f=new Map,d=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=c,g={unselected:qt(h,"marker")},v={unselected:qt(h,"label")},{setState:y,removeState:w}=kf(g,void 0),{setState:b,removeState:B}=kf(v,void 0),E=Array.from(e(t));let S=E.map(i);const F=()=>{for(const P of E){const R=i(P),U=n(P),N=r(P);S.includes(R)?(w(U,"unselected"),B(N,"unselected")):(y(U,"unselected"),b(N,"unselected"))}};for(const P of E){const R=()=>{Tf(t,"pointer")},U=()=>{DK(t)},N=z=>dl(this,void 0,void 0,function*(){const W=i(P),D=S.indexOf(W);D===-1?S.push(W):S.splice(D,1),yield a(S),F();const{nativeEvent:G=!0}=z;G&&(S.length===E.length?s.emit("legend:reset",{nativeEvent:G}):s.emit("legend:filter",Object.assign(Object.assign({},z),{nativeEvent:G,data:{channel:A,values:S}})))});P.addEventListener("click",N),P.addEventListener("pointerenter",R),P.addEventListener("pointerout",U),l.set(P,N),u.set(P,R),f.set(P,U);const j=z4(P);if(j){const z=W=>dl(this,void 0,void 0,function*(){W.stopPropagation();const D=i(P),G=S.indexOf(D),{nativeEvent:Y=!0}=W;if(G!==-1&&S.length===1){if(!Y)return;S=E.map(i),yield a(S),F(),s.emit("legend:reset",{nativeEvent:Y})}else{if(S=[D],yield a(S),F(),!Y)return;s.emit("legend:focus",Object.assign(Object.assign({},W),{nativeEvent:Y,data:{channel:A,value:D}}))}});j.addEventListener("click",z),d.set(P,z)}}const k=P=>dl(this,void 0,void 0,function*(){const{nativeEvent:R}=P;if(R)return;const{data:U}=P,{channel:N,value:j}=U;N===A&&(S=[j],yield a(S),F())}),T=P=>dl(this,void 0,void 0,function*(){const{nativeEvent:R}=P;if(R)return;const{data:U}=P,{channel:N,values:j}=U;N===A&&(S=j,yield a(S),F())}),L=P=>dl(this,void 0,void 0,function*(){const{nativeEvent:R}=P;R||(S=E.map(i),yield a(S),F())});return s.on("legend:filter",T),s.on("legend:focus",k),s.on("legend:reset",L),o&&s.emit("legend:filter",{data:{channel:A,values:o}}),()=>{for(const P of E){P.removeEventListener("click",l.get(P)),P.removeEventListener("pointerenter",u.get(P)),P.removeEventListener("pointerout",f.get(P));const R=z4(P);R&&R.removeEventListener("click",d.get(P))}s.off("legend:focus",k),s.off("legend:filter",T),s.off("legend:reset",L)}}function sJ(t,{domain:e,filter:n,defaultSelect:r,emitter:i,channel:a}){const o=new Map,s=new Map,A=new Map;let c=[...e];const l=()=>{var v;const y=(v=t.ownerDocument)===null||v===void 0?void 0:v.defaultView;return y&&y.getContextService().getDomElement().parentElement||document.body},u=()=>{const y=l().querySelector(".legend-html"),w=b=>dl(this,void 0,void 0,function*(){let B=b.target;for(;B&&!B.hasAttribute("legend-value")&&(B=B.parentElement,B!==y););if(!B||!B.hasAttribute("legend-value"))return;b.preventDefault(),b.stopPropagation();const E=B.getAttribute("legend-value");if(!E)return;const S=c.indexOf(E);S===-1?c.push(E):c.splice(S,1),yield n(c),f(),c.length===e.length?i.emit("legend:reset",{nativeEvent:!0}):i.emit("legend:filter",{nativeEvent:!0,data:{channel:a,values:c}})});y.addEventListener("click",w),o.set(y,w)},f=()=>{l().querySelectorAll("[legend-value]").forEach(w=>{const b=w.getAttribute("legend-value");if(!b||!e.includes(b))return;const B=c.includes(b),E=w;B?(E.style.opacity="1",E.classList.remove("legend-item-inactive")):(E.style.opacity="0.4",E.classList.add("legend-item-inactive"))})};u();const d=v=>dl(this,void 0,void 0,function*(){const{nativeEvent:y}=v;if(y)return;const{data:w}=v,{channel:b,value:B}=w;b===a&&(c=[B],yield n(c),f())}),h=v=>dl(this,void 0,void 0,function*(){const{nativeEvent:y}=v;if(y)return;const{data:w}=v,{channel:b,values:B}=w;b===a&&(c=B,yield n(c),f())}),g=v=>dl(this,void 0,void 0,function*(){const{nativeEvent:y}=v;y||(c=[...e],yield n(c),f())});return i.on("legend:filter",h),i.on("legend:focus",d),i.on("legend:reset",g),r&&i.emit("legend:filter",{data:{channel:a,values:r}}),()=>{l().querySelectorAll("[legend-value]").forEach(w=>{const b=w.getAttribute("legend-value");if(!b||!e.includes(b))return;const B=o.get(w),E=s.get(w),S=A.get(w);B&&w.removeEventListener("click",B),E&&w.removeEventListener("pointerenter",E),S&&w.removeEventListener("pointerout",S)}),o.clear(),s.clear(),A.clear(),i.off("legend:filter",h),i.off("legend:focus",d),i.off("legend:reset",g)}}function AJ(t,{legend:e,filter:n,emitter:r,channel:i}){const{attributes:a}=e,o=s=>{const{value:A}=s.detail,c=A.map(l=>{var u,f;const d=(u=a.data)===null||u===void 0?void 0:u.find(h=>h.value===l);return d&&(f=d.domainValue)!==null&&f!==void 0?f:l});n(c),r.emit({nativeEvent:!0,data:{channel:i,values:c}})};return e.addEventListener("valuechange",o),()=>{e.removeEventListener("valuechange",o)}}function Z4(t,e){return dl(this,arguments,void 0,function*(n,{legend:r,channel:i,value:a,ordinal:o,channels:s,allChannels:A,facet:c=!1}){const{view:l,update:u,setState:f}=n;f(r,d=>{var h,g;const{marks:v}=d,y=(g=(h=r.attributes)===null||h===void 0?void 0:h.scales)===null||g===void 0?void 0:g.find(b=>b.name===i),w=v.map(b=>{var B,E;if(((B=b.scale[i].key)!==null&&B!==void 0?B:i)!==((E=y==null?void 0:y.key)!==null&&E!==void 0?E:y==null?void 0:y.name)||b.type==="legends"||l_.includes(b.type))return b;const{transform:S=[],data:F=[]}=b,k=S.findIndex(({type:P})=>P.startsWith("group")||P.startsWith("bin")),T=[...S];F.length&&T.splice(k+1,0,{type:"filter",[i]:{value:a,ordinal:o}});const L=Object.fromEntries(s.map(P=>{const R=aJ(l.scale,d.key,P);return[P,{domain:R.getOptions().domain}]}));return Mt({},b,Object.assign(Object.assign({transform:T,scale:L},!o&&{animate:!1}),{legend:c?!1:Object.fromEntries(A.map(P=>[P,{preserve:!0}]))}))});return Object.assign(Object.assign({},d),{marks:w})}),yield u()})}function cJ(t,e){for(const n of t)Z4(n,Object.assign(Object.assign({},e),{facet:!0}))}function lJ(){return(t,e,n)=>{const{container:r}=t,i=e.filter(u=>u!==t),a=i.length>0,o=u=>VO(u).scales.map(f=>f.name),s=[...WO(r),...rJ(r),...V4(r)],A=s.flatMap(o),c=a?Dh(cJ,50,{trailing:!0}):Dh(Z4,50,{trailing:!0}),l=s.map(u=>{const{name:f,domain:d}=VO(u).scales[0],h=o(u),g={legend:u,channel:f,channels:h,allChannels:A};return u.className===j4?oJ(u,{legends:W4,marker:G4,label:K4,datum:v=>{const{__data__:y}=v,{index:w}=y;return d[w]},filter:v=>{const y=Object.assign(Object.assign({},g),{value:v,ordinal:!0});c(a?i:t,y)},state:u.attributes.state,defaultSelect:u.attributes.defaultSelect,channel:f,emitter:n}):u.className===zO?sJ(r,{domain:d,filter:v=>{const y=Object.assign(Object.assign({},g),{value:v,ordinal:!0});c(a?i:t,y)},defaultSelect:u.attributes.defaultSelect,channel:f,emitter:n}):AJ(r,{legend:u,filter:v=>{const y=Object.assign(Object.assign({},g),{value:v,ordinal:!1});c(a?i:t,y)},emitter:n,channel:f})});return()=>{l.forEach(u=>u())}}}var uJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Y4(t,e){const n=rl(t,"shape"),r=rl(t,"color"),i=n?n.clone():null,a=[];for(const[s,A]of e){const c=s.type,u=((r==null?void 0:r.getOptions().domain.length)>0?r==null?void 0:r.getOptions().domain:A.data).map((f,d)=>{var h;return i?i.map(f||"point"):((h=s==null?void 0:s.style)===null||h===void 0?void 0:h.shape)||A.defaultShape||"point"});typeof c=="string"&&a.push([c,u])}if(a.length===0)return["point",["point"]];if(a.length===1||!n)return a[0];const{range:o}=n.getOptions();return a.map(([s,A])=>{let c=0;for(let l=0;l<a.length;l++){const u=o[l%o.length];A[l]===u&&c++}return[c/A.length,[s,A]]}).sort((s,A)=>A[0]-s[0])[0][1]}function fJ(t,e){const{scales:n,library:r,markState:i}=e,[a,o]=Y4(n,i),{itemMarker:s,itemMarkerSize:A}=t,c=(f,d)=>{var h,g,v;const y=((v=(g=(h=r[`mark.${a}`])===null||h===void 0?void 0:h.props)===null||g===void 0?void 0:g.shape[f])===null||v===void 0?void 0:v.props.defaultMarker)||Gs(f.split(".")),w=typeof A=="function"?A(d):A;return()=>b8(y,{color:d.color})(0,0,w)},l=f=>`${o[f]}`;return rl(n,"shape")&&!s?(f,d)=>c(l(d),f):typeof s=="function"?(f,d)=>{const h=s(f.id,d);return typeof h=="string"?c(h,f):h}:(f,d)=>c(s||l(d),f)}function dJ(t){const e=rl(t,"opacity");if(e){const{range:n}=e.getOptions();return(r,i)=>n[i]}}function hJ(t,e){const n=rl(t,"size");return n instanceof Hb?n.map(NaN)*2:e}function pJ(t,e){const{scales:n,markState:r}=e,[i,a]=Y4(n,r),{itemMarker:o,itemMarkerLineWidth:s}=t;if(s!==void 0)return s;const A=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&A.includes(o))return 4;if(typeof o=="function")return(u,f)=>{const d=o(u.id,f);if(typeof d=="string"&&A.includes(d))return 4};if((Array.isArray(a)?a:[a]).some(u=>A.includes(u)))return 4}function gJ(t,e){const{labelFormatter:n=f=>`${f}`}=t,{scales:r,theme:i}=e,a=i.legendCategory.itemMarkerSize,o=hJ(r,a),s={itemMarker:fJ(Object.assign(Object.assign({},t),{itemMarkerSize:o}),e),itemMarkerSize:o,itemMarkerOpacity:dJ(r),itemMarkerLineWidth:pJ(t,e)},A=typeof n=="string"?fu(n):n,c=rl(r,"color"),l=e7(r),u=c?f=>c.map(f):()=>e.theme.color;return Object.assign(Object.assign({},s),{data:l.map(f=>({id:f,label:A(f),color:u(f)}))})}function vJ(t,e,n){const{position:r}=e;if(r==="center"){const{bbox:o}=t,{width:s,height:A}=o;return{width:s,height:A}}const{width:i,height:a}=Hk(t,e,n);return{width:i,height:a}}function yJ(t){return Object.assign(Object.assign({},t),{data:(t==null?void 0:t.data.filter(e=>e.id!==""&&e.id!==void 0))||[]})}const ZO=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,cols:A,itemMarker:c,render:l}=t,u=uJ(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker","render"]),{gridRow:f}=u;return d=>{const{value:h,theme:g}=d,{bbox:v}=h,{width:y,height:w}=vJ(h,t,ZO),b=Nk(a,n),B=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:y,height:w,layout:A!==void 0?"grid":"flex"},A!==void 0&&{gridCol:A}),f!==void 0&&{gridRow:f}),{titleText:Pw(s)}),gJ(t,d)),{legendCategory:E={}}=g,S=Rw(Object.assign({},E,yJ(B),u,{classNamePrefix:du}));if(l)return new H4({className:zO,style:Object.assign(Object.assign({},S),{x:v.x,y:v.y,render:l})});const F=new q9({style:Object.assign(Object.assign({x:v.x,y:v.y,width:v.width,height:v.height},b),{subOptions:S})});return F.appendChild(new H4({className:"legend-category",style:S})),F}};ZO.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const $4=t=>()=>new ka;$4.props={};var mJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function X4(t,e,n,r){switch(r){case"center":return{x:t+n/2,y:e,textAlign:"middle"};case"right":return{x:t+n,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const wJ=X9({render(t,e){const{width:n,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:A}=t,c=mJ(t,["width","title","subtitle","spacing","align","x","y"]);e.style.transform=`translate(${s}, ${A})`;const l=qt(c,"title"),u=qt(c,"subtitle"),d=Rk(e,".title","text").attr("className","title").call(Me,Object.assign(Object.assign(Object.assign({},X4(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),l)).node().getLocalBounds();Rk(e,".sub-title","text").attr("className","sub-title").call(h=>{if(!i)return h.node().remove();h.node().attr(Object.assign(Object.assign(Object.assign({},X4(0,d.max[1]+a,n,o)),{fontSize:12,textBaseline:"top",text:i}),u))})}}),q4=t=>({value:e,theme:n})=>{const{x:r,y:i,width:a,height:o}=e.bbox;return new wJ({style:Mt({},n.title,Object.assign({x:r,y:i,width:a,height:o},t))})};q4.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function J4({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bJ({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BJ({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xJ(t){return typeof t=="object"?t.valueOf():t}class t3 extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=xJ,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(J4({map:this.map,initKey:this.initKey},e))}has(e){return super.has(J4({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(bJ({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(BJ({map:this.map,initKey:this.initKey},e))}}const YO=Symbol("defaultUnknown");function e3(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function n3(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==YO)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function r3(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class $O extends Yk{getDefaultOptions(){return{domain:[],range:[],unknown:YO}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&e3(this.domainIndexMap,this.getDomain(),this.domainKey),n3({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&e3(this.rangeIndexMap,this.getRange(),this.rangeKey),n3({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=r3(n),this.rangeKey=r3(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new $O(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}}function _J(t){const e=Math.min(...t);return t.map(n=>n/e)}function CJ(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function OJ(t){return Math.round(t*1e12)/1e12}function EJ(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,A=e.length,c=CJ(a,A),[l,u]=n,f=u-l,d=2/A*r+1-1/A*i,h=f/d,g=h*i/A,v=h-A*g,y=_J(c),w=y.reduce((R,U)=>R+U),b=v/w,B=new t3(e.map((R,U)=>{const N=y[U]*b;return[R,o?Math.floor(N):N]})),E=new t3(e.map((R,U)=>{const j=y[U]*b+g;return[R,o?Math.floor(j):j]})),S=Array.from(E.values()).reduce((R,U)=>R+U),k=(f-(S-S/A*i))*s,T=l+k;let L=o?Math.round(T):T;const P=new Array(A);for(let R=0;R<A;R+=1){P[R]=OJ(L);const U=e[R];L+=E.get(U)}return{valueBandWidth:B,valueStep:E,adjustedRange:P}}function SJ(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return EJ(t);const{range:a,paddingOuter:o,paddingInner:s,round:A,align:c}=t;let l,u,f=a[0];const h=a[1]-f,g=o*2,v=r-s;l=h/Math.max(1,g+v),A&&(l=Math.floor(l)),f+=(h-l*(r-s))*c,u=l*(1-s),A&&(f=Math.round(f),u=Math.round(u));const y=new Array(r).fill(0).map((w,b)=>f+b*l);return{valueStep:l,valueBandWidth:u,adjustedRange:y}}class XO extends $O{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:YO,flex:[]}}constructor(e){super(e)}clone(){return new XO(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:A}=SJ({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=A,this.valueBandWidth=s,this.adjustedRange=o}}var qO=function(t){if(typeof t!="object"||t===null)return t;var e;if(Sr(t)){e=[];for(var n=0,r=t.length;n<r;n++)typeof t[n]=="object"&&t[n]!=null?e[n]=qO(t[n]):e[n]=t[n]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=qO(t[i]):e[i]=t[i]}return e},JO=qO,MJ=function(t){dr(e,t);function e(n){var r=this,i=n.style,a=Kr(n,["style"]);return r=t.call(this,Mt({},{type:"column"},Tt({style:i},a)))||this,r.columnsGroup=new ka({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.columns,i=n.x,a=n.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),cn(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},e.prototype.update=function(n){this.attr(gc({},this.attributes,n)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(Dr),FJ=function(t){dr(e,t);function e(n){var r=this,i=n.style,a=Kr(n,["style"]);return r=t.call(this,Mt({},{type:"lines"},Tt({style:i},a)))||this,r.linesGroup=r.appendChild(new ka),r.areasGroup=r.appendChild(new ka),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.lines,i=n.areas,a=n.x,o=n.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(n){this.attr(gc({},this.attributes,n)),this.render()},e.prototype.renderLines=function(n){cn(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},e.prototype.renderAreas=function(n){cn(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},e}(Dr);function kJ(t,e,n,r){var i,a=[],o=!!r,s,A,c=[1/0,1/0],l=[-1/0,-1/0],u,f,d;if(o){i=q(r,2),c=i[0],l=i[1];for(var h=0,g=t.length;h<g;h+=1){var v=t[h];c=bh(c,v),l=Bh(l,v)}}for(var h=0,y=t.length;h<y;h+=1){var v=t[h];if(h===0&&!n)d=v;else if(h===y-1&&!n)f=v,a.push(d),a.push(f);else{var w=[h?h-1:y-1,h-1][n?0:1];s=t[w],A=t[n?(h+1)%y:h+1];var b=[0,0];b=h_(A,s),b=hu(b,e);var B=Qv(v,s),E=Qv(v,A),S=B+E;S!==0&&(B/=S,E/=S);var F=hu(b,-B),k=hu(b,E);f=Lv(v,F),u=Lv(v,k),u=bh(u,Bh(A,v)),u=Bh(u,bh(A,v)),F=h_(u,v),F=hu(F,-B/E),f=Lv(v,F),f=bh(f,Bh(s,v)),f=Bh(f,bh(s,v)),k=h_(v,f),k=hu(k,E/B),u=Lv(v,k),o&&(f=Bh(f,c),f=bh(f,l),u=Bh(u,c),u=bh(u,l)),a.push(d),a.push(f),d=u}}return n&&a.push(a.shift()),a}function TJ(t,e,n){var r;e===void 0&&(e=!1),n===void 0&&(n=[[0,0],[1,1]]);for(var i=!!e,a=[],o=0,s=t.length;o<s;o+=2)a.push([t[o],t[o+1]]);for(var A=kJ(a,.4,i,n),c=a.length,l=[],u,f,d,o=0;o<c-1;o+=1)u=A[o*2],f=A[o*2+1],d=a[o+1],l.push(["C",u[0],u[1],f[0],f[1],d[0],d[1]]);return i&&(u=A[c],f=A[c+1],r=q(a,1),d=r[0],l.push(["C",u[0],u[1],f[0],f[1],d[0],d[1]])),l}function IJ(t,e){var n,r=e.x,i=e.y,a=q(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(n=q([o,s],2),s=n[0],o=n[1]),t.map(function(A){var c=A.map(function(l,u){return[r.map(u),Gr(i.map(l),s,o)]});return c})}function Oy(t,e){e===void 0&&(e=!1);var n=e?t.length-1:0,r=t.map(function(i,a){return ye([a===n?"M":"L"],q(i),!1)});return e?r.reverse():r}function zb(t,e){if(e===void 0&&(e=!1),t.length<=2)return Oy(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var a=e?t[r-i-1]:t[i];A_(a,n.slice(-2))||n.push.apply(n,ye([],q(a),!1))}var o=TJ(n,!1);return e?o.unshift(ye(["M"],q(t[r-1]),!1)):o.unshift(ye(["M"],q(t[0]),!1)),o}function tE(t,e,n){var r=JO(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}function LJ(t,e,n,r){return t.map(function(i){return tE(e?zb(i):Oy(i),n,r)})}function QJ(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=Oy(a),s=void 0;if(i===0)s=tE(o,e,n);else{var A=t[i-1],c=Oy(A,!0);c[0][0]="L",s=ye(ye(ye([],q(o),!1),q(c),!1),[["Z"]],!1)}r.push(s)}return r}function UJ(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=zb(a),s=void 0;if(i===0)s=tE(o,e,n);else{var A=t[i-1],c=zb(A,!0),l=a[0];c[0][0]="L",s=ye(ye(ye([],q(o),!1),q(c),!1),[ye(["M"],q(l),!1),["Z"]],!1)}r.push(s)}return r}var PJ=function(t,e){if(Sr(t)){for(var n,r=1/0,i=0;i<t.length;i++){var a=t[i],o=hi(e)?e(a):a[e];o<r&&(n=a,r=o)}return n}},RJ=function(t,e){if(Sr(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var a=t[i],o=hi(e)?e(a):a[e];o>r&&(n=a,r=o)}return n}};function i3(t){return t.length===0?[0,0]:[Nc(PJ(t,function(e){return Nc(e)||0})),$u(RJ(t,function(e){return $u(e)||0}))]}function a3(t){for(var e=JO(t),n=e[0].length,r=q([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],a=r[1],o=0;o<e.length;o+=1)for(var s=e[o],A=0;A<n;A+=1)s[A]>=0?(s[A]+=i[A],i[A]=s[A]):(s[A]+=a[A],a[A]=s[A]);return e}var NJ=function(t){dr(e,t);function e(n){return t.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||(n==null?void 0:n.length)===0)return[[]];var r=JO(n);return rr(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?a3(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var n=this.scales.y,r=q(n.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?n.map(a):n.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,i=n.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=Bn(this.attributes,"area"),A=Bn(this.attributes,"line"),c=this.containerShape.width,l=this.data;if(l[0].length===0)return{lines:[],areas:[]};var u=this.scales,f=u.x,d=u.y,h=IJ(l,{type:"line",x:f,y:d}),g=[];if(s){var v=this.baseline;a?g=o?UJ(h,c,v):QJ(h,c,v):g=LJ(h,o,c,v)}return{lines:h.map(function(y,w){return Tt({stroke:n.getColor(w),d:o?zb(y):Oy(y)},A)}),areas:g.map(function(y,w){return Tt({d:y,fill:n.getColor(w)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var n=this,r=Bn(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var A=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=a3(c));var l=this.createScales(c),u=l.x,f=l.y,d=q(i3(c),2),h=d[0],g=d[1],v=new _h({domain:[0,g-(h>0?0:h)],range:[0,A*s]}),y=u.getBandWidth(),w=this.rawData;return{columns:c.map(function(b,B){return b.map(function(E,S){var F=y/c.length,k=function(){return{x:u.map(S)+F*B,y:E>=0?f.map(E):f.map(0),width:F,height:v.map(Math.abs(E))}},T=function(){return{x:u.map(S),y:f.map(E),width:y,height:v.map(w[B][S])}};return Tt(Tt({fill:n.getColor(B)},r),a?T():k())})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){mj(r,".container","rect").attr("className","container").node();var i=n.type,a=n.x,o=n.y,s="spark".concat(i),A=Tt({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);cn(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(l){return l==="line"?new FJ({className:s,style:A}):new MJ({className:s,style:A})}).attr("className","spark ".concat(s))},function(c){return c.update(A)},function(c){return c.remove()})},e.prototype.getColor=function(n){var r=this.attributes.color;return Sr(r)?r[n%r.length]:hi(r)?r.call(null,n):r},e.prototype.createScales=function(n){var r,i,a=this.attributes,o=a.type,s=a.scale,A=a.range,c=A===void 0?[]:A,l=a.spacing,u=this.containerShape,f=u.width,d=u.height,h=q(i3(n),2),g=h[0],v=h[1],y=new _h({domain:[(r=c[0])!==null&&r!==void 0?r:g,(i=c[1])!==null&&i!==void 0?i:v],range:[d,d*(1-s)]});return o==="line"?{type:o,x:new _h({domain:[0,n[0].length-1],range:[0,f]}),y}:{type:o,x:new XO({domain:n[0].map(function(w,b){return b}),range:[0,f],paddingInner:l,paddingOuter:l/2,align:.5}),y}},e.tag="sparkline",e}(Ta),o3=function(t){dr(e,t);function e(n){var r=t.call(this,n,Tt(Tt(Tt({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},el(rT,"handle")),el(eT,"handleIcon")),el(nT,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(tT(a));var o=r.availableSpace,s=o.x,A=o.y,c=r.getBBox(),l=c.x,u=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,A])-r.getOrientVal([+l,+u])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,A=a.type;i.stopPropagation();var c=r.getOrientVal(tT(i)),l=c-r.prevPos;if(l){var u=r.getRatio(l);switch(r.target){case"start":o&&r.setValuesOffset(u);break;case"end":o&&r.setValuesOffset(0,u);break;case"selection":o&&r.setValuesOffset(u,u);break;case"track":if(!s)return;r.selectionWidth+=u,A==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break;default:break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,A=s==="range"?i:i[1],c=s==="range"?r.getValues():r.getValues()[1],l=new or("valuechange",{detail:{oldValue:A,value:c}});r.dispatchEvent(l),o==null||o(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=Bn(this.attributes,"sparkline");return Tt(Tt({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,i=n.trackSize,a=q(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.x,i=n.y,a=n.padding,o=q(Ja(a),4),s=o[0],A=o[1],c=o[2],l=o[3],u=this.shape,f=u.width,d=u.height;return{x:l,y:s,width:f-(l+A),height:d-(s+c)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},e.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(il.selection.class).each(function(i,a){pc(this,r[a],n)})},e.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&pc(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&pc(this.endHandle,this.getHandleStyle("end"),n))},e.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(n);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},e.prototype.renderTrack=function(n){var r=this.attributes,i=r.x,a=r.y,o=Bn(this.attributes,"track");this.trackShape=cn(n).maybeAppendByClassName(il.track,"rect").styles(Tt(Tt({x:i,y:a},this.shape),o))},e.prototype.renderBrushArea=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=cn(n).maybeAppendByClassName(il.brushArea,"rect").styles(Tt({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,A=cn(n).maybeAppendByClassName(il.sparklineGroup,"g");Ho(s==="horizontal",A,function(c){var l=Tt(Tt({},r.sparklineStyle),{x:a,y:o});c.maybeAppendByClassName(il.sparkline,function(){return new NJ({style:l})}).update(l)})},e.prototype.renderHandles=function(){var n=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],A=a?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(il.handle.class).data(A.map(function(l){return{type:l}}),function(l){return l.type}).join(function(l){return l.append(function(u){var f=u.type;return new iT({style:n.getHandleStyle(f)})}).each(function(u){var f=u.type;this.attr("class","".concat(il.handle.name," ").concat(f,"-handle"));var d="".concat(f,"Handle");c[d]=this,this.addEventListener("pointerdown",c.onDragStart(f))})},function(l){return l.each(function(u){var f=u.type;this.update(c.getHandleStyle(f))})},function(l){return l.each(function(u){var f=u.type,d="".concat(f,"Handle");c[d]=void 0}).remove()})},e.prototype.renderSelection=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=cn(n).maybeAppendByClassName(il.foreground,"g");var A=Bn(this.attributes,"selection"),c=function(u){return u.style("visibility",function(f){return f.show?"visible":"hidden"}).style("cursor",function(f){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(Tt(Tt({},A),{transform:"translate(".concat(i,", ").concat(a,")")}))},l=this;this.foregroundGroup.selectAll(il.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(u,f){return{style:Tt({},u),index:f,show:s==="select"?f===1:f!==1}}),function(u){return u.index}).join(function(u){return u.append("rect").attr("className",il.selection.name).call(c).each(function(f,d){var h=this;d===1?(l.selectionShape=cn(this),this.on("pointerdown",function(g){h.attr("cursor","grabbing"),l.onDragStart("selection")(g)}),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){h.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){h.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){h.attr("cursor","pointer")})):this.on("pointerdown",l.onDragStart("track"))})},function(u){return u.call(c)},function(u){return u.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},e.prototype.clampValues=function(n,r){var i;r===void 0&&(r=4);var a=q(this.range,2),o=a[0],s=a[1],A=q(this.getValues().map(function(v){return jw(v,r)}),2),c=A[0],l=A[1],u=Array.isArray(n)?n:[c,n!=null?n:l],f=q((u||[c,l]).map(function(v){return jw(v,r)}),2),d=f[0],h=f[1];if(this.attributes.type==="value")return[0,Gr(h,o,s)];d>h&&(i=q([h,d],2),d=i[0],h=i[1]);var g=h-d;return g>s-o?[o,s]:d<o?c===o&&l===h?[o,h]:[o,g+o]:h>s?l===s&&c===d?[d,s]:[s-g,s]:[d,h]},e.prototype.calcSelectionArea=function(n){var r=q(this.clampValues(n),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,A=o.y,c=o.width,l=o.height;return this.getOrientVal([[{y:A,height:l,x:s,width:i*c},{y:A,height:l,x:i*c+s,width:(a-i)*c},{y:A,height:l,x:a*c,width:(1-a)*c}],[{x:s,width:c,y:A,height:i*l},{x:s,width:c,y:i*l+A,height:(a-i)*l},{x:s,width:c,y:a*l,height:(1-a)*l}]])},e.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,A=i.height,c=q(this.clampValues(),2),l=c[0],u=c[1],f=n==="start"?-r:r,d=(n==="start"?l:u)*this.getOrientVal([s,A])+f;return{x:a+this.getOrientVal([d,s/2]),y:o+this.getOrientVal([A/2,d])}},e.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(n){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,A=i.autoFitLabel,c=Bn(this.attributes,"handle"),l=Bn(c,"label"),u=c.spacing,f=this.getHandleSize(),d=this.clampValues(),h=n==="start"?d[0]:d[1],g=s(h),v=new f_({style:Tt(Tt(Tt({},l),this.inferTextStyle(n)),{text:g})}),y=v.getBBox(),w=y.width,b=y.height;if(v.destroy(),!A){if(a==="value")return{text:g,x:0,y:-b-u};var B=u+f+(o==="horizontal"?w/2:0);return r={text:g},r[o==="horizontal"?"x":"y"]=n==="start"?-B:B,r}var E=0,S=0,F=this.availableSpace,k=F.width,T=F.height,L=this.calcSelectionArea()[1],P=L.x,R=L.y,U=L.width,N=L.height,j=u+f;if(o==="horizontal"){var z=j+w/2;if(n==="start"){var W=P-j-w;E=W>0?-z:z}else{var D=k-P-U-j>w;E=D?z:-z}}else{var G=j,Y=b+j;n==="start"?S=R-f>b?-Y:G:S=T-(R+N)-f>b?Y:-G}return{x:E,y:S,text:g}},e.prototype.getHandleLabelStyle=function(n){var r=Bn(this.attributes,"handleLabel");return Tt(Tt(Tt({},r),this.calcHandleText(n)),this.inferTextStyle(n))},e.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=Bn(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Tt({cursor:i,shape:n,size:a},r)},e.prototype.getHandleStyle=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,A=r.orientation,c=this.calcHandlePosition(n),l=c.x,u=c.y,f=this.calcHandleText(n),d=o;return!o&&s&&(this.target?d=!0:d=!1),Tt(Tt(Tt({},el(this.getHandleIconStyle(),"icon")),el(Tt(Tt({},this.getHandleLabelStyle(n)),f),"label")),{transform:"translate(".concat(l+i,", ").concat(u+a,")"),orientation:A,showLabel:d,type:n,zIndex:3})},e.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,i=n.width,a=n.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},e.prototype.getOrientVal=function(n){var r=q(n,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},e.prototype.setValuesOffset=function(n,r){r===void 0&&(r=0);var i=this.attributes.type,a=q(this.getValues(),2),o=a[0],s=a[1],A=i==="range"?n:0,c=[o+A,s+r].sort();this.innerSetValues(c,!0)},e.prototype.getRatio=function(n){var r=this.availableSpace,i=r.width,a=r.height;return n/this.getOrientVal([i,a])},e.prototype.dispatchCustomEvent=function(n,r,i){var a=this;n.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new or(i,{detail:o}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var i=n.deltaX,a=n.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s)}},e.tag="slider",e}(Ta),DJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function HJ(t,e,n){const{x:r,y:i,width:a,height:o}=t;if(e==="left")return[r+a-n,i];if(e==="right")return[r,i];if(e==="bottom")return[r,i];if(e==="top")return[r,i+o-n]}const Ey=t=>{const{orientation:e,labelFormatter:n,size:r,style:i={},position:a}=t,o=DJ(t,["orientation","labelFormatter","size","style","position"]);return s=>{var A;const{scales:[c],value:l,theme:u,coordinate:f}=s,{bbox:d}=l,{width:h,height:g}=d,{slider:v={}}=u,y=((A=c.getFormatter)===null||A===void 0?void 0:A.call(c))||(k=>k+""),w=typeof n=="string"?fu(n):n,b=e==="horizontal",B=Hr(f)&&b,{trackSize:E=v.trackSize}=i,[S,F]=HJ(d,a,E);return new o3({className:"slider",style:Object.assign({},v,Object.assign(Object.assign({x:S,y:F,trackLength:b?h:g,orientation:e,formatter:k=>{const T=w||y,L=B?1-k:k,P=Cg(c,L,!0);return T(P)},sparklineData:GJ(t,s)},i),o))})}};function jJ(t,e){const[n]=Array.from(t.entries()).filter(([i])=>i.type==="line"||i.type==="area"||i.type==="interval").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o!=null&&o.x){const s=A=>{const c=a[A];return[A,c?c.value:void 0]};return Object.fromEntries(e.map(s))}});if(!(n!=null&&n.series))return n==null?void 0:n.y;const r=n.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(n.y[o]),i),{});return Object.values(r)}function GJ(t,e){const{markState:n}=e;return Sr(t.sparklineData)?t.sparklineData:jJ(n,["y","series"])}Ey.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const s3=t=>Ey(Object.assign(Object.assign({},t),{orientation:"horizontal"}));s3.props=Object.assign(Object.assign({},Ey.props),{defaultPosition:"bottom"});const A3=t=>Ey(Object.assign(Object.assign({},t),{orientation:"vertical"}));A3.props=Object.assign(Object.assign({},Ey.props),{defaultPosition:"left"});var KJ=function(t){dr(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new or("scroll",o)),r.dispatchEvent(new or("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=q(r.getLocalPosition(),2),s=o[0],A=o[1],c=q(r.padding,4),l=c[0],u=c[3],f=r.getOrientVal([s+u,A+l]),d=r.getOrientVal(Jk(i)),h=(d-f)/r.trackLength;r.setValue(h,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new or("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new or("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new or("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new or("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(e.prototype,"padding",{get:function(){var n=this.attributes.padding;return Ja(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var n=this.attributes.value,r=q(this.range,2),i=r[0],a=r[1];return Gr(n,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,i=n.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,i=q(this.padding,4),a=i[0],o=i[1],s=i[2],A=i[3],c=q(this.getOrientVal([[r,n],[n,r]]),2),l=c[0],u=c[1];return{x:A,y:a,width:+l-(A+o),height:+u-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=q(this.range,2),A=s[0],c=s[1],l=n*(c-A-o);return[l,l+o]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,A=r.padding,c=r.slidable,l=Bn(this.attributes,"track"),u=Bn(this.attributes,"thumb"),f=Tt(Tt({x:i,y:a,brushable:!1,orientation:o,padding:A,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},el(l,"track")),el(u,"selection"));this.slider=cn(n).maybeAppendByClassName("scrollbar",function(){return new o3({style:f})}).update(f).node()},e.prototype.render=function(n,r){this.renderSlider(r)},e.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.attributes.value,a=q(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(Gr(n,o,s)),r),this.onValueChange(i)},e.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},e.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e}(Ta),zJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sy=t=>{const{orientation:e,labelFormatter:n,style:r}=t,i=zJ(t,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:A}=o,{x:c,y:l,width:u,height:f}=A,{scrollbar:d={}}=s,{ratio:h,range:g}=a.getOptions(),v=e==="horizontal"?u:f,y=v/h,[w,b]=g,B=b>w?0:1;return new KJ({className:`${du}scrollbar`,style:Object.assign({},d,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:l,trackLength:v,value:B}),i),{orientation:e,contentLength:y,viewportLength:v}))})}};Sy.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const c3=t=>Sy(Object.assign(Object.assign({},t),{orientation:"horizontal"}));c3.props=Object.assign(Object.assign({},Sy.props),{defaultPosition:"bottom"});const l3=t=>Sy(Object.assign(Object.assign({},t),{orientation:"vertical"}));l3.props=Object.assign(Object.assign({},Sy.props),{defaultPosition:"left"});const eE=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Hr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.01},{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u}];return s.animate(h,Object.assign(Object.assign({},o),t))}},WJ=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Hr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),t))}},u3=(t,e)=>{const{coordinate:r}=e;return B2.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Yt.NUMBER}),(i,a,o)=>{const[s]=i,A=l=>{const{__data__:u,style:f}=l,{fillOpacity:d=1,strokeOpacity:h=1,opacity:g=1}=f,{points:v,y,y1:w}=u,b=Sh(r,v,[y,w]),{innerRadius:B,outerRadius:E}=b,S=[{scaleInYRadius:B+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:B+1e-4,fillOpacity:d,strokeOpacity:h,opacity:g,offset:.01},{scaleInYRadius:E,fillOpacity:d,strokeOpacity:h,opacity:g}];return l.animate(S,Object.assign(Object.assign({},o),t))},c=l=>{const{style:u}=l,{transform:f="",fillOpacity:d=1,strokeOpacity:h=1,opacity:g=1}=u,[v,y]=Hr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],w=[{transform:`${f} ${y}`.trimStart(),transformOrigin:v,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${f} ${y}`.trimStart(),transformOrigin:v,fillOpacity:d,strokeOpacity:h,opacity:g,offset:.01},{transform:`${f} scale(1, 1)`.trimStart(),transformOrigin:v,fillOpacity:d,strokeOpacity:h,opacity:g}];return l.animate(w,Object.assign(Object.assign({},o),t))};return Ar(r)?A(s):c(s)}},VJ=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:A="",fillOpacity:c=1,strokeOpacity:l=1,opacity:u=1}=s.style,[f,d]=Hr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],h=[{transform:`${A} scale(1, 1)`.trimStart(),transformOrigin:f},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:c,strokeOpacity:l,opacity:u,offset:.99},{transform:`${A} ${d}`.trimStart(),transformOrigin:f,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(h,Object.assign(Object.assign({},o),t))}},f3=(t,e)=>{B2.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Yt.NUMBER});const{coordinate:r}=e;return(i,a,o)=>{const[s]=i;if(!Ar(r))return eE(t,e)(i,a,o);const{__data__:A,style:c}=s,{radius:l=0,inset:u=0,fillOpacity:f=1,strokeOpacity:d=1,opacity:h=1}=c,{points:g,y:v,y1:y}=A,w=iC().cornerRadius(l).padAngle(u*Math.PI/180),b=Sh(r,g,[v,y]),{startAngle:B,endAngle:E}=b,S=[{waveInArcAngle:B+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:B+1e-4,fillOpacity:f,strokeOpacity:d,opacity:h,offset:.01},{waveInArcAngle:E,fillOpacity:f,strokeOpacity:d,opacity:h}],F=s.animate(S,Object.assign(Object.assign({},o),t));return F.onframe=function(){s.style.d=w(Object.assign(Object.assign({},b),{endAngle:Number(s.style.waveInArcAngle)}))},F.onfinish=function(){s.style.d=w(Object.assign(Object.assign({},b),{endAngle:E}))},F}};f3.props={};const d3=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(A,Object.assign(Object.assign({},r),t))};d3.props={};const h3=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,A=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(A,Object.assign(Object.assign({},r),t))};h3.props={};const ZJ=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c}];return a.animate(u,Object.assign(Object.assign({},i),t))},YJ=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:A=1,opacity:c=1}=a.style,l="center center",u=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:l},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:s,strokeOpacity:A,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:l,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(u,Object.assign(Object.assign({},i),t))},p3=t=>(e,n,r)=>{var i,a;const[o]=e,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,A=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(A,Object.assign(Object.assign({},r),t))};p3.props={};const $J={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},XJ={[St.CIRCLE]:["cx","cy","r"],[St.ELLIPSE]:["cx","cy","rx","ry"],[St.RECT]:["x","y","width","height"],[St.IMAGE]:["x","y","width","height"],[St.LINE]:["x1","y1","x2","y2"],[St.POLYLINE]:["points"],[St.POLYGON]:["points"]};function jg(t,e,n=!1){const r={};for(const i of e){const a=t.style[i];a?r[i]=a:n&&(r[i]=$J[i])}return r}const My=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function nE(t){const{min:e,max:n}=t.getLocalBounds(),[r,i]=e,[a,o]=n,s=o-i,A=a-r;return[r,i,A,s]}function qJ(t){const[e,n,r,i]=t;return`
    M ${e} ${n}
    L ${e+r} ${n}
    L ${e+r} ${n+i}
    L ${e} ${n+i}
    Z
  `}function JJ(t,e){const[n,r,i,a]=nE(t),o=a/i,s=Math.ceil(Math.sqrt(e/o)),A=Math.ceil(e/s),c=[],l=a/A;let u=0,f=e;for(;f>0;){const d=Math.min(f,s),h=i/d;for(let g=0;g<d;g++){const v=n+g*h,y=r+u*l;c.push(qJ([v,y,h,l]))}f-=d,u+=1}return c}function ttt(t="pack"){return typeof t=="function"?t:JJ}function ett(t,e,n){let{transform:r}=t.style;const{transform:i}=e.style;g3(e,t);let a=My;if(t.nodeName===St.GROUP){const[A,c,l,u]=nE(t),[f,d,h,g]=nE(e),v=A-f,y=c-d,w=l/h,b=u/g;r=`translate(${v}, ${y}) scale(${w}, ${b})`}else a=a.concat(XJ[t.nodeName]||[]);const o=[Object.assign({transform:r!=null?r:"none"},jg(t,a,!0)),Object.assign({transform:i!=null?i:"none"},jg(e,a,!0))];return e.animate(o,n)}function g3(t,e){t.__data__=e.__data__,t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function ntt(t,e){const{nodeName:n}=t;if(n==="path")return t;const r=new pa({style:Object.assign(Object.assign({},jg(t,My)),{d:e})});return g3(r,t),r}function v3(t,e){const n=t.indexOf(e),r=t.lastIndexOf(e);return n===r}function rtt(t){return!v3(t,"m")||!v3(t,"M")}function y3(t){const e=fs(t);if(e&&!rtt(e))return e}function m3(t){const{nodeName:e}=t;if(e==="path"){const n=nn(t,"attributes");return n.markerEnd||n.markerStart}return!1}function rE(t,e,n,r){const{nodeName:i}=e,{nodeName:a}=n,o=y3(e),s=y3(n),{opacity:A=1,strokeOpacity:c=1,fillOpacity:l=1}=e.style,{opacity:u=1,strokeOpacity:f=1,fillOpacity:d=1}=n.style,h=i===a&&i!=="path",g=o===void 0||s===void 0,v=m3(e)||m3(n);if(h||g||v)return ett(e,n,r);const y=ntt(t,o),w=Object.assign(Object.assign({},jg(e,My)),{opacity:A,strokeOpacity:c,fillOpacity:l}),b=Object.assign(Object.assign({},jg(n,My)),{opacity:u,strokeOpacity:f,fillOpacity:d}),B=[w,b];if(o!==s){B[0].d=o,B[1].d=s;const E=y.animate(B,r);return E.onfinish=()=>{gw(y,n),y.style.d=s,y.style.transform="none"},y.style.transform="none",E}return A_(w,b)?null:y.animate(B,r)}function itt(t,e,n,r){t.style.visibility="hidden";const i=r(t,e.length);return e.map((a,o)=>{const s=new pa({style:Object.assign({d:i[o]},jg(t,My))});return rE(a,s,a,n)})}function att(t,e,n,r){const i=r(e,t.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=e.style,A=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],c=e.animate(A,n);return[...t.map((u,f)=>{const d=new pa({style:{d:i[f],fill:e.style.fill}});return rE(u,u,d,n)}),c]}const w3=t=>(e,n,r)=>{const i=ttt(t.split),a=Object.assign(Object.assign({},r),t),{length:o}=e,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[A]=e,[c]=n;return rE(A,A,c,a)}if(o===1&&s>1){const[A]=e;return itt(A,n,a,i)}if(o>1&&s===1){const[A]=n;return att(e,A,a,i)}return null};w3.props={};const b3=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new pa({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,eE(t,e)([u],r,i)};b3.props={};const B3=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:A}=a.getLocalBounds(),c=A[0]*2,l=A[1]*2,u=new pa({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+l}L${o},${s+l}Z`}});return a.appendChild(u),a.style.clipPath=u,u3(t,e)([u],r,i)};B3.props={};var ott=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function stt(t,{elements:e,datum:n,groupKey:r=h=>h,regionGroupKey:i=h=>h,link:a=!1,background:o=!1,delay:s=60,scale:A,coordinate:c,emitter:l,state:u={},region:f=!1,regionEleFilter:d=h=>lC.includes(h.markType)}){var h,g;const v=(h=e(t))!==null&&h!==void 0?h:[],y=f?v.filter(d):v,w=new Set(y),b=f?i:r,B=kr(y,b),E=aI({elementsof:e,root:t,coordinate:c,scale:A}),S=Eg(y,n),[F,k]=eI(Object.assign({elements:y,valueof:S,link:a,coordinate:c},qt(u.active,"link"))),[T,L,P]=rI(Object.assign({document:t.ownerDocument,scale:A,coordinate:c,background:o,valueof:S},qt(u.active,"background"))),R=Mt(u,{active:Object.assign({},((g=u.active)===null||g===void 0?void 0:g.offset)&&{transform:(...ut)=>{const Ct=u.active.offset(...ut),[,_t]=ut;return nI(y[_t],Ct,c)}})}),U=cC(R,y),{updateState:N,removeState:j,hasState:z}=U(S);let W;const D=ut=>{const{nativeEvent:Ct=!0}=ut;let _t=ut.target;if(f&&(_t=E(ut)),!w.has(_t))return;W&&clearTimeout(W);const mt=b(_t),Lt=B.get(mt),Nt=new Set(Lt);for(const Vt of y)Nt.has(Vt)?z(Vt,"active")||N(Vt,"active"):(N(Vt,"inactive"),k(Vt)),Vt!==_t&&L(Vt);T(_t),F(Lt),Ct&&l.emit("element:highlight",{nativeEvent:Ct,data:{data:n(_t),group:Lt.map(n)}})},G=()=>{W&&clearTimeout(W),W=setTimeout(()=>{Y(),W=null},s)},Y=(ut=!0)=>{for(const Ct of y)j(Ct,"active","inactive"),L(Ct),k(Ct);ut&&l.emit("element:unhighlight",{nativeEvent:ut})},at=ut=>{let Ct=ut.target;if(f&&(Ct=E(ut)),!Ct){s>0?G():Y();return}o&&!P(Ct)||!o&&!w.has(Ct)||(s>0?G():Y())},it=()=>{Y()};t.addEventListener("pointerover",D),t.addEventListener("pointermove",D),t.addEventListener("pointerout",at),t.addEventListener("pointerleave",it);const At=ut=>{const{nativeEvent:Ct}=ut;Ct||Y(!1)},ht=ut=>{const{nativeEvent:Ct}=ut;if(Ct)return;const{data:_t}=ut.data,mt=ib(y,_t,n);mt&&D({target:mt,nativeEvent:!1})};return l.on("element:highlight",ht),l.on("element:unhighlight",At),()=>{t.removeEventListener("pointerover",D),t.removeEventListener("pointermove",D),t.removeEventListener("pointerout",at),t.removeEventListener("pointerleave",it),l.off("element:highlight",ht),l.off("element:unhighlight",At);for(const ut of y)L(ut),k(ut)}}function Wb(t){var{delay:e,createGroup:n,createRegionGroup:r,background:i=!1,link:a=!1}=t,o=ott(t,["delay","createGroup","createRegionGroup","background","link"]);return(s,A,c)=>{const{container:l,view:u,options:f}=s,{scale:d,coordinate:h}=u,g=SA(l);return stt(g,Object.assign({elements:wu,datum:Ff(u),groupKey:n?n(u):void 0,regionGroupKey:r?r(u):qv(u),coordinate:h,scale:d,state:Lh(f,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:a,delay:e,emitter:c},o))}}Wb.props={reapplyWhenUpdate:!0};function x3(t){return Wb(Object.assign(Object.assign({},t),{createGroup:qv}))}x3.props={reapplyWhenUpdate:!0};function _3(t){return Wb(Object.assign(Object.assign({},t),{createGroup:qT}))}_3.props={reapplyWhenUpdate:!0};var Att=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ctt(t,{elements:e,datum:n,groupKey:r=g=>g,scaleFactor:i=1.04,shadow:a=!0,shadowColor:o="rgba(0, 0, 0, 0.4)",shadowBlur:s=10,shadowOffsetX:A=0,shadowOffsetY:c=2,zIndex:l=10,delay:u=60,emitter:f,state:d={},coordinate:h}){const g=()=>{var D;return(D=e(t))!==null&&D!==void 0?D:[]},v=g(),y=Eg(v,n),w=Mt(d,{active:{}}),b=cC(w,v),{updateState:B,removeState:E,hasState:S}=b(y),F=new Map;let k;const T=D=>{if(F.has(D))return;const G=D.style.transform||"",Y=D.style.transformOrigin||"",at=G==="none"?"":G;if(F.set(D,{transform:G,transformOrigin:Y,zIndex:D.style.zIndex||0,shadowColor:D.style.shadowColor||"",shadowBlur:D.style.shadowBlur||0,shadowOffsetX:D.style.shadowOffsetX||0,shadowOffsetY:D.style.shadowOffsetY||0}),h&&Ar(h)&&!at){const At=h.getCenter();D.style.transformOrigin=`${At[0]}px ${At[1]}px`}const it=`scale(${i})`;D.style.transform=at?`${at} ${it}`:it,D.style.zIndex=l,a&&(D.style.shadowColor=o,D.style.shadowBlur=s,D.style.shadowOffsetX=A,D.style.shadowOffsetY=c)},L=D=>{const G=F.get(D);G&&(D.style.transform=G.transform,D.style.transformOrigin=G.transformOrigin,D.style.zIndex=G.zIndex,D.style.shadowColor=G.shadowColor,D.style.shadowBlur=G.shadowBlur,D.style.shadowOffsetX=G.shadowOffsetX,D.style.shadowOffsetY=G.shadowOffsetY,F.delete(D))},P=D=>{const{nativeEvent:G=!0}=D,Y=D.target,at=g();if(!new Set(at).has(Y))return;k&&clearTimeout(k);const At=kr(at,r),ht=r(Y),ut=At.get(ht);if(!ut)return;const Ct=new Set(ut);for(const _t of at)Ct.has(_t)||(E(_t,"active"),L(_t));for(const _t of ut)S(_t,"active")||B(_t,"active"),T(_t);G&&f.emit("element:hoverscale",{nativeEvent:G,data:{data:n(Y),group:ut.map(n)}})},R=()=>{k&&clearTimeout(k),k=setTimeout(()=>{U(),k=null},u)},U=(D=!0)=>{const G=g();for(const Y of G)E(Y,"active"),L(Y);D&&f.emit("element:unhoverscale",{nativeEvent:D})},N=()=>{u>0?R():U()},j=()=>{U()};t.addEventListener("pointerover",P),t.addEventListener("pointermove",P),t.addEventListener("pointerout",N),t.addEventListener("pointerleave",j);const z=D=>{const{nativeEvent:G}=D;G||U(!1)},W=D=>{const{nativeEvent:G}=D;if(G)return;const{data:Y}=D.data,at=g(),it=ib(at,Y,n);it&&P({target:it,nativeEvent:!1})};return f.on("element:hoverscale",W),f.on("element:unhoverscale",z),()=>{t.removeEventListener("pointerover",P),t.removeEventListener("pointermove",P),t.removeEventListener("pointerout",N),t.removeEventListener("pointerleave",j),f.off("element:hoverscale",W),f.off("element:unhoverscale",z);const D=g();for(const G of D)L(G);F.clear()}}function C3(t){var{delay:e,createGroup:n,scale:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c}=t,l=Att(t,["delay","createGroup","scale","shadow","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","zIndex"]);return(u,f,d)=>{const{container:h,view:g,options:v}=u,y=SA(h),w=Ff(g),{coordinate:b}=g;return ctt(y,Object.assign({elements:wu,datum:w,groupKey:n?B=>n(g)(w(B)):void 0,state:Lh(v,["active"]),scaleFactor:r,shadow:i,shadowColor:a,shadowBlur:o,shadowOffsetX:s,shadowOffsetY:A,zIndex:c,delay:e,emitter:d,coordinate:b},l))}}C3.props={reapplyWhenUpdate:!0};var ltt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function utt(t,{elements:e,datum:n,groupKey:r=g=>g,regionGroupKey:i=g=>g,link:a=!1,single:o=!1,multipleSelectHotkey:s,coordinate:A,background:c=!1,scale:l,emitter:u,state:f={},region:d=!1,regionEleFilter:h=g=>lC.includes(g.markType)}){var g;const v=e(t),y=new Set(v),w=aI({elementsof:e,root:t,coordinate:A,scale:l}),b=kr(v,r),B=kr(v,i),E=Eg(v,n),[S,F]=eI(Object.assign({link:a,elements:v,valueof:E,coordinate:A},qt(f.selected,"link"))),[k,T]=rI(Object.assign({document:t.ownerDocument,background:c,coordinate:A,scale:l,valueof:E},qt(f.selected,"background"))),L=Mt(f,{selected:Object.assign({},((g=f.selected)===null||g===void 0?void 0:g.offset)&&{transform:(...mt)=>{const Lt=f.selected.offset(...mt),[,Nt]=mt;return nI(v[Nt],Lt,A)}})}),P=cC(L,v),{updateState:R,removeState:U,hasState:N}=P(E);let j=!o,z=null;const W=(mt=!0)=>{for(const Lt of v)U(Lt,"selected","unselected"),F(Lt),T(Lt);mt&&u.emit("element:unselect",{nativeEvent:!0})},D=({event:mt,element:Lt,nativeEvent:Nt=!0,filter:Vt=pe=>!0,groupBy:Wt=r,groupMap:Zt=b})=>{const pe=v.filter(Vt);if(N(Lt,"selected"))W();else{const Ce=Wt(Lt),Qe=Zt.get(Ce),se=new Set(Qe);for(const me of pe)se.has(me)?R(me,"selected"):(R(me,"unselected"),F(me)),me!==Lt&&T(me);if(S(Qe),k(Lt),!Nt)return;u.emit("element:select",Object.assign(Object.assign({},mt),{nativeEvent:Nt,data:{data:[n(Lt),...Qe.map(n)]}}))}},G=({event:mt,element:Lt,nativeEvent:Nt=!0,filter:Vt=pe=>!0,groupBy:Wt=r,groupMap:Zt=b})=>{const pe=Wt(Lt),Ce=Zt.get(pe),Qe=new Set(Ce),se=v.filter(Vt);if(N(Lt,"selected")){if(!v.some(Fe=>!Qe.has(Fe)&&N(Fe,"selected")))return W();for(const Fe of Ce)R(Fe,"unselected"),F(Fe),T(Fe)}else{const me=Ce.some(Fe=>N(Fe,"selected"));for(const Fe of se)Qe.has(Fe)?R(Fe,"selected"):N(Fe,"selected")||R(Fe,"unselected");!me&&a&&S(Ce),k(Lt)}Nt&&u.emit("element:select",Object.assign(Object.assign({},mt),{nativeEvent:Nt,data:{data:v.filter(me=>N(me,"selected")).map(n)}}))},Y=mt=>{if(y.has(mt))return!0;for(const Lt of y)if(Yv(Lt,Vt=>Vt===mt))return!0;return!1},at=mt=>{if(y.has(mt))return mt;for(const Lt of y){let Nt=null;if(Yv(Lt,Vt=>{Vt===mt&&(Nt=Lt)}),Nt)return Nt}return mt},it=mt=>{const{target:Lt,nativeEvent:Nt=!0}=mt,Vt=j?G:D;let Wt=Lt;const Zt=Y(Lt);return!d||Zt?Zt?Vt({event:mt,element:at(Wt),nativeEvent:Nt,groupBy:r}):W():(Wt=w(mt),y.has(Wt)?Vt({event:mt,element:Wt,nativeEvent:Nt,filter:h,groupBy:i,groupMap:B}):W())},At=Array.isArray(s)?s:[s],ht=mt=>{At.includes(mt.code)&&!z&&(z=mt.code,j=!0)},ut=mt=>{mt.code===z&&(z=null,j=!1)};t.addEventListener("click",it),s&&(j=!1,document.addEventListener("keydown",ht),document.addEventListener("keyup",ut));const Ct=mt=>{const{nativeEvent:Lt,data:Nt}=mt;if(Lt)return;const Vt=j?Nt.data:Nt.data.slice(0,1);for(const Wt of Vt){const Zt=ib(v,Wt,n);it({target:Zt,nativeEvent:!1})}},_t=()=>{W(!1)};return u.on("element:select",Ct),u.on("element:unselect",_t),()=>{for(const mt of v)F(mt);t.removeEventListener("click",it),s&&(document.removeEventListener("keydown",ht),document.removeEventListener("keyup",ut)),u.off("element:select",Ct),u.off("element:unselect",_t)}}function Vb(t){var{createGroup:e,createRegionGroup:n,background:r=!1,link:i=!1}=t,a=ltt(t,["createGroup","createRegionGroup","background","link"]);return(o,s,A)=>{const{container:c,view:l,options:u}=o,{coordinate:f,scale:d}=l,h=SA(c);return utt(h,Object.assign({elements:wu,datum:Ff(l),groupKey:e?e(l):void 0,regionGroupKey:n?n(l):qv(l),coordinate:f,scale:d,state:Lh(u,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:A},a))}}Vb.props={reapplyWhenUpdate:!0};function O3(t){return Vb(Object.assign(Object.assign({},t),{createGroup:qv}))}O3.props={reapplyWhenUpdate:!0};function E3(t){return Vb(Object.assign(Object.assign({},t),{createGroup:qT}))}E3.props={reapplyWhenUpdate:!0};function ftt(t){const{coordinate:e={}}=t,{transform:n=[]}=e,r=n.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return n.push(i),e.transform=n,t.coordinate=e,i}function dtt({wait:t=30,leading:e,trailing:n=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,A=SA(s),c=Dh(l=>{const u=Ih(A,l);if(!u){o("fisheye"),a();return}o("fisheye",f=>{const d=Mt({},f,{interaction:{tooltip:{preserve:!0}}});for(const y of d.marks)y.animate=!1;const[h,g]=u,v=ftt(d);return v.focusX=h,v.focusY=g,v.visual=!0,d}),a()},t,{leading:e,trailing:n});return A.addEventListener("pointerenter",c),A.addEventListener("pointermove",c),A.addEventListener("pointerleave",c),()=>{A.removeEventListener("pointerenter",c),A.removeEventListener("pointermove",c),A.removeEventListener("pointerleave",c)}}}var htt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},ptt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function gtt(t){const{transform:e=[]}=t,n=e.find(i=>i.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return e.push(r),t.transform=e,r}function vtt(t,e,n){const[r]=Array.from(t.entries()).filter(([i])=>i.type===e).map(([i])=>{const{encode:a}=i,o=s=>{const A=a[s];return[s,A?A.value:void 0]};return Object.fromEntries(n.map(o))});return r}function S3(t){var{wait:e=20,leading:n,trailing:r=!1,labelFormatter:i=o=>`${o}`}=t,a=ptt(t,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:A,update:c,setState:l}=o,{markState:u,scale:f,coordinate:d}=s,h=vtt(u,"line",["x","y","series"]);if(!h)return;const{y:g,x:v,series:y=[]}=h,w=g.map((W,D)=>D),b=yc(w.map(W=>v[W])),B=SA(A),E=A.getElementsByClassName(bi),S=A.getElementsByClassName(bs),k=kr(S,W=>W.__data__.key.split("-")[0]),T=new dh({style:Object.assign({x1:0,y1:0,x2:0,y2:B.getAttribute("height"),stroke:"black",lineWidth:1},qt(a,"rule"))}),L=new yA({style:Object.assign({x:0,y:B.getAttribute("height"),text:"",fontSize:10},qt(a,"label"))});T.append(L),B.appendChild(T);const P=(W,D,G)=>{const[Y]=W.invert(G),at=D.invert(Y);return b[BK(b,at)]},R=(W,D)=>{T.setAttribute("x1",W[0]),T.setAttribute("x2",W[0]),L.setAttribute("text",i(D))};let U;const N=W=>htt(this,void 0,void 0,function*(){const{x:D}=f,G=P(d,D,W);R(W,G),l("chartIndex",at=>{const it=Mt({},at),At=it.marks.find(mt=>mt.type==="line"),ut=hr(Y2(w,mt=>hr(mt,Lt=>+g[Lt])/Ks(mt,Lt=>+g[Lt]),mt=>y[mt]).values()),Ct=[1/ut,ut];Mt(At,{scale:{y:{domain:Ct}}});const _t=gtt(At);_t.groupBy="color",_t.basis=(mt,Lt)=>{const Nt=mt[yu(Vt=>v[+Vt]).center(mt,G)];return Lt[Nt]};for(const mt of it.marks)mt.animate=!1;return it}),U=(yield c("chartIndex")).view}),j=W=>{const{scale:D,coordinate:G}=U,{x:Y,y:at}=D,it=P(G,Y,W);R(W,it);for(const At of E){const{seriesIndex:ht,key:ut}=At.__data__,Ct=ht[yu(Zt=>v[+Zt]).center(ht,it)],_t=[0,at.map(1)],mt=[0,at.map(g[Ct]/g[ht[0]])],[,Lt]=G.map(_t),[,Nt]=G.map(mt),Vt=Lt-Nt;At.setAttribute("transform",`translate(0, ${Vt})`);const Wt=k.get(ut)||[];for(const Zt of Wt)Zt.setAttribute("dy",Vt)}},z=Dh(W=>{const D=Ih(B,W);D&&j(D)},e,{leading:n,trailing:r});return N([0,0]),B.addEventListener("pointerenter",z),B.addEventListener("pointermove",z),B.addEventListener("pointerleave",z),()=>{T.remove(),B.removeEventListener("pointerenter",z),B.removeEventListener("pointermove",z),B.removeEventListener("pointerleave",z)}}}S3.props={reapplyWhenUpdate:!0};function ytt(){return(t,e,n)=>{const{container:r,view:i,options:a}=t,o=WO(r),s=wu(r),A=d=>VO(d).scales[0].name,c=d=>{const{scale:{[d]:h}}=i;return h},l=Lh(a,["active","inactive"]),u=Eg(s,Ff(i)),f=[];for(const d of o){const h=Y=>{const{data:at}=d.attributes,{__data__:it}=Y,{index:At}=it;return at[At].label},g=A(d),v=W4(d),y=c(g),w=kr(s,Y=>y.invert(Y.__data__[g])),{state:b={}}=d.attributes,{inactive:B={}}=b,{setState:E,removeState:S}=kf(l,u),F={inactive:qt(B,"marker")},k={inactive:qt(B,"label")},{setState:T,removeState:L}=kf(F),{setState:P,removeState:R}=kf(k),U=Y=>{for(const at of v){const it=G4(at),At=K4(at);at===Y||Y===null?(L(it,"inactive"),R(At,"inactive")):(T(it,"inactive"),P(At,"inactive"))}},N=(Y,at)=>{const it=h(at),At=new Set(w.get(it));for(const ut of s)At.has(ut)?E(ut,"active"):E(ut,"inactive");U(at);const{nativeEvent:ht=!0}=Y;ht&&n.emit("legend:highlight",Object.assign(Object.assign({},Y),{nativeEvent:ht,data:{channel:g,value:it}}))},j=new Map;for(const Y of v){const at=it=>{N(it,Y)};Y.addEventListener("pointerover",at),j.set(Y,at)}const z=Y=>{for(const it of s)S(it,"inactive","active");U(null);const{nativeEvent:at=!0}=Y;at&&n.emit("legend:unhighlight",{nativeEvent:at})},W=Y=>{const{nativeEvent:at,data:it}=Y;if(at)return;const{channel:At,value:ht}=it;if(At!==g)return;const ut=v.find(Ct=>h(Ct)===ht);ut&&N({nativeEvent:!1},ut)},D=Y=>{const{nativeEvent:at}=Y;at||z({nativeEvent:!1})};d.addEventListener("pointerleave",z),n.on("legend:highlight",W),n.on("legend:unhighlight",D);const G=()=>{d.removeEventListener(z),n.off("legend:highlight",W),n.off("legend:unhighlight",D);for(const[Y,at]of j)Y.removeEventListener(at)};f.push(G)}return()=>f.forEach(d=>d())}}var kA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mtt(t,e){const[n,r,i,a]=t,[o,s,A,c]=e;return!(o>i||A<n||s>a||c<r)}function wtt(t,e,n,r,i){const[a,o,s,A]=i;return[Math.max(a,Math.min(t,n)),Math.max(o,Math.min(e,r)),Math.min(s,Math.max(t,n)),Math.min(A,Math.max(e,r))]}function btt(t){const{width:e,height:n}=t.getBBox();return[0,0,e,n]}function _u(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}const M3=xg(t=>{const e=t.attributes,{x:n,y:r,width:i,height:a,class:o,renders:s={},handleSize:A=10,document:c}=e,l=kA(e,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||n===void 0||r===void 0)return;const u=A/2,f=(ht,ut,Ct)=>{ht.handle||(ht.handle=Ct.createElement("rect"),ht.append(ht.handle));const{handle:_t}=ht;return _t.attr(ut),_t},d=qt(vw(l,"handleNW","handleNE"),"handleN"),{render:h=f}=d,g=kA(d,["render"]),v=qt(l,"handleE"),{render:y=f}=v,w=kA(v,["render"]),b=qt(vw(l,"handleSE","handleSW"),"handleS"),{render:B=f}=b,E=kA(b,["render"]),S=qt(l,"handleW"),{render:F=f}=S,k=kA(S,["render"]),T=qt(l,"handleNW"),{render:L=f}=T,P=kA(T,["render"]),R=qt(l,"handleNE"),{render:U=f}=R,N=kA(R,["render"]),j=qt(l,"handleSE"),{render:z=f}=j,W=kA(j,["render"]),D=qt(l,"handleSW"),{render:G=f}=D,Y=kA(D,["render"]),at=(ht,ut)=>{const{id:Ct}=ht,_t=ut(ht,ht.attributes,c);_t.id=Ct,_t.style.draggable=!0},it=ht=>()=>{const ut=xg(Ct=>at(Ct,ht));return new ut({})},At=Ze(t).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);At.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(_u,Object.assign(Object.assign({width:i,height:a},vw(l,"handle")),{transform:void 0})),At.maybeAppend("handle-n",it(h)).style("x",u).style("y",-u).style("width",i-A).style("height",A).style("fill","transparent").call(_u,g),At.maybeAppend("handle-e",it(y)).style("x",i-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(_u,w),At.maybeAppend("handle-s",it(B)).style("x",u).style("y",a-u).style("width",i-A).style("height",A).style("fill","transparent").call(_u,E),At.maybeAppend("handle-w",it(F)).style("x",-u).style("y",u).style("width",A).style("height",a-A).style("fill","transparent").call(_u,k),At.maybeAppend("handle-nw",it(L)).style("x",-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(_u,P),At.maybeAppend("handle-ne",it(U)).style("x",i-u).style("y",-u).style("width",A).style("height",A).style("fill","transparent").call(_u,N),At.maybeAppend("handle-se",it(z)).style("x",i-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(_u,W),At.maybeAppend("handle-sw",it(G)).style("x",-u).style("y",a-u).style("width",A).style("height",A).style("fill","transparent").call(_u,Y)});function iE(t,e){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=btt(t),brushRegion:A=(_t,mt,Lt,Nt,Vt)=>[_t,mt,Lt,Nt],reverse:c=!1,fill:l="#777",fillOpacity:u="0.3",stroke:f="#fff",selectedHandles:d=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,h=kA(e,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let g=null,v=null,y=null,w=null,b=null,B=!1;const[E,S,F,k]=s;Tf(t,"crosshair"),t.style.draggable=!0;const T=(_t,mt,Lt)=>{if(a(Lt),w&&w.remove(),b&&b.remove(),g=[_t,mt],c)return L();P()},L=()=>{b=new pa({style:Object.assign(Object.assign({},h),{fill:l,fillOpacity:u,stroke:f,pointerEvents:"none"})}),w=new M3({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(b),t.appendChild(w)},P=()=>{w=new M3({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},h),{fill:l,fillOpacity:u,stroke:f,draggable:!0}),className:"mask"}),t.appendChild(w)},R=(_t=!0)=>{w&&w.remove(),b&&b.remove(),g=null,v=null,y=null,B=!1,w=null,b=null,r(_t)},U=(_t,mt,Lt=!0)=>{const[Nt,Vt,Wt,Zt]=wtt(_t[0],_t[1],mt[0],mt[1],s),[pe,Ce,Qe,se]=A(Nt,Vt,Wt,Zt,s);return c?j(pe,Ce,Qe,se):N(pe,Ce,Qe,se),n(pe,Ce,Qe,se,Lt),[pe,Ce,Qe,se]},N=(_t,mt,Lt,Nt)=>{w.style.x=_t,w.style.y=mt,w.style.width=Lt-_t,w.style.height=Nt-mt},j=(_t,mt,Lt,Nt)=>{b.style.d=`
      M${E},${S}L${F},${S}L${F},${k}L${E},${k}Z
      M${_t},${mt}L${_t},${Nt}L${Lt},${Nt}L${Lt},${mt}Z
    `,w.style.x=_t,w.style.y=mt,w.style.width=Lt-_t,w.style.height=Nt-mt},z=_t=>{const mt=(Ce,Qe,se,me,Fe)=>Ce+Qe<me?me-Qe:Ce+se>Fe?Fe-se:Ce,Lt=_t[0]-y[0],Nt=_t[1]-y[1],Vt=mt(Lt,g[0],v[0],E,F),Wt=mt(Nt,g[1],v[1],S,k),Zt=[g[0]+Vt,g[1]+Wt],pe=[v[0]+Vt,v[1]+Wt];U(Zt,pe)},W={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},D=_t=>Y(_t)||G(_t),G=_t=>{const{id:mt}=_t;return d.indexOf(mt)===-1?!1:new Set(Object.keys(W)).has(mt)},Y=_t=>_t===w.getElementById("selection"),at=_t=>{const{target:mt}=_t,[Lt,Nt]=AC(t,_t);if(!w||!D(mt)){T(Lt,Nt,_t),B=!0;return}D(mt)&&(y=[Lt,Nt])},it=_t=>{const{target:mt}=_t,Lt=AC(t,_t);if(!g)return;if(!y)return U(g,Lt);if(Y(mt))return z(Lt);const[Nt,Vt]=[Lt[0]-y[0],Lt[1]-y[1]],{id:Wt}=mt;if(W[Wt]){const[Zt,pe,Ce,Qe]=W[Wt].vector;return U([g[0]+Nt*Zt,g[1]+Vt*pe],[v[0]+Nt*Ce,v[1]+Vt*Qe])}},At=_t=>{if(y){y=null;const{x:Wt,y:Zt,width:pe,height:Ce}=w.style;g=[Wt,Zt],v=[Wt+pe,Zt+Ce],o(Wt,Zt,Wt+pe,Zt+Ce,_t);return}v=AC(t,_t);const[mt,Lt,Nt,Vt]=U(g,v);B=!1,i(mt,Lt,Nt,Vt,_t)},ht=_t=>{const{target:mt}=_t;w&&!D(mt)&&R()},ut=_t=>{const{target:mt}=_t;!w||!D(mt)||B?Tf(t,"crosshair"):Y(mt)?Tf(t,"move"):G(mt)&&Tf(t,W[mt.id].cursor)},Ct=()=>{Tf(t,"default")};return t.addEventListener("dragstart",at),t.addEventListener("drag",it),t.addEventListener("dragend",At),t.addEventListener("click",ht),t.addEventListener("pointermove",ut),t.addEventListener("pointerleave",Ct),{mask:w,move(_t,mt,Lt,Nt,Vt=!0){w||T(_t,mt,{}),g=[_t,mt],v=[Lt,Nt],U([_t,mt],[Lt,Nt],Vt)},remove(_t=!0){w&&R(_t)},destroy(){w&&R(!1),Tf(t,"default"),t.removeEventListener("dragstart",at),t.removeEventListener("drag",it),t.removeEventListener("dragend",At),t.removeEventListener("click",ht),t.removeEventListener("pointermove",ut),t.removeEventListener("pointerleave",Ct)}}}function aE(t,e,n){return e.filter(r=>{if(r===t)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===n)})}function Btt(t,e,n){return aE(t,e,n).map(r=>SA(r.container))}function xtt(t,e,n){return aE(t,e,n).map(r=>r.options)}function F3(t,e){var{elements:n,selectedHandles:r,siblings:i=it=>[],datum:a,brushRegion:o,extent:s,reverse:A,scale:c,coordinate:l,series:u=!1,key:f=it=>it,bboxOf:d=it=>{const{x:At,y:ht,width:ut,height:Ct}=it.style;return{x:At,y:ht,width:ut,height:Ct}},state:h={},emitter:g}=e,v=kA(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const y=n(t),w=i(t),b=w.flatMap(n),B=Eg(y,a),E=qt(v,"mask"),{setState:S,removeState:F}=kf(h,B),k=new Map,{width:T,height:L,x:P=0,y:R=0}=d(t),U=s||[0,0,T,L],N=()=>{for(const it of[...y,...b])F(it,"active","inactive")},j=(it,At,ht,ut)=>{var Ct;for(const mt of w)(Ct=mt.brush)===null||Ct===void 0||Ct.remove();const _t=new Set;for(const mt of y){const{min:Lt,max:Nt}=mt.getLocalBounds(),[Vt,Wt]=Lt,[Zt,pe]=Nt;mtt([Vt,Wt,Zt,pe],[it,At,ht,ut])?(S(mt,"active"),_t.add(f(mt))):S(mt,"inactive")}for(const mt of b)_t.has(f(mt))?S(mt,"active"):S(mt,"inactive")},z=()=>{for(const it of y)F(it,"inactive");for(const it of k.values())it.remove();k.clear()},W=(it,At,ht,ut)=>{const Ct=mt=>{const Lt=mt.cloneNode();return Lt.__data__=mt.__data__,mt.parentNode.appendChild(Lt),k.set(mt,Lt),Lt},_t=new Bf({style:{x:it+P,y:At+R,width:ht-it,height:ut-At}});t.appendChild(_t);for(const mt of y){const Lt=k.get(mt)||Ct(mt);Lt.style.clipPath=_t,S(mt,"inactive"),S(Lt,"active")}},D=iE(t,Object.assign(Object.assign({},E),{extent:U,brushRegion:o,reverse:A,selectedHandles:r,brushended:it=>{const At=u?z:N;it&&g.emit("brush:remove",{nativeEvent:!0}),At()},brushed:(it,At,ht,ut,Ct)=>{const _t=qw(it,At,ht,ut,c,l);Ct&&g.emit("brush:highlight",{nativeEvent:!0,data:{selection:_t}}),(u?W:j)(it,At,ht,ut)},brushcreated:(it,At,ht,ut,Ct)=>{const _t=qw(it,At,ht,ut,c,l);g.emit("brush:end",Object.assign(Object.assign({},Ct),{nativeEvent:!0,data:{selection:_t}}))},brushupdated:(it,At,ht,ut,Ct)=>{const _t=qw(it,At,ht,ut,c,l);g.emit("brush:end",Object.assign(Object.assign({},Ct),{nativeEvent:!0,data:{selection:_t}}))},brushstarted:it=>{g.emit("brush:start",it)}})),G=({nativeEvent:it,data:At})=>{if(it)return;const{selection:ht}=At,[ut,Ct,_t,mt]=CK(ht,c,l);D.move(ut,Ct,_t,mt,!1)};g.on("brush:highlight",G);const Y=({nativeEvent:it}={})=>{it||D.remove(!1)};g.on("brush:remove",Y);const at=D.destroy.bind(D);return D.destroy=()=>{g.off("brush:highlight",G),g.off("brush:remove",Y),at()},D}function Zb(t){var{facet:e,brushKey:n}=t,r=kA(t,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:A,options:c}=i,l=SA(s),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]],{scale:d,coordinate:h}=A;if(e){const v=l.getBounds(),y=v.min[0],w=v.min[1],b=v.max[0],B=v.max[1];return F3(l.parentNode.parentNode,Object.assign(Object.assign({elements:()=>XT(i,a),datum:Ff(sC(i,a).map(E=>E.view)),brushRegion:(E,S,F,k)=>[E,S,F,k],extent:[y,w,b,B],state:Lh(sC(i,a).map(E=>E.options),f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r))}const g=F3(l,Object.assign(Object.assign({elements:wu,key:v=>v.__data__.key,siblings:()=>Btt(i,a,n),datum:Ff([A,...aE(i,a,n).map(v=>v.view)]),brushRegion:(v,y,w,b)=>[v,y,w,b],extent:void 0,state:Lh([c,...xtt(i,a,n)],f),emitter:o,scale:d,coordinate:h,selectedHandles:void 0},u),r));return l.brush=g,()=>g.destroy()}}Zb.props={reapplyWhenUpdate:!0};function oE(t,e,n,r,i){const[,a,,o]=i;return[t,a,n,o]}function _tt(t){return Zb(Object.assign(Object.assign({},t),{brushRegion:oE,selectedHandles:["handle-e","handle-w"]}))}function sE(t,e,n,r,i){const[a,,o]=i;return[a,e,o,r]}function Ctt(t){return Zb(Object.assign(Object.assign({},t),{brushRegion:sE,selectedHandles:["handle-n","handle-s"]}))}var AE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ott="axis",Ett="axis-line",Stt="axis-main-group",k3="axis-hot-area";function Mtt(t){return t.getElementsByClassName(Ott)}function T3(t){return t.getElementsByClassName(Ett)[0]}function Ftt(t){return t.getElementsByClassName(Stt)[0]}function I3(t){return Ftt(t).getLocalBounds()}function ktt(t,e){var{cross:n,offsetX:r,offsetY:i}=e,a=AE(e,["cross","offsetX","offsetY"]);const o=I3(t),s=T3(t),[A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=(u-c)*2;return{brushRegion:sE,hotZone:new Bf({className:k3,style:Object.assign({width:n?d/2:d,transform:`translate(${(n?c:A-d/2).toFixed(2)}, ${l})`,height:f-l},a)}),extent:n?(h,g,v,y)=>[-1/0,g,1/0,y]:(h,g,v,y)=>[Math.floor(c-r),g,Math.ceil(u-r),y]}}function Ttt(t,e){var{offsetY:n,offsetX:r,cross:i=!1}=e,a=AE(e,["offsetY","offsetX","cross"]);const o=I3(t),s=T3(t),[,A]=s.getLocalBounds().min,[c,l]=o.min,[u,f]=o.max,d=f-l;return{brushRegion:oE,hotZone:new Bf({className:k3,style:Object.assign({width:u-c,height:i?d:d*2,transform:`translate(${c}, ${i?l:A-d})`},a)}),extent:i?(h,g,v,y)=>[h,-1/0,v,1/0]:(h,g,v,y)=>[h,Math.floor(l-n),v,Math.ceil(f-n)]}}function Itt(t,e){var{axes:n,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:A,reverse:c=!1,state:l={},emitter:u,coordinate:f}=e,d=AE(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const h=r(t),g=n(t),v=Eg(h,o),{setState:y,removeState:w}=kf(l,v),b=new Map,B=qt(d,"mask"),E=G=>Array.from(b.values()).every(([Y,at,it,At])=>G.some(([ht,ut])=>ht>=Y&&ht<=it&&ut>=at&&ut<=At)),S=g.map(G=>G.attributes.scale),F=G=>G.length>2?[G[0],G[G.length-1]]:G,k=new Map,T=()=>{k.clear();for(let G=0;G<g.length;G++){const Y=S[G],{domain:at}=Y.getOptions();k.set(G,F(at))}};T();const L=(G,Y)=>{const at=[];for(const At of h){const ht=i(At);E(ht)?(y(At,"active"),at.push(At)):y(At,"inactive")}if(k.set(G,R(at,G)),!Y)return;const it=()=>{if(!U)return Array.from(k.values());const At=[];for(const[ht,ut]of k){const Ct=S[ht],{name:_t}=Ct.getOptions();_t==="x"?At[0]=ut:At[1]=ut}return At};u.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:it()}})},P=G=>{for(const Y of h)w(Y,"active","inactive");T(),G&&u.emit("brushAxis:remove",{nativeEvent:!0})},R=(G,Y)=>{const at=S[Y],{name:it}=at.getOptions(),At=G.map(ht=>{const ut=ht.__data__;return at.invert(ut[it])});return F(Mf(at,At))},U=g.some(a)&&g.some(G=>!a(G)),N=[];for(let G=0;G<g.length;G++){const Y=g[G],at=a(Y)?Ttt:ktt,{hotZone:it,brushRegion:At,extent:ht}=at(Y,{offsetY:s,offsetX:A,cross:U,zIndex:999,fill:"transparent"});Y.parentNode.appendChild(it);const ut=iE(it,Object.assign(Object.assign({},B),{reverse:c,brushRegion:At,brushended(Ct){b.delete(Y),Array.from(b.entries()).length===0?P(Ct):L(G,Ct)},brushed(Ct,_t,mt,Lt,Nt){b.set(Y,ht(Ct,_t,mt,Lt)),L(G,Nt)}}));N.push(ut)}const j=(G={})=>{const{nativeEvent:Y}=G;Y||N.forEach(at=>at.remove(!1))},z=(G,Y,at)=>{const[it,At]=G,ht=_t=>_t.getStep?_t.getStep():0,ut=W(it,Y,at),Ct=W(At,Y,at)+ht(Y);return a(at)?[ut,-1/0,Ct,1/0]:[-1/0,ut,1/0,Ct]},W=(G,Y,at)=>{const{height:it,width:At}=f.getOptions(),ht=Y.clone();return a(at)?ht.update({range:[0,At]}):ht.update({range:[it,0]}),ht.map(G)},D=G=>{const{nativeEvent:Y}=G;if(Y)return;const{selection:at}=G.data;for(let it=0;it<N.length;it++){const At=at[it],ht=N[it],ut=g[it];if(At){const Ct=S[it];ht.move(...z(At,Ct,ut),!1)}else ht.remove(!1)}};return u.on("brushAxis:remove",j),u.on("brushAxis:highlight",D),()=>{N.forEach(G=>G.destroy()),u.off("brushAxis:remove",j),u.off("brushAxis:highlight",D)}}function Ltt(t){return(e,n,r)=>{const{container:i,view:a,options:o}=e,s=SA(i),{x:A,y:c}=s.getBBox(),{coordinate:l}=a;return Itt(i,Object.assign({elements:wu,axes:Mtt,offsetY:c,offsetX:A,points:u=>u.__data__.points,horizontal:u=>{const{startPos:[f,d],endPos:[h,g]}=u.attributes;return f!==h&&d===g},datum:Ff(a),state:Lh(o,["active",["inactive",{opacity:.5}]]),coordinate:l,emitter:r},t))}}var Qtt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},L3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Utt(t=300){let e=null;return n=>{const{timeStamp:r}=n;return e!==null&&r-e<t?(e=r,!0):(e=r,!1)}}function Ptt(t,e){var{filter:n,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:A,coordinate:c,selection:l,series:u=!1}=e,f=L3(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=qt(f,"mask"),{width:h,height:g}=t.getBBox(),v=a||[0,0,h,g],y=Utt(),w=iE(t,Object.assign(Object.assign({},d),{extent:v,brushRegion:i,reverse:o,brushcreated:b}));t.addEventListener("click",B);function b(S,F,k,T,L){S===k&&F===T||(L.nativeEvent=!0,n(l(S,F,k,T),L),w.remove())}function B(S){y(S)&&(S.nativeEvent=!0,r(S))}const E=({nativeEvent:S,data:F})=>{if(S)return;const{selection:k}=F;n(k,{nativeEvent:!1})};return s.on("brush:filter",E),()=>{w.destroy(),s.off("brush:filter",E),t.removeEventListener("click",B)}}function cE(t){var{hideX:e=!0,hideY:n=!0}=t,r=L3(t,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:A,options:c,update:l,setState:u}=i,f=SA(s),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let h=!1,g=!1,v=A;const{scale:y,coordinate:w}=A;return Ptt(f,Object.assign(Object.assign({brushRegion:(b,B,E,S)=>[b,B,E,S],selection:(b,B,E,S)=>{const{scale:F,coordinate:k}=v;return qw(b,B,E,S,F,k)},filter:(b,B)=>Qtt(this,void 0,void 0,function*(){if(g)return;g=!0;const[E,S]=b;u("brushFilter",k=>{const{marks:T}=k,L=T.map(P=>Mt({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},P,{scale:{x:{domain:E,nice:!1},y:{domain:S,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:L,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},B),{data:{selection:[E,S]}})),v=(yield l()).view,g=!1,h=!0}),reset:b=>{if(g||!h)return;const{scale:B}=A,{x:E,y:S}=B,F=E.getOptions().domain,k=S.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},b),{data:{selection:[F,k]}})),h=!1,v=A,u("brushFilter"),l()},extent:void 0,emitter:o,scale:y,coordinate:w},d),r))}}function Rtt(t){return cE(Object.assign(Object.assign({hideX:!0},t),{brushRegion:oE}))}function Ntt(t){return cE(Object.assign(Object.assign({hideY:!0},t),{brushRegion:sE}))}function Q3(t,e,n){const r=t?n:e,i=t?e:n,a=mu(r),o=mu(i),s=i.getOptions().domain,A=!o&&s&&s.length>=2&&s[0]===0;return{currentScale:r,targetScale:i,isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:A}}function Dtt(t,e,n,r,i){const a=t?r:n,o=d=>{const h={};return Object.keys(i).forEach(g=>{(g===d||g.match(new RegExp(`^${d}\\d+$`)))&&(h[g]=i[g])}),h},s=o(t?"x":"y"),A=Object.keys(s),c=A.map(d=>e[d]),l=mu(a),u=c.map(d=>mu(d)),f=c.map((d,h)=>{const g=d.getOptions().domain;return!u[h]&&g&&g.length>=2&&g[0]===0});return{currentScale:a,targetScales:c,isSourceDiscrete:l,isTargetDiscrete:u,shouldPreserveZeroBaseline:f,targetScaleKeys:A}}function Htt(t){return Array.from(new Set(t)).sort((n,r)=>n-r)}function jtt({isTargetDiscrete:t,filteredValues:e,shouldPreserveZeroBaseline:n}){if(t)return Htt(e);{const r=Math.min(...e),i=Math.max(...e);return n?[0,i]:[r,i]}}function Fy(t){return t instanceof Date?t.getTime():typeof t=="string"?parseFloat(t):Number(t)}function lE(t,e,n,r,i,a="filter",o=!1){if(oI(a))return[];const s=o?"y":"x",A=o?"x":"y",c=[];for(const l of t){const{channelData:u}=l,f=u[s]||[],d=u[A]||[],h=Array.isArray(f[0])?f[0]:f,g=Array.isArray(d[0]);if(h.length===0)continue;const v=h.length;for(let y=0;y<v;y++){const w=h[y];let b=!1;if(n)b=e.includes(w);else if(e.length>=2){const B=Fy(w),E=Fy(e[0]),S=Fy(e[e.length-1]);!isNaN(B)&&!isNaN(E)&&!isNaN(S)&&(b=B>=E&&B<=S)}if(a==="filter"&&b){if(g){const B=d.length;for(let E=0;E<B;E++){const S=d[E];if(Array.isArray(S)&&y<S.length){const F=S[y],k=Fy(F);isNaN(k)||c.push(k)}}}else if(y<d.length){const B=d[y],E=Fy(B);isNaN(E)||c.push(E)}}}}return c.length>0?jtt({isTargetDiscrete:r,filteredValues:c,shouldPreserveZeroBaseline:i}):[]}function Gtt({markDataPairs:t,domain:e,scaleInfo:n,adaptiveMode:r,shouldFilterXAxis:i=!1}){const{isSourceDiscrete:a,isTargetDiscrete:o,shouldPreserveZeroBaseline:s}=n;return lE(t,e,a,o,s,r,i)}function Ktt({markDataPairs:t,domain:e,scaleInfo:n,markToScaleMap:r,adaptiveMode:i,shouldFilterXAxis:a=!1}){const o=new Map,{isSourceDiscrete:s,isTargetDiscrete:A,shouldPreserveZeroBaseline:c,targetScaleKeys:l}=n;return t.forEach(u=>{const f=r.get(u.markKey);if(!f)return;const d=l.indexOf(f);if(d===-1)return;const h=A[d],g=c[d],v=lE([u],e,s,h,g,i,a);o.set(f,v)}),o}function ztt(t,e,n,r,i,a,o=!1,s){const A=new Map;if(t.length===0||e.length===0)return A;const{isSourceDiscrete:c,isTargetDiscrete:l,shouldPreserveZeroBaseline:u}=n,f=s?t.filter(h=>s.get(h.markKey)===i):t.filter(h=>h.markKey===r);if(f.length===0)return A;const d=lE(f,e,c,l,u,a,o);return A.set(i,d),A}function U3(t,e,n,r){r&&e instanceof Map?e.forEach((i,a)=>{i&&Array.isArray(i)&&i.length>0&&(t[a]=i)}):!r&&Array.isArray(e)&&e.length>0&&(t[n?"x":"y"]=e)}var Wtt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};const P3="slider";function R3(t){var e,n,r,i;if(!(t!=null&&t.markState))return 0;let a=0;for(const[o,s]of t.markState.entries()){if(o.type!=="point"||!(s!=null&&s.channels))continue;const A=(e=s.channels)===null||e===void 0?void 0:e.find(c=>c.name==="size");if(A){if(((r=(n=A.scale)===null||n===void 0?void 0:n.range)===null||r===void 0?void 0:r.length)>0){const c=Math.max(...A.scale.range.filter(l=>typeof l=="number"));a=Math.max(a,c);continue}if(((i=A.values)===null||i===void 0?void 0:i.length)>0){const c=A.values.filter(l=>l.value!==void 0).flatMap(l=>Array.isArray(l.value)?l.value:[l.value]).filter(l=>typeof l=="number"&&!isNaN(l));c.length>0&&(a=Math.max(a,...c))}}}return a}function N3(t,e,n,r,i,a,o){if(o){const s=a?r:i.x,A=a?i.y:r;t.emit(e,Object.assign(Object.assign({},n),{nativeEvent:o,data:{selection:[Yb(s),Yb(A)]}}))}}function D3(t,e,n,r){const{domain0:i,filteredDomain:a,channel0:o,channel1:s,prefix:A,hasState:c,isMultiAxis:l,markToScaleMap:u,enableAdaptiveFiltering:f}=r;l&&a instanceof Map?t(e,d=>Object.assign({},Ztt(d,n,{[o]:{domain:i,nice:!1}},A,c,o,s,u||new Map,a))):t(e,d=>Object.assign({},Vtt(d,n,Object.assign({[o]:{domain:i,nice:!1}},f&&Array.isArray(a)?{[s]:{domain:a,nice:!0}}:{}),A,c,o,s)))}function Vtt(t,e,n,r,i=!1,a="x",o="y"){const{marks:s}=t,A=R3(e),c=s.map(l=>{var u,f;return Mt({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:n,[r]:Object.assign(Object.assign({},((u=l[r])===null||u===void 0?void 0:u[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((f=l[r])===null||f===void 0?void 0:f[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:c,insetLeft:A,insetRight:A,insetTop:A,insetBottom:A,clip:!0,animate:!1})}function Ztt(t,e,n,r,i=!1,a="x",o="y",s=new Map,A=new Map){const{marks:c}=t,l=R3(e),u=c.map(f=>{var d,h;const g=typeof(f==null?void 0:f.key)=="string"?f.key:String((f==null?void 0:f.key)||""),v=s.get(g),y=A.get(v),w=y&&{y:Object.assign({domain:y,nice:!0},v!=="y"?{independent:!0}:void 0)};return Mt({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},f,{scale:Object.assign(Object.assign({},n),w),[r]:Object.assign(Object.assign({},((d=f[r])===null||d===void 0?void 0:d[a])&&{[a]:Object.assign({preserve:!0},i&&{ratio:null})}),((h=f[r])===null||h===void 0?void 0:h[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:u,insetLeft:l,insetRight:l,insetTop:l,insetBottom:l,clip:!0,animate:!1})}function Ytt(t,e,n){const[r,i]=t,a=n?A=>1-A:A=>A,o=Cg(e,a(r),!0),s=Cg(e,a(i),!1);return Mf(e,[o,s])}function Yb(t){return[t[0],t[t.length-1]]}function H3({initDomain:t={},className:e=P3,prefix:n="slider",setValue:r=(l,u)=>l.setValues(u),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,adaptiveMode:A="filter",getInitValues:c=l=>{var u;const f=(u=l==null?void 0:l.attributes)===null||u===void 0?void 0:u.values;if(f[0]!==0||f[1]!==1)return f}}){return(l,u,f)=>{const{container:d,view:h,update:g,setState:v}=l,y=d.getElementsByClassName(e);if(!y.length)return()=>{};let w=!1;const{scale:b,coordinate:B}=h,{x:E,y:S}=b,F=Hr(B),k=D=>{const G=D==="vertical"?"y":"x",Y=D==="vertical"?"x":"y";return F?[Y,G]:[G,Y]},T=new Map,L=new Set,P=AI(h),R=KK(h,t,E,S,P),U=Array.from(y),N=D=>U.some(G=>{const{orientation:Y}=G.attributes,[at]=k(Y);return at===D}),j=N("x")&&!N("y"),z=N("y")&&!N("x"),W=!oI(A)&&(j||z);for(const D of y){const{orientation:G}=D.attributes,[Y,at]=k(G),it=`${n}${Cf(Y)}:filter`,At=Y==="x",{ratio:ht}=E.getOptions(),{ratio:ut}=S.getOptions(),Ct=Wt=>{if(Wt.data){const{selection:se}=Wt.data,[me=Yb(R.x),Fe=Yb(R.y)]=se;return At?[Mf(E,me,ht),Mf(S,Fe,ut)]:[Mf(S,Fe,ut),Mf(E,me,ht)]}const{value:Zt}=Wt.detail,pe=b[Y],Ce=Ytt(Zt,pe,F&&G==="horizontal"),Qe=R[at];return[Ce,Qe]};let _t=!1;const Lt=Jtt({getFiltering:()=>_t,setFiltering:Wt=>{_t=Wt,Wt||(w=!1)},domainsOf:Ct,view:h,independentScaleInfo:P,enableAdaptiveFiltering:W,hasOnlyXSlider:j,hasOnlyYSlider:z,adaptiveMode:A,scaleX:E,scaleY:S,scale:b,channelDomain:R,channel0:Y,channel1:at,isX:At,emitter:f,eventName:it,setState:v,slider:D,prefix:n,hasState:i,update:g,wait:a,leading:o,trailing:s}),Nt=Wt=>{const{nativeEvent:Zt}=Wt;if(Zt)return;const{data:pe}=Wt,{selection:Ce}=pe,[Qe,se]=Ce;D.dispatchEvent(new or("valuechange",{data:pe,nativeEvent:!1}));const me=At?VT(Qe,E):VT(se,S);r(D,me)};f.on(it,Nt),D.addEventListener("valuechange",Lt),T.set(D,Lt),L.add([it,Nt]);const Vt=c(D);Vt&&D.dispatchEvent(new or("valuechange",{detail:{value:Vt},nativeEvent:!1,initValue:!0}))}return()=>{for(const[D,G]of T)D.removeEventListener("valuechange",G);for(const[D,G]of L)f.off(D,G)}}}function $tt({view:t,domain0:e,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,scale:A,channelDomain:c,independentScaleInfo:l,channel0:u}){const f=new Map,d=new Map;if(!r||i.length===0||!(e!=null&&e.length))return{filteredDomain:f,markToScaleMap:d};const h=nn(t,"options.slider");if(Object.keys(h).length>0&&Object.prototype.hasOwnProperty.call(h,u)){const v=Dtt(n,A,o,s,c);(n?l.markToXScaleMap:l.markToYScaleMap).forEach((b,B)=>{d.set(B,b)});const w=Ktt({markDataPairs:i,domain:e,scaleInfo:v,markToScaleMap:d,adaptiveMode:a,isViewSlider:!0,shouldFilterXAxis:n});return U3(c,w,n,!0),{filteredDomain:w,markToScaleMap:d}}else{const v=Xtt(t,u);if(v){const y=Q3(n,o,s),w=n?l.markToXScaleMap:l.markToYScaleMap,b=w.get(v)||"";if(b)return d.set(v,b),{filteredDomain:ztt(i,e,y,v,b,a,n,w),markToScaleMap:d}}}return{filteredDomain:f,markToScaleMap:d}}function Xtt(t,e){for(const[n]of t.markState.entries()){const r=nn(n,"slider");if(Object.keys(r||{}).length>0&&Object.prototype.hasOwnProperty.call(r,e))return String(n.key||"")}return null}function qtt({domain0:t,domain1:e,shouldFilterXAxis:n,enableAdaptiveFiltering:r,markDataPairs:i,adaptiveMode:a,scaleX:o,scaleY:s,channelDomain:A,hasOnlyXSlider:c,hasOnlyYSlider:l,isX:u}){let f=e;if(r&&i.length>0&&(c&&u||l&&!u)&&(t==null?void 0:t.length)>0){const d=Q3(n,o,s);f=Gtt({markDataPairs:i,domain:t,scaleInfo:d,adaptiveMode:a,shouldFilterXAxis:n}),U3(A,f,n,!1)}return f}function Jtt({getFiltering:t,setFiltering:e,domainsOf:n,view:r,independentScaleInfo:i,enableAdaptiveFiltering:a,hasOnlyXSlider:o,hasOnlyYSlider:s,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,channel0:d,channel1:h,isX:g,emitter:v,eventName:y,setState:w,slider:b,prefix:B,hasState:E,update:S,wait:F,leading:k,trailing:T}){return Dh(L=>Wtt(this,void 0,void 0,function*(){const{initValue:P=!1}=L;if(t()&&!P)return;e(!0);const{nativeEvent:R=!0}=L,{markDataPairs:U}=GK(r);if(i[`hasIndependent${h.toUpperCase()}`]){const[j]=n(L),z=s&&!g,{filteredDomain:W,markToScaleMap:D}=$tt({view:r,domain0:j,shouldFilterXAxis:z,enableAdaptiveFiltering:a&&(o&&g||s&&!g),markDataPairs:U,adaptiveMode:A,scaleX:c,scaleY:l,scale:u,channelDomain:f,independentScaleInfo:i,channel0:d});f[d]=j,N3(v,y,L,j,f,g,R),D3(w,b,r,{domain0:j,filteredDomain:W,channel0:d,channel1:h,prefix:B,hasState:E,isMultiAxis:!0,markToScaleMap:D,enableAdaptiveFiltering:a})}else{const[j,z]=n(L),D=qtt({domain0:j,domain1:z,shouldFilterXAxis:s&&!g,enableAdaptiveFiltering:a,markDataPairs:U,adaptiveMode:A,scaleX:c,scaleY:l,channelDomain:f,hasOnlyXSlider:o,hasOnlyYSlider:s,isX:g});f[d]=j,N3(v,y,L,j,f,g,R),D3(w,b,r,{domain0:j,filteredDomain:D,channel0:d,channel1:h,prefix:B,hasState:E,isMultiAxis:!1,markToScaleMap:void 0,enableAdaptiveFiltering:a})}yield S(),e(!1)}),F,{leading:k,trailing:T})}function tet(t){var e;try{const n=(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView;if(!n||typeof n.getContextService!="function")return null;const r=n.getContextService().getDomElement();return r instanceof HTMLElement?r:null}catch(n){return null}}function j3({className:t=P3,setValue:e=(o,s)=>o.setValues(s),minRange:n=.01,wheelSensitivity:r=.05,x:i=!0,y:a=!0}={}){return o=>{const{container:s,view:A}=o,{coordinate:c}=A,l=Hr(c),u=tet(s),f=Math.max(1e-6,Math.min(1,n)),d=s.getElementsByClassName(t);if(!d.length)return()=>{};const h=(w,b)=>w===!0?!0:w===!1?!1:w==="shift"?b.shiftKey&&!b.ctrlKey&&!b.altKey:w==="ctrl"?b.ctrlKey&&!b.shiftKey&&!b.altKey:w==="alt"?b.altKey&&!b.shiftKey&&!b.ctrlKey:!1,g=(w,b)=>{e(w,b),w.dispatchEvent(new or("valuechange",{detail:{value:b},nativeEvent:!0}))},v=(w,b,B,E,S)=>{const k=(w-b)/B,T=Math.max(0,Math.min(1,k));return Math.max(E,Math.min(S,T))},y=w=>{if(!u)return;const b=w.target;if(!u.contains(b))return;const B=u.getBoundingClientRect(),E=w.clientX-B.left,S=w.clientY-B.top,F=[];for(const k of d){const{values:T,orientation:L}=k.attributes;if(!T)continue;const P=L==="horizontal";h((l?P?"y":"x":P?"x":"y")==="x"?i:a,w)&&F.push(k)}if(F.length!==0){w.preventDefault(),w.stopPropagation();for(const k of F){const{values:T,orientation:L,x:P,y:R,trackLength:U}=k.attributes,[N,j]=T,z=j-N,D=L==="horizontal"?v(E,P,U,N,j):v(S,R,U,N,j),G=r*jK(z),at=1+w.deltaY*G,it=Math.max(f,Math.min(1,z*at)),At=(D-N)/z,ht=(j-D)/z;let ut=D-it*At,Ct=D+it*ht;ut<0?(ut=0,Ct=Math.min(1,it)):Ct>1&&(Ct=1,ut=Math.max(0,1-it)),g(k,[ut,Ct])}}};return u&&u.addEventListener("wheel",y,{passive:!1,capture:!0}),()=>{u&&u.removeEventListener("wheel",y,{capture:!0})}}}j3.props={reapplyWhenUpdate:!0};const G3=`${du}scrollbar`;function eet(t={}){return(e,n,r)=>{const{view:i,container:a}=e;if(!a.getElementsByClassName(G3).length)return()=>{};const{scale:s}=i,{x:A,y:c}=s,l={x:[...A.getOptions().domain],y:[...c.getOptions().domain]};return A.update({domain:A.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),H3(Object.assign({initDomain:l,className:G3,prefix:"scrollbar",hasState:!0,setValue:(f,d)=>f.setValue(d[0]),getInitValues:f=>{const d=f.slider.attributes.values;if(d[0]!==0||d[1]!==1)return d},adaptiveMode:!1},t))(e,n,r)}}var net=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ret(t,e,n){return`<${t} style="${Object.entries(n).map(([r,i])=>`${ZG(r)}:${i}`).join(";")}">${e}</${t}>`}const iet={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function K3(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function z3(t){var{offsetX:e=8,offsetY:n=8}=t,r=net(t,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,A=qt(r,"tip"),c=new Set,l=f=>{const{target:d}=f;if(!K3(d)){f.stopPropagation();return}const{offsetX:h,offsetY:g}=f,v=h+e-o,y=g+n-s;if(d.tip){d.tip.style.x=v,d.tip.style.y=y;return}const{text:w}=d.style,b=new fh({className:"poptip",style:{innerHTML:ret("div",w,Object.assign(Object.assign({},iet),A)),x:v,y}});a.appendChild(b),d.tip=b,c.add(b)},u=f=>{const{target:d}=f;if(!K3(d)){f.stopPropagation();return}d.tip&&(d.tip.remove(),d.tip=null,c.delete(d.tip))};return a.addEventListener("pointerover",l),a.addEventListener("pointerout",u),()=>{a.removeEventListener("pointerover",l),a.removeEventListener("pointerout",u),c.forEach(f=>f.remove())}}}z3.props={reapplyWhenUpdate:!0};function aet(t,e){var n=xb(e),r=n.length;if(be(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var oet=aet;function set(t,e){if(!Sr(t))return null;var n;if(hi(e)&&(n=e),lu(e)&&(n=function(i){return oet(i,e)}),n){for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r]}return null}var Gg=set;function $b(t){return t==null?null:W3(t)}function W3(t){if(typeof t!="function")throw new Error;return t}var Aet={depth:-1},V3={},uE={};function cet(t){return t.id}function uet(t){return t.parentId}function fE(){var t=cet,e=uet,n;function r(i){var a=Array.from(i),o=t,s=e,A,c,l,u,f,d,h,g,v=new Map;if(n!=null){var y=a.map(function(k,T){return fet(n(k,T,i))}),w=y.map(Z3),b=new Set(y).add(""),B=UC(w),E;try{for(B.s();!(E=B.n()).done;){var S=E.value;b.has(S)||(b.add(S),y.push(S),w.push(Z3(S)),a.push(uE))}}catch(k){B.e(k)}finally{B.f()}o=function(T,L){return y[L]},s=function(T,L){return w[L]}}for(l=0,A=a.length;l<A;++l)c=a[l],d=a[l]=new Ug(c),(h=o(c,l,i))!=null&&(h+="")&&(g=d.id=h,v.set(g,v.has(g)?V3:d)),(h=s(c,l,i))!=null&&(h+="")&&(d.parent=h);for(l=0;l<A;++l)if(d=a[l],h=d.parent){if(f=v.get(h),!f)throw new Error("missing: "+h);if(f===V3)throw new Error("ambiguous: "+h);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(u)throw new Error("multiple roots");u=d}if(!u)throw new Error("no root");if(n!=null){for(;u.data===uE&&u.children.length===1;)u=u.children[0],--A;for(var F=a.length-1;F>=0&&(d=a[F],d.data===uE);--F)d.data=null}if(u.parent=Aet,u.eachBefore(function(k){k.depth=k.parent.depth+1,--A}).eachBefore(dQ),u.parent=null,A>0)throw new Error("cycle");return u}return r.id=function(i){return arguments.length?(t=$b(i),r):t},r.parentId=function(i){return arguments.length?(e=$b(i),r):e},r.path=function(i){return arguments.length?(n=$b(i),r):n},r}function fet(t){t="".concat(t);var e=t.length;return dE(t,e-1)&&!dE(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:"/".concat(t)}function Z3(t){var e=t.length;if(e<2)return"";for(;--e>1&&!dE(t,e););return t.slice(0,e)}function dE(t,e){if(t[e]==="/"){for(var n=0;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function det(t,e,n,r,i){var a=t.children,o,s=a.length,A,c=new Array(s+1);for(c[0]=A=o=0;o<s;++o)c[o+1]=A+=a[o].value;l(0,s,t.value,e,n,r,i);function l(u,f,d,h,g,v,y){if(u>=f-1){var w=a[u];w.x0=h,w.y0=g,w.x1=v,w.y1=y;return}for(var b=c[u],B=d/2+b,E=u+1,S=f-1;E<S;){var F=E+S>>>1;c[F]<B?E=F+1:S=F}B-c[E-1]<c[E]-B&&u+1<E&&--E;var k=c[E]-b,T=d-k;if(v-h>y-g){var L=d?(h*T+v*k)/d:v;l(u,E,k,h,g,L,y),l(E,f,T,L,g,v,y)}else{var P=d?(g*T+y*k)/d:y;l(u,E,k,h,g,v,P),l(E,f,T,h,P,v,y)}}}function Xb(t,e,n,r,i){for(var a=t.children,o,s=-1,A=a.length,c=t.value&&(i-n)/t.value;++s<A;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}function het(t,e,n,r,i){(t.depth&1?Xb:cy)(t,e,n,r,i)}var Y3=(1+Math.sqrt(5))/2;function $3(t,e,n,r,i,a){for(var o=[],s=e.children,A,c,l=0,u=0,f=s.length,d,h,g=e.value,v,y,w,b,B,E,S;l<f;){d=i-n,h=a-r;do v=s[u++].value;while(!v&&u<f);for(y=w=v,E=Math.max(h/d,d/h)/(g*t),S=v*v*E,B=Math.max(w/S,S/y);u<f;++u){if(v+=c=s[u].value,c<y&&(y=c),c>w&&(w=c),S=v*v*E,b=Math.max(w/S,S/y),b>B){v-=c;break}B=b}o.push(A={value:v,dice:d<h,children:s.slice(l,u)}),A.dice?cy(A,n,r,i,g?r+=h*v/g:a):Xb(A,n,r,g?n+=d*v/g:i,a),g-=v,l=u}return o}var X3=function t(e){function n(r,i,a,o,s){$3(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Y3),pet=function t(e){function n(r,i,a,o,s){if((A=r._squarify)&&A.ratio===e)for(var A,c,l,u,f=-1,d,h=A.length,g=r.value;++f<h;){for(c=A[f],l=c.children,u=c.value=0,d=l.length;u<d;++u)c.value+=l[u].value;c.dice?cy(c,i,a,o,g?a+=(s-a)*c.value/g:s):Xb(c,i,a,g?i+=(o-i)*c.value/g:o,s),g-=c.value}else r._squarify=A=$3(e,r,i,a,o,s),A.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Y3);function Wh(){return 0}function Kg(t){return function(){return t}}function get(){var t=X3,e=!1,n=1,r=1,i=[0],a=Wh,o=Wh,s=Wh,A=Wh,c=Wh;function l(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(u),i=[0],e&&f.eachBefore(lQ),f}function u(f){var d=i[f.depth],h=f.x0+d,g=f.y0+d,v=f.x1-d,y=f.y1-d;v<h&&(h=v=(h+v)/2),y<g&&(g=y=(g+y)/2),f.x0=h,f.y0=g,f.x1=v,f.y1=y,f.children&&(d=i[f.depth+1]=a(f)/2,h+=c(f)-d,g+=o(f)-d,v-=s(f)-d,y-=A(f)-d,v<h&&(h=v=(h+v)/2),y<g&&(g=y=(g+y)/2),t(f,h,g,v,y))}return l.round=function(f){return arguments.length?(e=!!f,l):e},l.size=function(f){return arguments.length?(n=+f[0],r=+f[1],l):[n,r]},l.tile=function(f){return arguments.length?(t=W3(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Kg(+f),l):a},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Kg(+f),l):o},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Kg(+f),l):s},l.paddingBottom=function(f){return arguments.length?(A=typeof f=="function"?f:Kg(+f),l):A},l.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:Kg(+f),l):c},l}function vet(t,e){return Array.isArray(t)?typeof e=="function"?fE().path(e)(t):fE()(t):Qg(t)}function q3(t,e=[t.data.name]){t.id=t.id||t.data.name,t.path=e,t.children&&t.children.forEach(n=>{n.id=`${t.id}/${n.data.name}`,n.path=[...e,n.data.name],q3(n,n.path)})}function J3(t){const e=nn(t,["data","name"]);e.replaceAll&&(t.path=e.replaceAll(".","/").split("/")),t.children&&t.children.forEach(n=>{J3(n)})}function yet(t,e){const n={treemapBinary:det,treemapDice:cy,treemapSlice:Xb,treemapSliceDice:het,treemapSquarify:X3,treemapResquarify:pet},r=t==="treemapSquarify"?n[t].ratio(e):n[t];if(!r)throw new TypeError("Invalid tile method!");return r}function tR(t,e,n){const{value:r}=n,i=yet(e.tile,e.ratio),a=vet(t,e.path);Sr(t)?J3(a):q3(a),r?a.sum(A=>e.ignoreParentValue&&A.children?0:fl(r)(A)).sort(e.sort):a.count(),get().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(a);const o=a.descendants().map(A=>Object.assign(A,{id:A.id.replace(/^\//,""),x:[A.x0,A.x1],y:[A.y0,A.y1]}));return[o.filter(typeof e.layer=="function"?e.layer:A=>A.height===e.layer),o]}var met=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},wet=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function bet(t){return Ze(t).select(`.${wa}`).node()}const Bet={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function xet(t={}){const{originData:e=[],layout:n}=t,r=wet(t,["originData","layout"]),i=Mt({},Bet,r),a=qt(i,"breadCrumb"),o=qt(i,"active");return s=>{const{update:A,setState:c,container:l,options:u}=s,f=bet(l),d=u.marks[0],{state:h}=d,g=new ka;f.appendChild(g);const v=(S,F)=>met(this,void 0,void 0,function*(){if(g.removeChildren(),F){let k="",T=a.y,L=0;const P=[],R=f.getBBox().width,U=S.map((N,j)=>{k=`${k}${N}/`,P.push(N);const z=new yA({name:k.replace(/\/$/,""),style:Object.assign(Object.assign({text:N,x:L,path:[...P],depth:j},a),{y:T})});g.appendChild(z),L+=z.getBBox().width;const W=new yA({style:Object.assign(Object.assign({x:L,text:" / "},a),{y:T})});return g.appendChild(W),L+=W.getBBox().width,L>R&&(T=g.getBBox().height+a.y,L=0,z.attr({x:L,y:T}),L+=z.getBBox().width,W.attr({x:L,y:T}),L+=W.getBBox().width),j===Dv(S)-1&&W.remove(),z});U.forEach((N,j)=>{if(j===Dv(U)-1)return;const z=Object.assign({},N.attributes);N.attr("cursor","pointer"),N.addEventListener("mouseenter",()=>{N.attr(o)}),N.addEventListener("mouseleave",()=>{N.attr(z)}),N.addEventListener("click",()=>{v(nn(N,["style","path"]),nn(N,["style","depth"]))})})}iJ(l,c),c("treemapDrillDown",k=>{const{marks:T}=k,L=S.join("/"),P=T.map(R=>{if(R.type!=="rect")return R;let U=e;if(F){const j=e.filter(Y=>{const at=nn(Y,["id"]);return at&&(at.match(`${L}/`)||L.match(at))}).map(Y=>({value:Y.height===0?nn(Y,["value"]):void 0,name:nn(Y,["id"])})),{paddingLeft:z,paddingBottom:W,paddingRight:D}=n,G=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||g.getBBox().height+10)/(F+1),paddingLeft:z/(F+1),paddingBottom:W/(F+1),paddingRight:D/(F+1),path:Y=>Y.name,layer:Y=>Y.depth===F+1});U=tR(j,G,{value:"value"})[0]}else U=e.filter(j=>j.depth===1);const N=[];return U.forEach(({path:j})=>{N.push(Gs(j))}),Mt({},R,{data:U,scale:{color:{domain:N}}})});return Object.assign(Object.assign({},k),{marks:P})}),yield A(void 0,["legendFilter"])}),y=S=>S.attributes.key.split("-")[0],w=S=>nn(S,["__data__","key"]),b=S=>{const F=S.target,{markType:k,nodeName:T,attributes:L}=F||{};if(k!=="rect"&&T!==St.TEXT)return;const P=T===St.TEXT&&nn(L,"isTreemapLabel")===!0?y(F):w(F),R=Gg(e,U=>U.id===P);nn(R,"height")&&v(nn(R,"path"),nn(R,"depth"))};f.addEventListener("click",b);const B=xb(Object.assign(Object.assign({},h.active),h.inactive)),E=()=>{iI(f).forEach(F=>{const k=nn(F,["style","cursor"]),T=Gg(e,L=>L.id===nn(F,["__data__","key"]));if(k!=="pointer"&&(T!=null&&T.height)){F.style.cursor="pointer";const L=Ay(F.attributes,B);F.addEventListener("mouseenter",()=>{F.attr(h.active)}),F.addEventListener("mouseleave",()=>{F.attr(Mt(L,h.inactive))})}})};return E(),f.addEventListener("mousemove",E),()=>{g.remove(),f.removeEventListener("click",b),f.removeEventListener("mousemove",E)}}}var _et=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Cet(t,e={}){const{valueField:n="value",sort:r,fillParent:i=!0,nameField:a="name"}=e;if(!t||t.length===0)return[];const o=(c,l=null,u=0)=>{const f={data:c,depth:u,parent:l,children:[],x0:0,x1:0,value:c[n]||0};return c.children&&c.children.length>0&&(f.children=c.children.map(d=>o(d,f,u+1))),f},s=[];let A=0;return t.forEach(c=>{const l=o(c),u=(h,g=0,v=!1,y=0)=>{if(v||h.depth===0)h.x0=v?g:0,h.x1=h.x0+h.value;else if(h.x0=g,i&&y>0){const E=h.parent?h.parent.children.reduce((k,T)=>k+T.value,0):h.value,S=h.parent?h.parent.children.length:1,F=E>0?h.value/E:1/S;h.x1=g+y*F}else h.x1=g+h.value;let w=h.x0;const b=h.x1-h.x0,B=r?[...h.children].sort((E,S)=>r(E.data,S.data)):h.children;if(i&&B.length>0){const E=h.children.reduce((S,F)=>S+F.value,0);B.forEach(S=>{u(S,w,!1,b);const F=E>0?S.value/E:1/B.length;w+=b*F})}else B.forEach(E=>{u(E,w,!1,0),w+=E.x1-E.x0})};u(l,A,!0),A+=l.value;const f=h=>{var g,v,y;const w=E=>{var S;return(S=E[a])!==null&&S!==void 0?S:E.name},b=[w(h.data)];let B=h;for(;B.parent;)b.unshift(w(B.parent.data)),B=B.parent;return Object.assign(Object.assign({},Ay(h.data,[n])),{[eR]:b,[pE]:(y=(v=(g=B.parent)===null||g===void 0?void 0:g.data)===null||v===void 0?void 0:v[a])!==null&&y!==void 0?y:h.data[a],name:h.data[a],depth:h.depth,value:h.value,x:[h.x0,h.x1],y:[h.depth,h.depth+1],[qb]:h.children.length})},d=h=>{s.push(f(h)),h.children.forEach(d)};d(l)}),s}const zg="partition",hE="markType",eR="path",pE="ancestor-node",qb="childNodeCount";function Oet(t){const{data:e,encode:n,fillParent:r,sort:i}=t,{color:a,value:o,name:s}=n;return Cet(e,{valueField:o,fillParent:r,nameField:s,sort:i}).map(c=>{const l=Object.assign({},c);return a&&a!==pE&&(l[a]=c[a]),l})}const nR={id:zg,encode:{x:"x",y:"y",key:eR,color:pE,value:"value",name:"name"},labels:[{style:{pointerEvents:"none"},text:"value",position:"inside",transform:[{type:"overflowHide"}]}],axis:{x:{title:"Time/Order",label:!0},y:!1},style:{[hE]:zg,[qb]:"childNodeCount"},state:{active:{zIndex:2},inactive:{zIndex:1}},legend:!1,coordinate:{type:"cartesian",grid:!1},interaction:{drillDown:!0}},rR=t=>{const{encode:e,data:n=[],layout:r={}}=t,i=_et(t,["encode","data","layout"]),{fillParent:a=!0,sort:o}=r,s=Object.assign(Object.assign({},nR.encode),e),{value:A}=s,c=Oet({encode:s,data:n,fillParent:a,sort:o});return[Mt({},nR,Object.assign({type:"rect",data:c,encode:s,tooltip:{title:"path",items:[l=>({name:A,value:l[A]})]},interaction:{elementHighlight:!0}},i))]};rR.props={};var Eet=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};const Met=t=>t.querySelectorAll(".element").filter(e=>(e.style||{})[hE]===zg);function Fet(t){return Ze(t).select(`.${wa}`).node()}const ket={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.6)",fontSize:11},y:4,active:{fill:"rgba(0, 0, 0, 0.4)"}};function Tet(t={}){const{breadCrumb:e={}}=t,n=Mt({},ket,e);return r=>{const{update:i,setState:a,container:o,view:s,options:A}=r,c=o.ownerDocument,l=Fet(o),u=A.marks.find(({id:w})=>w===zg);if(!u)return;const{state:f}=u,d=c.createElement("g");d.style.transform=`translate(${n.x||0}px, ${n.y||0}px)`,d.setAttribute("x","drilldown-breadcrumb"),l.appendChild(d);const h=w=>Eet(this,void 0,void 0,function*(){if(d.removeChildren(),w&&w.length>0){const b=c.createElement("text",{style:Object.assign({text:n.rootText},n.style)});d.appendChild(b);let B="";const E=w;let S=n.style.y,F=b.getBBox().width;const k=l.getBBox().width,T=E.map((P,R)=>{const U=c.createElement("text",{style:Object.assign(Object.assign({x:F,text:" / "},n.style),{y:S})});d.appendChild(U),F+=U.getBBox().width,B=`${B}${P} / `;const N=c.createElement("text",{name:B.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:P,x:F},n.style),{y:S})});return d.appendChild(N),F+=N.getBBox().width,F>k&&(S=d.getBBox().height,F=0,U.attr({x:F,y:S}),F+=U.getBBox().width,N.attr({x:F,y:S}),F+=N.getBBox().width),N});[b,...T].forEach((P,R)=>{if(R===T.length)return;const U=Object.assign({},P.attributes);P.attr("cursor","pointer"),P.addEventListener("mouseenter",()=>{P.attr(n.active)}),P.addEventListener("mouseleave",()=>{P.attr(U)}),P.addEventListener("click",()=>{h(w.slice(0,R))})})}a("drillDown",b=>{const{marks:B}=b,E=B.map(S=>{if(S.id!==zg&&S.type!=="rect")return S;const{data:F}=S,k=F.filter(T=>{var L;const P=(L=T.path)!==null&&L!==void 0?L:[];if(w.length===0)return!0;if(!Array.isArray(P)||P.length<w.length)return!1;for(let R=0;R<w.length;R++)if(P[R]!==w[R])return!1;return!0});return Mt({},S,{data:k})});return Object.assign(Object.assign({},b),{marks:E})}),yield i()}),g=w=>{var b,B;const E=w.target,S=E.markType,F=E.style||{},k=F[hE],T=F[qb],L=E.__data__;if(S!=="rect"||k!==zg||!T)return;const P=(B=(b=L==null?void 0:L.data)===null||b===void 0?void 0:b.path)!==null&&B!==void 0?B:[];h(P)};l.addEventListener("click",g);const v=xb(Object.assign(Object.assign({},f.active),f.inactive)),y=()=>{Met(l).forEach(b=>{const B=nn(b,["style",qb]);if(nn(b,["style","cursor"])!=="pointer"&&B){b.style.cursor="pointer";const S=Ay(b.attributes,v);b.addEventListener("mouseenter",()=>{b.attr(f.active)}),b.addEventListener("mouseleave",()=>{b.attr(Mt(S,f.inactive))})}})};return l.addEventListener("mousemove",y),()=>{d.remove(),l.removeEventListener("click",g),l.removeEventListener("mousemove",y)}}}var gE=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},Iet=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Let={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},vE="movePoint",iR=t=>{const e=t.target,{markType:n}=e;n==="line"&&(e.attr("_lineWidth",e.attr("lineWidth")||1),e.attr("lineWidth",e.attr("_lineWidth")+3)),n==="interval"&&(e.attr("_opacity",e.attr("opacity")||1),e.attr("opacity",.7*e.attr("_opacity")))},aR=t=>{const e=t.target,{markType:n}=e;n==="line"&&e.attr("lineWidth",e.attr("_lineWidth")),n==="interval"&&e.attr("opacity",e.attr("_opacity"))},Qet=(t,e,n)=>e.map(r=>["x","color"].reduce((a,o)=>{const s=n[o];return s&&r[s]!==t[s]?!1:a},!0)?Object.assign(Object.assign({},r),t):r),Uet=t=>{const e=nn(t,["__data__","y"]),r=nn(t,["__data__","y1"])-e,{__data__:{data:i,encode:a,transform:o},childNodes:s}=t.parentNode,A=Gg(o,({type:u})=>u==="normalizeY"),c=nn(a,["y","field"]),l=i[s.indexOf(t)][c];return(u,f=!1)=>A||f?u/(1-u)/(r/(1-r))*l:u},Pet=(t,e)=>{const n=nn(t,["__data__","seriesItems",e,"0","value"]),r=nn(t,["__data__","seriesIndex",e]),{__data__:{data:i,encode:a,transform:o}}=t.parentNode,s=Gg(o,({type:l})=>l==="normalizeY"),A=nn(a,["y","field"]),c=i[r][A];return l=>s?n===1?l:l/(1-l)/(n/(1-n))*c:l},oR=(t,e,n)=>{t.forEach((r,i)=>{r.attr("stroke",e[1]===i?n.activeStroke:n.stroke)})},sR=(t,e,n,r)=>{const i=new pa({style:n}),a=new yA({style:r});return e.appendChild(a),t.appendChild(i),[i,a]},AR=(t,e)=>{if(!nn(t,["options","range","indexOf"]))return;const r=t.options.range.indexOf(e);return t.sortedDomain[r]},yE=(t,e,n)=>{const r=ab(t,e),a=ab(t,n)/r,o=t[0]+(e[0]-t[0])*a,s=t[1]+(e[1]-t[1])*a;return[o,s]};function Ret(t={}){const{selection:e=[],precision:n=2}=t,r=Iet(t,["selection","precision"]),i=Object.assign(Object.assign({},Let),r||{}),a=qt(i,"path"),o=qt(i,"label"),s=qt(i,"point");return(A,c,l)=>{const{update:u,setState:f,container:d,view:h,options:{marks:g,coordinate:v}}=A,y=SA(d);let w=iI(y),b,B=e;const{transform:E=[],type:S}=v,F=!!Gg(E,({type:D})=>D==="transpose"),k=S==="polar",T=S==="theta",L=!!Gg(w,({markType:D})=>D==="area");L&&(w=w.filter(({markType:D})=>D==="area"));const P=new ka({style:{zIndex:2}});y.appendChild(P);const R=()=>{l.emit("element-point:select",{nativeEvent:!0,data:{selection:B}})},U=(D,G)=>{l.emit("element-point:moved",{nativeEvent:!0,data:{changeData:D,data:G}})},N=D=>{const G=D.target;B=[G.parentNode.childNodes.indexOf(G)],R(),z(G)},j=D=>{const{data:{selection:G},nativeEvent:Y}=D;if(Y)return;B=G;const at=nn(w,[B==null?void 0:B[0]]);at&&z(at)},z=D=>{const{attributes:G,markType:Y,__data__:at}=D,{stroke:it}=G,{points:At,seriesTitle:ht,color:ut,title:Ct,seriesX:_t,y1:mt}=at;if(F&&Y!=="interval")return;const{scale:Lt,coordinate:Nt}=(b==null?void 0:b.view)||h,{color:Vt,y:Wt,x:Zt}=Lt,pe=Nt.getCenter();P.removeChildren();let Ce;const Qe=(se,me,Fe,Jn)=>gE(this,void 0,void 0,function*(){return f("elementPointMove",tr=>{var Sn;const jr=(((Sn=b==null?void 0:b.options)===null||Sn===void 0?void 0:Sn.marks)||g).map(Lr=>{if(!Jn.includes(Lr.type))return Lr;const{data:_r,encode:Nn}=Lr,Zr=Object.keys(Nn).reduce((pn,ur)=>{const wi=Nn[ur];return ur==="x"&&(pn[wi]=se),ur==="y"&&(pn[wi]=me),ur==="color"&&(pn[wi]=Fe),pn},{}),lr=Qet(Zr,_r,Nn);return U(Zr,lr),Mt({},Lr,{data:lr,animate:!1})});return Object.assign(Object.assign({},tr),{marks:jr})}),yield u("elementPointMove")});if(["line","area"].includes(Y))At.forEach((se,me)=>{const Fe=Zt.invert(_t[me]);if(!Fe)return;const Jn=new Xc({name:vE,style:Object.assign({cx:se[0],cy:se[1],fill:it},s)}),tr=Pet(D,me);Jn.addEventListener("mousedown",Sn=>{const jr=Nt.output([_t[me],0]),Lr=ht==null?void 0:ht.length;d.attr("cursor","move"),B[1]!==me&&(B[1]=me,R()),oR(P.childNodes,B,s);const[_r,Nn]=sR(P,Jn,a,o),Qr=lr=>{const pn=se[1]+lr.clientY-Ce[1];if(L)if(k){const ur=se[0]+lr.clientX-Ce[0],[wi,ko]=yE(pe,jr,[ur,pn]),[,vl]=Nt.output([1,Wt.output(0)]),[,Xf]=Nt.invert([wi,vl-(At[me+Lr][1]-ko)]),$h=(me+1)%Lr,zB=(me-1+Lr)%Lr,GS=Jv([At[zB],[wi,ko],ht[$h]&&At[$h]]);Nn.attr("text",tr(Wt.invert(Xf)).toFixed(n)),_r.attr("d",GS),Jn.attr("cx",wi),Jn.attr("cy",ko)}else{const[,ur]=Nt.output([1,Wt.output(0)]),[,wi]=Nt.invert([se[0],ur-(At[me+Lr][1]-pn)]),ko=Jv([At[me-1],[se[0],pn],ht[me+1]&&At[me+1]]);Nn.attr("text",tr(Wt.invert(wi)).toFixed(n)),_r.attr("d",ko),Jn.attr("cy",pn)}else{const[,ur]=Nt.invert([se[0],pn]),wi=Jv([At[me-1],[se[0],pn],At[me+1]]);Nn.attr("text",Wt.invert(ur).toFixed(n)),_r.attr("d",wi),Jn.attr("cy",pn)}};Ce=[Sn.clientX,Sn.clientY],window.addEventListener("mousemove",Qr);const Zr=()=>gE(this,void 0,void 0,function*(){if(d.attr("cursor","default"),window.removeEventListener("mousemove",Qr),d.removeEventListener("mouseup",Zr),_n(Nn.attr("text")))return;const lr=Number(Nn.attr("text")),pn=AR(Vt,ut);b=yield Qe(Fe,lr,pn,["line","area"]),Nn.remove(),_r.remove(),z(D)});d.addEventListener("mouseup",Zr)}),P.appendChild(Jn)}),oR(P.childNodes,B,s);else if(Y==="interval"){let se=[(At[0][0]+At[1][0])/2,At[0][1]];F?se=[At[0][0],(At[0][1]+At[1][1])/2]:T&&(se=At[0]);const me=Uet(D),Fe=new Xc({name:vE,style:Object.assign(Object.assign({cx:se[0],cy:se[1],fill:it},s),{stroke:s.activeStroke})});Fe.addEventListener("mousedown",Jn=>{d.attr("cursor","move");const tr=AR(Vt,ut),[Sn,jr]=sR(P,Fe,a,o),Lr=Nn=>{if(F){const Qr=se[0]+Nn.clientX-Ce[0],[Zr]=Nt.output([Wt.output(0),Wt.output(0)]),[,lr]=Nt.invert([Zr+(Qr-At[2][0]),se[1]]),pn=Jv([[Qr,At[0][1]],[Qr,At[1][1]],At[2],At[3]],!0);jr.attr("text",me(Wt.invert(lr)).toFixed(n)),Sn.attr("d",pn),Fe.attr("cx",Qr)}else if(T){const Qr=se[1]+Nn.clientY-Ce[1],Zr=se[0]+Nn.clientX-Ce[0],[lr,pn]=yE(pe,[Zr,Qr],se),[ur,wi]=yE(pe,[Zr,Qr],At[1]),ko=Nt.invert([lr,pn])[1],vl=mt-ko;if(vl<0)return;const Xf=HK(pe,[[lr,pn],[ur,wi],At[2],At[3]],vl>.5?1:0);jr.attr("text",me(vl,!0).toFixed(n)),Sn.attr("d",Xf),Fe.attr("cx",lr),Fe.attr("cy",pn)}else{const Qr=se[1]+Nn.clientY-Ce[1],[,Zr]=Nt.output([1,Wt.output(0)]),[,lr]=Nt.invert([se[0],Zr-(At[2][1]-Qr)]),pn=Jv([[At[0][0],Qr],[At[1][0],Qr],At[2],At[3]],!0);jr.attr("text",me(Wt.invert(lr)).toFixed(n)),Sn.attr("d",pn),Fe.attr("cy",Qr)}};Ce=[Jn.clientX,Jn.clientY],window.addEventListener("mousemove",Lr);const _r=()=>gE(this,void 0,void 0,function*(){if(d.attr("cursor","default"),d.removeEventListener("mouseup",_r),window.removeEventListener("mousemove",Lr),_n(jr.attr("text")))return;const Nn=Number(jr.attr("text"));b=yield Qe(Ct,Nn,tr,[Y]),jr.remove(),Sn.remove(),z(D)});d.addEventListener("mouseup",_r)}),P.appendChild(Fe)}};w.forEach((D,G)=>{B[0]===G&&z(D),D.addEventListener("click",N),D.addEventListener("mouseenter",iR),D.addEventListener("mouseleave",aR)});const W=D=>{const G=D==null?void 0:D.target;(!G||G.name!==vE&&!w.includes(G))&&(B=[],R(),P.removeChildren())};return l.on("element-point:select",j),l.on("element-point:unselect",W),d.addEventListener("mousedown",W),()=>{P.remove(),l.off("element-point:select",j),l.off("element-point:unselect",W),d.removeEventListener("mousedown",W),w.forEach(D=>{D.removeEventListener("click",N),D.removeEventListener("mouseenter",iR),D.removeEventListener("mouseleave",aR)})}}}var Net=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const cR=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:n=0,y:r=0,width:i,height:a,data:o}=t;return e.map(s=>{var{data:A,x:c,y:l,width:u,height:f}=s,d=Net(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},d),{data:zw(A,o),x:c!=null?c:n,y:l!=null?l:r,width:u!=null?u:i,height:f!=null?f:a})})};cR.props={};var Det=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lR=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:n="row",ratio:r=e.map(()=>1),padding:i=0,data:a}=t,[o,s,A,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],l=r.reduce((g,v)=>g+v),u=t[s]-i*(e.length-1),f=r.map(g=>u*(g/l)),d=[];let h=t[o]||0;for(let g=0;g<f.length;g+=1){const v=e[g],{data:y}=v,w=Det(v,["data"]),b=zw(y,a);d.push(Object.assign({[o]:h,[s]:f[g],[c]:t[c]||0,[A]:t[A],data:b},w)),h+=f[g]+i}return d};lR.props={};class ky{constructor(e){this.$value=e}static of(e){return new ky(e)}call(e,...n){return this.$value=e(this.$value,...n),this}value(){return this.$value}}var Het=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jet=jv(t=>{const{encode:e,data:n,scale:r,shareSize:i=!1}=t,{x:a,y:o}=e,s=(A,c)=>{var l;if(A===void 0||!i)return{};const u=kr(n,h=>h[A]),f=((l=r==null?void 0:r[c])===null||l===void 0?void 0:l.domain)||Array.from(u.keys()),d=f.map(h=>u.has(h)?u.get(h).length:1);return{domain:f,flex:d}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),mE=Eh(t=>{const{data:e,scale:n,legend:r}=t,i=[t];let a,o,s;for(;i.length;){const f=i.shift(),{children:d,encode:h={},scale:g={},legend:v={}}=f,{color:y}=h,{color:w}=g,{color:b}=v;y!==void 0&&(a=y),w!==void 0&&(o=w),b!==void 0&&(s=b),Array.isArray(d)&&i.push(...d)}const A=()=>{var f;const d=(f=n==null?void 0:n.color)===null||f===void 0?void 0:f.domain;if(d!==void 0)return[d];if(a===void 0)return[void 0];const h=typeof a=="function"?a:v=>v[a],g=e.map(h);return g.some(v=>typeof v=="number")?[gu(g)]:[Array.from(new Set(g)),"ordinal"]},c=typeof a=="string"?a:"",[l,u]=A();return Object.assign({encode:{color:{type:"column",value:l!=null?l:[]}},scale:{color:Mt({},o,{domain:l,type:u})}},r===void 0&&{legend:{color:Mt({title:c},s)}})}),wE=jv(()=>({animate:{enterType:"fadeIn"}})),bE=Eh(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),BE=Eh(()=>({type:"cell"})),uR=Eh(t=>{const{data:e}=t;return{data:{type:"inline",value:e,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=t,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(l=>l[a]))):[],A=o?Array.from(new Set(r.map(l=>l[o]))):[];return(()=>{if(s.length&&A.length){const l=[];for(const u of s)for(const f of A)l.push({[a]:u,[o]:f});return l}if(s.length)return s.map(l=>({[a]:l}));if(A.length)return A.map(l=>({[o]:l}))})()}}]}}}),fR=Eh((t,e=Get,n=Ket,r=zet,i={})=>{const{data:a,encode:o,children:s,scale:A,x:c=0,y:l=0,shareData:u=!1,key:f}=t,{value:d}=a,{x:h,y:g}=o,{color:v}=A,{domain:y}=v;return{children:(b,B,E)=>{const{x:S,y:F}=B,{paddingLeft:k,paddingTop:T,marginLeft:L,marginTop:P}=E,{domain:R}=S.getOptions(),{domain:U}=F.getOptions(),N=yh(b),j=b.map(e),z=b.map(({x:it,y:At})=>[S.invert(it),F.invert(At)]),D=z.map(([it,At])=>ht=>{const{[h]:ut,[g]:Ct}=ht;return(h!==void 0?ut===it:!0)&&(g!==void 0?Ct===At:!0)}).map(it=>d.filter(it)),G=u?hr(D,it=>it.length):void 0,Y=z.map(([it,At])=>({columnField:h,columnIndex:R.indexOf(it),columnValue:it,columnValuesLength:R.length,rowField:g,rowIndex:U.indexOf(At),rowValue:At,rowValuesLength:U.length})),at=Y.map(it=>Array.isArray(s)?s:[s(it)].flat(1));return N.flatMap(it=>{const[At,ht,ut,Ct]=j[it],_t=Y[it],mt=D[it];return at[it].map(Nt=>{var Vt,Wt,{scale:Zt,key:pe,facet:Ce=!0,axis:Qe={},legend:se={}}=Nt,me=Het(Nt,["scale","key","facet","axis","legend"]);const Fe=((Vt=Zt==null?void 0:Zt.y)===null||Vt===void 0?void 0:Vt.guide)||Qe.y,Jn=((Wt=Zt==null?void 0:Zt.x)===null||Wt===void 0?void 0:Wt.guide)||Qe.x,tr={x:{tickCount:h?5:void 0},y:{tickCount:g?5:void 0}},Sn=Ce?mt:mt.length===0?[]:d,jr={color:{domain:y}},Lr={x:dR(Jn,n)(_t,Sn),y:dR(Fe,r)(_t,Sn)};return Object.assign(Object.assign({key:`${pe}-${it}`,data:Sn,margin:0,x:At+k+c+L,y:ht+T+l+P,parentKey:f,width:ut,height:Ct,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Sn.length,dataDomain:G,scale:Mt(tr,Zt,jr),axis:Mt({},Qe,Lr),legend:!1},me),i)})})}}});function Get(t){const{points:e}=t;return W_(e)}function Jb(t,e){return e.length?Mt({title:!1,tick:null,label:null},t):Mt({title:!1,tick:null,label:null,grid:null},t)}function Ket(t){return(e,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=e;if(r!==i-1)return Jb(t,n);const s=a!==o-1?!1:void 0,A=n.length?void 0:null;return Mt({title:s,grid:A},t)}}function zet(t){return(e,n)=>{const{rowIndex:r,columnIndex:i}=e;if(i!==0)return Jb(t,n);const a=r!==0?!1:void 0,o=n.length?void 0:null;return Mt({title:a,grid:o},t)}}function dR(t,e){return typeof t=="function"?t:t===null||t===!1?()=>null:e(t)}const hR=()=>t=>[ky.of(t).call(BE).call(mE).call(wE).call(jet).call(bE).call(uR).call(fR).value()];hR.props={};var xE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Wet=jv(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Vet=Eh(t=>{const{data:e,children:n,x:r=0,y:i=0,key:a}=t;return{children:(s,A,c)=>{const{x:l,y:u}=A,{paddingLeft:f,paddingTop:d,marginLeft:h,marginTop:g}=c,{domain:v}=l.getOptions(),{domain:y}=u.getOptions(),w=yh(s),b=s.map(({points:F})=>W_(F)),B=s.map(({x:F,y:k})=>[l.invert(F),u.invert(k)]),E=B.map(([F,k])=>({columnField:F,columnIndex:v.indexOf(F),columnValue:F,columnValuesLength:v.length,rowField:k,rowIndex:y.indexOf(k),rowValue:k,rowValuesLength:y.length})),S=E.map(F=>Array.isArray(n)?n:[n(F)].flat(1));return w.flatMap(F=>{const[k,T,L,P]=b[F],[R,U]=B[F],N=E[F];return S[F].map(z=>{var W,D;const{scale:G,key:Y,encode:at,axis:it,interaction:At}=z,ht=xE(z,["scale","key","encode","axis","interaction"]),ut=(W=G==null?void 0:G.y)===null||W===void 0?void 0:W.guide,Ct=(D=G==null?void 0:G.x)===null||D===void 0?void 0:D.guide,_t={x:{facet:!1},y:{facet:!1}},mt={x:Yet(Ct)(N,e),y:$et(ut)(N,e)},Lt={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:a,key:`${Y}-${F}`,x:k+f+r+h,y:T+d+i+g,width:L,height:P,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Mt(_t,G),axis:Mt(Lt,it,mt),legend:!1,encode:Mt({},at,{x:R,y:U}),interaction:Mt({},At,{legendFilter:!1})},ht)})})}}}),Zet=Eh(t=>{const{encode:e}=t,n=xE(t,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=e,o=xE(e,["position","x","y"]),s=[];for(const A of[i].flat(1))for(const c of[a].flat(1))s.push({$x:A,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function Yet(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{rowIndex:r,rowValuesLength:i}=e;if(r!==i-1)return Jb(t,n)}}function $et(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{columnIndex:r}=e;if(r!==0)return Jb(t,n)}}const Xet=()=>t=>[ky.of(t).call(BE).call(mE).call(Vet).call(Zet).call(wE).call(bE).call(Wet).value()];var qet=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Jet=jv(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),tnt=jv(t=>({coordinate:{type:"polar"}})),ent=t=>{const{encode:e}=t,n=qet(t,["encode"]),{position:r}=e;return Object.assign(Object.assign({},n),{encode:{x:r}})};function pR(t){return e=>null}function nnt(t){const{points:e}=t,[n,r,i,a]=e,o=mi(n,a),s=ki(n,a),A=ki(r,i),c=BT(s,A),l=1/Math.sin(c/2),u=o/(1+l),f=u*Math.sqrt(2),[d,h]=i,v=Bg(s)+c/2,y=u*l,w=d+y*Math.sin(v),b=h-y*Math.cos(v);return[w-f/2,b-f/2,f,f]}const rnt=()=>t=>[ky.of(t).call(BE).call(ent).call(mE).call(tnt).call(uR).call(fR,nnt,pR,pR,{frame:!1}).call(wE).call(bE).call(Jet).value()];function int(t,e,n){const i=n,a=[0,i],o=[-i+1,1];if(t==="normal")return a;if(t==="reverse")return o;if(t==="alternate")return e%2===0?a:o;if(t==="reverse-alternate")return e%2===0?o:a}function ant(t,e,n){const r=[t];for(;r.length;){const i=r.pop();i.animate=Mt({enter:{duration:e},update:{duration:e,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return t}const gR=()=>t=>{const{children:e=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=t,o=e.length;if(!Array.isArray(e)||o===0)return[];const{key:s}=e[0],A=e.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>ant(c,n,a));return function*(){let c=0,l;for(;r==="infinite"||c<r;){const[u,f]=int(i,c,o);for(let d=u;d<f;d+=1){const h=Math.abs(d);l!==h&&(yield A[h]),l=h}c++}}};gR.props={};function Gf(t,e,n){const{encode:r}=n;if(t===null)return[e];const i=ont(t).map(o=>{var s;return[o,(s=Hn(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>Tr(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(kr(e,a).values())}function vR(t){return Array.isArray(t)?cnt(t):typeof t=="function"?Ant(t):t==="series"?snt:t==="value"?lnt:t==="sum"?unt:t==="maxIndex"?fnt:null}function yR(t,e){for(const n of t)n.sort(e)}function mR(t,e){return(e==null?void 0:e.domain)||Array.from(new Set(t))}function ont(t){return Array.isArray(t)?t:[t]}function snt(t,e,n){return Ty(r=>n[r])}function Ant(t){return(e,n,r)=>Ty(i=>t(e[i]))}function cnt(t){return(e,n,r)=>(i,a)=>t.reduce((o,s)=>o!==0?o:Ti(e[i][s],e[a][s]),0)}function lnt(t,e,n){return Ty(r=>e[r])}function unt(t,e,n){const r=yh(t),i=Array.from(kr(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((A,c)=>A+ +e[c])]));return Ty(o=>a.get(n[o]))}function fnt(t,e,n){const r=yh(t),i=Array.from(kr(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,_g(s,A=>e[A])]));return Ty(o=>a.get(n[o]))}function Ty(t){return(e,n)=>Ti(t(e),t(n))}const wR=(t={})=>{const{groupBy:e="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=t;return(s,A)=>{var c;const{data:l,encode:u,style:f={}}=A,[d,h]=Hn(u,"y"),[g,v]=Hn(u,"y1"),[y]=o?Cb(u,"series","color"):Hn(u,"color"),w=Gf(e,s,A),B=((c=vR(n))!==null&&c!==void 0?c:()=>null)(l,d,y);B&&yR(w,B);const E=new Array(s.length),S=new Array(s.length),F=new Array(s.length),k=[],T=[];for(const j of w){r&&j.reverse();const z=g?+g[j[0]]:0,W=[],D=[];for(const ut of j){const Ct=F[ut]=+d[ut]-z;Ct<0?D.push(ut):Ct>=0&&W.push(ut)}const G=W.length>0?W:D,Y=D.length>0?D:W;let at=W.length-1,it=0;for(;at>0&&d[G[at]]===0;)at--;for(;it<Y.length-1&&d[Y[it]]===0;)it++;k.push(G[at]),T.push(Y[it]);let At=z;for(const ut of D.reverse()){const Ct=F[ut];At=E[ut]=(S[ut]=At)+Ct}let ht=z;for(const ut of W){const Ct=F[ut];Ct>0?ht=E[ut]=(S[ut]=ht)+Ct:E[ut]=S[ut]=ht}}const L=new Set(k),P=new Set(T),R=i==="y"?E:S,U=a==="y"?E:S;let N;return A.type==="point"?N={y0:uy(d,h),y:Ir(R,h)}:N={y0:uy(d,h),y:Ir(R,h),y1:Ir(U,v)},[s,Mt({},A,{encode:Object.assign({},N),style:Object.assign({first:(j,z)=>L.has(z),last:(j,z)=>P.has(z)},f)})]}};wR.props={};function bR(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function dnt(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function BR(t,e){const n=dnt(t,e);return n&&Math.sqrt(n)}function hnt(t,e,n){const r=bR(t),i=BR(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}var xR=Array.prototype,pnt=xR.slice,Eut=xR.map;function _E(t){return()=>t}const gnt=Math.sqrt(50),vnt=Math.sqrt(10),ynt=Math.sqrt(2);function tB(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=gnt?10:a>=vnt?5:a>=ynt?2:1;let s,A,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),A=Math.round(e*c),s/c<t&&++s,A/c>e&&--A,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),A=Math.round(e/c),s*c<t&&++s,A*c>e&&--A),A<s&&.5<=n&&n<2?tB(t,e,n*2):[s,A,c]}function mnt(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?tB(e,t,n):tB(t,e,n);if(!(a>=i))return[];const s=a-i+1,A=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)A[c]=(a-c)/-o;else for(let c=0;c<s;++c)A[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)A[c]=(i+c)/-o;else for(let c=0;c<s;++c)A[c]=(i+c)*o;return A}function Iy(t,e,n){return e=+e,t=+t,n=+n,tB(t,e,n)[2]}function Sut(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Iy(e,t,n):Iy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function wnt(t,e,n){let r;for(;;){const i=Iy(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function bnt(t){return Math.max(1,Math.ceil(Math.log(bR(t))/Math.LN2)+1)}function Bnt(){var t=Ov,e=gu,n=bnt;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,A,c=new Array(o);for(a=0;a<o;++a)c[a]=t(i[a],a,i);var l=e(c),u=l[0],f=l[1],d=n(c,u,f);if(!Array.isArray(d)){const b=f,B=+d;if(e===gu&&([u,f]=wnt(u,f,B)),d=mnt(u,f,B),d[0]<=u&&(A=Iy(u,f,B)),d[d.length-1]>=f)if(b>=f&&e===gu){const E=Iy(u,f,B);isFinite(E)&&(E>0?f=(Math.floor(f/E)+1)*E:E<0&&(f=(Math.ceil(f*-E)+1)/-E))}else d.pop()}for(var h=d.length,g=0,v=h;d[g]<=u;)++g;for(;d[v-1]>f;)--v;(g||v<h)&&(d=d.slice(g,v),h=v-g);var y=new Array(h+1),w;for(a=0;a<=h;++a)w=y[a]=[],w.x0=a>0?d[a-1]:u,w.x1=a<h?d[a]:f;if(isFinite(A)){if(A>0)for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&y[Math.min(h,Math.floor((s-u)/A))].push(i[a]);else if(A<0){for(a=0;a<o;++a)if((s=c[a])!=null&&u<=s&&s<=f){const b=Math.floor((u-s)*A);y[Math.min(h,b+(d[b]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&u<=s&&s<=f&&y[xK(d,s,0,h)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:_E(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:_E([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:_E(Array.isArray(i)?pnt.call(i):i),r):n},r}function CE(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Wv:RT(i);r>n;){if(r-n>600){const A=r-n+1,c=e-n+1,l=Math.log(A),u=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*u*(A-u)/A)*(c-A/2<0?-1:1),d=Math.max(n,Math.floor(e-c*u/A+f)),h=Math.min(r,Math.floor(e+(A-c)*u/A+f));CE(t,e,d,h,i)}const a=t[e];let o=n,s=r;for(Ly(t,n,e),i(t[r],a)>0&&Ly(t,n,r);o<s;){for(Ly(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Ly(t,n,s):(++s,Ly(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ly(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xnt(t,e=Ti){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Ti(o,i)>0:Ti(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function eB(t,e,n){if(t=Float64Array.from(mK(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ks(t);if(e>=1)return hr(t);var r,i=(r-1)*e,a=Math.floor(i),o=hr(CE(t,a).subarray(0,a+1)),s=Ks(t.subarray(a+1));return o+(s-o)*(i-a)}}function Mut(t,e,n=number){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function _nt(t,e,n=nC){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,A)=>nC(n(t[A],A,t))),e<=0)return oy(r);if(e>=1)return _g(r);var r,i=Uint32Array.from(t,(s,A)=>A),a=r.length-1,o=Math.floor(a*e);return CE(i,o,0,a,(s,A)=>Wv(r[s],r[A])),o=xnt(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function OE(t,e){return eB(t,.5,e)}function Cnt(t,e){return _nt(t,.5,e)}var Ont=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Kf(t){return e=>e===null?t:`${t} of ${e}`}function Ent(t){if(typeof t=="function")return[t,null];const n={mean:Snt,max:Fnt,count:Tnt,first:Lnt,last:Qnt,sum:Int,min:knt,median:Mnt}[t];if(!n)throw new Error(`Unknown reducer: ${t}.`);return n()}function Snt(){const t=(n,r)=>sy(n,i=>+r[i]),e=Kf("mean");return[t,e]}function Mnt(){const t=(n,r)=>OE(n,i=>+r[i]),e=Kf("median");return[t,e]}function Fnt(){const t=(n,r)=>hr(n,i=>+r[i]),e=Kf("max");return[t,e]}function knt(){const t=(n,r)=>Ks(n,i=>+r[i]),e=Kf("min");return[t,e]}function Tnt(){const t=(n,r)=>n.length,e=Kf("count");return[t,e]}function Int(){const t=(n,r)=>xA(n,i=>+r[i]),e=Kf("sum");return[t,e]}function Lnt(){const t=(n,r)=>r[n[0]],e=Kf("first");return[t,e]}function Qnt(){const t=(n,r)=>r[n[n.length-1]],e=Kf("last");return[t,e]}const EE=(t={})=>{const{groupBy:e}=t,n=Ont(t,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=e(r,i);if(!s)return[r,i];const A=(d,h)=>{if(d)return d;const{from:g}=h;if(!g)return d;const[,v]=Hn(o,g);return v},c=Object.entries(n).map(([d,h])=>{const[g,v]=Ent(h),[y,w]=Hn(o,d),b=A(w,h),B=s.map(E=>g(E,y!=null?y:a));return[d,Object.assign(Object.assign({},u$(B,(v==null?void 0:v(b))||b)),{aggregate:!0})]}),l=Object.keys(o).map(d=>{const[h,g]=Hn(o,d),v=s.map(y=>h[y[0]]);return[d,Ir(v,g)]}),u=s.map(d=>a[d[0]]);return[yh(s),Mt({},i,{data:u,encode:Object.fromEntries([...l,...c])})]}};EE.props={};var Unt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _R="thresholds";function Pnt(t){const[e,n]=gu(t);return Math.min(200,hnt(t,e,n))}const SE=(t={})=>{const{groupChannels:e=["color"],binChannels:n=["x","y"]}=t,r=Unt(t,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:A}=s,c=n.map(h=>{const[g]=Hn(A,h);return g}),l=qt(r,_R),u=o.filter(h=>c.every(g=>Tr(g[h]))),f=[...e.map(h=>{const[g]=Hn(A,h);return g}).filter(Tr).map(h=>g=>h[g]),...n.map((h,g)=>{const v=c[g],y=l[h]||Pnt(v),w=Bnt().thresholds(y).value(B=>+v[B])(u),b=new Map(w.flatMap(B=>{const{x0:E,x1:S}=B,F=`${E},${S}`;return B.map(k=>[k,F])}));return i[h]=b,B=>b.get(B)})],d=h=>f.map(g=>g(h)).join("-");return Array.from(kr(u,d).values())};return EE(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(_R)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+i[o].get(c).split(",")[0],A=([c])=>+i[o].get(c).split(",")[1];return A.from=o,[[o,s],[`${o}1`,A]]}))),{groupBy:a}))};SE.props={};const CR=(t={})=>{const{thresholds:e}=t;return SE(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};CR.props={};var Rnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const OR=(t={})=>{const{groupBy:e="x",reverse:n=!1,orderBy:r,padding:i}=t,a=Rnt(t,["groupBy","reverse","orderBy","padding"]);return(o,s)=>{const{data:A,encode:c,scale:l}=s,{series:u}=l,[f]=Hn(c,"y"),[d]=Cb(c,"series","color"),h=mR(d,u),g=Mt({},s,{scale:{series:{domain:h,paddingInner:i}}}),v=Gf(e,o,s),y=vR(r);if(!y)return[o,Mt(g,{encode:{series:Ir(d)}})];const w=y(A,f,d);w&&yR(v,w);const b=new Array(o.length);for(const B of v){n&&B.reverse();for(let E=0;E<B.length;E++)b[B[E]]=h[E]}return[o,Mt(g,{encode:{series:Ir(r?b:d)}})]}};OR.props={};function nB(t,e,n){if(t===null)return[-.5,.5];const r=mR(t,e),a=new gh({domain:r,range:[0,1],padding:n}).getBandWidth();return[-a/2,a/2]}function rB(t,e,n){return e*(1-t)+n*t}const ER=(t={})=>{const{padding:e=0,paddingX:n=e,paddingY:r=e,random:i=Math.random}=t;return(a,o)=>{const{encode:s,scale:A}=o,{x:c,y:l}=A,[u]=Hn(s,"x"),[f]=Hn(s,"y"),d=nB(u,c,n),h=nB(f,l,r),g=a.map(()=>rB(i(),...h)),v=a.map(()=>rB(i(),...d));return[a,Mt({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:Ir(g),dx:Ir(v)}})]}};ER.props={};const SR=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[A]=Hn(a,"x"),c=nB(A,s,e),l=r.map(()=>rB(n(),...c));return[r,Mt({scale:{x:{padding:.5}}},i,{encode:{dx:Ir(l)}})]}};SR.props={};const MR=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[A]=Hn(a,"y"),c=nB(A,s,e),l=r.map(()=>rB(n(),...c));return[r,Mt({scale:{y:{padding:.5}}},i,{encode:{dy:Ir(l)}})]}};MR.props={};var Nnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FR=(t={})=>{const{groupBy:e="x"}=t;return(n,r)=>{const{encode:i,style:a={}}=r,{x:o}=i,s=Nnt(i,["x"]),A=Object.entries(s).filter(([d])=>d.startsWith("y")).map(([d])=>[d,Hn(i,d)[0]]),c=A.map(([d])=>[d,new Array(n.length)]),l=Gf(e,n,r),u=new Array(l.length);for(let d=0;d<l.length;d++){const g=l[d].flatMap(w=>A.map(([,b])=>+b[w])),[v,y]=gu(g);u[d]=(v+y)/2}const f=Math.max(...u);for(let d=0;d<l.length;d++){const h=f-u[d],g=l[d];for(const v of g)for(let y=0;y<A.length;y++){const[,w]=A[y],[,b]=c[y];b[v]=+w[v]+h}}return[n,Mt({},r,{encode:Object.fromEntries(c.map(([d,h])=>[d,Ir(h,Hn(i,d)[1])])),style:Object.assign({first:(d,h)=>h===0,last:(d,h)=>h===l.length-1},a)})]}};FR.props={};const kR=(t={})=>{const{groupBy:e="x"}=t;return(n,r)=>{const{encode:i}=r,[a]=Hn(i,"y"),[o,s]=Hn(i,"y1"),A=Gf(e,n,r),c=new Array(n.length);for(const l of A){const u=l.map(f=>+a[f]);for(let f=0;f<l.length;f++){const d=l[f],h=Math.max(...u.filter((g,v)=>v!==f));c[d]=+a[d]>h?h:a[d]}}return[n,Mt({},r,{encode:{y1:Ir(c,s)}})]}};kR.props={};const TR=t=>{const{groupBy:e=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=t;return(o,s)=>{const{encode:A}=s,l=(Array.isArray(e)?e:[e]).map(v=>[v,Hn(A,v)[0]]);if(l.length===0)return[o,s];let u=[o];for(const[,v]of l){const y=[];for(const w of u){const b=Array.from(kr(w,B=>v[B]).values());y.push(...b)}u=y}if(r){const[v]=Hn(A,r);v&&u.sort((y,w)=>n(y,v)-n(w,v)),i&&u.reverse()}const f=(a||3e3)/u.length,[d]=a?[Pf(o,f)]:Cb(A,"enterDuration",Pf(o,f)),[h]=Cb(A,"enterDelay",Pf(o,0)),g=new Array(o.length);for(let v=0,y=0;v<u.length;v++){const w=u[v],b=hr(w,B=>+d[B]);for(const B of w)g[B]=+h[B]+y;y+=b}return[o,Mt({},s,{encode:{enterDuration:_b(d),enterDelay:_b(g)}})]}};TR.props={};var Dnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hnt(t){return typeof t=="function"?t:{min:(n,r)=>Ks(n,i=>r[+i]),max:(n,r)=>hr(n,i=>r[+i]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>sy(n,i=>r[+i]),median:(n,r)=>OE(n,i=>r[+i]),sum:(n,r)=>xA(n,i=>r[+i]),deviation:(n,r)=>BR(n,i=>r[+i])}[t]||hr}const IR=(t={})=>{const{groupBy:e="x",basis:n="max"}=t;return(r,i)=>{const{encode:a,tooltip:o}=i,{x:s}=a,A=Dnt(a,["x"]),c=Object.entries(A).filter(([g])=>g.startsWith("y")).map(([g])=>[g,Hn(a,g)[0]]),[,l]=c.find(([g])=>g==="y"),u=c.map(([g])=>[g,new Array(r.length)]),f=Gf(e,r,i),d=Hnt(n);for(const g of f){const v=d(g,l);for(const y of g)for(let w=0;w<c.length;w++){const[,b]=c[w],[,B]=u[w];B[y]=+b[y]/v}}const h=uu(o)||(o==null?void 0:o.items)&&(o==null?void 0:o.items.length)!==0;return[r,Mt({},i,Object.assign({encode:Object.fromEntries(u.map(([g,v])=>[g,Ir(v,Hn(a,g)[1])]))},!h&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};IR.props={};function LR(t,e){return[t[0]]}function jnt(t,e){const n=t.length-1;return[t[n]]}function Gnt(t,e){const n=_g(t,r=>e[r]);return[t[n]]}function Knt(t,e){const n=oy(t,r=>e[r]);return[t[n]]}function znt(t){return typeof t=="function"?t:{first:LR,last:jnt,max:Gnt,min:Knt}[t]||LR}const iB=(t={})=>{const{groupBy:e="series",channel:n,selector:r}=t;return(i,a)=>{const{encode:o}=a,s=Gf(e,i,a),[A]=Hn(o,n),c=znt(r);return[s.flatMap(l=>c(l,A)),a]}};iB.props={};var Wnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const QR=(t={})=>{const{selector:e}=t,n=Wnt(t,["selector"]);return iB(Object.assign({channel:"x",selector:e},n))};QR.props={};var Vnt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const UR=(t={})=>{const{selector:e}=t,n=Vnt(t,["selector"]);return iB(Object.assign({channel:"y",selector:e},n))};UR.props={};var Znt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qy=(t={})=>{const{channels:e=["x","y"]}=t,n=Znt(t,["channels"]),r=(i,a)=>Gf(e,i,a);return EE(Object.assign(Object.assign({},n),{groupBy:r}))};Qy.props={};const PR=(t={})=>Qy(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));PR.props={};const RR=(t={})=>Qy(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));RR.props={};const NR=(t={})=>Qy(Object.assign(Object.assign({},t),{channels:["color"]}));NR.props={};function Ynt(t,e,n){return(e.length!==2?yc(Y2(t,e,n),([r,i],[a,o])=>Ti(i,o)||Ti(r,a)):yc(kr(t,n),([r,i],[a,o])=>e(i,o)||Ti(r,a))).map(([r])=>r)}function $nt(t,e,n){const{by:r=t,reducer:i="max"}=e,[a]=Hn(n,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>hr(o,s=>+a[s]);if(i==="min")return o=>Ks(o,s=>+a[s]);if(i==="sum")return o=>xA(o,s=>+a[s]);if(i==="median")return o=>OE(o,s=>+a[s]);if(i==="mean")return o=>sy(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function Xnt(t,e,n){if(!Array.isArray(n))return t;const r=new Set(n);return t.filter(i=>r.has(e[i]))}const aB=(t={})=>(e,n)=>{const{reverse:r,slice:i,channel:a,by:o,ordinal:s=!0,reducer:A}=t,{encode:c,scale:l={}}=n,u=l[a].domain,[f]=Hn(c,o!=null?o:a),[d]=Hn(c,a),h=$nt(a,{by:o,reducer:A},c),g=Xnt(e,d,u),v=Ynt(g,h,B=>d[B]),y=s?e:yc(e,B=>f[B]);r&&(!s&&y.reverse(),v.reverse());const w=typeof i=="number"?[0,i]:i,b=i?v.slice(...w):v;return[y,Mt(n,{scale:{[a]:{domain:b}}})]};aB.props={};const DR=(t={})=>aB(Object.assign(Object.assign({},t),{channel:"x"}));DR.props={};const HR=(t={})=>aB(Object.assign(Object.assign({},t),{channel:"y"}));HR.props={};const jR=(t={})=>aB(Object.assign(Object.assign({},t),{channel:"color"}));jR.props={};function qnt(t,e){return typeof e=="string"?t.map(n=>n[e]):t.map(e)}function Jnt(t,e){if(typeof t=="function")return n=>t(n,e);if(t==="sum")return n=>xA(n,r=>+e[r]);throw new Error(`Unknown reducer: ${t}`)}const GR=(t={})=>{const{field:e,channel:n="y",reducer:r="sum"}=t;return(i,a)=>{const{data:o,encode:s}=a,[A]=Hn(s,"x"),c=e?qnt(o,e):Hn(s,n)[0],l=Jnt(r,c),u=uw(i,l,f=>A[f]).map(f=>f[1]);return[i,Mt({},a,{scale:{x:{flex:u}}})]}};GR.props={};function trt(t){const{padding:e=0,direction:n="col"}=t;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:A}=a,c=A/s;let l=Math.ceil(Math.sqrt(i/c)),u=s/l,f=Math.ceil(i/l),d=f*u;for(;d>A;)l=l+1,u=s/l,f=Math.ceil(i/l),d=f*u;const h=A-f*u,g=f<=1?0:h/(f-1),[v,y]=f<=1?[(s-o*u)/(o-1),(A-u)/2]:[0,0];return r.map((w,b)=>{const[B,E,S,F]=W_(w),k=n==="col"?b%l:Math.floor(b/f),T=n==="col"?Math.floor(b/l):b%f,L=k*u,P=(f-T-1)*u+h,R=(u-e)/S,U=(u-e)/F,N=L-B+v*k+1/2*e,j=P-E-g*T-y+1/2*e;return`translate(${N}, ${j}) scale(${R}, ${U})`})}}const KR=t=>(e,n)=>[e,Mt({},n,{modifier:trt(t),axis:!1})];KR.props={};function ert(t,e,n,r){const i=t.length;if(r>=i||r===0)return t;const a=d=>e[t[d]]*1,o=d=>n[t[d]]*1,s=[],A=(i-2)/(r-2);let c=0,l,u,f;s.push(c);for(let d=0;d<r-2;d++){let h=0,g=0,v=Math.floor((d+1)*A)+1,y=Math.floor((d+2)*A)+1;y=Math.min(y,i);const w=y-v;for(;v<y;v++)h+=a(v),g+=o(v);h/=w,g/=w;let b=Math.floor((d+0)*A)+1;const B=Math.floor((d+1)*A)+1,E=[a(c),o(c)];for(l=u=-1;b<B;b++)u=Math.abs((E[0]-h)*(a(b)-E[1])-(E[0]-o(b))*(g-E[0]))*.5,u>l&&(l=u,f=b);s.push(f),c=f}return s.push(i-1),s.map(d=>t[d])}function nrt(t){if(typeof t=="function")return t;if(t==="lttb")return ert;const e={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[oy(r,o=>a[o])]],max:(r,i,a)=>[r[_g(r,o=>a[o])]],median:(r,i,a)=>[r[Cnt(r,o=>a[o])]]},n=e[t]||e.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return rrt(r,s).flatMap(c=>n(c,i,a))}}function rrt(t,e){const n=t.length,r=[];let i=0;for(;i<n;)r.push(t.slice(i,i+=e));return r}const zR=(t={})=>{const{strategy:e="median",thresholds:n=2e3,groupBy:r=["series","color"]}=t,i=nrt(e);return(a,o)=>{const{encode:s}=o,A=Gf(r,a,o),[c]=Hn(s,"x"),[l]=Hn(s,"y");return[A.flatMap(u=>i(u,c,l,n)),o]}};zR.props={};function irt(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}function art(t){var e;const{encode:n}=t,r=Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),{y:Object.assign(Object.assign({},t.encode.y),{value:[]})})}),i=(e=n==null?void 0:n.color)===null||e===void 0?void 0:e.field;if(!n||!i)return r;let a;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),a)}):r}const WR=(t={})=>(e,n)=>{const{encode:r,data:i}=n,a=Object.keys(t).length>0,o=Object.entries(t).map(([u,f])=>{const[d]=Hn(r,u);if(!d)return null;const[h,g=!0]=irt(f);if(typeof h=="function")return v=>h(d[v]);if(g){const v=Array.isArray(h)?h:[h];return v.length===0?null:y=>v.includes(d[y])}else{const[v,y]=h;return w=>d[w]>=v&&d[w]<=y}}).filter(Tr),s=u=>o.every(f=>f(u)),A=e.filter(s),c=A.map((u,f)=>f);if(o.length===0&&a){const u=art(n);return[[],u]}const l=Object.entries(r).map(([u,f])=>[u,Object.assign(Object.assign({},f),{value:c.map(d=>f.value[A[d]]).filter(d=>d!==void 0)})]);return[c,Mt({},n,{encode:Object.fromEntries(l),data:A.map(u=>i[u])})]};WR.props={};var VR={},ME={},FE=34,Uy=10,kE=13;function ZR(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function ort(t,e){var n=ZR(t);return function(r,i){return e(n(r),i,t)}}function YR(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function vs(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function srt(t){return t<0?"-"+vs(-t,6):t>9999?"+"+vs(t,6):vs(t,4)}function Art(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":srt(t.getUTCFullYear(),4)+"-"+vs(t.getUTCMonth()+1,2)+"-"+vs(t.getUTCDate(),2)+(i?"T"+vs(e,2)+":"+vs(n,2)+":"+vs(r,2)+"."+vs(i,3)+"Z":r?"T"+vs(e,2)+":"+vs(n,2)+":"+vs(r,2)+"Z":n||e?"T"+vs(e,2)+":"+vs(n,2)+"Z":"")}function crt(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(u,f){var d,h,g=i(u,function(v,y){if(d)return d(v,y-1);h=v,d=f?ort(v,f):ZR(v)});return g.columns=h||[],g}function i(u,f){var d=[],h=u.length,g=0,v=0,y,w=h<=0,b=!1;u.charCodeAt(h-1)===Uy&&--h,u.charCodeAt(h-1)===kE&&--h;function B(){if(w)return ME;if(b)return b=!1,VR;var S,F=g,k;if(u.charCodeAt(F)===FE){for(;g++<h&&u.charCodeAt(g)!==FE||u.charCodeAt(++g)===FE;);return(S=g)>=h?w=!0:(k=u.charCodeAt(g++))===Uy?b=!0:k===kE&&(b=!0,u.charCodeAt(g)===Uy&&++g),u.slice(F+1,S-1).replace(/""/g,'"')}for(;g<h;){if((k=u.charCodeAt(S=g++))===Uy)b=!0;else if(k===kE)b=!0,u.charCodeAt(g)===Uy&&++g;else if(k!==n)continue;return u.slice(F,S)}return w=!0,u.slice(F,h)}for(;(y=B())!==ME;){for(var E=[];y!==VR&&y!==ME;)E.push(y),y=B();f&&(E=f(E,v++))==null||d.push(E)}return d}function a(u,f){return u.map(function(d){return f.map(function(h){return l(d[h])}).join(t)})}function o(u,f){return f==null&&(f=YR(u)),[f.map(l).join(t)].concat(a(u,f)).join(`
`)}function s(u,f){return f==null&&(f=YR(u)),a(u,f).join(`
`)}function A(u){return u.map(c).join(`
`)}function c(u){return u.map(l).join(t)}function l(u){return u==null?"":u instanceof Date?Art(u):e.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:A,formatRow:c,formatValue:l}}function lrt(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))urt&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const urt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var frt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};const $R=t=>{const{value:e,format:n=e.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>frt(void 0,void 0,void 0,function*(){const a=yield fetch(e);if(n==="csv"){const o=yield a.text();return crt(r).parse(o,i?lrt:vh)}if(n==="json")return yield a.json();throw new Error(`Unknown format: ${n}.`)})};$R.props={};const XR=t=>{const{value:e}=t;return()=>e};XR.props={};function drt(t,e){return t.map(n=>{if(Array.isArray(n)){const[r,i=e]=n;return[r,i]}return[n,e]})}const qR=t=>{const{fields:e=[]}=t,n=drt(e,!0);return r=>{const i=(a,o)=>n.reduce((s,[A,c=!0])=>s!==0?s:c?a[A]<o[A]?-1:+(a[A]!==o[A]):a[A]>o[A]?-1:+(a[A]!==o[A]),0);return[...r].sort(i)}};qR.props={};function Fut(t){return t!=null&&!Number.isNaN(t)}const JR=t=>{const{callback:e}=t;return n=>Array.isArray(n)?[...n].sort(e):n};JR.props={};function hrt(t){return t!=null&&!Number.isNaN(t)}const tN=t=>{const{callback:e=hrt}=t;return n=>n.filter(e)};tN.props={};function prt(t,e=[]){return e.reduce((n,r)=>(r in t&&(n[r]=t[r]),n),{})}const eN=t=>{const{fields:e}=t;return n=>n.map(r=>prt(r,e))};eN.props={};function grt(t){return Object.keys(t).length===0}const nN=t=>e=>{if(!t||grt(t))return e;const n=r=>Object.entries(r).reduce((i,[a,o])=>(i[t[a]||a]=o,i),{});return e.map(n)};nN.props={};function vrt(t){return!t||Object.keys(t).length===0}const rN=t=>{const{fields:e,key:n="key",value:r="value"}=t;return i=>vrt(e)?i:i.flatMap(a=>e.map(o=>Object.assign(Object.assign({},a),{[n]:o,[r]:a[o]})))};rN.props={};const iN=t=>{const{start:e,end:n}=t;return r=>r.slice(e,n)};iN.props={};const aN=t=>{const{callback:e=vh}=t;return n=>e(n)};aN.props={};const oN=t=>{const{callback:e=vh}=t;return n=>Array.isArray(n)?n.map(e):n};oN.props={};function sN(t){return typeof t=="string"?e=>e[t]:t}const AN=t=>{const{join:e,on:n,select:r=[],as:i=r,unknown:a=NaN}=t,[o,s]=n,A=sN(s),c=sN(o),l=Y2(e,([u])=>u,u=>A(u));return u=>u.map(f=>{const d=l.get(c(f));return Object.assign(Object.assign({},f),r.reduce((h,g,v)=>(h[i[v]]=d?d[g]:a,h),{}))})};AN.props={};var yrt=Ft(53843),mrt=Ft.n(yrt);function kut(t){return t!=null&&!Number.isNaN(t)}const cN=t=>{const{field:e,groupBy:n,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=t,[A,c]=r;return l=>Array.from(kr(l,f=>n.map(d=>f[d]).join("-")).values()).map(f=>{const d=mrt().create(f.map(v=>v[e]),{min:i,max:a,size:o,width:s}),h=d.map(v=>v.x),g=d.map(v=>v.y);return Object.assign(Object.assign({},f[0]),{[A]:h,[c]:g})})};cN.props={};const lN=()=>t=>(console.log("G2 data section:",t),t);lN.props={};var wrt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})};function brt(t,e){return{set(n,r,i){if(e[n]===void 0)return this;const a=r?r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this},setAsync(n,r,i){return wrt(this,void 0,void 0,function*(){if(e[n]===void 0)return this;const a=r?yield r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this})}}}const TE=Math.PI/180,Py=64,oB=2048;function Brt(t){return t.text}function xrt(){return"serif"}function uN(){return"normal"}function _rt(t){return t.value}function Crt(){return~~(Math.random()*2)*90}function Ort(){return 1}function Ert(){}function Srt(t,e,n,r){if(e.sprite)return;const i=t.context,a=t.ratio;i.clearRect(0,0,(Py<<5)/a,oB/a);let o=0,s=0,A=0;const c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;let f=i.measureText(e.text+"m").width*a,d=e.size<<1;if(e.rotate){const h=Math.sin(e.rotate*TE),g=Math.cos(e.rotate*TE),v=f*g,y=f*h,w=d*g,b=d*h;f=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,d=~~Math.max(Math.abs(y+w),Math.abs(y-w))}else f=f+31>>5<<5;if(d>A&&(A=d),o+f>=Py<<5&&(o=0,s+=A,A=0),s+d>=oB)break;i.translate((o+(f>>1))/a,(s+(d>>1))/a),e.rotate&&i.rotate(e.rotate*TE),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=f,e.height=d,e.xoff=o,e.yoff=s,e.x1=f>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=f}const l=i.getImageData(0,0,(Py<<5)/a,oB/a).data,u=[];for(;--r>=0;){if(e=n[r],!e.hasText)continue;const f=e.width,d=f>>5;let h=e.y1-e.y0;for(let y=0;y<h*d;y++)u[y]=0;if(o=e.xoff,o==null)return;s=e.yoff;let g=0,v=-1;for(let y=0;y<h;y++){for(let w=0;w<f;w++){const b=d*y+(w>>5),B=l[(s+y)*(Py<<5)+(o+w)<<2]?1<<31-w%32:0;u[b]|=B,g|=B}g?v=y:(e.y0++,h--,y--,s++)}e.y1=e.y0+v,e.sprite=u.slice(0,(e.y1-e.y0)*d)}}function Mrt(t,e,n){n>>=5;const r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,A=t.y1-t.y0;let c=(t.y+t.y0)*n+(a>>5),l;for(let u=0;u<A;u++){l=0;for(let f=0;f<=i;f++)if((l<<s|(f<i?(l=r[u*i+f])>>>o:0))&e[c+f])return!0;c+=n}return!1}function Frt(t,e){const n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function krt(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function fN(t){const e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Trt(t){const n=4*t[0]/t[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4;break}return[r,i]}}function dN(t){const e=[];let n=-1;for(;++n<t;)e[n]=0;return e}function Irt(){return document.createElement("canvas")}function Cu(t){return typeof t=="function"?t:function(){return t}}const Lrt={archimedean:fN,rectangular:Trt};function Qrt(){let t=[256,256],e=Brt,n=xrt,r=_rt,i=uN,a=Crt,o=Ort,s=fN,A=Math.random,c=Ert,l=[],u=null,f=1/0,d=Irt;const h=uN,g={};g.start=function(){const[w,b]=t,B=v(d()),E=g.board?g.board:dN((t[0]>>5)*t[1]),S=l.length,F=[],k=l.map(function(R,U,N){return R.text=e.call(this,R,U,N),R.font=n.call(this,R,U,N),R.style=h.call(this,R,U,N),R.weight=i.call(this,R,U,N),R.rotate=a.call(this,R,U,N),R.size=~~r.call(this,R,U,N),R.padding=o.call(this,R,U,N),R}).sort(function(R,U){return U.size-R.size});let T=-1,L=g.board?[{x:0,y:0},{x:w,y:b}]:void 0;u&&clearInterval(u),u=setInterval(P,0),P();function P(){const R=Date.now();for(;Date.now()-R<f&&++T<S;){const U=k[T];U.x=w*(A()+.5)>>1,U.y=b*(A()+.5)>>1,Srt(B,U,k,T),U.hasText&&y(E,U,L)&&(c.call(null,"word",{cloud:g,word:U}),F.push(U),L?g.hasImage||Frt(L,U):L=[{x:U.x+U.x0,y:U.y+U.y0},{x:U.x+U.x1,y:U.y+U.y1}],U.x-=t[0]>>1,U.y-=t[1]>>1)}g._tags=F,g._bounds=L,T>=S&&(g.stop(),c.call(null,"end",{cloud:g,words:F,bounds:L}))}return g},g.stop=function(){return u&&(clearInterval(u),u=null),g};function v(w){w.width=w.height=1;const b=Math.sqrt(w.getContext("2d").getImageData(0,0,1,1).data.length>>2);w.width=(Py<<5)/b,w.height=oB/b;const B=w.getContext("2d");return B.fillStyle=B.strokeStyle="red",B.textAlign="center",B.textBaseline="middle",{context:B,ratio:b}}function y(w,b,B){const E=b.x,S=b.y,F=Math.sqrt(t[0]*t[0]+t[1]*t[1]),k=s(t),T=A()<.5?1:-1;let L,P=-T,R,U;for(;(L=k(P+=T))&&(R=~~L[0],U=~~L[1],!(Math.min(Math.abs(R),Math.abs(U))>=F));)if(b.x=E+R,b.y=S+U,!(b.x+b.x0<0||b.y+b.y0<0||b.x+b.x1>t[0]||b.y+b.y1>t[1])&&(!B||!Mrt(b,w,t[0]))&&(!B||krt(b,B))){const N=b.sprite,j=b.width>>5,z=t[0]>>5,W=b.x-(j<<4),D=W&127,G=32-D,Y=b.y1-b.y0;let at,it=(b.y+b.y0)*z+(W>>5);for(let At=0;At<Y;At++){at=0;for(let ht=0;ht<=j;ht++)w[it+ht]|=at<<G|(ht<j?(at=N[At*j+ht])>>>D:0);it+=z}return delete b.sprite,!0}return!1}return g.createMask=w=>{const b=document.createElement("canvas"),[B,E]=t;if(!B||!E)return;const S=B>>5,F=dN((B>>5)*E);b.width=B,b.height=E;const k=b.getContext("2d");k.drawImage(w,0,0,w.width,w.height,0,0,B,E);const T=k.getImageData(0,0,B,E).data;for(let L=0;L<E;L++)for(let P=0;P<B;P++){const R=S*L+(P>>5),U=L*B+P<<2,j=T[U]>=250&&T[U+1]>=250&&T[U+2]>=250?1<<31-P%32:0;F[R]|=j}g.board=F,g.hasImage=!0},g.timeInterval=function(w){f=w==null?1/0:w},g.words=function(w){l=w},g.size=function(w=[]){t=[+w[0],+w[1]]},g.text=function(w){e=Cu(w)},g.font=function(w){n=Cu(w)},g.fontWeight=function(w){i=Cu(w)},g.rotate=function(w){a=Cu(w)},g.canvas=function(w){d=Cu(w)},g.spiral=function(w){s=Lrt[w]||w},g.fontSize=function(w){r=Cu(w)},g.padding=function(w){o=Cu(w)},g.random=function(w){A=Cu(w)},g.on=function(w){c=Cu(w)},g}var Urt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function A(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?a(l.value):i(l.value).then(s,A)}c((r=r.apply(t,e||[])).next())})},Prt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Rrt={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function Nrt(t){return new Promise((e,n)=>{if(t instanceof HTMLImageElement){e(t);return}if(typeof t=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>e(r),r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),n()};return}n()})}function Drt(t,e){if(typeof t=="function")return t;if(Array.isArray(t)){const[n,r]=t;if(!e)return()=>(r+n)/2;const[i,a]=e;return a===i?()=>(r+n)/2:({value:o})=>(r-n)/(a-i)*(o-i)+n}return()=>t}const hN=(t,e)=>n=>Urt(void 0,void 0,void 0,function*(){const r=Object.assign({},Rrt,t,{canvas:e.createCanvas}),i=Qrt();yield brt(i,r).set("fontSize",w=>{const b=n.map(B=>B.value);return Drt(w,[Ks(b),hr(b)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",Nrt,i.createMask),i.words([...n]);const a=i.start(),[o,s]=r.size,A=[{x:0,y:0},{x:o,y:s}],{_bounds:c=A,_tags:l,hasImage:u}=a,f=l.map(w=>{var{x:b,y:B,font:E}=w,S=Prt(w,["x","y","font"]);return Object.assign(Object.assign({},S),{x:b+o/2,y:B+s/2,fontFamily:E})}),[{x:d,y:h},{x:g,y:v}]=c,y={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},y),{x:u?0:d,y:u?0:h}),Object.assign(Object.assign({},y),{x:u?o:g,y:u?s:v})),f});hN.props={};function Hrt(t,e){if(e<0||e>1)throw new Error("alpha must be between 0 and 1.");if(t.length===0)return[];let n=t[0];const r=[];for(const i of t){if(i==null){r.push(i),console.warn("EMA\uFF1AThe value is null or undefined",t);continue}n==null&&(n=i);const a=n*e+(1-e)*i;r.push(a),n=a}return r}const pN=t=>{const{field:e="y",alpha:n=.6,as:r=e}=t;return i=>{const a=i.map(s=>s[e]),o=Hrt(a,n);return i.map((s,A)=>Object.assign(Object.assign({},s),{[r]:o[A]}))}};pN.props={};const gN=.01;function Ry(t){const{min:e,max:n}=t;return[[e[0],e[1]],[n[0],n[1]]]}function vN(t,e,n=gN){const[r,i]=t,[a,o]=e;return r>=a[0]-n&&r<=o[0]+n&&i>=a[1]-n&&i<=o[1]+n}function yN(t,e,n=gN){const[r,i]=t;return!(vN(r,e,n)&&vN(i,e,n))}function jrt(t,e){const[n,r]=t,[i,a]=e;return n[0]<a[0]&&r[0]>i[0]&&n[1]<a[1]&&r[1]>i[1]}const Grt=t=>{const{priority:e}=t;return n=>{const r=[];return e&&n.sort(e),n.forEach(i=>{nb(i);const a=i.getLocalBounds();r.some(s=>jrt(Ry(a),Ry(s.getLocalBounds())))?oC(i):r.push(i)}),n}};function Krt([t,e],[n,r]){return r>t&&e>n}function sB(){const t=new Map;return[r=>t.get(r),(r,i)=>t.set(r,i)]}function zrt(t){const e=t.cloneNode(!0),n=e.getElementById("connector");n&&e.removeChild(n);const{min:r,max:i}=e.getRenderBounds();return e.destroy(),{min:r,max:i}}const Wrt=t=>{const{maxIterations:e=10,maxError:n=.1,padding:r=1}=t;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=sB(),[A,c]=sB(),[l,u]=sB(),[f,d]=sB();for(const h of i){const{min:g,max:v}=zrt(h),[y,w]=g,[b,B]=v;s(h,w),c(h,w),u(h,B-w),d(h,[y,b])}for(let h=0;h<e;h++){i.sort((v,y)=>Ti(A(v),A(y)));let g=0;for(let v=0;v<a-1;v++){const y=i[v];let w=v+1,b;for(;(b=i[w])&&!Krt(f(y),f(b));)w+=1;if(b){const B=A(y),E=l(y),S=A(b),F=S-(B+E);if(F<r){const k=(r-F)/2;g=Math.max(g,k),c(y,B-k),c(b,S+k)}}}if(g<n)break}for(const h of i)h.style.y+=A(h)-o(h);return i}},Vrt=()=>t=>(t.forEach(e=>{nb(e);const n=e.attr("bounds"),r=e.getLocalBounds();yN(Ry(r),n)&&oC(e)}),t);function mN(t){return typeof t=="object"?t:Yc(t)}function IE(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function wN(t,e,n){return .2126*IE(t)+.7152*IE(e)+.0722*IE(n)}function bN(t,e){if(!t||!e||t===e)return 1;const{r:n,g:r,b:i}=t,{r:a,g:o,b:s}=e,A=wN(n,r,i),c=wN(a,o,s);return(Math.max(A,c)+.05)/(Math.min(A,c)+.05)}function BN(t,e){const n=_g(e,r=>bN(t,mN(r)));return e[n]}const Zrt=t=>{const{threshold:e=4.5,palette:n=["#000","#fff"]}=t;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;bN(o,a)<e&&i.attr("fill",BN(a,n))}),r)};function xN(t){var e;const n=t.getAnimations();if(!n||n.length===0)return Xv(t);const r=t.cloneNode(!0);r.style.visibility="hidden",n.forEach(a=>{const o=a.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(e=t.parentNode)===null||e===void 0||e.appendChild(r);const i=Xv(r);return r.destroy(),i}const Yrt=t=>{const{palette:e=["#000","#fff"],threshold:n=2}=t;return r=>(r.forEach(i=>{var a,o;const s=i.attr("dependentElement"),A=(o=(a=i.attributes.fill)!==null&&a!==void 0?a:i.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=Ry(xN(i)),l=Ry(xN(s));if(yN(c,l,n)){const u=BN(mN(A),e);i.attr("stroke",u)}else i.removeAttribute("stroke")}),r)},$rt=(t,e)=>{const[[n,r],[i,a]]=e,[[o,s],[A,c]]=t;let l=0,u=0;return o<n?l=n-o:A>i&&(l=i-A),s<r?u=r-s:c>a&&(u=a-c),[l,u]},Xrt=(t,e)=>!t||!t.min||!t.max?!e||!e.min||!e.max?{min:[0,0],max:[0,0]}:e:!e||!e.min||!e.max?t:{min:[Math.min(t.min[0],e.min[0]),Math.min(t.min[1],e.min[1])],max:[Math.max(t.max[0],e.max[0]),Math.max(t.max[1],e.max[1])]},qrt=(t={})=>(e,{canvas:n,layout:r})=>{const{bounds:i="view",offsetX:a=0,offsetY:o=0}=t,A=(()=>{if(i==="main"){const{x:c=0,y:l=0,width:u=0,height:f=0,marginLeft:d=0,marginRight:h=0,marginTop:g=0,marginBottom:v=0,paddingLeft:y=0,paddingRight:w=0,paddingTop:b=0,paddingBottom:B=0}=r;return[[c+d+y+a,l+g+b+o],[c+u-h-w-a,l+f-v-B-o]]}else{const{x:c=0,y:l=0,width:u=0,height:f=0}=r;return[[c+a,l+o],[c+u-a,l+f-o]]}})();return e.forEach(c=>{nb(c);const{max:l,min:u}=Xrt(c.getRenderBounds(),c.getBounds());if(!l||!u||l[0]===0&&l[1]===0&&u[0]===0&&u[1]===0)return;const[f,d]=l,[h,g]=u,v=$rt([[h,g],[f,d]],A);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=v[0],c.style.connectorPoints[0][1]-=v[1]),c.style.x+=v[0],c.style.y+=v[1]}),e};function Jrt(){return{"data.fetch":$R,"data.inline":XR,"data.sortBy":qR,"data.sort":JR,"data.filter":tN,"data.pick":eN,"data.rename":nN,"data.fold":rN,"data.slice":iN,"data.custom":aN,"data.map":oN,"data.join":AN,"data.kde":cN,"data.log":lN,"data.wordCloud":hN,"data.ema":pN,"transform.stackY":wR,"transform.binX":CR,"transform.bin":SE,"transform.dodgeX":OR,"transform.jitter":ER,"transform.jitterX":SR,"transform.jitterY":MR,"transform.symmetryY":FR,"transform.diffY":kR,"transform.stackEnter":TR,"transform.normalizeY":IR,"transform.select":iB,"transform.selectX":QR,"transform.selectY":UR,"transform.groupX":PR,"transform.groupY":RR,"transform.groupColor":NR,"transform.group":Qy,"transform.sortX":DR,"transform.sortY":HR,"transform.sortColor":jR,"transform.flexX":GR,"transform.pack":KR,"transform.sample":zR,"transform.filter":WR,"coordinate.cartesian":yQ,"coordinate.polar":Fv,"coordinate.transpose":DC,"coordinate.theta":mQ,"coordinate.parallel":HC,"coordinate.fisheye":wQ,"coordinate.radial":c_,"coordinate.radar":bQ,"coordinate.helix":BQ,"encode.constant":xQ,"encode.field":_Q,"encode.transform":CQ,"encode.column":OQ,"mark.interval":LQ,"mark.rect":UQ,"mark.line":AU,"mark.point":fU,"mark.text":yU,"mark.cell":wU,"mark.area":SU,"mark.link":CO,"mark.image":jU,"mark.polygon":VU,"mark.box":XU,"mark.vector":JU,"mark.lineX":rP,"mark.lineY":oP,"mark.connector":lP,"mark.range":dP,"mark.rangeX":gP,"mark.rangeY":mP,"mark.path":_P,"mark.shape":EP,"mark.density":FP,"mark.heatmap":IP,"mark.wordCloud":MO,"mark.beeswarm":ZP,"palette.category10":YP,"palette.category20":$P,"scale.linear":XP,"scale.ordinal":qP,"scale.band":JP,"scale.identity":t4,"scale.point":e4,"scale.time":x4,"scale.log":C4,"scale.pow":O4,"scale.sqrt":E4,"scale.threshold":S4,"scale.quantile":M4,"scale.quantize":F4,"scale.sequential":k4,"scale.constant":T4,"theme.classic":I4,"theme.classicDark":Q4,"theme.academy":U4,"theme.light":GO,"theme.dark":L4,"component.axisX":P4,"component.axisY":R4,"component.legendCategory":ZO,"component.legendContinuous":Sf,"component.legends":$4,"component.title":q4,"component.sliderX":s3,"component.sliderY":A3,"component.scrollbarX":c3,"component.scrollbarY":l3,"animation.scaleInX":eE,"animation.scaleOutX":WJ,"animation.scaleInY":u3,"animation.scaleOutY":VJ,"animation.waveIn":f3,"animation.fadeIn":d3,"animation.fadeOut":h3,"animation.zoomIn":ZJ,"animation.zoomOut":YJ,"animation.pathIn":p3,"animation.morphing":w3,"animation.growInX":b3,"animation.growInY":B3,"interaction.elementHighlight":Wb,"interaction.elementHighlightByX":x3,"interaction.elementHighlightByColor":_3,"interaction.elementHoverScale":C3,"interaction.elementSelect":Vb,"interaction.elementSelectByX":O3,"interaction.elementSelectByColor":E3,"interaction.fisheye":dtt,"interaction.chartIndex":S3,"interaction.tooltip":eQ,"interaction.legendFilter":lJ,"interaction.legendHighlight":ytt,"interaction.brushHighlight":Zb,"interaction.brushXHighlight":_tt,"interaction.brushYHighlight":Ctt,"interaction.brushAxisHighlight":Ltt,"interaction.brushFilter":cE,"interaction.brushXFilter":Rtt,"interaction.brushYFilter":Ntt,"interaction.sliderFilter":H3,"interaction.sliderWheel":j3,"interaction.scrollbarFilter":eet,"interaction.poptip":z3,"interaction.treemapDrillDown":xet,"interaction.drillDown":Tet,"interaction.elementPointMove":Ret,"composition.spaceLayer":cR,"composition.spaceFlex":lR,"composition.facetRect":hR,"composition.repeatMatrix":Xet,"composition.facetCircle":rnt,"composition.timingKeyframe":gR,"labelTransform.overlapHide":Grt,"labelTransform.overlapDodgeY":Wrt,"labelTransform.overflowHide":Vrt,"labelTransform.contrastReverse":Zrt,"labelTransform.overflowStroke":Yrt,"labelTransform.exceedAdjust":qrt}}var Ny=t=>t;function AB(t,e){t&&CN.hasOwnProperty(t.type)&&CN[t.type](t,e)}var _N={Feature:function(t,e){AB(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)AB(n[r].geometry,e)}},CN={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){LE(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)LE(n[r],e,0)},Polygon:function(t,e){ON(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ON(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)AB(n[r],e)}};function LE(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function ON(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)LE(t[n],e,1);e.polygonEnd()}function Wg(t,e){t&&_N.hasOwnProperty(t.type)?_N[t.type](t,e):AB(t,e)}class Ou{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function Tut(t,e){const n=new Ou;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function Iut(t,e){const n=new Ou;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}var rn=1e-6,EN=1e-12,Pn=Math.PI,Zi=Pn/2,SN=Pn/4,zs=Pn*2,Fo=180/Pn,Li=Pn/180,cr=Math.abs,Vg=Math.atan,Eu=Math.atan2,En=Math.cos,cB=Math.ceil,MN=Math.exp,Lut=Math.floor,Qut=Math.hypot,lB=Math.log,QE=Math.pow,wn=Math.sin,TA=Math.sign||function(t){return t>0?1:t<0?-1:0},ys=Math.sqrt,UE=Math.tan;function FN(t){return t>1?0:t<-1?Pn:Math.acos(t)}function IA(t){return t>1?Zi:t<-1?-Zi:Math.asin(t)}function Uut(t){return(t=wn(t/2))*t}function LA(){}var PE=new Ou,RE=new Ou,kN,TN,NE,DE,zf={point:LA,lineStart:LA,lineEnd:LA,polygonStart:function(){zf.lineStart=tit,zf.lineEnd=nit},polygonEnd:function(){zf.lineStart=zf.lineEnd=zf.point=LA,PE.add(cr(RE)),RE=new Ou},result:function(){var t=PE/2;return PE=new Ou,t}};function tit(){zf.point=eit}function eit(t,e){zf.point=IN,kN=NE=t,TN=DE=e}function IN(t,e){RE.add(DE*t-NE*e),NE=t,DE=e}function nit(){IN(kN,TN)}var LN=zf,Zg=1/0,uB=Zg,Dy=-Zg,fB=Dy,rit={point:iit,lineStart:LA,lineEnd:LA,polygonStart:LA,polygonEnd:LA,result:function(){var t=[[Zg,uB],[Dy,fB]];return Dy=fB=-(uB=Zg=1/0),t}};function iit(t,e){t<Zg&&(Zg=t),t>Dy&&(Dy=t),e<uB&&(uB=e),e>fB&&(fB=e)}var dB=rit,HE=0,jE=0,Hy=0,hB=0,pB=0,Yg=0,GE=0,KE=0,jy=0,QN,UN,hl,pl,Bc={point:Vh,lineStart:PN,lineEnd:RN,polygonStart:function(){Bc.lineStart=sit,Bc.lineEnd=Ait},polygonEnd:function(){Bc.point=Vh,Bc.lineStart=PN,Bc.lineEnd=RN},result:function(){var t=jy?[GE/jy,KE/jy]:Yg?[hB/Yg,pB/Yg]:Hy?[HE/Hy,jE/Hy]:[NaN,NaN];return HE=jE=Hy=hB=pB=Yg=GE=KE=jy=0,t}};function Vh(t,e){HE+=t,jE+=e,++Hy}function PN(){Bc.point=ait}function ait(t,e){Bc.point=oit,Vh(hl=t,pl=e)}function oit(t,e){var n=t-hl,r=e-pl,i=ys(n*n+r*r);hB+=i*(hl+t)/2,pB+=i*(pl+e)/2,Yg+=i,Vh(hl=t,pl=e)}function RN(){Bc.point=Vh}function sit(){Bc.point=cit}function Ait(){NN(QN,UN)}function cit(t,e){Bc.point=NN,Vh(QN=hl=t,UN=pl=e)}function NN(t,e){var n=t-hl,r=e-pl,i=ys(n*n+r*r);hB+=i*(hl+t)/2,pB+=i*(pl+e)/2,Yg+=i,i=pl*t-hl*e,GE+=i*(hl+t),KE+=i*(pl+e),jy+=i*3,Vh(hl=t,pl=e)}var DN=Bc;function HN(t){this._context=t}HN.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,zs);break}}},result:LA};var zE=new Ou,WE,jN,GN,Gy,Ky,gB={point:LA,lineStart:function(){gB.point=lit},lineEnd:function(){WE&&KN(jN,GN),gB.point=LA},polygonStart:function(){WE=!0},polygonEnd:function(){WE=null},result:function(){var t=+zE;return zE=new Ou,t}};function lit(t,e){gB.point=KN,jN=Gy=t,GN=Ky=e}function KN(t,e){Gy-=t,Ky-=e,zE.add(ys(Gy*Gy+Ky*Ky)),Gy=t,Ky=e}var zN=gB;let WN,vB,VN,ZN;class YN{constructor(e){this._append=e==null?$N:uit(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==VN||this._append!==vB){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,VN=r,vB=this._append,ZN=this._,this._=i}this._+=ZN;break}}}result(){const e=this._;return this._="",e.length?e:null}}function $N(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uit(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return $N;if(e!==WN){const n=Ai(10,e);WN=e,vB=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return vB}function XN(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Wg(s,i(a))),a.result()}return o.area=function(s){return Wg(s,i(LN)),LN.result()},o.measure=function(s){return Wg(s,i(zN)),zN.result()},o.bounds=function(s){return Wg(s,i(dB)),dB.result()},o.centroid=function(s){return Wg(s,i(DN)),DN.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Ny):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new YN(n)):new HN(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const A=Math.floor(s);if(!(A>=0))throw new RangeError(`invalid digits: ${s}`);n=A}return e===null&&(a=new YN(n)),o},o.projection(t).digits(n).context(e)}function $g(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function qN(t,e,n){var r=$g(t,e-rn,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function JN(t,e,n){var r=$g(t,e-rn,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function fit(){var t,e,n,r,i,a,o,s,A=10,c=A,l=90,u=360,f,d,h,g,v=2.5;function y(){return{type:"MultiLineString",coordinates:w()}}function w(){return $g(cB(r/l)*l,n,l).map(h).concat($g(cB(s/u)*u,o,u).map(g)).concat($g(cB(e/A)*A,t,A).filter(function(b){return cr(b%l)>rn}).map(f)).concat($g(cB(a/c)*c,i,c).filter(function(b){return cr(b%u)>rn}).map(d))}return y.lines=function(){return w().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(g(o).slice(1),h(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),s>o&&(b=s,s=o,o=b),y.precision(v)):[[r,s],[n,o]]},y.extentMinor=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),a>i&&(b=a,a=i,i=b),y.precision(v)):[[e,a],[t,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.stepMinor=function(b){return arguments.length?(A=+b[0],c=+b[1],y):[A,c]},y.precision=function(b){return arguments.length?(v=+b,f=qN(a,i,90),d=JN(e,t,v),h=qN(s,o,90),g=JN(r,n,v),y):v},y.extentMajor([[-180,-90+rn],[180,90-rn]]).extentMinor([[-180,-80-rn],[180,80+rn]])}function dit(){return fit()()}function tD(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:LA,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function yB(t,e){return cr(t[0]-e[0])<rn&&cr(t[1]-e[1])<rn}function mB(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function eD(t,e,n,r,i){var a=[],o=[],s,A;if(t.forEach(function(h){if(!((g=h.length-1)<=0)){var g,v=h[0],y=h[g],w;if(yB(v,y)){if(!v[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((v=h[s])[0],v[1]);i.lineEnd();return}y[0]+=2*rn}a.push(w=new mB(v,h,null,!0)),o.push(w.o=new mB(v,null,w,!1)),a.push(w=new mB(y,h,null,!1)),o.push(w.o=new mB(y,null,w,!0))}}),!!a.length){for(o.sort(e),nD(a),nD(o),s=0,A=o.length;s<A;++s)o[s].e=n=!n;for(var c=a[0],l,u;;){for(var f=c,d=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,A=l.length;s<A;++s)i.point((u=l[s])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((u=l[s])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function nD(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function VE(t){return[Eu(t[1],t[0]),IA(t[2])]}function Xg(t){var e=t[0],n=t[1],r=En(n);return[r*En(e),r*wn(e),wn(n)]}function wB(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bB(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ZE(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function BB(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function YE(t){var e=ys(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function $E(t){return cr(t[0])<=Pn?t[0]:TA(t[0])*((cr(t[0])+Pn)%zs-Pn)}function hit(t,e){var n=$E(e),r=e[1],i=wn(r),a=[wn(n),-En(n),0],o=0,s=0,A=new Ou;i===1?r=Zi+rn:i===-1&&(r=-Zi-rn);for(var c=0,l=t.length;c<l;++c)if(f=(u=t[c]).length)for(var u,f,d=u[f-1],h=$E(d),g=d[1]/2+SN,v=wn(g),y=En(g),w=0;w<f;++w,h=B,v=S,y=F,d=b){var b=u[w],B=$E(b),E=b[1]/2+SN,S=wn(E),F=En(E),k=B-h,T=k>=0?1:-1,L=T*k,P=L>Pn,R=v*S;if(A.add(Eu(R*T*wn(L),y*F+R*En(L))),o+=P?k+T*zs:k,P^h>=n^B>=n){var U=bB(Xg(d),Xg(b));YE(U);var N=bB(a,U);YE(N);var j=(P^k>=0?-1:1)*IA(N[2]);(r>j||r===j&&(U[0]||U[1]))&&(s+=P^k>=0?1:-1)}}return(o<-rn||o<rn&&A<-EN)^s&1}function*pit(t){for(const e of t)yield*I5(e)}function rD(t){return Array.from(pit(t))}function iD(t,e,n,r){return function(i){var a=e(i),o=tD(),s=e(o),A=!1,c,l,u,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=y,f.lineStart=w,f.lineEnd=b,l=[],c=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=v,l=rD(l);var B=hit(c,r);l.length?(A||(i.polygonStart(),A=!0),eD(l,vit,B,n,i)):B&&(A||(i.polygonStart(),A=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),A&&(i.polygonEnd(),A=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(B,E){t(B,E)&&i.point(B,E)}function h(B,E){a.point(B,E)}function g(){f.point=h,a.lineStart()}function v(){f.point=d,a.lineEnd()}function y(B,E){u.push([B,E]),s.point(B,E)}function w(){s.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),s.lineEnd();var B=s.clean(),E=o.result(),S,F=E.length,k,T,L;if(u.pop(),c.push(u),u=null,!!F){if(B&1){if(T=E[0],(k=T.length-1)>0){for(A||(i.polygonStart(),A=!0),i.lineStart(),S=0;S<k;++S)i.point((L=T[S])[0],L[1]);i.lineEnd()}return}F>1&&B&2&&E.push(E.pop().concat(E.shift())),l.push(E.filter(git))}}return f}}function git(t){return t.length>1}function vit(t,e){return((t=t.x)[0]<0?t[1]-Zi-rn:Zi-t[1])-((e=e.x)[0]<0?e[1]-Zi-rn:Zi-e[1])}var aD=iD(function(){return!0},yit,wit,[-Pn,-Zi]);function yit(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?Pn:-Pn,A=cr(a-e);cr(A-Pn)<rn?(t.point(e,n=(n+o)/2>0?Zi:-Zi),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&A>=Pn&&(cr(e-r)<rn&&(e-=r*rn),cr(a-s)<rn&&(a-=s*rn),n=mit(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function mit(t,e,n,r){var i,a,o=wn(t-n);return cr(o)>rn?Vg((wn(e)*(a=En(r))*wn(n)-wn(r)*(i=En(e))*wn(t))/(i*a*o)):(e+r)/2}function wit(t,e,n,r){var i;if(t==null)i=n*Zi,r.point(-Pn,i),r.point(0,i),r.point(Pn,i),r.point(Pn,0),r.point(Pn,-i),r.point(0,-i),r.point(-Pn,-i),r.point(-Pn,0),r.point(-Pn,i);else if(cr(t[0]-e[0])>rn){var a=t[0]<e[0]?Pn:-Pn;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function oD(t,e,n,r,i,a){if(n){var o=En(e),s=wn(e),A=r*n;i==null?(i=e+r*zs,a=e-A/2):(i=sD(o,i),a=sD(o,a),(r>0?i<a:i>a)&&(i+=r*zs));for(var c,l=i;r>0?l>a:l<a;l-=A)c=VE([o,-s*En(l),-s*wn(l)]),t.point(c[0],c[1])}}function sD(t,e){e=Xg(e),e[0]-=t,YE(e);var n=FN(-e[1]);return((-e[2]<0?-n:n)+zs-rn)%zs}function Put(){var t=constant([0,0]),e=constant(90),n=constant(2),r,i,a={point:o};function o(A,c){r.push(A=i(A,c)),A[0]*=degrees,A[1]*=degrees}function s(){var A=t.apply(this,arguments),c=e.apply(this,arguments)*radians,l=n.apply(this,arguments)*radians;return r=[],i=rotateRadians(-A[0]*radians,-A[1]*radians,0).invert,oD(a,c,l,1),A={type:"Polygon",coordinates:[r]},r=i=null,A}return s.center=function(A){return arguments.length?(t=typeof A=="function"?A:constant([+A[0],+A[1]]),s):t},s.radius=function(A){return arguments.length?(e=typeof A=="function"?A:constant(+A),s):e},s.precision=function(A){return arguments.length?(n=typeof A=="function"?A:constant(+A),s):n},s}function bit(t){var e=En(t),n=2*Li,r=e>0,i=cr(e)>rn;function a(l,u,f,d){oD(d,t,n,f,l,u)}function o(l,u){return En(l)*En(u)>e}function s(l){var u,f,d,h,g;return{lineStart:function(){h=d=!1,g=1},point:function(v,y){var w=[v,y],b,B=o(v,y),E=r?B?0:c(v,y):B?c(v+(v<0?Pn:-Pn),y):0;if(!u&&(h=d=B)&&l.lineStart(),B!==d&&(b=A(u,w),(!b||yB(u,b)||yB(w,b))&&(w[2]=1)),B!==d)g=0,B?(l.lineStart(),b=A(w,u),l.point(b[0],b[1])):(b=A(u,w),l.point(b[0],b[1],2),l.lineEnd()),u=b;else if(i&&u&&r^B){var S;!(E&f)&&(S=A(w,u,!0))&&(g=0,r?(l.lineStart(),l.point(S[0][0],S[0][1]),l.point(S[1][0],S[1][1]),l.lineEnd()):(l.point(S[1][0],S[1][1]),l.lineEnd(),l.lineStart(),l.point(S[0][0],S[0][1],3)))}B&&(!u||!yB(u,w))&&l.point(w[0],w[1]),u=w,d=B,f=E},lineEnd:function(){d&&l.lineEnd(),u=null},clean:function(){return g|(h&&d)<<1}}}function A(l,u,f){var d=Xg(l),h=Xg(u),g=[1,0,0],v=bB(d,h),y=wB(v,v),w=v[0],b=y-w*w;if(!b)return!f&&l;var B=e*y/b,E=-e*w/b,S=bB(g,v),F=BB(g,B),k=BB(v,E);ZE(F,k);var T=S,L=wB(F,T),P=wB(T,T),R=L*L-P*(wB(F,F)-1);if(!(R<0)){var U=ys(R),N=BB(T,(-L-U)/P);if(ZE(N,F),N=VE(N),!f)return N;var j=l[0],z=u[0],W=l[1],D=u[1],G;z<j&&(G=j,j=z,z=G);var Y=z-j,at=cr(Y-Pn)<rn,it=at||Y<rn;if(!at&&D<W&&(G=W,W=D,D=G),it?at?W+D>0^N[1]<(cr(N[0]-j)<rn?W:D):W<=N[1]&&N[1]<=D:Y>Pn^(j<=N[0]&&N[0]<=z)){var At=BB(T,(-L+U)/P);return ZE(At,F),[N,VE(At)]}}}function c(l,u){var f=r?t:Pn-t,d=0;return l<-f?d|=1:l>f&&(d|=2),u<-f?d|=4:u>f&&(d|=8),d}return iD(o,s,a,r?[0,-t]:[-Pn,t-Pn])}function Bit(t,e,n,r,i,a){var o=t[0],s=t[1],A=e[0],c=e[1],l=0,u=1,f=A-o,d=c-s,h;if(h=n-o,!(!f&&h>0)){if(h/=f,f<0){if(h<l)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>l&&(l=h)}if(h=i-o,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>l&&(l=h)}else if(f>0){if(h<l)return;h<u&&(u=h)}if(h=r-s,!(!d&&h>0)){if(h/=d,d<0){if(h<l)return;h<u&&(u=h)}else if(d>0){if(h>u)return;h>l&&(l=h)}if(h=a-s,!(!d&&h<0)){if(h/=d,d<0){if(h>u)return;h>l&&(l=h)}else if(d>0){if(h<l)return;h<u&&(u=h)}return l>0&&(t[0]=o+l*f,t[1]=s+l*d),u<1&&(e[0]=o+u*f,e[1]=s+u*d),!0}}}}}var zy=1e9,xB=-zy;function AD(t,e,n,r){function i(c,l){return t<=c&&c<=n&&e<=l&&l<=r}function a(c,l,u,f){var d=0,h=0;if(c==null||(d=o(c,u))!==(h=o(l,u))||A(c,l)<0^u>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+u+4)%4)!==h);else f.point(l[0],l[1])}function o(c,l){return cr(c[0]-t)<rn?l>0?0:3:cr(c[0]-n)<rn?l>0?2:1:cr(c[1]-e)<rn?l>0?1:0:l>0?3:2}function s(c,l){return A(c.x,l.x)}function A(c,l){var u=o(c,1),f=o(l,1);return u!==f?u-f:u===0?l[1]-c[1]:u===1?c[0]-l[0]:u===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,u=tD(),f,d,h,g,v,y,w,b,B,E,S,F={point:k,lineStart:R,lineEnd:U,polygonStart:L,polygonEnd:P};function k(j,z){i(j,z)&&l.point(j,z)}function T(){for(var j=0,z=0,W=d.length;z<W;++z)for(var D=d[z],G=1,Y=D.length,at=D[0],it,At,ht=at[0],ut=at[1];G<Y;++G)it=ht,At=ut,at=D[G],ht=at[0],ut=at[1],At<=r?ut>r&&(ht-it)*(r-At)>(ut-At)*(t-it)&&++j:ut<=r&&(ht-it)*(r-At)<(ut-At)*(t-it)&&--j;return j}function L(){l=u,f=[],d=[],S=!0}function P(){var j=T(),z=S&&j,W=(f=rD(f)).length;(z||W)&&(c.polygonStart(),z&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),W&&eD(f,s,j,a,c),c.polygonEnd()),l=c,f=d=h=null}function R(){F.point=N,d&&d.push(h=[]),E=!0,B=!1,w=b=NaN}function U(){f&&(N(g,v),y&&B&&u.rejoin(),f.push(u.result())),F.point=k,B&&l.lineEnd()}function N(j,z){var W=i(j,z);if(d&&h.push([j,z]),E)g=j,v=z,y=W,E=!1,W&&(l.lineStart(),l.point(j,z));else if(W&&B)l.point(j,z);else{var D=[w=Math.max(xB,Math.min(zy,w)),b=Math.max(xB,Math.min(zy,b))],G=[j=Math.max(xB,Math.min(zy,j)),z=Math.max(xB,Math.min(zy,z))];Bit(D,G,t,e,n,r)?(B||(l.lineStart(),l.point(D[0],D[1])),l.point(G[0],G[1]),W||l.lineEnd(),S=!1):W&&(l.lineStart(),l.point(j,z),S=!1)}w=j,b=z,B=W}return F}}function XE(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function qE(t,e){return cr(t)>Pn&&(t-=Math.round(t/zs)*zs),[t,e]}qE.invert=qE;function cD(t,e,n){return(t%=zs)?e||n?XE(uD(t),fD(e,n)):uD(t):e||n?fD(e,n):qE}function lD(t){return function(e,n){return e+=t,cr(e)>Pn&&(e-=Math.round(e/zs)*zs),[e,n]}}function uD(t){var e=lD(t);return e.invert=lD(-t),e}function fD(t,e){var n=En(t),r=wn(t),i=En(e),a=wn(e);function o(s,A){var c=En(A),l=En(s)*c,u=wn(s)*c,f=wn(A),d=f*n+l*r;return[Eu(u*i-d*a,l*n-f*r),IA(d*i+u*a)]}return o.invert=function(s,A){var c=En(A),l=En(s)*c,u=wn(s)*c,f=wn(A),d=f*i-u*a;return[Eu(u*i+f*a,l*n+d*r),IA(d*n-l*r)]},o}function xit(t){t=cD(t[0]*Li,t[1]*Li,t.length>2?t[2]*Li:0);function e(n){return n=t(n[0]*Li,n[1]*Li),n[0]*=Fo,n[1]*=Fo,n}return e.invert=function(n){return n=t.invert(n[0]*Li,n[1]*Li),n[0]*=Fo,n[1]*=Fo,n},e}function Rut(t){return{stream:Wy(t)}}function Wy(t){return function(e){var n=new JE;for(var r in t)n[r]=t[r];return n.stream=e,n}}function JE(){}JE.prototype={constructor:JE,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tS(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Wg(n,t.stream(dB)),e(dB.result()),r!=null&&t.clipExtent(r),t}function _B(t,e,n){return tS(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,A=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,A])},n)}function eS(t,e,n){return _B(t,[[0,0],e],n)}function nS(t,e,n){return tS(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function rS(t,e,n){return tS(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var dD=16,_it=En(30*Li);function hD(t,e){return+e?Oit(t,e):Cit(t)}function Cit(t){return Wy({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Oit(t,e){function n(r,i,a,o,s,A,c,l,u,f,d,h,g,v){var y=c-r,w=l-i,b=y*y+w*w;if(b>4*e&&g--){var B=o+f,E=s+d,S=A+h,F=ys(B*B+E*E+S*S),k=IA(S/=F),T=cr(cr(S)-1)<rn||cr(a-u)<rn?(a+u)/2:Eu(E,B),L=t(T,k),P=L[0],R=L[1],U=P-r,N=R-i,j=w*U-y*N;(j*j/b>e||cr((y*U+w*N)/b-.5)>.3||o*f+s*d+A*h<_it)&&(n(r,i,a,o,s,A,P,R,T,B/=F,E/=F,S,g,v),v.point(P,R),n(P,R,T,B,E,S,c,l,u,f,d,h,g,v))}}return function(r){var i,a,o,s,A,c,l,u,f,d,h,g,v={point:y,lineStart:w,lineEnd:B,polygonStart:function(){r.polygonStart(),v.lineStart=E},polygonEnd:function(){r.polygonEnd(),v.lineStart=w}};function y(k,T){k=t(k,T),r.point(k[0],k[1])}function w(){u=NaN,v.point=b,r.lineStart()}function b(k,T){var L=Xg([k,T]),P=t(k,T);n(u,f,l,d,h,g,u=P[0],f=P[1],l=k,d=L[0],h=L[1],g=L[2],dD,r),r.point(u,f)}function B(){v.point=y,r.lineEnd()}function E(){w(),v.point=S,v.lineEnd=F}function S(k,T){b(i=k,T),a=u,o=f,s=d,A=h,c=g,v.point=b}function F(){n(u,f,l,d,h,g,a,o,i,s,A,c,dD,r),v.lineEnd=B,B()}return v}}var Eit=Wy({point:function(t,e){this.stream.point(t*Li,e*Li)}});function Sit(t){return Wy({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Mit(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function pD(t,e,n,r,i,a){if(!a)return Mit(t,e,n,r,i);var o=En(a),s=wn(a),A=o*t,c=s*t,l=o/t,u=s/t,f=(s*n-o*e)/t,d=(s*e+o*n)/t;function h(g,v){return g*=r,v*=i,[A*g-c*v+e,n-c*g-A*v]}return h.invert=function(g,v){return[r*(l*g-u*v+f),i*(d-u*g-l*v)]},h}function gl(t){return iS(function(){return t})()}function iS(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,A=0,c=0,l,u=0,f=1,d=1,h=null,g=aD,v=null,y,w,b,B=Ny,E=.5,S,F,k,T,L;function P(j){return k(j[0]*Li,j[1]*Li)}function R(j){return j=k.invert(j[0],j[1]),j&&[j[0]*Fo,j[1]*Fo]}P.stream=function(j){return T&&L===j?T:T=Eit(Sit(l)(g(S(B(L=j)))))},P.preclip=function(j){return arguments.length?(g=j,h=void 0,N()):g},P.postclip=function(j){return arguments.length?(B=j,v=y=w=b=null,N()):B},P.clipAngle=function(j){return arguments.length?(g=+j?bit(h=j*Li):(h=null,aD),N()):h*Fo},P.clipExtent=function(j){return arguments.length?(B=j==null?(v=y=w=b=null,Ny):AD(v=+j[0][0],y=+j[0][1],w=+j[1][0],b=+j[1][1]),N()):v==null?null:[[v,y],[w,b]]},P.scale=function(j){return arguments.length?(n=+j,U()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],U()):[r,i]},P.center=function(j){return arguments.length?(a=j[0]%360*Li,o=j[1]%360*Li,U()):[a*Fo,o*Fo]},P.rotate=function(j){return arguments.length?(s=j[0]%360*Li,A=j[1]%360*Li,c=j.length>2?j[2]%360*Li:0,U()):[s*Fo,A*Fo,c*Fo]},P.angle=function(j){return arguments.length?(u=j%360*Li,U()):u*Fo},P.reflectX=function(j){return arguments.length?(f=j?-1:1,U()):f<0},P.reflectY=function(j){return arguments.length?(d=j?-1:1,U()):d<0},P.precision=function(j){return arguments.length?(S=hD(F,E=j*j),N()):ys(E)},P.fitExtent=function(j,z){return _B(P,j,z)},P.fitSize=function(j,z){return eS(P,j,z)},P.fitWidth=function(j,z){return nS(P,j,z)},P.fitHeight=function(j,z){return rS(P,j,z)};function U(){var j=pD(n,0,0,f,d,u).apply(null,e(a,o)),z=pD(n,r-j[0],i-j[1],f,d,u);return l=cD(s,A,c),F=XE(e,z),k=XE(l,F),S=hD(F,E),N()}function N(){return T=L=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&R,U()}}function aS(t){var e=0,n=Pn/3,r=iS(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Li,n=a[1]*Li):[e*Fo,n*Fo]},i}function Fit(t){var e=En(t);function n(r,i){return[r*e,wn(i)/e]}return n.invert=function(r,i){return[r/e,IA(i*e)]},n}function gD(t,e){var n=wn(t),r=(n+wn(e))/2;if(cr(r)<rn)return Fit(t);var i=1+n*(2*r-n),a=ys(i)/r;function o(s,A){var c=ys(i-2*r*wn(A))/r;return[c*wn(s*=r),a-c*En(s)]}return o.invert=function(s,A){var c=a-A,l=Eu(s,cr(c))*TA(c);return c*r<0&&(l-=Pn*TA(s)*TA(c)),[l/r,IA((i-(s*s+c*c)*r*r)/(2*r))]},o}function CB(){return aS(gD).scale(155.424).center([0,33.6442])}function vD(){return CB().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kit(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Tit(){var t,e,n=vD(),r,i=CB().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=CB().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,A,c={point:function(f,d){A=[f,d]}};function l(f){var d=f[0],h=f[1];return A=null,r.point(d,h),A||(a.point(d,h),A)||(s.point(d,h),A)}l.invert=function(f){var d=n.scale(),h=n.translate(),g=(f[0]-h[0])/d,v=(f[1]-h[1])/d;return(v>=.12&&v<.234&&g>=-.425&&g<-.214?i:v>=.166&&v<.234&&g>=-.214&&g<-.115?o:n).invert(f)},l.stream=function(f){return t&&e===f?t:t=kit([n.stream(e=f),i.stream(f),o.stream(f)])},l.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),u()):n.precision()},l.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),l.translate(n.translate())):n.scale()},l.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),h=+f[0],g=+f[1];return r=n.translate(f).clipExtent([[h-.455*d,g-.238*d],[h+.455*d,g+.238*d]]).stream(c),a=i.translate([h-.307*d,g+.201*d]).clipExtent([[h-.425*d+rn,g+.12*d+rn],[h-.214*d-rn,g+.234*d-rn]]).stream(c),s=o.translate([h-.205*d,g+.212*d]).clipExtent([[h-.214*d+rn,g+.166*d+rn],[h-.115*d-rn,g+.234*d-rn]]).stream(c),u()},l.fitExtent=function(f,d){return _B(l,f,d)},l.fitSize=function(f,d){return eS(l,f,d)},l.fitWidth=function(f,d){return nS(l,f,d)},l.fitHeight=function(f,d){return rS(l,f,d)};function u(){return t=e=null,l}return l.scale(1070)}function yD(t){return function(e,n){var r=En(e),i=En(n),a=t(r*i);return a===1/0?[2,0]:[a*i*wn(e),a*wn(n)]}}function Vy(t){return function(e,n){var r=ys(e*e+n*n),i=t(r),a=wn(i),o=En(i);return[Eu(e*a,r*o),IA(r&&n*a/r)]}}var oS=yD(function(t){return ys(2/(1+t))});oS.invert=Vy(function(t){return 2*IA(t/2)});function Iit(){return gl(oS).scale(124.75).clipAngle(180-.001)}var sS=yD(function(t){return(t=FN(t))&&t/wn(t)});sS.invert=Vy(function(t){return t});function Lit(){return gl(sS).scale(79.4188).clipAngle(180-.001)}function Zy(t,e){return[t,lB(UE((Zi+e)/2))]}Zy.invert=function(t,e){return[t,2*Vg(MN(e))-Zi]};function Qit(){return mD(Zy).scale(961/zs)}function mD(t){var e=gl(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,A,c;e.scale=function(u){return arguments.length?(r(u),l()):r()},e.translate=function(u){return arguments.length?(i(u),l()):i()},e.center=function(u){return arguments.length?(n(u),l()):n()},e.clipExtent=function(u){return arguments.length?(u==null?o=s=A=c=null:(o=+u[0][0],s=+u[0][1],A=+u[1][0],c=+u[1][1]),l()):o==null?null:[[o,s],[A,c]]};function l(){var u=Pn*r(),f=e(xit(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-u,f[1]-u],[f[0]+u,f[1]+u]]:t===Zy?[[Math.max(f[0]-u,o),s],[Math.min(f[0]+u,A),c]]:[[o,Math.max(f[1]-u,s)],[A,Math.min(f[1]+u,c)]])}return l()}function OB(t){return UE((Zi+t)/2)}function wD(t,e){var n=En(t),r=t===e?wn(t):lB(n/En(e))/lB(OB(e)/OB(t)),i=n*QE(OB(t),r)/r;if(!r)return Zy;function a(o,s){i>0?s<-Zi+rn&&(s=-Zi+rn):s>Zi-rn&&(s=Zi-rn);var A=i/QE(OB(s),r);return[A*wn(r*o),i-A*En(r*o)]}return a.invert=function(o,s){var A=i-s,c=TA(r)*ys(o*o+A*A),l=Eu(o,cr(A))*TA(A);return A*r<0&&(l-=Pn*TA(o)*TA(A)),[l/r,2*Vg(QE(i/c,1/r))-Zi]},a}function Uit(){return aS(wD).scale(109.5).parallels([30,30])}function Yy(t,e){return[t,e]}Yy.invert=Yy;function Pit(){return gl(Yy).scale(152.63)}function bD(t,e){var n=En(t),r=t===e?wn(t):(n-En(e))/(e-t),i=n/r+t;if(cr(r)<rn)return Yy;function a(o,s){var A=i-s,c=r*o;return[A*wn(c),i-A*En(c)]}return a.invert=function(o,s){var A=i-s,c=Eu(o,cr(A))*TA(A);return A*r<0&&(c-=Pn*TA(o)*TA(A)),[c/r,i-TA(r)*ys(o*o+A*A)]},a}function Rit(){return aS(bD).scale(131.154).center([0,13.9389])}var $y=1.340264,Xy=-.081106,qy=893e-6,Jy=.003796,EB=ys(3)/2,Nit=12;function AS(t,e){var n=IA(EB*wn(e)),r=n*n,i=r*r*r;return[t*En(n)/(EB*($y+3*Xy*r+i*(7*qy+9*Jy*r))),n*($y+Xy*r+i*(qy+Jy*r))]}AS.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,A;a<Nit&&(s=n*($y+Xy*r+i*(qy+Jy*r))-e,A=$y+3*Xy*r+i*(7*qy+9*Jy*r),n-=o=s/A,r=n*n,i=r*r*r,!(cr(o)<EN));++a);return[EB*t*($y+3*Xy*r+i*(7*qy+9*Jy*r))/En(n),IA(wn(n)/EB)]};function Dit(){return gl(AS).scale(177.158)}function cS(t,e){var n=En(e),r=En(t)*n;return[n*wn(t)/r,wn(e)/r]}cS.invert=Vy(Vg);function Hit(){return gl(cS).scale(144.049).clipAngle(60)}function jit(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,A=null,c,l,u,f=1,d=1,h=Wy({point:function(B,E){var S=b([B,E]);this.stream.point(S[0],S[1])}}),g=Ny,v,y;function w(){return f=t*r,d=t*i,v=y=null,b}function b(B){var E=B[0]*f,S=B[1]*d;if(a){var F=S*o-E*s;E=E*o+S*s,S=F}return[E+e,S+n]}return b.invert=function(B){var E=B[0]-e,S=B[1]-n;if(a){var F=S*o+E*s;E=E*o-S*s,S=F}return[E/f,S/d]},b.stream=function(B){return v&&y===B?v:v=h(g(y=B))},b.postclip=function(B){return arguments.length?(g=B,A=c=l=u=null,w()):g},b.clipExtent=function(B){return arguments.length?(g=B==null?(A=c=l=u=null,Ny):AD(A=+B[0][0],c=+B[0][1],l=+B[1][0],u=+B[1][1]),w()):A==null?null:[[A,c],[l,u]]},b.scale=function(B){return arguments.length?(t=+B,w()):t},b.translate=function(B){return arguments.length?(e=+B[0],n=+B[1],w()):[e,n]},b.angle=function(B){return arguments.length?(a=B%360*Li,s=wn(a),o=En(a),w()):a*Fo},b.reflectX=function(B){return arguments.length?(r=B?-1:1,w()):r<0},b.reflectY=function(B){return arguments.length?(i=B?-1:1,w()):i<0},b.fitExtent=function(B,E){return _B(b,B,E)},b.fitSize=function(B,E){return eS(b,B,E)},b.fitWidth=function(B,E){return nS(b,B,E)},b.fitHeight=function(B,E){return rS(b,B,E)},b}function lS(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}lS.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(cr(i)>rn&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Git(){return gl(lS).scale(175.295)}function uS(t,e){return[En(e)*wn(t),wn(e)]}uS.invert=Vy(IA);function Kit(){return gl(uS).scale(249.5).clipAngle(90+rn)}function fS(t,e){var n=En(e),r=1+En(t)*n;return[n*wn(t)/r,wn(e)/r]}fS.invert=Vy(function(t){return 2*Vg(t)});function zit(){return gl(fS).scale(250).clipAngle(142)}function dS(t,e){return[lB(UE((Zi+e)/2)),-t]}dS.invert=function(t,e){return[-e,2*Vg(MN(t))-Zi]};function Wit(){var t=mD(dS),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var Vit=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Zit(t){if(typeof t=="function")return t;const e=`geo${Cf(t)}`,n=jn[e];if(!n)throw new Error(`Unknown coordinate: ${t}`);return n}function Yit(t){return{type:"FeatureCollection",features:t.flatMap(e=>$it(e).features)}}function $it(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const n=e[t.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(n==="feature")return{type:"FeatureCollection",features:[t]};if(n==="featureCollection")return t}function Xit(t,e){var n;for(const[r,i]of Object.entries(e))(n=t[r])===null||n===void 0||n.call(t,i)}function qit(t,e,n,r){const i=()=>{const s=e.filter(BD);return s.find(c=>c.sphere)?{type:"Sphere"}:Yit(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return Jit(t,a,n);if(o==="fitWidth")return tat(t,a,n)}function Jit(t,e,n){const{x:r,y:i,width:a,height:o}=n;t.fitExtent([[r,i],[a,o]],e)}function tat(t,e,n){const{width:r,height:i}=n,[[a,o],[s,A]]=XN(t.fitWidth(r,e)).bounds(e),c=Math.ceil(A-o),l=Math.min(Math.ceil(s-a),c),u=t.scale()*(l-1)/l,[f,d]=t.translate(),h=d+(i-c)/2;t.scale(u).translate([f,h]).precision(.2)}function eat(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:n}=e;return n==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[dit()]}}):n==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function BD(t){return t.type==="geoPath"}const xD=()=>t=>{const{children:e,coordinate:n={}}=t;if(!Array.isArray(e))return[];const{type:r="equalEarth"}=n,i=Vit(n,["type"]),a=Zit(r),o=e.map(u=>Object.assign(Object.assign({},u),{data:zw(u.data,t.data)})).map(eat);let s;function A(){return[["custom",(u,f,d,h)=>{const g=a();qit(g,o,{x:u,y:f,width:d,height:h},i),Xit(g,i),s=XN(g);const y=new vc({domain:[u,u+d]}),w=new vc({domain:[f,f+h]}),b=E=>{const S=g(E);if(!S)return[null,null];const[F,k]=S;return[y.map(F),w.map(k)]},B=E=>{if(!E)return null;const[S,F]=E,k=[y.invert(S),w.invert(F)];return g.invert(k)};return{transform:E=>b(E),untransform:E=>B(E)}}]]}function c(u){const{style:f,tooltip:d={}}=u;return Object.assign(Object.assign({},u),{type:"path",tooltip:vb(d,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},f),{d:h=>s(h)||[]})})}const l=u=>BD(u)?c(u):u;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:A},children:o.flatMap(l)})]};xD.props={};var nat=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _D=()=>t=>{const{type:e,data:n,scale:r,encode:i,style:a,animate:o,key:s,state:A,tooltip:c}=t,l=nat(t,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},l),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:a,animate:o,state:A,tooltip:c}]})]};_D.props={};function rat(){return{"composition.geoView":xD,"composition.geoPath":_D}}function iat(){var t,e,n,r,i=Ko(-30),a,o=1,s=1/0,A=.81;function c(d){var h,g=t.length,v=TO(t,_X,CX).visitAfter(u);for(r=d,h=0;h<g;++h)e=t[h],v.visit(f)}function l(){if(t){var d,h=t.length,g;for(a=new Array(h),d=0;d<h;++d)g=t[d],a[g.index]=+i(g,d,t)}}function u(d){var h=0,g,v,y=0,w,b,B;if(d.length){for(w=b=B=0;B<4;++B)(g=d[B])&&(v=Math.abs(g.value))&&(h+=g.value,y+=v,w+=v*g.x,b+=v*g.y);d.x=w/y,d.y=b/y}else{g=d,g.x=g.data.x,g.y=g.data.y;do h+=a[g.data.index];while(g=g.next)}d.value=h}function f(d,h,g,v){if(!d.value)return!0;var y=d.x-e.x,w=d.y-e.y,b=v-h,B=y*y+w*w;if(b*b/A<B)return B<s&&(y===0&&(y=Df(n),B+=y*y),w===0&&(w=Df(n),B+=w*w),B<o&&(B=Math.sqrt(o*B)),e.vx+=y*d.value*r/B,e.vy+=w*d.value*r/B),!0;if(d.length||B>=s)return;(d.data!==e||d.next)&&(y===0&&(y=Df(n),B+=y*y),w===0&&(w=Df(n),B+=w*w),B<o&&(B=Math.sqrt(o*B)));do d.data!==e&&(b=a[d.data.index]*r/B,e.vx+=y*b,e.vy+=w*b);while(d=d.next)}return c.initialize=function(d,h){t=d,n=h,l()},c.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Ko(+d),l(),c):i},c.distanceMin=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.distanceMax=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.theta=function(d){return arguments.length?(A=d*d,c):Math.sqrt(A)},c}function aat(t){return t.index}function CD(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function oat(t){var e=aat,n=u,r,i=Ko(30),a,o,s,A,c,l=1;t==null&&(t=[]);function u(v){return 1/Math.min(s[v.source.index],s[v.target.index])}function f(v){for(var y=0,w=t.length;y<l;++y)for(var b=0,B,E,S,F,k,T,L;b<w;++b)B=t[b],E=B.source,S=B.target,F=S.x+S.vx-E.x-E.vx||Df(c),k=S.y+S.vy-E.y-E.vy||Df(c),T=Math.sqrt(F*F+k*k),T=(T-a[b])/T*v*r[b],F*=T,k*=T,S.vx-=F*(L=A[b]),S.vy-=k*L,E.vx+=F*(L=1-L),E.vy+=k*L}function d(){if(o){var v,y=o.length,w=t.length,b=new Map(o.map((E,S)=>[e(E,S,o),E])),B;for(v=0,s=new Array(y);v<w;++v)B=t[v],B.index=v,typeof B.source!="object"&&(B.source=CD(b,B.source)),typeof B.target!="object"&&(B.target=CD(b,B.target)),s[B.source.index]=(s[B.source.index]||0)+1,s[B.target.index]=(s[B.target.index]||0)+1;for(v=0,A=new Array(w);v<w;++v)B=t[v],A[v]=s[B.source.index]/(s[B.source.index]+s[B.target.index]);r=new Array(w),h(),a=new Array(w),g()}}function h(){if(o)for(var v=0,y=t.length;v<y;++v)r[v]=+n(t[v],v,t)}function g(){if(o)for(var v=0,y=t.length;v<y;++v)a[v]=+i(t[v],v,t)}return f.initialize=function(v,y){o=v,c=y,d()},f.links=function(v){return arguments.length?(t=v,d(),f):t},f.id=function(v){return arguments.length?(e=v,f):e},f.iterations=function(v){return arguments.length?(l=+v,f):l},f.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Ko(+v),h(),f):n},f.distance=function(v){return arguments.length?(i=typeof v=="function"?v:Ko(+v),g(),f):i},f}function sat(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,A=0,c=0;for(a=0;a<o;++a)s=n[a],A+=s.x,c+=s.y;for(A=(A/o-t)*r,c=(c/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=A,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}var Aat=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const cat={joint:!0},lat={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},uat={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},fat={text:""};function dat(t,e,n){const{nodes:r,links:i}=t,{joint:a,nodeStrength:o,linkStrength:s}=e,{nodeKey:A=h=>h.id,linkKey:c=h=>h.id}=n,l=iat(),u=oat(i).id(fl(c));typeof o=="function"&&l.strength(o),typeof s=="function"&&u.strength(s);const f=jP(r).force("link",u).force("charge",l);a?f.force("center",sat()):f.force("x",zP()).force("y",WP()),f.stop();const d=Math.ceil(Math.log(f.alphaMin())/Math.log(1-f.alphaDecay()));for(let h=0;h<d;h++)f.tick();return{nodesData:r,linksData:i}}const OD=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=t,{nodeKey:l=S=>S.id,linkKey:u=S=>S.id}=n,f=Aat(n,["nodeKey","linkKey"]),d=Object.assign({nodeKey:l,linkKey:u},f),h=qt(d,"node"),g=qt(d,"link"),{links:v,nodes:y}=VC(e,d),{nodesData:w,linksData:b}=dat({links:v,nodes:y},Mt({},cat,a),d),B=cl(c,"link",{items:[S=>({name:"source",value:fl(u)(S.source)}),S=>({name:"target",value:fl(u)(S.target)})]}),E=cl(c,"node",{items:[S=>({name:"key",value:fl(l)(S)})]},!0);return[Mt({},lat,{data:b,encode:g,labels:s,style:qt(i,"link"),tooltip:B,animate:ll(A,"link")}),Mt({},uat,{data:w,encode:Object.assign({},h),scale:r,style:qt(i,"node"),tooltip:E,labels:[Object.assign(Object.assign({},fat),qt(i,"label")),...o],animate:ll(A,"link")})]};OD.props={};function hat(t,e){return t.parent===e.parent?1:2}function hS(t){var e=t.children;return e?e[0]:t.t}function pS(t){var e=t.children;return e?e[e.length-1]:t.t}function pat(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function gat(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function vat(t,e,n){return t.a.parent===e.parent?t.a:n}function SB(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}SB.prototype=Object.create(Ug.prototype);function yat(t){for(var e=new SB(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new SB(a[o],o)),i.parent=n;return(e.parent=new SB(null,0)).children=[e],e}function mat(){var t=hat,e=1,n=1,r=null;function i(c){var l=yat(c);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)c.eachBefore(A);else{var u=c,f=c,d=c;c.eachBefore(function(w){w.x<u.x&&(u=w),w.x>f.x&&(f=w),w.depth>d.depth&&(d=w)});var h=u===f?1:t(u,f)/2,g=h-u.x,v=e/(f.x+h+g),y=n/(d.depth||1);c.eachBefore(function(w){w.x=(w.x+g)*v,w.y=w.depth*y})}return c}function a(c){var l=c.children,u=c.parent.children,f=c.i?u[c.i-1]:null;if(l){gat(c);var d=(l[0].z+l[l.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-d):c.z=d}else f&&(c.z=f.z+t(c._,f._));c.parent.A=s(c,f,c.parent.A||u[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,l,u){if(l){for(var f=c,d=c,h=l,g=f.parent.children[0],v=f.m,y=d.m,w=h.m,b=g.m,B;h=pS(h),f=hS(f),h&&f;)g=hS(g),d=pS(d),d.a=c,B=h.z+w-f.z-v+t(h._,f._),B>0&&(pat(vat(h,c,u),c,B),v+=B,y+=B),w+=h.m,v+=f.m,b+=g.m,y+=d.m;h&&!pS(d)&&(d.t=h,d.m+=w-y),f&&!hS(g)&&(g.t=f,g.m+=v-b,u=c)}return u}function A(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}function wat(t,e){return t.parent===e.parent?1:2}function bat(t){return t.reduce(Bat,0)/t.length}function Bat(t,e){return t+e.x}function xat(t){return 1+t.reduce(_at,0)}function _at(t,e){return Math.max(t,e.y)}function Cat(t){for(var e;e=t.children;)t=e[0];return t}function Oat(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Eat(){var t=wat,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=bat(d),f.y=xat(d)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var A=Cat(a),c=Oat(a),l=A.x-t(A,c)/2,u=c.x+t(c,A)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-l)/(u-l)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}const ED=t=>e=>n=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=e,[A,c]=s,l=Qg(n,h=>h.children).sum(h=>h[r]).sort(o),u=t();u.size([1,1]),i&&u.nodeSize(i),a&&u.separation(a),u(l);const f=[];l.each(h=>{h[A]=h.x,h[c]=h.y,h.name=h.data.name,f.push(h)});const d=l.links();return d.forEach(h=>{h[A]=[h.source[A],h.target[A]],h[c]=[h.source[c],h.target[c]]}),{nodes:f,edges:d}},SD=t=>ED(Eat)(t);SD.props={};const MD=t=>ED(mat)(t);MD.props={};const Sat={sortBy:(t,e)=>e.value-t.value},Mat={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},Fat={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},kat={text:"",fontSize:10},FD=t=>{const{data:e,encode:n={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={}}=t,l=n==null?void 0:n.value,{nodes:u,edges:f}=MD(Object.assign(Object.assign(Object.assign({},Sat),a),{field:l}))(e),d=cl(c,"node",{title:"name",items:["value"]},!0),h=cl(c,"link",{title:"",items:[g=>({name:"source",value:g.source.name}),g=>({name:"target",value:g.target.name})]});return[Mt({},Fat,{data:f,encode:qt(n,"link"),scale:qt(r,"link"),labels:s,style:Object.assign({stroke:"#999"},qt(i,"link")),tooltip:h,animate:ll(A,"link")}),Mt({},Mat,{data:u,scale:qt(r,"node"),encode:qt(n,"node"),labels:[Object.assign(Object.assign({},kat),qt(i,"label")),...o],style:Object.assign({},qt(i,"node")),tooltip:d,animate:ll(A,"node")})]};FD.props={};var Tat=1664525,Iat=1013904223,kD=4294967296;function Lat(){var t=1;return function(){return(t=(Tat*t+Iat)%kD)/kD}}var Qat=Ft(52677);function Uat(t){return Qat(t)==="object"&&"length"in t?t:Array.from(t)}function Pat(t,e){for(var n=t.length,r,i;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Nut(t){return TD(t,lcg())}function TD(t,e){for(var n=0,r=(t=Pat(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&ID(o,a)?++n:(o=Nat(i=Rat(i,a)),n=0);return o}function Rat(t,e){var n,r;if(gS(e,t))return[e];for(n=0;n<t.length;++n)if(MB(e,t[n])&&gS(tm(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(MB(tm(t[n],t[r]),e)&&MB(tm(t[n],e),t[r])&&MB(tm(t[r],e),t[n])&&gS(LD(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function MB(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function ID(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function gS(t,e){for(var n=0;n<e.length;++n)if(!ID(t,e[n]))return!1;return!0}function Nat(t){switch(t.length){case 1:return Dat(t[0]);case 2:return tm(t[0],t[1]);case 3:return LD(t[0],t[1],t[2])}}function Dat(t){return{x:t.x,y:t.y,r:t.r}}function tm(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,A=a-n,c=o-r,l=s-i,u=Math.sqrt(A*A+c*c);return{x:(n+a+A/u*l)/2,y:(r+o+c/u*l)/2,r:(u+i+s)/2}}function LD(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,A=e.r,c=n.x,l=n.y,u=n.r,f=r-o,d=r-c,h=i-s,g=i-l,v=A-a,y=u-a,w=r*r+i*i-a*a,b=w-o*o-s*s+A*A,B=w-c*c-l*l+u*u,E=d*h-f*g,S=(h*B-g*b)/(E*2)-r,F=(g*v-h*y)/E,k=(d*b-f*B)/(E*2)-i,T=(f*y-d*v)/E,L=F*F+T*T-1,P=2*(a+S*F+k*T),R=S*S+k*k-a*a,U=-(Math.abs(L)>1e-6?(P+Math.sqrt(P*P-4*L*R))/(2*L):R/P);return{x:r+S+F*U,y:i+k+T*U,r:U}}function QD(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,A,c=r*r+o*o;c?(a=e.r+n.r,a*=a,A=t.r+n.r,A*=A,a>A?(i=(c+A-a)/(2*c),s=Math.sqrt(Math.max(0,A/c-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(c+a-A)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function UD(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function PD(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function FB(t){this._=t,this.next=null,this.previous=null}function RD(t,e){if(!(a=(t=Uat(t)).length))return 0;var n,r,i,a,o,s,A,c,l,u,f;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;QD(r,n,i=t[2]),n=new FB(n),r=new FB(r),i=new FB(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(A=3;A<a;++A){QD(n._,r._,i=t[A]),i=new FB(i),c=r.next,l=n.previous,u=r._.r,f=n._.r;do if(u<=f){if(UD(c._,i._)){r=c,n.next=r,r.previous=n,--A;continue t}u+=c._.r,c=c.next}else{if(UD(l._,i._)){n=l,n.next=r,r.previous=n,--A;continue t}f+=l._.r,l=l.previous}while(c!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=PD(n);(i=i.next)!==r;)(s=PD(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=TD(n,e),A=0;A<a;++A)n=t[A],n.x-=i.x,n.y-=i.y;return i.r}function Dut(t){return RD(t,lcg()),t}function Hat(t){return Math.sqrt(t.value)}function jat(){var t=null,e=1,n=1,r=Wh;function i(a){var o=Lat();return a.x=e/2,a.y=n/2,t?a.eachBefore(ND(t)).eachAfter(vS(r,.5,o)).eachBefore(DD(1)):a.eachBefore(ND(Hat)).eachAfter(vS(Wh,1,o)).eachAfter(vS(r,a.r/Math.min(e,n),o)).eachBefore(DD(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=$b(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Kg(+a),i):r},i}function ND(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function vS(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*e||0,A;if(s)for(a=0;a<o;++a)i[a].r+=s;if(A=RD(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=A+s}}}function DD(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Gat=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kat=(t,e)=>({size:[t,e],padding:0,sort:(n,r)=>r.value-n.value}),zat=(t,e,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),Wat={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},Vat={title:t=>t.data.name,items:[{field:"value"}]},Zat=(t,e,n)=>{const{value:r}=n,i=Sr(t)?fE().path(e.path)(t):Qg(t);return r?i.sum(a=>fl(r)(a)).sort(e.sort):i.count(),jat().size(e.size).padding(e.padding)(i),i.descendants()},HD=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:a={},scale:o={},style:s={},layout:A={},labels:c=[],tooltip:l={}}=t,u=Gat(t,["data","encode","scale","style","layout","labels","tooltip"]),f=zat(n,r,a),d=Zat(i,Mt({},Kat(n,r),A),Mt({},f.encode,a)),h=qt(s,"label");return Mt({},f,Object.assign(Object.assign({data:d,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},Wat),h),...c]},u),{tooltip:vb(l,Vat),axis:!1}))};HD.props={};function Yat(t){return t.target.depth}function $at(t){return t.depth}function Xat(t,e){return e-1-t.height}function kB(t,e){return t.sourceLinks.length?t.depth:e-1}function qat(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Ks(t.sourceLinks,Yat)-1:0}function TB(t){return function(){return t}}function jD(t,e){return IB(t.source,e.source)||t.index-e.index}function GD(t,e){return IB(t.target,e.target)||t.index-e.index}function IB(t,e){return t.y0-e.y0}function yS(t){return t.value}function Jat(t){return t.index}function tot(t){return t.nodes}function eot(t){return t.links}function KD(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function zD({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function not(){let t=0,e=0,n=1,r=1,i=24,a=8,o,s=Jat,A=kB,c,l,u,f=tot,d=eot,h=6;function g(z){const W={nodes:f(z),links:d(z)};return v(W),y(W),w(W),b(W),S(W),zD(W),W}g.update=function(z){return zD(z),z},g.nodeId=function(z){return arguments.length?(s=typeof z=="function"?z:TB(z),g):s},g.nodeAlign=function(z){return arguments.length?(A=typeof z=="function"?z:TB(z),g):A},g.nodeDepth=function(z){return arguments.length?(c=z,g):c},g.nodeSort=function(z){return arguments.length?(l=z,g):l},g.nodeWidth=function(z){return arguments.length?(i=+z,g):i},g.nodePadding=function(z){return arguments.length?(a=o=+z,g):a},g.nodes=function(z){return arguments.length?(f=typeof z=="function"?z:TB(z),g):f},g.links=function(z){return arguments.length?(d=typeof z=="function"?z:TB(z),g):d},g.linkSort=function(z){return arguments.length?(u=z,g):u},g.size=function(z){return arguments.length?(t=e=0,n=+z[0],r=+z[1],g):[n-t,r-e]},g.extent=function(z){return arguments.length?(t=+z[0][0],n=+z[1][0],e=+z[0][1],r=+z[1][1],g):[[t,e],[n,r]]},g.iterations=function(z){return arguments.length?(h=+z,g):h};function v({nodes:z,links:W}){z.forEach((G,Y)=>{G.index=Y,G.sourceLinks=[],G.targetLinks=[]});const D=new Map(z.map(G=>[s(G),G]));if(W.forEach((G,Y)=>{G.index=Y;let{source:at,target:it}=G;typeof at!="object"&&(at=G.source=KD(D,at)),typeof it!="object"&&(it=G.target=KD(D,it)),at.sourceLinks.push(G),it.targetLinks.push(G)}),u!=null)for(const{sourceLinks:G,targetLinks:Y}of z)G.sort(u),Y.sort(u)}function y({nodes:z}){for(const W of z)W.value=W.fixedValue===void 0?Math.max(xA(W.sourceLinks,yS),xA(W.targetLinks,yS)):W.fixedValue}function w({nodes:z}){const W=z.length;let D=new Set(z),G=new Set,Y=0;for(;D.size;){if(D.forEach(at=>{at.depth=Y;for(const{target:it}of at.sourceLinks)G.add(it)}),++Y>W)throw new Error("circular link");D=G,G=new Set}if(c){const at=Math.max(hr(z,At=>At.depth)+1,0);let it;for(let At=0;At<z.length;At++)it=z[At],it.depth=c.call(null,it,at)}}function b({nodes:z}){const W=z.length;let D=new Set(z),G=new Set,Y=0;for(;D.size;){if(D.forEach(at=>{at.height=Y;for(const{source:it}of at.targetLinks)G.add(it)}),++Y>W)throw new Error("circular link");D=G,G=new Set}}function B({nodes:z}){const W=Math.max(hr(z,Y=>Y.depth)+1,0),D=(n-t-i)/(W-1),G=new Array(W).fill(0).map(()=>[]);for(const Y of z){const at=Math.max(0,Math.min(W-1,Math.floor(A.call(null,Y,W))));Y.layer=at,Y.x0=t+at*D,Y.x1=Y.x0+i,G[at]?G[at].push(Y):G[at]=[Y]}if(l)for(const Y of G)Y.sort(l);return G}function E(z){const W=Ks(z,D=>(r-e-(D.length-1)*o)/xA(D,yS));for(const D of z){let G=e;for(const Y of D){Y.y0=G,Y.y1=G+Y.value*W,G=Y.y1+o;for(const at of Y.sourceLinks)at.width=at.value*W}G=(r-G+o)/(D.length+1);for(let Y=0;Y<D.length;++Y){const at=D[Y];at.y0+=G*(Y+1),at.y1+=G*(Y+1)}U(D)}}function S(z){const W=B(z);o=Math.min(a,(r-e)/(hr(W,D=>D.length)-1)),E(W);for(let D=0;D<h;++D){const G=Math.pow(.99,D),Y=Math.max(1-G,(D+1)/h);k(W,G,Y),F(W,G,Y)}}function F(z,W,D){for(let G=1,Y=z.length;G<Y;++G){const at=z[G];for(const it of at){let At=0,ht=0;for(const{source:Ct,value:_t}of it.targetLinks){const mt=_t*(it.layer-Ct.layer);At+=N(Ct,it)*mt,ht+=mt}if(!(ht>0))continue;const ut=(At/ht-it.y0)*W;it.y0+=ut,it.y1+=ut,R(it)}l===void 0&&at.sort(IB),at.length&&T(at,D)}}function k(z,W,D){for(let G=z.length,Y=G-2;Y>=0;--Y){const at=z[Y];for(const it of at){let At=0,ht=0;for(const{target:Ct,value:_t}of it.sourceLinks){const mt=_t*(Ct.layer-it.layer);At+=j(it,Ct)*mt,ht+=mt}if(!(ht>0))continue;const ut=(At/ht-it.y0)*W;it.y0+=ut,it.y1+=ut,R(it)}l===void 0&&at.sort(IB),at.length&&T(at,D)}}function T(z,W){const D=z.length>>1,G=z[D];P(z,G.y0-o,D-1,W),L(z,G.y1+o,D+1,W),P(z,r,z.length-1,W),L(z,e,0,W)}function L(z,W,D,G){for(;D<z.length;++D){const Y=z[D],at=(W-Y.y0)*G;at>1e-6&&(Y.y0+=at,Y.y1+=at),W=Y.y1+o}}function P(z,W,D,G){for(;D>=0;--D){const Y=z[D],at=(Y.y1-W)*G;at>1e-6&&(Y.y0-=at,Y.y1-=at),W=Y.y0-o}}function R({sourceLinks:z,targetLinks:W}){if(u===void 0){for(const{source:{sourceLinks:D}}of W)D.sort(GD);for(const{target:{targetLinks:D}}of z)D.sort(jD)}}function U(z){if(u===void 0)for(const{sourceLinks:W,targetLinks:D}of z)W.sort(GD),D.sort(jD)}function N(z,W){let D=z.y0-(z.sourceLinks.length-1)*o/2;for(const{target:G,width:Y}of z.sourceLinks){if(G===W)break;D+=Y+o}for(const{source:G,width:Y}of W.targetLinks){if(G===z)break;D-=Y}return D}function j(z,W){let D=W.y0-(W.targetLinks.length-1)*o/2;for(const{source:G,width:Y}of W.targetLinks){if(G===z)break;D+=Y+o}for(const{target:G,width:Y}of z.sourceLinks){if(G===W)break;D-=Y}return D}return g}const rot={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},iot={left:$at,right:Xat,center:qat,justify:kB};function aot(t){const e=typeof t;return e==="string"?iot[t]||kB:e==="function"?t:kB}const WD=t=>e=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:A,links:c,linkSort:l,iterations:u}=Object.assign({},rot,t),f=not().nodeSort(r).linkSort(l).links(c).nodes(A).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(aot(i)).iterations(u).extent([[0,0],[1,1]]);typeof n=="function"&&f.nodeId(n);const d=f(e),{nodes:h,links:g}=d,v=h.map(w=>{const{x0:b,x1:B,y0:E,y1:S}=w;return Object.assign(Object.assign({},w),{x:[b,B,B,b],y:[E,E,S,S]})}),y=g.map(w=>{const{source:b,target:B}=w,E=b.x1,S=B.x0,F=w.width/2;return Object.assign(Object.assign({},w),{x:[E,E,S,S],y:[w.y0+F,w.y0-F,w.y1+F,w.y1-F]})});return{nodes:v,links:y}};WD.props={};var oot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const sot={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},VD={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},ZD={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},Aot={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},YD=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:A={},tooltip:c={},interaction:l,state:u={},viewStyle:f={}}=t,{links:d,nodes:h}=VC(e,n);if(!d||d.length===0)return[Mt({},VD,{data:[],encode:{},scale:r,style:qt(i,"node"),viewStyle:f,labels:[],tooltip:!1,animate:!1,axis:!1,interaction:l,state:{}}),Mt({},ZD,{data:[],encode:{},labels:[],style:qt(i,"link"),tooltip:!1,animate:!1,interaction:l,state:{}})];const g=qt(n,"node"),v=qt(n,"link"),{key:y=N=>N.key,color:w=y}=g,{links:b,nodes:B}=WD(Object.assign(Object.assign(Object.assign({},sot),{nodeId:fl(y)}),a))({links:d,nodes:h}),E=qt(i,"label"),{text:S=y,spacing:F=5}=E,k=oot(E,["text","spacing"]),T=fl(y),L=cl(c,"node",{title:T,items:[{field:"value"}]},!0),P=cl(c,"link",{title:"",items:[N=>({name:"source",value:T(N.source)}),N=>({name:"target",value:T(N.target)})]}),[R,U]=Object.entries(u).reduce((N,[j,z])=>{const W=vw(z,"node","link"),D=qt(z,"node");N[0][j]=Object.assign(Object.assign({},W),D);const G=qt(z,"link");return N[1][j]=Object.assign(Object.assign({},W),G),N},[{},{}]);return[Mt({},VD,{data:B,encode:Object.assign(Object.assign({},g),{color:w}),scale:r,style:qt(i,"node"),viewStyle:f,labels:[Object.assign(Object.assign(Object.assign({},Aot),{text:S,dx:N=>N.x[0]<.5?F:-F}),k),...o],tooltip:L,animate:ll(A,"node"),axis:!1,interaction:l,state:R}),Mt({},ZD,{data:b,encode:v,labels:s,style:Object.assign({fill:v.color?void 0:"#aaa",lineWidth:0},qt(i,"link")),tooltip:P,animate:ll(A,"link"),interaction:l,state:U})]};YD.props={};function cot(t,e){return e.value-t.value}function lot(t,e){return e.frequency-t.frequency}function uot(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function fot(t,e){return`${t.name}`.localeCompare(`${e.name}`)}const hot={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function pot(t){const{y:e,thickness:n,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:A,targetWeight:c,sortBy:l}=Object.assign(Object.assign({},hot),t);function u(v){const y=v.nodes.map(b=>Object.assign({},b)),w=v.edges.map(b=>Object.assign({},b));return f(y,w),d(y,w),h(y,w),g(y,w),{nodes:y,edges:w}}function f(v,y){y.forEach(B=>{B.source=o(B),B.target=s(B),B.sourceWeight=A(B),B.targetWeight=c(B)});const w=kr(y,B=>B.source),b=kr(y,B=>B.target);return v.forEach(B=>{B.id=a(B);const E=w.has(B.id)?w.get(B.id):[],S=b.has(B.id)?b.get(B.id):[];B.frequency=E.length+S.length,B.value=xA(E,F=>F.sourceWeight)+xA(S,F=>F.targetWeight)}),{nodes:v,edges:y}}function d(v,y){const w=typeof l=="function"?l:Ye[l];w&&v.sort(w)}function h(v,y){const w=v.length;if(!w)throw fg("Invalid nodes: it's empty!");if(!r){const E=1/w;return v.forEach((S,F)=>{S.x=(F+.5)*E,S.y=e}),{nodes:v,edges:y}}const b=i/(2*w),B=v.reduce((E,S)=>E+=S.value,0);return v.reduce((E,S)=>{S.weight=S.value/B,S.width=S.weight*(1-i),S.height=n;const F=b+E,k=F+S.width,T=e-n/2,L=T+n;return S.x=[F,k,k,F],S.y=[T,T,L,L],E+S.width+2*b},0),{nodes:v,edges:y}}function g(v,y){const w=new Map(v.map(E=>[E.id,E]));if(!r)return y.forEach(E=>{const S=o(E),F=s(E),k=w.get(S),T=w.get(F);k&&T&&(E.x=[k.x,T.x],E.y=[k.y,T.y])}),{nodes:v,edges:y};y.forEach(E=>{E.x=[0,0,0,0],E.y=[e,e,e,e]});const b=kr(y,E=>E.source),B=kr(y,E=>E.target);v.forEach(E=>{const{edges:S,width:F,x:k,y:T,value:L,id:P}=E,R=b.get(P)||[],U=B.get(P)||[];let N=0;R.map(j=>{const z=j.sourceWeight/L*F;j.x[0]=k[0]+N,j.x[1]=k[0]+N+z,N+=z}),U.forEach(j=>{const z=j.targetWeight/L*F;j.x[3]=k[0]+N,j.x[2]=k[0]+N+z,N+=z})})}return u}const mS=t=>e=>pot(t)(e);mS.props={};var $D=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wS={y:0,thickness:.05,marginRatio:.1,id:t=>t.key,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null},got={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},vot={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},yot={position:"outside",fontSize:10},XD=(t,e)=>{const{data:n,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:A=[],animate:c={},tooltip:l={}}=t,{nodes:u,links:f}=VC(n,r),d=qt(r,"node"),h=qt(r,"link"),{key:g=j=>j.key,color:v=g}=d,{linkEncodeColor:y=j=>j.source}=h,{nodeWidthRatio:w=wS.thickness,nodePaddingRatio:b=wS.marginRatio}=o,B=$D(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:E,edges:S}=mS(Object.assign(Object.assign(Object.assign(Object.assign({},wS),{id:fl(g),thickness:w,marginRatio:b}),B),{weight:!0}))({nodes:u,edges:f}),F=qt(a,"label"),{text:k=g}=F,T=$D(F,["text"]),L=cl(l,"node",{title:"",items:[j=>({name:j.key,value:j.value})]},!0),P=cl(l,"link",{title:"",items:[j=>({name:`${j.source} -> ${j.target}`,value:j.value})]}),{height:R,width:U}=e,N=Math.min(R,U);return[Mt({},vot,{data:S,encode:Object.assign(Object.assign({},h),{color:y}),labels:A,style:Object.assign({fill:y?void 0:"#aaa"},qt(a,"link")),tooltip:P,animate:ll(c,"link")}),Mt({},got,{data:E,encode:Object.assign(Object.assign({},d),{color:v}),scale:i,style:qt(a,"node"),coordinate:{type:"polar",outerRadius:(N-20)/N,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},yot),{text:k}),T),...s],tooltip:L,animate:ll(c,"node"),axis:!1})]};XD.props={};var mot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wot=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),bot=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),Bot={fontSize:10,text:t=>Gs(t.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0,isTreemapLabel:!0},xot={title:t=>{var e,n;return(n=(e=t.path)===null||e===void 0?void 0:e.join)===null||n===void 0?void 0:n.call(e,".")},items:[{field:"value"}]},_ot={title:t=>Gs(t.path),items:[{field:"value"}]},qD=(t,e)=>{const{width:n,height:r,options:i}=e,{data:a,encode:o={},scale:s,style:A={},layout:c={},labels:l=[],tooltip:u={}}=t,f=mot(t,["data","encode","scale","style","layout","labels","tooltip"]),d=nn(i,["interaction","treemapDrillDown"])||nn(i,["marks",0,"interaction","treemapDrillDown"]),h=Mt({},wot(n,r),c,{layer:d?w=>w.depth===1:c.layer}),[g,v]=tR(a,h,o),y=qt(A,"label");return Mt({},bot(n,r),Object.assign(Object.assign({data:g,scale:s,style:A,labels:[Object.assign(Object.assign(Object.assign({},Bot),y),d&&{cursor:"pointer"}),...l]},f),{encode:o,tooltip:vb(u,xot),axis:!1}),d?{interaction:Object.assign(Object.assign({},f.interaction),{treemapDrillDown:d?Object.assign(Object.assign({},d),{originData:v,layout:h}):void 0}),encode:Object.assign({color:w=>Gs(w.path)},o),tooltip:vb(u,_ot)}:{})};qD.props={};function Cot(){return{"data.arc":mS,"data.cluster":SD,"mark.forceGraph":OD,"mark.tree":FD,"mark.pack":HD,"mark.sankey":YD,"mark.chord":XD,"mark.treemap":qD,"mark.partition":rR}}var JD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Oot(t,e){return Ks(t,n=>e[n])}function Eot(t,e){return hr(t,n=>e[n])}function t5(t,e){const n=bS(t,e)*2.5-BS(t,e)*1.5;return Ks(t,r=>e[r]>=n?e[r]:NaN)}function bS(t,e){return eB(t,.25,n=>e[n])}function Sot(t,e){return eB(t,.5,n=>e[n])}function BS(t,e){return eB(t,.75,n=>e[n])}function e5(t,e){const n=BS(t,e)*2.5-bS(t,e)*1.5;return hr(t,r=>e[r]<=n?e[r]:NaN)}function Mot(){return(t,e)=>{const{encode:n}=e,{y:r,x:i}=n,{value:a}=r,{value:o}=i;return[Array.from(kr(t,c=>o[+c]).values()).flatMap(c=>{const l=t5(c,a),u=e5(c,a);return c.filter(f=>a[f]<l||a[f]>u)}),e]}}const n5=t=>{const{data:e,encode:n,style:r={},tooltip:i={},transform:a,animate:o}=t,s=JD(t,["data","encode","style","tooltip","transform","animate"]),{point:A=!0}=r,c=JD(r,["point"]),{y:l}=n,u={y:l,y1:l,y2:l,y3:l,y4:l},f={y1:bS,y2:Sot,y3:BS},d=cl(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),h=cl(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!A)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:Oot},f),{y4:Eot})],encode:Object.assign(Object.assign({},n),u),style:c,tooltip:d},s);const g=qt(c,"box"),v=qt(c,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:t5},f),{y4:e5})],encode:Object.assign(Object.assign({},n),u),style:g,tooltip:d,animate:ll(o,"box")},s),{type:"point",data:e,transform:[{type:Mot}],encode:n,style:Object.assign({},v),tooltip:h,animate:ll(o,"point")}]};n5.props={};const r5=(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))/2,Fot=(t,e,n)=>{const r=Math.atan2(t[1]-n[1],t[0]-n[0]);let a=Math.atan2(e[1]-n[1],e[0]-n[0])-r;return a<0&&(a+=Math.PI*2),a},kot=(t,e)=>{if(!e)return;const{coordinate:n}=e;if(!(n!=null&&n.getCenter))return;const r=n.getCenter();return(i,a,o)=>{const{document:s}=e.canvas,{color:A,index:c}=a,l=s.createElement("g",{}),u=r5(i[0],i[1]),f=r5(i[0],r)*2,d=Fot(i[3],i[0],r)>Math.PI,h=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",u,u,0,1,0,...i[1]],["A",f+u*2,f+u*2,0,d?1:0,0,...i[2]],["A",u,u,0,1,c===0?0:1,...i[3]],["A",f,f,0,d?1:0,1,...i[0]],["Z"]]},o),L_(t,["shape","last","first"])),{fill:A||o.color})});return l.appendChild(h),l}};var em=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Tot=(t,e)=>{const{shape:n,radius:r}=t,i=em(t,["shape","radius"]),a=qt(i,"pointer"),o=qt(i,"pin"),{shape:s}=a,A=em(a,["shape"]),{shape:c}=o,l=em(o,["shape"]),{coordinate:u,theme:f}=e;return(d,h)=>{const g=d.map(N=>u.invert(N)),[v,y,w]=ij(u,"polar"),b=u.clone(),{color:B}=h,E=c_({startAngle:v,endAngle:y,innerRadius:w,outerRadius:r});E.push(["cartesian"]),b.update({transformations:E});const S=g.map(N=>b.map(N)),[F,k]=Z_(S),[T,L]=u.getCenter(),P=Object.assign(Object.assign({x1:F,y1:k,x2:T,y2:L,stroke:B},A),i),R=Object.assign(Object.assign({cx:T,cy:L,stroke:B},l),i),U=Ze(new ka);return uu(s)||(typeof s=="function"?U.append(()=>s(S,h,b,f)):U.append("line").call(Me,P).node()),uu(c)||(typeof c=="function"?U.append(()=>c(S,h,b,f)):U.append("circle").call(Me,R).node()),U.node()}},i5={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Iot={style:{shape:Tot,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},Lot={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function Qot(t){if(rr(t)){const e=Math.max(0,Math.min(t,1));return{percent:e,target:e,total:1}}return t}function Uot(t,e){const{name:n="score",target:r,total:i,percent:a,thresholds:o=[]}=Qot(t),s=a||r,A=a?1:i,c=Object.assign({y:{domain:[0,A]}},e);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((l,u)=>({x:n,y:u>=1?l-o[u-1]:l,color:u})),target:s,total:A,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:A-s,color:"total"}],target:s,total:A,scale:c}}function Pot(t,{target:e,total:n}){const{content:r}=t;return r?r(e,n):e.toString()}const a5=t=>{const{data:e={},scale:n={},style:r={},animate:i={},transform:a=[]}=t,o=em(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:A,target:c,total:l,scale:u}=Uot(e,n),f=qt(r,"text"),{tooltip:d}=f,h=em(f,["tooltip"]),g=x6(r,["pointer","pin"]),v=qt(r,"arc"),y=v.shape;return[Mt({},i5,Object.assign({type:"interval",transform:[{type:"stackY"}],data:A,scale:u,style:y==="round"?Object.assign(Object.assign({},v),{shape:kot}):v,animate:typeof i=="object"?qt(i,"arc"):i},o)),Mt({},i5,Iot,Object.assign({type:"point",data:s,scale:u,style:g,animate:typeof i=="object"?qt(i,"indicator"):i},o)),Mt({},Lot,{style:Object.assign({text:Pot(h,{target:c,total:l})},h),tooltip:d,animate:typeof i=="object"?qt(i,"text"):i})]};a5.props={};const o5=5e3;function s5(t,e,n){return t+(e-t)*n}function Rot(t,e,n,r){return e===0?[[t+1/2*n/Math.PI/2,r/2],[t+1/2*n/Math.PI,r],[t+n/4,r]]:e===1?[[t+1/2*n/Math.PI/2*(Math.PI-2),r],[t+1/2*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:e===2?[[t+1/2*n/Math.PI/2,-r/2],[t+1/2*n/Math.PI,-r],[t+n/4,-r]]:[[t+1/2*n/Math.PI/2*(Math.PI-2),-r],[t+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function Not(t,e,n,r,i,a,o){const s=Math.ceil(2*t/n*4)*4,A=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const l=a-t+c-t*2;A.push(["M",l,e]);let u=0;for(let f=0;f<s;++f){const d=f%4,h=Rot(f*n/4,d,n,i);A.push(["C",h[0][0]+l,-h[0][1]+e,h[1][0]+l,-h[1][1]+e,h[2][0]+l,-h[2][1]+e]),f===s-1&&(u=h[2][0])}return A.push(["L",u+l,o+t]),A.push(["L",l,o+t]),A.push(["Z"]),A}function Dot(t,e,n,r,i,a,o,s,A,c,l){const{fill:u,fillOpacity:f,opacity:d}=i;for(let h=0;h<r;h++){const g=r<=1?1:h/(r-1),v=Not(s,o+s*n,A,0,s/40,t,e),y=l.createElement("path",{style:{d:v,fill:u,opacity:s5(.2,.9,g)*Number(d||f)}});a.appendChild(y);try{if(c===!1)return;const w=[{transform:"translate(0, 0)"},{transform:`translate(${A*2}, 0)`}];y.animate(w,{duration:s5(.5*o5,o5,g)*2,iterations:1/0})}catch(w){console.warn("off-screen group animate error!")}}}function Hot(t,e,n){return`
      M ${t} ${e-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function jot(t,e,n){const i=n*.618;return`
      M ${t-i} ${e-n}
      L ${t+i} ${e-n}
      L ${t+i} ${e+n}
      L ${t-i} ${e+n}
      Z
    `}function Got(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e}
      L ${t} ${e+n}
      L ${t-n} ${e}
      Z
    `}function Kot(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e+n}
      L ${t-n} ${e+n}
      Z
    `}function zot(t,e,n){const r=n*4/3,i=Math.max(r,n*2),a=r/2,o=t,s=a+e-i/2,A=Math.asin(a/((i-a)*.85)),c=Math.sin(A)*a,l=Math.cos(A)*a,u=o-l,f=s+c,d=t,h=s+a/Math.sin(A);return`
      M ${u} ${f}
      A ${a} ${a} 0 1 1 ${u+l*2} ${f}
      Q ${d} ${h} ${t} ${e+i/2}
      Q ${d} ${h} ${u} ${f}
      Z 
    `}const A5={pin:zot,rect:jot,circle:Hot,diamond:Got,triangle:Kot};var c5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Wot=(t="circle")=>A5[t]||A5.circle,l5=(t,e)=>{if(!e)return;const{coordinate:n}=e,{liquidOptions:r,styleOptions:i}=t,{liquidShape:a,percent:o}=r,{background:s,outline:A={},wave:c={}}=i,l=c5(i,["background","outline","wave"]),{border:u=2,distance:f=0}=A,d=c5(A,["border","distance"]),{length:h=192,count:g=3}=c;return(v,y,w)=>{const{document:b}=e.canvas,{color:B,fillOpacity:E}=w,S=Object.assign(Object.assign({fill:B},w),l),F=b.createElement("g",{}),[k,T]=n.getCenter(),L=n.getSize(),P=Math.min(...L)/2,R=hi(a)?a:Wot(a),U=R(k,T,P,...L),N=R(k,T,P+u/2,...L);if(Object.keys(s).length){const W=b.createElement("path",{style:Object.assign({d:U,fill:"#fff"},s)});F.appendChild(W)}if(o>0){const W=b.createElement("path",{style:{d:N}});F.appendChild(W),F.style.clipPath=W,Dot(k,T,1-o,g,S,F,W.getBBox().y,P*2,h,!0,b)}const j=b.createElement("path",{style:{d:U,fill:"transparent",lineWidth:u+2*f,stroke:"#fff"}}),z=b.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:U,stroke:B,strokeOpacity:E,lineWidth:u},S),d),{fill:"transparent"})});return F.appendChild(j),F.appendChild(z),F}};l5.props={};var Vot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zot={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:l5},animate:{enter:{type:"fadeIn"}}},Yot={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},u5=t=>{const{data:e={},style:n={},animate:r}=t,i=Vot(t,["data","style","animate"]),a=Math.max(0,rr(e)?e:e==null?void 0:e.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},qt(n,"text")),qt(n,"content")),A=qt(n,"outline"),c=qt(n,"wave"),l=qt(n,"background");return[Mt({},Zot,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:n==null?void 0:n.shape},styleOptions:Object.assign(Object.assign({},n),{outline:A,wave:c,background:l})},animate:r},i)),Mt({},Yot,{style:Object.assign({text:`${xw(a*100)} %`},s),animate:r})]};u5.props={};function xS(t){const e=new Array(t);for(let n=0;n<t;++n)e[n]=0;return e}function f5(t,e){return xS(t).map(()=>xS(e))}function Zh(t,e){let n=0;for(let r=0;r<t.length;++r)n+=t[r]*e[r];return n}function _S(t){return Math.sqrt(Zh(t,t))}function CS(t,e,n){for(let r=0;r<e.length;++r)t[r]=e[r]*n}function Su(t,e,n,r,i){for(let a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function Hut(t,e,n){for(let r=0;r<t.length;++r)t[r]=Zh(e[r],n)}function $ot(t,e,n){n=n||{};const r=n.maxIterations||e.length*200,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,A=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,l=n.psi!==void 0?n.psi:-.5,u=n.sigma!==void 0?n.sigma:.5;let f;const d=e.length,h=new Array(d+1);h[0]=e,h[0].fx=t(e),h[0].id=0;for(let E=0;E<d;++E){const S=e.slice();S[E]=S[E]?S[E]*i:a,h[E+1]=S,h[E+1].fx=t(S),h[E+1].id=E+1}function g(E){for(let S=0;S<E.length;S++)h[d][S]=E[S];h[d].fx=E.fx}const v=(E,S)=>E.fx-S.fx,y=e.slice(),w=e.slice(),b=e.slice(),B=e.slice();for(let E=0;E<r;++E){if(h.sort(v),n.history){const F=h.map(k=>{const T=k.slice();return T.fx=k.fx,T.id=k.id,T});F.sort((k,T)=>k.id-T.id),n.history.push({x:h[0].slice(),fx:h[0].fx,simplex:F})}f=0;for(let F=0;F<d;++F)f=Math.max(f,Math.abs(h[0][F]-h[1][F]));if(Math.abs(h[0].fx-h[d].fx)<o&&f<s)break;for(let F=0;F<d;++F){y[F]=0;for(let k=0;k<d;++k)y[F]+=h[k][F];y[F]/=d}const S=h[d];if(Su(w,1+A,y,-A,S),w.fx=t(w),w.fx<h[0].fx)Su(B,1+c,y,-c,S),B.fx=t(B),B.fx<w.fx?g(B):g(w);else if(w.fx>=h[d-1].fx){let F=!1;if(w.fx>S.fx?(Su(b,1+l,y,-l,S),b.fx=t(b),b.fx<S.fx?g(b):F=!0):(Su(b,1-l*A,y,l*A,S),b.fx=t(b),b.fx<w.fx?g(b):F=!0),F){if(u>=1)break;for(let k=1;k<h.length;++k)Su(h[k],1-u,h[0],u,h[k]),h[k].fx=t(h[k])}}else g(w)}return h.sort(v),{fx:h[0].fx,x:h[0]}}function Xot(t,e,n,r){r=r||{};const i=r.maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n);let A=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return e;if(s===0)return n;for(let c=0;c<i;++c){A/=2;const l=e+A,u=t(l);if(u*o>=0&&(e=l),Math.abs(A)<a||u===0)return l}return e+A}function qot(t,e,n,r,i,a,o){const s=n.fx,A=Zh(n.fxprime,e);let c=s,l=s,u=A,f=0;i=i||1,a=a||1e-6,o=o||.1;function d(h,g,v){for(let y=0;y<16;++y)if(i=(h+g)/2,Su(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),u=Zh(r.fxprime,e),c>s+a*i*A||c>=v)g=i;else{if(Math.abs(u)<=-o*A)return i;u*(g-h)>=0&&(g=h),h=i,v=c}return 0}for(let h=0;h<10;++h){if(Su(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),u=Zh(r.fxprime,e),c>s+a*i*A||h&&c>=l)return d(f,i,l);if(Math.abs(u)<=-o*A)return i;if(u>=0)return d(i,f,c);l=c,f=i,i*=2}return i}function Jot(t,e,n){let r={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()};const a=e.slice();let o,s=1;n=n||{};const A=n.maxIterations||e.length*20;r.fx=t(r.x,r.fxprime);const c=r.fxprime.slice();CS(c,r.fxprime,-1);for(let l=0;l<A;++l){if(s=qot(t,c,r,i,s),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)CS(c,r.fxprime,-1);else{Su(a,1,i.fxprime,-1,r.fxprime);const u=Zh(r.fxprime,r.fxprime),f=Math.max(0,Zh(a,i.fxprime)/u);Su(c,f,c,-1,i.fxprime),o=r,r=i,i=o}if(_S(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}function jut(t,e,n,r){const i=n.slice(),a=n.slice();let o,s,A;gemv(a,t,n),weightedSum(i,1,e,-1,a);const c=i.slice();o=dot(i,i);for(let l=0;l<e.length&&(gemv(a,t,c),A=o/dot(c,a),r&&r.push({x:n.slice(),p:c.slice(),alpha:A}),weightedSum(n,1,n,A,c),weightedSum(i,1,i,-A,a),s=dot(i,i),!(Math.sqrt(s)<=1e-10));++l)weightedSum(c,1,i,s/o,c),o=s;return r&&r.push({x:n.slice(),p:c.slice(),alpha:A}),n}const d5=1e-10;function h5(t,e){const n=est(t),r=n.filter(function(A){return tst(A,t)});let i=0,a=0,o;const s=[];if(r.length>1){const A=nst(r);for(o=0;o<r.length;++o){const l=r[o];l.angle=Math.atan2(l.x-A.x,l.y-A.y)}r.sort(function(l,u){return u.angle-l.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const l=r[o];a+=(c.x+l.x)*(l.y-c.y);const u={x:(l.x+c.x)/2,y:(l.y+c.y)/2};let f=null;for(let d=0;d<l.parentIndex.length;++d)if(c.parentIndex.indexOf(l.parentIndex[d])>-1){const h=t[l.parentIndex[d]],g=Math.atan2(l.x-h.x,l.y-h.y),v=Math.atan2(c.x-h.x,c.y-h.y);let y=v-g;y<0&&(y+=2*Math.PI);const w=v-y/2;let b=nm(u,{x:h.x+h.radius*Math.sin(w),y:h.y+h.radius*Math.cos(w)});b>h.radius*2&&(b=h.radius*2),(f===null||f.width>b)&&(f={circle:h,width:b,p1:l,p2:c})}f!==null&&(s.push(f),i+=OS(f.circle.radius,f.width),c=l)}}else{let A=t[0];for(o=1;o<t.length;++o)t[o].radius<A.radius&&(A=t[o]);let c=!1;for(o=0;o<t.length;++o)if(nm(t[o],A)>Math.abs(A.radius-t[o].radius)){c=!0;break}c?i=a=0:(i=A.radius*A.radius*Math.PI,s.push({circle:A,p1:{x:A.x,y:A.y+A.radius},p2:{x:A.x-d5,y:A.y+A.radius},width:A.radius*2}))}return a/=2,e&&(e.area=i+a,e.arcArea=i,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),i+a}function tst(t,e){for(let n=0;n<e.length;++n)if(nm(t,e[n])>e[n].radius+d5)return!1;return!0}function est(t){const e=[];for(let n=0;n<t.length;++n)for(let r=n+1;r<t.length;++r){const i=g5(t[n],t[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[n,r],e.push(o)}}return e}function OS(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function nm(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function p5(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return OS(t,r)+OS(e,i)}function g5(t,e){const n=nm(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=t.x+a*(e.x-t.x)/n,A=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(o/n),l=-(e.x-t.x)*(o/n);return[{x:s+c,y:A-l},{x:s-c,y:A+l}]}function nst(t){const e={x:0,y:0};for(let n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function rst(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const n=e.initialLayout||sst,r=e.lossFunction||SS;t=ist(t);const i=n(t,e),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const c=$ot(function(l){const u={};for(let f=0;f<o.length;++f){const d=o[f];u[d]={x:l[2*f],y:l[2*f+1],radius:i[d].radius}}return r(u,t)},a,e).x;for(let l=0;l<o.length;++l)s=o[l],i[s].x=c[2*l],i[s].y=c[2*l+1];return i}const v5=1e-10;function ES(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+v5?Math.abs(t-e):Xot(function(r){return p5(t,e,r)-n},0,t+e)}function ist(t){t=t.slice();const e=[],n={};let r,i,a,o;for(r=0;r<t.length;++r){const s=t[r];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],n[[a,o]]=!0,n[[o,a]]=!0)}for(e.sort((s,A)=>s>A?1:-1),r=0;r<e.length;++r)for(a=e[r],i=r+1;i<e.length;++i)o=e[i],[a,o]in n||t.push({sets:[a,o],size:0});return t}function ast(t,e,n){const r=f5(e.length,e.length),i=f5(e.length,e.length);return t.filter(function(a){return a.sets.length==2}).map(function(a){const o=n[a.sets[0]],s=n[a.sets[1]],A=Math.sqrt(e[o].size/Math.PI),c=Math.sqrt(e[s].size/Math.PI),l=ES(A,c,a.size);r[o][s]=r[s][o]=l;let u=0;a.size+1e-10>=Math.min(e[o].size,e[s].size)?u=1:a.size<=1e-10&&(u=-1),i[o][s]=i[s][o]=u}),{distances:r,constraints:i}}function ost(t,e,n,r){let i=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<n.length;++a){const o=t[2*a],s=t[2*a+1];for(let A=a+1;A<n.length;++A){const c=t[2*A],l=t[2*A+1],u=n[a][A],f=r[a][A],d=(c-o)*(c-o)+(l-s)*(l-s),h=Math.sqrt(d),g=d-u*u;f>0&&h<=u||f<0&&h>=u||(i+=2*g*g,e[2*a]+=4*g*(o-c),e[2*a+1]+=4*g*(s-l),e[2*A]+=4*g*(c-o),e[2*A+1]+=4*g*(l-s))}}return i}function sst(t,e){let n=cst(t,e);const r=e.lossFunction||SS;if(t.length>=8){const i=Ast(t,e),a=r(i,t),o=r(n,t);a+1e-8<o&&(n=i)}return n}function Ast(t,e){e=e||{};const n=e.restarts||10,r=[],i={};let a;for(a=0;a<t.length;++a){const g=t[a];g.sets.length==1&&(i[g.sets[0]]=r.length,r.push(g))}const o=ast(t,r,i);let s=o.distances;const A=o.constraints,c=_S(s.map(_S))/s.length;s=s.map(function(g){return g.map(function(v){return v/c})});const l=function(g,v){return ost(g,v,s,A)};let u,f;for(a=0;a<n;++a){const g=xS(s.length*2).map(Math.random);f=Jot(l,g,e),(!u||f.fx<u.fx)&&(u=f)}const d=u.x,h={};for(a=0;a<r.length;++a){const g=r[a];h[g.sets[0]]={x:d[2*a]*c,y:d[2*a+1]*c,radius:Math.sqrt(g.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)CS(e.history[a].x,c);return h}function cst(t,e){const n=e&&e.lossFunction?e.lossFunction:SS,r={},i={};let a;for(let u=0;u<t.length;++u){const f=t[u];f.sets.length==1&&(a=f.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:f.size,radius:Math.sqrt(f.size/Math.PI)},i[a]=[])}t=t.filter(function(u){return u.sets.length==2});for(let u=0;u<t.length;++u){const f=t[u];let d=f.hasOwnProperty("weight")?f.weight:1;const h=f.sets[0],g=f.sets[1];f.size+v5>=Math.min(r[h].size,r[g].size)&&(d=0),i[h].push({set:g,size:f.size,weight:d}),i[g].push({set:h,size:f.size,weight:d})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let u=0;for(let f=0;f<i[a].length;++f)u+=i[a][f].size*i[a][f].weight;o.push({set:a,size:u})}function s(u,f){return f.size-u.size}o.sort(s);const A={};function c(u){return u.set in A}function l(u,f){r[f].x=u.x,r[f].y=u.y,A[f]=!0}l({x:0,y:0},o[0].set);for(let u=1;u<o.length;++u){const f=o[u].set,d=i[f].filter(c);if(a=r[f],d.sort(s),d.length===0)throw"ERROR: missing pairwise overlap information";const h=[];for(let y=0;y<d.length;++y){const w=r[d[y].set],b=ES(a.radius,w.radius,d[y].size);h.push({x:w.x+b,y:w.y}),h.push({x:w.x-b,y:w.y}),h.push({y:w.y+b,x:w.x}),h.push({y:w.y-b,x:w.x});for(let B=y+1;B<d.length;++B){const E=r[d[B].set],S=ES(a.radius,E.radius,d[B].size),F=g5({x:w.x,y:w.y,radius:b},{x:E.x,y:E.y,radius:S});for(let k=0;k<F.length;++k)h.push(F[k])}}let g=1e50,v=h[0];for(let y=0;y<h.length;++y){r[f].x=h[y].x,r[f].y=h[y].y;const w=n(r,t);w<g&&(g=w,v=h[y])}l(v,f)}return r}function SS(t,e){let n=0;function r(i){return i.map(function(a){return t[a]})}for(let i=0;i<e.length;++i){const a=e[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const A=t[a.sets[0]],c=t[a.sets[1]];o=p5(A.radius,c.radius,nm(A,c))}else o=h5(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;n+=s*(o-a.size)*(o-a.size)}return n}function lst(t,e,n){n===null?t.sort(function(i,a){return a.radius-i.radius}):t.sort(n);let r;if(t.length>0){const i=t[0].x,a=t[0].y;for(r=0;r<t.length;++r)t[r].x-=i,t[r].y-=a}if(t.length==2&&distance(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){const i=Math.atan2(t[1].x,t[1].y)-e;let a,o;const s=Math.cos(i),A=Math.sin(i);for(r=0;r<t.length;++r)a=t[r].x,o=t[r].y,t[r].x=s*a-A*o,t[r].y=A*a+s*o}if(t.length>2){let i=Math.atan2(t[2].x,t[2].y)-e;for(;i<0;)i+=2*Math.PI;for(;i>2*Math.PI;)i-=2*Math.PI;if(i>Math.PI){const a=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){const o=(t[r].x+a*t[r].y)/(1+a*a);t[r].x=2*o-t[r].x,t[r].y=2*o*a-t[r].y}}}}function ust(t){t.map(function(o){o.parent=o});function e(o){return o.parent!==o&&(o.parent=e(o.parent)),o.parent}function n(o,s){const A=e(o),c=e(s);A.parent=c}for(let o=0;o<t.length;++o)for(let s=o+1;s<t.length;++s){const A=t[o].radius+t[s].radius;distance(t[o],t[s])+1e-10<A&&n(t[s],t[o])}const r={};let i;for(let o=0;o<t.length;++o)i=e(t[o]).parent.setid,i in r||(r[i]=[]),r[i].push(t[o]);t.map(function(o){delete o.parent});const a=[];for(i in r)r.hasOwnProperty(i)&&a.push(r[i]);return a}function MS(t){const e=function(n){const r=Math.max.apply(null,t.map(function(a){return a[n]+a.radius})),i=Math.min.apply(null,t.map(function(a){return a[n]-a.radius}));return{max:r,min:i}};return{xRange:e("x"),yRange:e("y")}}function Gut(t,e,n){e===null&&(e=Math.PI/2);let r=[],i,a;for(a in t)if(t.hasOwnProperty(a)){const f=t[a];r.push({x:f.x,y:f.y,radius:f.radius,setid:a})}const o=ust(r);for(i=0;i<o.length;++i){lst(o[i],e,n);const f=MS(o[i]);o[i].size=(f.xRange.max-f.xRange.min)*(f.yRange.max-f.yRange.min),o[i].bounds=f}o.sort(function(f,d){return d.size-f.size}),r=o[0];let s=r.bounds;const A=(s.xRange.max-s.xRange.min)/50;function c(f,d,h){if(!f)return;const g=f.bounds;let v,y,w;d?v=s.xRange.max-g.xRange.min+A:(v=s.xRange.max-g.xRange.max,w=(g.xRange.max-g.xRange.min)/2-(s.xRange.max-s.xRange.min)/2,w<0&&(v+=w)),h?y=s.yRange.max-g.yRange.min+A:(y=s.yRange.max-g.yRange.max,w=(g.yRange.max-g.yRange.min)/2-(s.yRange.max-s.yRange.min)/2,w<0&&(y+=w));for(let b=0;b<f.length;++b)f[b].x+=v,f[b].y+=y,r.push(f[b])}let l=1;for(;l<o.length;)c(o[l],!0,!1),c(o[l+1],!1,!0),c(o[l+2],!0,!0),l+=3,s=MS(r);const u={};for(i=0;i<r.length;++i)u[r[i].setid]=r[i];return u}function fst(t,e,n,r){const i=[],a=[];for(const g in t)t.hasOwnProperty(g)&&(a.push(g),i.push(t[g]));e-=2*r,n-=2*r;const o=MS(i),s=o.xRange,A=o.yRange;if(s.max==s.min||A.max==A.min)return console.log("not scaling solution: zero size detected"),t;const c=e/(s.max-s.min),l=n/(A.max-A.min),u=Math.min(l,c),f=(e-(s.max-s.min)*u)/2,d=(n-(A.max-A.min)*u)/2,h={};for(let g=0;g<i.length;++g){const v=i[g];h[a[g]]={radius:u*v.radius,x:r+f+(v.x-s.min)*u,y:r+d+(v.y-A.min)*u}}return h}function dst(t,e,n){const r=[],i=t-n,a=e;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}function hst(t){const e={};h5(t,e);const n=e.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return dst(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let i=0;i<n.length;++i){const a=n[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const y5=t=>{const{sets:e="sets",size:n="size",as:r=["key","path"],padding:i=0}=t,[a,o]=r;return s=>{const A=s.map(u=>Object.assign(Object.assign({},u),{sets:u[e],size:u[n],[a]:u.sets.join("&")}));A.sort((u,f)=>u.sets.length-f.sets.length);const c=rst(A);let l;return A.map(u=>{const f=u[e],d=({width:h,height:g})=>{l=l||fst(c,h,g,i);const v=f.map(w=>l[w]);let y=hst(v);return/[zZ]$/.test(y)||(y+=" Z"),y};return Object.assign(Object.assign({},u),{[o]:d})})}};y5.props={};function pst(){return{"data.venn":y5,"mark.boxplot":n5,"mark.gauge":a5,"mark.wordCloud":MO,"mark.liquid":u5}}function gst(){return Object.assign(Object.assign(Object.assign(Object.assign({},rat()),Cot()),pst()),Jrt())}var LB=function(){return LB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},LB.apply(this,arguments)},vst=OY(CY,LB(LB({},gst()),c$())),qg=function(){return qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qg.apply(this,arguments)},yst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},mst=["renderer","plugins"],m5=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction","plugins"],QB="__transform__",wst="__skipDelCustomKeys__",Wf=function(t,e){return(0,pt.isBoolean)(e)?{type:t,available:e}:qg({type:t},e)},FS={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",y1Field:"encode.y1",sizeField:"encode.size",setsField:"encode.sets",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",coordinateType:"coordinate.type",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(t){return Wf("stackY",t)}},normalize:{target:"transform",value:function(t){return Wf("normalizeY",t)}},percent:{target:"transform",value:function(t){return Wf("normalizeY",t)}},group:{target:"transform",value:function(t){return Wf("dodgeX",t)}},sort:{target:"transform",value:function(t){return Wf("sortX",t)}},symmetry:{target:"transform",value:function(t){return Wf("symmetryY",t)}},diff:{target:"transform",value:function(t){return Wf("diffY",t)}},meta:{target:"scale",value:function(t){return t}},label:{target:"labels",value:function(t){return t}},shape:"style.shape",connectNulls:{target:"style",value:function(t){return(0,pt.isBoolean)(t)?{connect:t}:t}},transpose:{target:"transpose",value:function(t){return Wf("transpose",t)}}},kS=["xField","yField","seriesField","colorField","shapeField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],UB=[{key:"annotations",extendedProperties:[]},{key:"line",type:"line",extendedProperties:kS},{key:"connector",type:"connector",extendedProperties:[]},{key:"point",type:"point",extendedProperties:kS,defaultShapeConfig:{shapeField:"circle"}},{key:"area",type:"area",extendedProperties:kS}],bst=[{key:"transform",callback:function(t,e,n){var r;t[e]=t[e]||[];var i=n.available,a=i===void 0?!0:i,o=yst(n,["available"]);if(a)t[e].push(qg((r={},r[QB]=!0,r),o));else{var s=t[e].indexOf(function(A){return A.type===n.type});s!==-1&&t[e].splice(s,1)}}},{key:"labels",callback:function(t,e,n){var r;if(!n||(0,pt.isArray)(n)){t[e]=n||[];return}n.text||(n.text=t.yField),t[e]=t[e]||[],t[e].push(qg((r={},r[QB]=!0,r),n))}},{key:"transpose",callback:function(t,e,n){var r;n.available?t.coordinate={transform:[qg((r={},r[QB]=!0,r),n)]}:t.coordinate={}}}],TS=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],Bst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PB=function(){return PB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PB.apply(this,arguments)},xst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_st=function(t){Bst(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=xst(n,["style"]);return t.call(this,PB({style:PB({fill:"#eee"},r)},i))||this}return e}(hh),Cst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RB=function(){return RB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},RB.apply(this,arguments)},Ost=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},w5=function(t){Cst(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=Ost(n,["style"]);return t.call(this,RB({style:RB({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},r)},i))||this}return e}(yA),b5=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Est=function(t,e){if((0,pt.isArray)(e))return e},Vf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pt.mergeWith.apply(void 0,b5(b5([],t,!1),[Est],!1))},Sst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),B5=function(t){Sst(e,t);function e(n,r,i){var a=t.call(this,{style:Vf(i,r)})||this;return a.chart=n,a}return e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},e.prototype.disconnectedCallback=function(){},e.prototype.attributeChangedCallback=function(n){},e.prototype.update=function(n,r){var i;return this.attr(Vf({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},e.prototype.clear=function(){this.removeChildren()},e.prototype.getElementsLayout=function(){var n=this.chart.getContext().canvas,r=n.document.getElementsByClassName("element"),i=[];return r.forEach(function(a){var o=a.getBBox(),s=o.x,A=o.y,c=o.width,l=o.height,u=a.__data__;i.push({bbox:o,x:s,y:A,width:c,height:l,key:u.key,data:u})}),i},e.prototype.bindEvents=function(n,r){},e}(uh),Mst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NB=function(){return NB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},NB.apply(this,arguments)},Fst=function(t){Mst(e,t);function e(n,r){return t.call(this,n,r,{type:e.tag})||this}return e.prototype.getConversionTagLayout=function(){var n=this.direction==="vertical",r=Array.from(this.getElementsLayout()).sort(function(E,S){return n?E.y-S.y:E.x-S.x}),i=r[0],a=i.x,o=i.y,s=i.height,A=i.width,c=i.data,l=["items",0,"value"],u=(0,pt.get)(c,l),f=n?r[1].y-o-s:r[1].x-a-A,d=[],h=this.attributes,g=h.size,v=g===void 0?40:g,y=h.arrowSize,w=y===void 0?20:y,b=h.spacing,B=b===void 0?4:b;return r.forEach(function(E,S){if(S>0){var F=E.x,k=E.y,T=E.height,L=E.width,P=E.data,R=E.key,U=(0,pt.get)(P,l),N=v/2;if(n){var j=F+L/2,z=k;d.push({points:[[j+N,z-f+B],[j+N,z-w-B],[j,z-B],[j-N,z-w-B],[j-N,z-f+B]],center:[j,z-f/2],width:f,value:[u,U],key:R})}else{var j=F,z=k+T/2;d.push({points:[[F-f+B,z-N],[F-w-B,z-N],[j-B,z],[F-w-B,z+N],[F-f+B,z+N]],center:[j-f/2,z],width:f,value:[u,U],key:R})}u=U}}),d},e.prototype.render=function(){this.setDirection(),this.drawConversionTag()},e.prototype.setDirection=function(){var n=this.chart.getCoordinate(),r=(0,pt.get)(n,"options.transformations"),i="horizontal";r.forEach(function(a){a.includes("transpose")&&(i="vertical")}),this.direction=i},e.prototype.drawConversionTag=function(){var n=this,r=this.getConversionTagLayout(),i=this.attributes,a=i.style,o=i.text,s=o.style,A=o.formatter;r.forEach(function(c){var l=c.points,u=c.center,f=c.value,d=c.key,h=f[0],g=f[1],v=u[0],y=u[1],w=new _st({style:NB({points:l,fill:"#eee"},a),id:"polygon-".concat(d)}),b=new w5({style:NB({x:v,y,text:(0,pt.isFunction)(A)?A(h,g):(g/h*100).toFixed(2)+"%"},s),id:"text-".concat(d)});n.appendChild(w),n.appendChild(b)})},e.prototype.update=function(){this.clear(),this.drawConversionTag()},e.prototype.destroy=function(){this.clear()},e.tag="ConversionTag",e}(B5),IS=32,x5=16,_5=48,kst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rm=function(){return rm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rm.apply(this,arguments)},Tst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ist=function(t){kst(e,t);function e(n,r){return t.call(this,n,r,{type:e.tag})||this}return e.prototype.render=function(){this.drawText()},e.prototype.getBidirectionalBarAxisTextLayout=function(){var n=this.attributes.layout,r=n==="vertical",i=this.getElementsLayout(),a=r?(0,pt.uniqBy)(i,"x"):(0,pt.uniqBy)(i,"y"),o=["title"],s=[],A=this.chart.getContext().views,c=(0,pt.get)(A,[0,"layout"]),l=c.width,u=c.height;return a.forEach(function(f){var d=f.x,h=f.y,g=f.height,v=f.width,y=f.data,w=f.key,b=(0,pt.get)(y,o);r?s.push({x:d+v/2,y:u,text:b,key:w}):s.push({x:l,y:h+g/2,text:b,key:w})}),(0,pt.uniqBy)(s,"text").length!==s.length&&(s=Object.values((0,pt.groupBy)(s,"text")).map(function(f){var d,h=f.reduce(function(g,v){return g+(r?v.x:v.y)},0);return rm(rm({},f[0]),(d={},d[r?"x":"y"]=h/f.length,d))})),s},e.prototype.transformLabelStyle=function(n){var r={},i=/^label[A-Z]/;return Object.keys(n).forEach(function(a){i.test(a)&&(r[a.replace("label","").replace(/^[A-Z]/,function(o){return o.toLowerCase()})]=n[a])}),r},e.prototype.drawText=function(){var n=this,r=this.getBidirectionalBarAxisTextLayout(),i=this.attributes,a=i.layout,o=i.labelFormatter,s=Tst(i,["layout","labelFormatter"]);r.forEach(function(A){var c=A.x,l=A.y,u=A.text,f=A.key,d=new w5({style:rm({x:c,y:l,text:(0,pt.isFunction)(o)?o(u):u,wordWrap:!0,wordWrapWidth:a==="horizontal"?IS*2:120,maxLines:2,textOverflow:"ellipsis"},n.transformLabelStyle(s)),id:"text-".concat(f)});n.appendChild(d)})},e.prototype.destroy=function(){this.clear()},e.prototype.update=function(){this.destroy(),this.drawText()},e.tag="BidirectionalBarAxisText",e}(B5),Lst={ConversionTag:Fst,BidirectionalBarAxisText:Ist},Qst=function(){function t(e,n){this.container=new Map,this.chart=e,this.config=n,this.init()}return t.prototype.init=function(){var e=this;TS.forEach(function(n){var r,i=n.key,a=n.shape,o=e.config[i];if(o){var s=new Lst[a](e.chart,o),A=e.chart.getContext().canvas;A.appendChild(s),e.container.set(i,s)}else(r=e.container.get(i))===null||r===void 0||r.clear()})},t.prototype.update=function(){var e=this;this.container.size&&TS.forEach(function(n){var r=n.key,i=e.container.get(r);i==null||i.update()})},t.prototype.destroy=function(){this.container.forEach(function(e){e.destroy()}),this.container.clear()},t}(),Ust=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jg=function(){return Jg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jg.apply(this,arguments)},C5="data-chart-source-type",qn=function(t){Ust(e,t);function e(n,r){var i=t.call(this)||this;return i.eventListeners=[],i.bindedEvents=!1,i.container=typeof n=="string"?document.getElementById(n):n,i.options=i.mergeOption(r),i.createG2(),i.bindEvents(),i}return e.prototype.getChartOptions=function(){return Jg(Jg({},(0,pt.pick)(this.options,mst)),{container:this.container})},e.prototype.getSpecOptions=function(){return this.type==="base"||this[wst]?Jg(Jg({},this.options),this.getChartOptions()):this.options},e.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new vst(this.getChartOptions()),this.container.setAttribute(C5,"Ant Design Charts")},e.prototype.bindEvents=function(){var n=this;if(this.chart){var r=function(i){i!=null&&i.type&&n.emit(i.type,i)};this.chart.on("*",r),this.eventListeners.push(function(){var i;(i=n.chart)===null||i===void 0||i.off("*",r)})}},e.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},e.prototype.getDefaultOptions=function(){},e.prototype.render=function(){var n=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){n.annotation?n.annotation.update():n.annotation=new Qst(n.chart,n.options),n.bindSizeSensor()})},e.prototype.update=function(n){this.options=this.mergeOption(n)},e.prototype.mergeOption=function(n){return Vf({},this.getBaseOptions(),this.getDefaultOptions(),n)},e.prototype.changeData=function(n){this.chart.changeData(n)},e.prototype.changeSize=function(n,r){this.chart.changeSize(n,r)},e.prototype.destroy=function(){this.eventListeners.forEach(function(n){return n()}),this.eventListeners=[],this.annotation&&typeof this.annotation.destroy=="function"&&this.annotation.destroy(),this.annotation=null,this.chart.destroy(),this.off(),this.bindedEvents=!1,this.container.removeAttribute(C5)},e.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor();n({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var n=this;if(!this.bindedEvents){var r=this.options.autoFit,i=r===void 0?!0:r;if(i){var a=function(){n.annotation&&n.annotation.update()};this.chart.on(sr.AFTER_CHANGE_SIZE,a),this.eventListeners.push(function(){var o;(o=n.chart)===null||o===void 0||o.off(sr.AFTER_CHANGE_SIZE,a)}),this.bindedEvents=!0}}},e}(ws),Pst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rst=function(t){Pst(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="base",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return function(n){return n}},e}(qn),Nst=function(t){var e=t.options,n=e.children,r=n===void 0?[]:n;return r.forEach(function(i){Object.keys(i).forEach(function(a){(0,pt.isArray)(i[a])&&a!=="data"&&(i[a]=i[a].filter(function(o){return!o[QB]}))})}),e},O5=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Dst=function(t){var e=t.children,n=e===void 0?[]:e,r=Object.keys(FS).concat(UB.map(function(i){return i.key}));return r.forEach(function(i){delete t[i]}),n.forEach(function(i){Object.keys(i).forEach(function(a){r.includes(a)&&delete i[a]})}),Object.keys(t).forEach(function(i){O5(O5([],m5,!0),TS.map(function(a){return a.key}),!0).includes(i)||delete t[i]}),t},im=function(){return im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},im.apply(this,arguments)},gr=function(t){var e=Nst(t),n=e.children,r=n===void 0?[]:n,i=(0,pt.omit)(e,[].concat(m5,UB.map(function(c){return c.key}))),a=function(c){var l;return(l=bst.find(function(u){return u.key===c}))===null||l===void 0?void 0:l.callback},o=function(c,l,u){var f=a(l);f?f(c,l,u):c[l]=Vf({},c[l],u)},s=function(c){Object.keys(c).forEach(function(l){if(c[l]){var u=UB.find(function(w){return w.key===l});if(u){var f=u.type,d=u.extendedProperties,h=u.defaultShapeConfig,g=h===void 0?{}:h;if(f){var v=c[l].tooltip;r.push(A(Vf({},(0,pt.pick)(c,d),g,{type:f},c[l],{tooltip:v||!1})))}else if((0,pt.isArray)(c[l])){var y=c[l].some(function(w){return w.type==="text"});c[l].forEach(function(w){r.push(A(im(im(im({},y?{data:[]}:{}),{tooltip:!1}),w)))})}}}})},A=function(c){return s(c),Object.keys(FS).forEach(function(l){var u=FS[l];if(!(0,pt.isUndefined)(c[l]))if((0,pt.isObject)(u)){var f=u.value,d=u.target,h=f(c[l]);o(c,d,h)}else(0,pt.set)(c,u,c[l])}),c};return r.forEach(function(c){var l=Vf({},i,c);A(Vf(c,l))}),s(e),Dst(e),t},LS=function(){return LS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},LS.apply(this,arguments)};function Hst(t){var e=t.options,n=e.stack,r=e.tooltip,i=e.xField;if(!n)return t;var a=UB.map(function(s){return s.type}).filter(function(s){return!!s}),o=!1;return a.forEach(function(s){e[s]&&(o=!0,(0,pt.set)(e,[s,"stack"],LS({y1:"y"},typeof n=="object"?n:{})))}),o&&!(0,pt.isBoolean)(r)&&!r&&(0,pt.set)(e,"tooltip",{title:i,items:[{channel:"y"}]}),t}function Qi(t){return(0,pt.flow)(Hst)(t)}function jst(t){return(0,pt.flow)(Qi,gr)(t)}var Gst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kst=function(t){Gst(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jst},e}(qn),t0=function(){return t0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},t0.apply(this,arguments)};function E5(t){var e=function(n){var r=n.options;(0,pt.get)(r,"children.length")>1&&(0,pt.set)(r,"children",[{type:"interval"}]);var i=r.scale,a=r.markBackground,o=r.data,s=r.children,A=r.yField,c=(0,pt.get)(i,"y.domain",[]);if(a&&c.length&&(0,pt.isArray)(o)){var l="domainMax",u=o.map(function(f){var d;return t0(t0({originData:t0({},f)},(0,pt.omit)(f,A)),(d={},d[l]=c[c.length-1],d))});s.unshift(t0({type:"interval",data:u,yField:l,tooltip:!1,style:{fill:"#eee"},label:!1},a))}return n};return(0,pt.flow)(e,Qi,gr)(t)}var zst=function(){var t=function(e,n){return function(r){var i=e.fill,a=i===void 0?"#2888FF":i,o=e.stroke,s=e.fillOpacity,A=s===void 0?1:s,c=e.strokeOpacity,l=c===void 0?.2:c,u=e.pitch,f=u===void 0?8:u,d=r[0],h=r[1],g=r[2],v=r[3],y=(h[1]-d[1])/2,w=n.document,b=w.createElement("g",{}),B=w.createElement("polygon",{style:{points:[d,[d[0]-f,d[1]+y],[g[0]-f,d[1]+y],v],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l,inset:30}}),E=w.createElement("polygon",{style:{points:[[d[0]-f,d[1]+y],h,g,[g[0]-f,d[1]+y]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l}}),S=w.createElement("polygon",{style:{points:[d,[d[0]-f,d[1]+y],h,[d[0]+f,d[1]+y]],fill:a,fillOpacity:A-.2}});return b.appendChild(B),b.appendChild(E),b.appendChild(S),b}};ZM("shape.interval.bar25D",t)},Wst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();zst();var Vst=function(t){Wst(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Bar",n}return e.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return E5},e}(qn),Zst=function(){var t=function(e,n){return function(r){var i=e.fill,a=i===void 0?"#2888FF":i,o=e.stroke,s=e.fillOpacity,A=s===void 0?1:s,c=e.strokeOpacity,l=c===void 0?.2:c,u=e.pitch,f=u===void 0?8:u,d=r[1][0]-r[0][0],h=d/2+r[0][0],g=n.document,v=g.createElement("g",{}),y=g.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[h,r[1][1]+f],[h,r[3][1]+f],[r[3][0],r[3][1]]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l,inset:30}}),w=g.createElement("polygon",{style:{points:[[h,r[1][1]+f],[r[1][0],r[1][1]],[r[2][0],r[2][1]],[h,r[2][1]+f]],fill:a,fillOpacity:A,stroke:o,strokeOpacity:l}}),b=g.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[h,r[1][1]-f],[r[1][0],r[1][1]],[h,r[1][1]+f]],fill:a,fillOpacity:A-.2}});return v.appendChild(w),v.appendChild(y),v.appendChild(b),v}};ZM("shape.interval.column25D",t)},Yst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Zst();var $st=function(t){Yst(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="column",n}return e.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return E5},e}(qn);function Xst(t){var e=function(r){var i=r.options,a=i.children,o=a===void 0?[]:a,s=i.legend;return s&&o.forEach(function(A){if(!(0,pt.get)(A,"colorField")){var c=(0,pt.get)(A,"yField");(0,pt.set)(A,"colorField",function(){return c})}}),r},n=function(r){var i=r.options,a=i.annotations,o=a===void 0?[]:a,s=i.children,A=s===void 0?[]:s,c=i.scale,l=!1;return(0,pt.get)(c,"y.key")||A.forEach(function(u,f){if(!(0,pt.get)(u,"scale.y.key")){var d="child".concat(f,"Scale");(0,pt.set)(u,"scale.y.key",d);var h=u.annotations,g=h===void 0?[]:h;g.length>0&&((0,pt.set)(u,"scale.y.independent",!1),g.forEach(function(v){(0,pt.set)(v,"scale.y.key",d)})),!l&&o.length>0&&(0,pt.get)(u,"scale.y.independent")===void 0&&(l=!0,(0,pt.set)(u,"scale.y.independent",!1),o.forEach(function(v){(0,pt.set)(v,"scale.y.key",d)}))}}),r};return(0,pt.flow)(e,n,Qi,gr)(t)}var qst=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S5=function(t){qst(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="DualAxes",n}return e.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Xst},e}(qn);function Jst(t){var e=function(a){var o=a.options,s=o.xField,A=o.colorField;return A||(0,pt.set)(o,"colorField",s),a},n=function(a){var o=a.options,s=o.compareField,A=o.transform,c=o.isTransposed,l=c===void 0?!0:c,u=o.coordinate;return A||(s?(0,pt.set)(o,"transform",[]):(0,pt.set)(o,"transform",[{type:"symmetryY"}])),!u&&l&&(0,pt.set)(o,"coordinate",{transform:[{type:"transpose"}]}),a},r=function(a){var o=a.options,s=o.compareField,A=o.seriesField,c=o.data,l=o.children,u=o.yField,f=o.isTransposed,d=f===void 0?!0:f;if(s||A){var h=Object.values((0,pt.groupBy)(c,function(g){return g[s||A]}));l[0].data=h[0],l.push({type:"interval",data:h[1],yField:function(g){return-g[u]}}),delete o.compareField,delete o.data}return A&&((0,pt.set)(o,"type","spaceFlex"),(0,pt.set)(o,"ratio",[1,1]),(0,pt.set)(o,"direction",d?"row":"col"),delete o.seriesField),a},i=function(a){var o=a.options,s=o.tooltip,A=o.xField,c=o.yField;return s||(0,pt.set)(o,"tooltip",{title:!1,items:[function(l){return{name:l[A],value:l[c]}}]}),a};return(0,pt.flow)(e,n,r,i,Qi,gr)(t)}var tAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eAt=function(t){tAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="column",n}return e.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Jst},e}(qn);function nAt(t){return(0,pt.flow)(Qi,gr)(t)}var rAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iAt=function(t){rAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="line",n}return e.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return nAt},e}(qn);function DB(t){switch(typeof t){case"function":return t;case"string":return function(e){return(0,pt.get)(e,[t])};default:return function(){return t}}}var QA=function(){return QA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},QA.apply(this,arguments)};function aAt(t){var e=function(n){var r=n.options,i=r.angleField,a=r.data,o=r.label,s=r.tooltip,A=r.colorField,c=DB(A);if((0,pt.isArray)(a)&&a.length>0){var l=a.reduce(function(d,h){return d+h[i]},0);if(l===0){var u=a.map(function(d){var h;return QA(QA({},d),(h={},h[i]=1,h))});if((0,pt.set)(r,"data",u),o){var f=A===(0,pt.get)(o,"text");(0,pt.set)(r,"label",QA(QA({},o),f?{}:{formatter:function(){return 0}}))}s!==!1&&((0,pt.isFunction)(s)?(0,pt.set)(r,"tooltip",function(d,h,g){var v;return s(QA(QA({},d),(v={},v[i]=0,v)),h,g.map(function(y){var w;return QA(QA({},y),(w={},w[i]=0,w))}))}):(0,pt.set)(r,"tooltip",QA(QA({},s),{items:[function(d,h,g){return{name:c(d,h,g),value:0}}]})))}else(0,pt.set)(r,"tooltip",s),(0,pt.set)(r,"label",o)}return n};return(0,pt.flow)(e,gr)(t)}var oAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sAt=function(t){oAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="pie",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return aAt},e}(qn);function AAt(t){return(0,pt.flow)(Qi,gr)(t)}var cAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lAt=function(t){cAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter",n}return e.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return AAt},e}(qn);function uAt(t){var e=function(n){return(0,pt.set)(n,"options.coordinate",{type:(0,pt.get)(n,"options.coordinateType","polar")}),n};return(0,pt.flow)(e,gr)(t)}var fAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dAt=function(t){fAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radar",n}return e.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uAt},e}(qn);function hAt(t){var e=function(n){var r=n.options,i=r.yField,a=r.children,o=r.style,s=o===void 0?{}:o,A=r.lineStyle,c=A===void 0?{}:A,l=i[0],u=i[1],f=i[2],d=i[3];return(0,pt.set)(a,[0,"yField"],[f,d]),(0,pt.set)(a,[0,"style"],c),(0,pt.set)(a,[1,"yField"],[l,u]),(0,pt.set)(a,[1,"style"],s),delete r.yField,delete r.lineStyle,delete r.style,n};return(0,pt.flow)(e,gr)(t)}var pAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gAt=["#26a69a","#999999","#ef5350"],vAt=function(t){pAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="stock",n}return e.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:gAt},y:{nice:!0}},children:[{type:"link"},{type:"interval"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return hAt},e}(qn);function yAt(t){return(0,pt.flow)(Qi,gr)(t)}var mAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wAt=function(t){mAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyLine",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yAt},e}(qn);function bAt(t){return(0,pt.flow)(Qi,gr)(t)}var BAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xAt=function(t){BAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyArea",n}return e.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return bAt},e}(qn);function _At(t){return(0,pt.flow)(Qi,gr)(t)}var CAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),OAt=function(t){CAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyColumn",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _At},e}(qn),QS=function(){return QS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},QS.apply(this,arguments)};function EAt(t){var e=function(n){var r=n.options,i=r.percent,a=r.color,o=a===void 0?[]:a;if(!i)return n;var s={scale:{color:{range:o.length?o:[]}},data:[1,i]};return Object.assign(r,QS({},s)),n};return(0,pt.flow)(e,Qi,gr)(t)}var SAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MAt=function(t){SAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyProgress",n}return e.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return EAt},e}(qn),US=function(){return US=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},US.apply(this,arguments)};function FAt(t){var e=function(r){var i=r.options,a=i.radius,o=a===void 0?.8:a;return(0,pt.set)(r,"options.coordinate.innerRadius",o),r},n=function(r){var i=r.options,a=i.percent,o=i.color,s=o===void 0?[]:o;if(!a)return r;var A={scale:{color:{range:s.length?s:[]}},data:[1,a]};return Object.assign(i,US({},A)),r};return(0,pt.flow)(e,n,Qi,gr)(t)}var kAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TAt=function(t){kAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyRing",n}return e.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return FAt},e}(qn);function IAt(t){return(0,pt.flow)(gr)(t)}var LAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QAt=function(t){LAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="rose",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return IAt},e}(qn),PS="__start__",Zf="__end__",RS="__waterfall_value__",HB=function(){return HB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},HB.apply(this,arguments)},UAt=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function PAt(t){var e=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.yField;return s.length&&(s.reduce(function(c,l,u){var f,d=DB(A),h=d(l,u,s);if(u===0||l.isTotal)l[PS]=0,l[Zf]=h,l[RS]=h;else{var g=(f=c[Zf])!==null&&f!==void 0?f:d(c,u,s);l[PS]=g,l[Zf]=g+h,l[RS]=c[Zf]}return l},[]),Object.assign(a,{yField:[PS,Zf]})),i},n=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.xField,c=a.children,l=a.linkStyle,u=UAt([],s,!0);return u.reduce(function(f,d,h){return h>0&&(d.x1=f[A],d.x2=d[A],d.y1=f[Zf]),d},[]),u.shift(),c.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:u,style:HB({stroke:"#697474"},l),label:!1,tooltip:!1}),i},r=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,A=a.connector;return A&&(0,pt.set)(a,"connector",HB({xField:A.reverse?["x2","x1"]:["x1","x2"],yField:A.reverse?["y2","y1"]:["y1","y2"],data:[{x1:s[0].x,y1:s[0][Zf],x2:s[s.length-1].x,y2:s[s.length-1][Zf]}]},(0,pt.isObject)(A)?A:{})),i};return(0,pt.flow)(e,n,Qi,r,gr)(t)}var RAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NAt=function(t){RAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="waterfall",n}return e.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:RS,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return PAt},e}(qn);function DAt(t){var e=function(n){var r=n.options,i=r.data,a=r.binNumber,o=r.binWidth,s=r.children,A=r.channel,c=A===void 0?"count":A,l=(0,pt.get)(s,"[0].transform[0]",{});return(0,pt.isNumber)(o)?((0,pt.assign)(l,{thresholds:(0,pt.ceil)((0,pt.divide)(i.length,o)),y:c}),n):((0,pt.isNumber)(a)&&(0,pt.assign)(l,{thresholds:a,y:c}),n)};return(0,pt.flow)(e,Qi,gr)(t)}var HAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jAt=function(t){HAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Histogram",n}return e.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return DAt},e}(qn);function GAt(t){var e=function(r){var i=r.options,a=i.tooltip,o=a===void 0?{}:a,s=i.colorField,A=i.sizeField;return o&&!o.field&&(o.field=s||A),r},n=function(r){var i=r.options,a=i.mark,o=i.children;return a&&(o[0].type=a),r};return(0,pt.flow)(e,n,Qi,gr)(t)}var KAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zAt=function(t){KAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="heatmap",n}return e.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return GAt},e}(qn);function WAt(t){var e=function(n){var r=n.options.boxType,i=r===void 0?"box":r;return n.options.children[0].type=i,n};return(0,pt.flow)(e,Qi,gr)(t)}var VAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZAt=function(t){VAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="box",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return WAt},e}(qn),jB=function(t){var e=t.options,n=e.data;return(0,pt.get)(n,"value")||(0,pt.get)(n,"type")!=="fetch"&&(0,pt.isPlainObject)(n)&&(0,pt.set)(e,"data.value",n),t},YAt=function(t){var e=t.options,n=e.data,r=[{type:"custom",callback:function(a){return{links:a}}}];if((0,pt.isArray)(n))n.length>0?(0,pt.set)(e,"data",{value:n,transform:r}):delete e.children;else if((0,pt.get)(n,"type")==="fetch"&&(0,pt.get)(n,"value")){var i=(0,pt.get)(n,"transform");(0,pt.isArray)(i)||(0,pt.set)(n,"transform",r)}return t};function $At(t){return(0,pt.flow)(jB,YAt,Qi,gr)(t)}var XAt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qAt=function(t){XAt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="sankey",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $At},e}(qn);function JAt(t){var e=t.options.layout,n=e===void 0?"horizontal":e;return t.options.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}],t}function tct(t){JAt(t);var e=t.options.layout,n=e===void 0?"horizontal":e;return t.options.children.forEach(function(r){var i;!((i=r==null?void 0:r.coordinate)===null||i===void 0)&&i.transform&&(r.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}])}),t}var Yh=function(){return Yh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yh.apply(this,arguments)},GB=["#f0efff","#5B8FF9","#3D76DD"];function NS(t,e,n,r){r===void 0&&(r=!0);var i=0,a=!1,o=(0,pt.map)(t,function(s){var A,c,l=(0,pt.get)(s,[e]);if((0,pt.isNil)(l))return[];if((0,pt.isString)(l)){var u=Number(l);return isNaN(u)?[]:(A={},A[n]=s[n],A[e]=u,A)}return(0,pt.isArray)(l)?(a=!0,i=Math.max(i,l.length),(0,pt.map)(r?l.sort(function(f,d){return d-f}):l,function(f,d){var h;return h={},h[n]=s[n],h[e]=f,h.index=d,h})):(i=Math.max(1,i),c={},c[n]=s[n],c[e]=l,c)}).flat();return a?[o.map(function(s){return Yh({index:0},s)}),i]:[o,i]}function DS(t,e){return new Array(t).fill("").map(function(n,r){return(0,pt.isArray)(e)?e[r%e.length]:e})}function ect(t){var e=function(i){var a=i.options,o=a.color,s=a.rangeField,A=s===void 0?"ranges":s,c=a.measureField,l=c===void 0?"measures":c,u=a.targetField,f=u===void 0?"targets":u,d=a.xField,h=d===void 0?"title":d,g=a.mapField,v=a.data,y=NS(v,A,h),w=y[0],b=y[1],B=NS(v,l,h,!1),E=B[0],S=B[1],F=NS(v,f,h,!1),k=F[0],T=F[1],L=(0,pt.get)(o,[A],GB[0]),P=(0,pt.get)(o,[l],GB[1]),R=(0,pt.get)(o,[f],GB[2]),U=[DS(b,L),DS(S,P),DS(T,R)].flat();return a.children=(0,pt.map)(a.children,function(N,j){var z=[w,E,k][j],W=[A,l,f][j];return Yh(Yh({},N),{data:z,encode:Yh(Yh({},N.encode||{}),{x:h,y:W,color:function(D){var G=D.index,Y=(0,pt.isNumber)(G)?"".concat(W,"_").concat(G):W;return g?(0,pt.get)(g,[W,G],Y):Y}})})}),(0,pt.set)(a,"scale.color.range",U),(0,pt.get)(a,"legend.color")&&(0,pt.isNil)((0,pt.get)(a,"legend.color.itemMarker"))&&(a.legend.color.itemMarker=function(N){return g&&(0,pt.includes)(g==null?void 0:g[f],N)||(N==null?void 0:N.replace(/\_\d$/,""))===f?"line":"square"}),i},n=function(i){var a=i.options.transpose,o=a===void 0?!0:a;return o||(0,pt.set)(i,"options.children[2].shapeField","hyphen"),i},r=function(i){var a=i.options,o=a.range,s=o===void 0?{}:o,A=a.measure,c=A===void 0?{}:A,l=a.target,u=l===void 0?{}:l,f=a.children;return a.children=[s,c,u].map(function(d,h){return Vf(f[h],d)}),i};return(0,pt.flow)(e,n,r,tct,gr)(t)}var nct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rct=function(t){nct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bullet",n}return e.getDefaultOptions=function(){return{type:"view",scale:{color:{range:GB}},legend:{color:{itemMarker:function(n){return n==="targets"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30,zIndex:-2},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20,zIndex:-1},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ect},e}(qn);function ict(t){var e=function(n){var r=n.options.data;return n.options.data={value:r},n};return(0,pt.flow)(e,Qi,gr)(t)}var act=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oct=function(t){act(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Gauge",n}return e.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ict},e}(qn);function sct(t){var e=function(n){var r=n.options.percent;return(0,pt.isNumber)(r)&&((0,pt.set)(n,"options.data",r),delete n.options.percent),n};return(0,pt.flow)(e,Qi,gr)(t)}var Act=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cct=function(t){Act(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Liquid",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return sct},e}(qn);function lct(t){return(0,pt.flow)(Qi,gr)(t)}var uct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fct=function(t){uct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="WordCloud",n}return e.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lct},e}(qn);function dct(t){return(0,pt.flow)(jB,Qi,gr)(t)}var hct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pct=function(t){hct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="treemap",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return dct},e}(qn),Yf=function(){return Yf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yf.apply(this,arguments)},gct=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function vct(t){var e=function(i){var a=i.options,o=a.startAngle,s=a.maxAngle,A=a.coordinate,c=(0,pt.isNumber)(o)?o/(2*Math.PI)*360:-90,l=(0,pt.isNumber)(s)?(Number(s)+c)/180*Math.PI:Math.PI;return(0,pt.set)(i,["options","coordinate"],Yf(Yf({},A),{endAngle:l,startAngle:o!=null?o:-Math.PI/2})),i},n=function(i){var a=i.options,o=a.tooltip,s=a.xField,A=a.yField,c=DB(s),l=DB(A);return o||(0,pt.set)(a,"tooltip",{title:!1,items:[function(u,f,d){return{name:c(u,f,d),value:l(u,f,d)}}]}),i},r=function(i){var a=i.options,o=a.markBackground,s=a.children,A=a.scale,c=a.coordinate,l=a.xField,u=(0,pt.get)(A,"y.domain",[]);if(o){var f=o.style,d=gct(o,["style"]);s.unshift(Yf({type:"interval",xField:l,yField:u[u.length-1],style:Yf({fillOpacity:.4,fill:"#e0e4ee"},f),coordinate:Yf(Yf({},c),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},d))}return i};return(0,pt.flow)(e,n,r,Qi,gr)(t)}var yct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mct=function(t){yct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radial",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vct},e}(qn);function wct(t){return(0,pt.flow)(jB,gr)(t)}var bct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bct=function(t){bct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="CirclePacking",n}return e.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack",encode:{color:"depth"}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wct},e}(qn),KB=function(){return KB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},KB.apply(this,arguments)};function HS(t,e){return t||e}function xct(t){var e=function(n){var r=n.options,i=r.xField,a=r.yField,o=r.colorField,s=r.seriesField,A=r.children,c=A==null?void 0:A.map(function(l){return KB(KB({},l),{xField:i,yField:a,seriesField:HS(s,o),colorField:HS(o,s),data:l.type==="density"?{transform:[{type:"kde",field:a,groupBy:[i,HS(s,o)]}]}:l.data})}).filter(function(l){return r.box||l.type==="density"});return(0,pt.set)(r,"children",c),delete r.box,n};return(0,pt.flow)(e,Qi,gr)(t)}var _ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cct=function(t){_ct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="violin",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xct},e}(qn),am=function(){return am=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},am.apply(this,arguments)},Oct=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function Ect(t){var e=function(a){var o=a.options,s=o.yField,A=o.children;return A.forEach(function(c,l){(0,pt.set)(c,"yField",s[l])}),a},n=function(a){var o=a.options,s=o.yField,A=o.children,c=o.data;if((0,pt.isPlainObject)(c))return a;var l=(0,pt.isArray)((0,pt.get)(c,[0]))?c:[c,c];return A.forEach(function(u,f){(0,pt.set)(u,"data",Oct([],l[f].map(function(d){return am({groupKey:s[f]},d)}),!0))}),a},r=function(a){var o=a.options,s=o.yField,A=s[0],c=s[1],l=o.tooltip;return l||(0,pt.set)(o,"tooltip",{items:[{field:A,value:A},{field:c,value:c}]}),a},i=function(a){var o=a.options,s=o.children,A=o.layout,c=o.coordinate.transform,l=o.paddingBottom,u=l===void 0?_5:l,f=o.paddingLeft,d=f===void 0?_5:f,h=o.axis;(0,pt.set)(o,"axisText",am(am({},(h==null?void 0:h.x)||{}),{layout:A}));var g=s[0],v=s[1];if(A==="vertical")(0,pt.set)(o,"direction","col"),(0,pt.set)(o,"paddingLeft",d),(0,pt.set)(o,"coordinate.transform",c.filter(function(E){return E.type!=="transpose"})),(0,pt.set)(g,"paddingBottom",x5),(0,pt.set)(v,"paddingTop",x5),(0,pt.set)(v,"axis.x.position","top"),(0,pt.set)(v,"scale.y.range",[0,1]);else{(0,pt.set)(o,"paddingBottom",u),(0,pt.set)(g,"scale.y.range",[0,1]);var y=g.paddingRight,w=y===void 0?IS:y,b=v.paddingLeft,B=b===void 0?IS:b;(0,pt.set)(g,"paddingRight",w),(0,pt.set)(g,"axis.x.position","right"),(0,pt.set)(v,"paddingLeft",B)}return a};return(0,pt.flow)(e,n,r,i,Qi,gr)(t)}var Sct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mct=function(t){Sct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="BidirectionalBar",n}return e.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ect},e}(qn),$f;(function(t){t.color="key",t.d="path"})($f||($f={}));function Fct(t){var e=function(n){var r=n.options,i=r.data,a=r.setsField,o=r.sizeField;return(0,pt.isArray)(i)&&((0,pt.set)(r,"data",{type:"inline",value:i,transform:[{type:"venn",sets:a,size:o,as:[$f.color,$f.d]}]}),(0,pt.set)(r,"colorField",$f.color),(0,pt.set)(r,["children","0","encode","d"],$f.d)),n};return(0,pt.flow)(e,gr)(t)}var kct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tct=function(t){kct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="venn",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:$f.color,d:$f.d}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Fct},e}(qn);function Ict(t){return(0,pt.flow)(jB,gr)(t)}var Lct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qct=function(t){Lct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Sunburst",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ict},e}(qn),Uct={Base:Rst,Line:iAt,Column:$st,Pie:sAt,Area:Kst,Bar:Vst,DualAxes:S5,Funnel:eAt,Scatter:lAt,Radar:dAt,Rose:QAt,Stock:vAt,TinyLine:wAt,TinyArea:xAt,TinyColumn:OAt,TinyProgress:MAt,TinyRing:TAt,Waterfall:NAt,Histogram:jAt,Heatmap:zAt,Box:ZAt,Sankey:qAt,Bullet:rct,Gauge:oct,Liquid:cct,WordCloud:fct,Treemap:pct,RadialBar:mct,CirclePacking:Bct,Violin:Cct,BidirectionalBar:Mct,Venn:Tct,Mix:S5,Sunburst:Qct},om=function(){return om=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},om.apply(this,arguments)},M5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Pct=(0,Jt.forwardRef)(function(t,e){var n=t.chartType,r=n===void 0?"Base":n,i=M5(t,["chartType"]),a=i.containerStyle,o=a===void 0?{height:"inherit",flex:1}:a,s=i.containerAttributes,A=s===void 0?{}:s,c=i.className,l=i.loading,u=i.loadingTemplate,f=i.errorTemplate,d=i.onReady,h=M5(i,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate","onReady"]),g=ia(Uct[r],om(om({},h),{onReady:function(w){e&&(typeof e=="function"?e(w):e.current=w),d==null||d(w)}})),v=g.chart,y=g.container;return Jt.createElement(Wa,{errorTemplate:f},l&&Jt.createElement(ma,{loadingTemplate:u,theme:i.theme,loading:l}),Jt.createElement("div",om({className:c,style:o,ref:y},A)))}),Rct=(0,Jt.createContext)({});function Nct(){return(0,Jt.useContext)(Rct)}var jS=function(){return jS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jS.apply(this,arguments)};function Dct(t){var e=t.yField,n=t.data,r=(0,pt.isArray)(n)&&n.length>0&&(0,pt.isString)(e)&&!(0,pt.get)(t,"scale.y.domainMax"),i=Object.isFrozen(t)?jS({},t):t;return r&&n.reduce(function(a,o){return a+o[e]},0)===0?(0,pt.set)(i,"scale.y.domainMax",1):r&&n.reduce(function(a,o){return a+o[e]},0)!==0&&(0,pt.set)(i,"scale.y.domainMax",void 0),i}var sm=function(){return sm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sm.apply(this,arguments)};function Hct(t){var e=t.charAt(0).toLowerCase()+t.slice(1);return(0,Jt.forwardRef)(function(n,r){var i,a,o=Nct(),s=(0,Jt.useMemo)(function(){return t.charAt(0).toLowerCase()+t.slice(1)},[t]),A=(0,pt.flow)([Dct])(n),c=sm(sm({},(i=o==null?void 0:o.common)!==null&&i!==void 0?i:{}),(a=o==null?void 0:o[s])!==null&&a!==void 0?a:{});return Jt.createElement(Pct,sm({},c,A,{chartType:t,ref:r}))})}},17816:function(Ke,$e){(function(Ft,ze){ze($e)})(this,function(Ft){"use strict";function ze(K){var V=typeof Symbol=="function"&&Symbol.iterator,et=V&&K[V],ot=0;if(et)return et.call(K);if(K&&typeof K.length=="number")return{next:function(){return{value:(K=K&&ot>=K.length?void 0:K)&&K[ot++],done:!K}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(K,V){var et=typeof Symbol=="function"&&K[Symbol.iterator];if(!et)return K;var ot,gt,vt=et.call(K),lt=[];try{for(;(V===void 0||0<V--)&&!(ot=vt.next()).done;)lt.push(ot.value)}catch(ct){gt={error:ct}}finally{try{ot&&!ot.done&&(et=vt.return)&&et.call(vt)}finally{if(gt)throw gt.error}}return lt}function De(K,V,et){if(et||arguments.length===2)for(var ot,gt=0,vt=V.length;gt<vt;gt++)!ot&&gt in V||((ot=ot||Array.prototype.slice.call(V,0,gt))[gt]=V[gt]);return K.concat(ot||Array.prototype.slice.call(V))}function jn(K){return Jt(K,"Function")}var Ye={}.toString,Jt=function(K,V){return Ye.call(K)==="[object "+V+"]"},He=function(K){return Array.isArray?Array.isArray(K):Jt(K,"Array")},ee=function(K){if(typeof(V=K)!="object"||V===null||!Jt(K,"Object"))return!1;var V;if(Object.getPrototypeOf(K)===null)return!0;for(var et=K;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(K)===et},Ot=function(K){return Jt(K,"Number")},we=Object.values?function(K){return Object.values(K)}:function(K){var V,et=[],ot=K,gt=function(Bt,Et){jn(K)&&Et==="prototype"||et.push(Bt)};if(ot){if(He(ot))for(var vt=0,lt=ot.length;vt<lt&&gt(ot[vt],vt)!==!1;vt++);else if(V=typeof ot,ot!==null&&V=="object"||V=="function"){for(var ct in ot)if(ot.hasOwnProperty(ct)&&gt(ot[ct],ct)===!1)break}}return et},re=5;function xe(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];for(var ot=0;ot<V.length;ot+=1)(function gt(vt,lt,ct,Bt){for(var Et in ct=ct||0,Bt=Bt||re,lt){var Xt;lt.hasOwnProperty(Et)&&((Xt=lt[Et])!==null&&ee(Xt)?(ee(vt[Et])||(vt[Et]={}),ct<Bt?gt(vt[Et],Xt,ct+1,Bt):vt[Et]=lt[Et]):He(Xt)?(vt[Et]=[],vt[Et]=vt[Et].concat(Xt)):Xt!==void 0&&(vt[Et]=Xt))}})(K,V[ot]);return K}function gn(K){return K}(function(K,V){var et;if(jn(K))return(et=function(){for(var ot=[],gt=0;gt<arguments.length;gt++)ot[gt]=arguments[gt];var vt,lt=V?V.apply(this,ot):ot[0],ct=et.cache;return ct.has(lt)?ct.get(lt):(vt=K.apply(this,ot),ct.set(lt,vt),vt)}).cache=new Map;throw new TypeError("Expected a function")})(function(K,lt){var et=(lt=lt===void 0?{}:lt).fontSize,ot=lt.fontFamily,gt=lt.fontWeight,vt=lt.fontStyle,lt=lt.fontVariant;return(Oe=Oe||document.createElement("canvas").getContext("2d")).font=[vt,lt,gt,et+"px",ot].join(" "),Oe.measureText(Jt(K,"String")?K:"").width},function(K,V){return function(){for(var et=0,ot=0,gt=arguments.length;ot<gt;ot++)et+=arguments[ot].length;for(var vt=Array(et),lt=0,ot=0;ot<gt;ot++)for(var ct=arguments[ot],Bt=0,Et=ct.length;Bt<Et;Bt++,lt++)vt[lt]=ct[Bt];return vt}([K],we(V=V===void 0?{}:V)).join("")});var Oe,Ne=typeof Float32Array!="undefined"?Float32Array:Array;function ke(){var K=new Ne(9);return Ne!=Float32Array&&(K[1]=0,K[2]=0,K[3]=0,K[5]=0,K[6]=0,K[7]=0),K[0]=1,K[4]=1,K[8]=1,K}Math.hypot||(Math.hypot=function(){for(var K=0,V=arguments.length;V--;)K+=arguments[V]*arguments[V];return Math.sqrt(K)});var de=function(K,te,ae){var ot=te[0],gt=te[1],vt=te[2],lt=te[3],ct=te[4],Bt=te[5],Et=te[6],Xt=te[7],te=te[8],Be=ae[0],zt=ae[1],ie=ae[2],ne=ae[3],Dt=ae[4],ve=ae[5],le=ae[6],Ie=ae[7],ae=ae[8];return K[0]=Be*ot+zt*lt+ie*Et,K[1]=Be*gt+zt*ct+ie*Xt,K[2]=Be*vt+zt*Bt+ie*te,K[3]=ne*ot+Dt*lt+ve*Et,K[4]=ne*gt+Dt*ct+ve*Xt,K[5]=ne*vt+Dt*Bt+ve*te,K[6]=le*ot+Ie*lt+ae*Et,K[7]=le*gt+Ie*ct+ae*Xt,K[8]=le*vt+Ie*Bt+ae*te,K};function ci(){var K=new Ne(16);return Ne!=Float32Array&&(K[1]=0,K[2]=0,K[3]=0,K[4]=0,K[6]=0,K[7]=0,K[8]=0,K[9]=0,K[11]=0,K[12]=0,K[13]=0,K[14]=0),K[0]=1,K[5]=1,K[10]=1,K[15]=1,K}var Xn=function(K,le,et){var ot=le[0],gt=le[1],vt=le[2],lt=le[3],ct=le[4],Bt=le[5],Et=le[6],Xt=le[7],te=le[8],Be=le[9],zt=le[10],ie=le[11],ne=le[12],Dt=le[13],ve=le[14],le=le[15],Ie=et[0],ae=et[1],Pe=et[2],fn=et[3];return K[0]=Ie*ot+ae*ct+Pe*te+fn*ne,K[1]=Ie*gt+ae*Bt+Pe*Be+fn*Dt,K[2]=Ie*vt+ae*Et+Pe*zt+fn*ve,K[3]=Ie*lt+ae*Xt+Pe*ie+fn*le,Ie=et[4],ae=et[5],Pe=et[6],fn=et[7],K[4]=Ie*ot+ae*ct+Pe*te+fn*ne,K[5]=Ie*gt+ae*Bt+Pe*Be+fn*Dt,K[6]=Ie*vt+ae*Et+Pe*zt+fn*ve,K[7]=Ie*lt+ae*Xt+Pe*ie+fn*le,Ie=et[8],ae=et[9],Pe=et[10],fn=et[11],K[8]=Ie*ot+ae*ct+Pe*te+fn*ne,K[9]=Ie*gt+ae*Bt+Pe*Be+fn*Dt,K[10]=Ie*vt+ae*Et+Pe*zt+fn*ve,K[11]=Ie*lt+ae*Xt+Pe*ie+fn*le,Ie=et[12],ae=et[13],Pe=et[14],fn=et[15],K[12]=Ie*ot+ae*ct+Pe*te+fn*ne,K[13]=Ie*gt+ae*Bt+Pe*Be+fn*Dt,K[14]=Ie*vt+ae*Et+Pe*zt+fn*ve,K[15]=Ie*lt+ae*Xt+Pe*ie+fn*le,K};function ra(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];return K?V.reduce(function(ot,gt){return function(vt){return gt(ot(vt))}},K):gn}function ei(K){return K instanceof Float32Array||K instanceof Array}function Ia(K,V,et){for(;K<V;)K+=2*Math.PI;for(;et<K;)K-=2*Math.PI;return K}Ue=new Ne(3),Ne!=Float32Array&&(Ue[0]=0,Ue[1]=0,Ue[2]=0),Ue=new Ne(4),Ne!=Float32Array&&(Ue[0]=0,Ue[1]=0,Ue[2]=0,Ue[3]=0);function Yi(lt,V,et,ot,gt){var vt=(lt=J(lt,2))[0],lt=lt[1],ct=ke();return vt=[vt,lt],(lt=ct)[0]=1,lt[1]=0,lt[2]=0,lt[3]=0,lt[4]=1,lt[5]=0,lt[6]=vt[0],lt[7]=vt[1],lt[8]=1,lt}function Ui(K,...V){return V.reduce((et,ot)=>gt=>et(ot(gt)),K)}function ma(K,V){return V-K?et=>(et-K)/(V-K):et=>.5}const Ws=Math.sqrt(50),Wa=Math.sqrt(10),pt=Math.sqrt(2);function Wo(K,V,et){return V=(V-K)/Math.max(0,et),K=Math.floor(Math.log(V)/Math.LN10),et=V/Ai(10,K),0<=K?(et>=Ws?10:et>=Wa?5:et>=pt?2:1)*Ai(10,K):-Ai(10,-K)/(et>=Ws?10:et>=Wa?5:et>=pt?2:1)}const UA=(K,V,et=5)=>{K=[K,V];let ot=0,gt=K.length-1,vt=K[ot],lt=K[gt],ct;return lt<vt&&([vt,lt]=[lt,vt],[ot,gt]=[gt,ot]),0<(ct=Wo(vt,lt,et))?(vt=Math.floor(vt/ct)*ct,lt=Math.ceil(lt/ct)*ct,ct=Wo(vt,lt,et)):ct<0&&(vt=Math.ceil(vt*ct)/ct,lt=Math.floor(lt*ct)/ct,ct=Wo(vt,lt,et)),0<ct?(K[ot]=Math.floor(vt/ct)*ct,K[gt]=Math.ceil(lt/ct)*ct):ct<0&&(K[ot]=Math.ceil(vt*ct)/ct,K[gt]=Math.floor(lt*ct)/ct),K};function Vs(K){return K!=null&&!Number.isNaN(K)}function ms(K,V){return et=>{et.prototype.rescale=function(){this.initRange(),this.nice();var[ot]=this.chooseTransforms();this.composeOutput(ot,this.chooseClamp(ot))},et.prototype.initRange=function(){var ot=this.options.interpolator;this.options.range=K(ot)},et.prototype.composeOutput=function(ot,gt){var vt,{domain:ct,interpolator:lt,round:Bt}=this.getOptions(),ct=V(ct.map(ot)),Bt=Bt?(vt=lt,Et=>(Et=vt(Et),Ot(Et)?Math.round(Et):Et)):lt;this.output=Ui(Bt,ct,gt,ot)},et.prototype.invert=void 0}}var Va,Ue={exports:{}},Aa={exports:{}},to=function(K){return!(!K||typeof K=="string")&&(K instanceof Array||Array.isArray(K)||0<=K.length&&(K.splice instanceof Function||Object.getOwnPropertyDescriptor(K,K.length-1)&&K.constructor.name!=="String"))},yl=Array.prototype.concat,Za=Array.prototype.slice,ia=Aa.exports=function(K){for(var V=[],et=0,ot=K.length;et<ot;et++){var gt=K[et];to(gt)?V=yl.call(V,Za.call(gt)):V.push(gt)}return V},Zs=(ia.wrap=function(K){return function(){return K(ia(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),PA=Aa.exports,ws=Object.hasOwnProperty,Vo=Object.create(null);for(Va in Zs)ws.call(Zs,Va)&&(Vo[Zs[Va]]=Va);var ni=Ue.exports={to:{},get:{}};function bi(K,V,et){return Math.min(Math.max(V,K),et)}function La(K){return K=Math.round(K).toString(16).toUpperCase(),K.length<2?"0"+K:K}ni.get=function(K){var V,et;switch(K.substring(0,3).toLowerCase()){case"hsl":V=ni.get.hsl(K),et="hsl";break;case"hwb":V=ni.get.hwb(K),et="hwb";break;default:V=ni.get.rgb(K),et="rgb"}return V?{model:et,value:V}:null},ni.get.rgb=function(K){if(!K)return null;var V,et,ot,gt=[0,0,0,1];if(V=K.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(ot=V[2],V=V[1],et=0;et<3;et++){var vt=2*et;gt[et]=parseInt(V.slice(vt,2+vt),16)}ot&&(gt[3]=parseInt(ot,16)/255)}else if(V=K.match(/^#([a-f0-9]{3,4})$/i)){for(ot=(V=V[1])[3],et=0;et<3;et++)gt[et]=parseInt(V[et]+V[et],16);ot&&(gt[3]=parseInt(ot+ot,16)/255)}else{if(V=K.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(et=0;et<3;et++)gt[et]=parseInt(V[et+1],0);else{if(!(V=K.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(V=K.match(/^(\w+)$/))?V[1]==="transparent"?[0,0,0,0]:ws.call(Zs,V[1])?((gt=Zs[V[1]])[3]=1,gt):null:null;for(et=0;et<3;et++)gt[et]=Math.round(2.55*parseFloat(V[et+1]))}V[4]&&(V[5]?gt[3]=.01*parseFloat(V[4]):gt[3]=parseFloat(V[4]))}for(et=0;et<3;et++)gt[et]=bi(gt[et],0,255);return gt[3]=bi(gt[3],0,1),gt},ni.get.hsl=function(K){var V;return(K=K&&K.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(V=parseFloat(K[4]),[(parseFloat(K[1])%360+360)%360,bi(parseFloat(K[2]),0,100),bi(parseFloat(K[3]),0,100),bi(isNaN(V)?1:V,0,1)]):null},ni.get.hwb=function(K){var V;return(K=K&&K.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(V=parseFloat(K[4]),[(parseFloat(K[1])%360+360)%360,bi(parseFloat(K[2]),0,100),bi(parseFloat(K[3]),0,100),bi(isNaN(V)?1:V,0,1)]):null},ni.to.hex=function(){var K=PA(arguments);return"#"+La(K[0])+La(K[1])+La(K[2])+(K[3]<1?La(Math.round(255*K[3])):"")},ni.to.rgb=function(){var K=PA(arguments);return K.length<4||K[3]===1?"rgb("+Math.round(K[0])+", "+Math.round(K[1])+", "+Math.round(K[2])+")":"rgba("+Math.round(K[0])+", "+Math.round(K[1])+", "+Math.round(K[2])+", "+K[3]+")"},ni.to.rgb.percent=function(){var K=PA(arguments),V=Math.round(K[0]/255*100),et=Math.round(K[1]/255*100),ot=Math.round(K[2]/255*100);return K.length<4||K[3]===1?"rgb("+V+"%, "+et+"%, "+ot+"%)":"rgba("+V+"%, "+et+"%, "+ot+"%, "+K[3]+")"},ni.to.hsl=function(){var K=PA(arguments);return K.length<4||K[3]===1?"hsl("+K[0]+", "+K[1]+"%, "+K[2]+"%)":"hsla("+K[0]+", "+K[1]+"%, "+K[2]+"%, "+K[3]+")"},ni.to.hwb=function(){var K=PA(arguments),V="";return 4<=K.length&&K[3]!==1&&(V=", "+K[3]),"hwb("+K[0]+", "+K[1]+"%, "+K[2]+"%"+V+")"},ni.to.keyword=function(K){return Vo[K.slice(0,3)]};var wa=Ue.exports;function xc(K,V,et){let ot=et;return ot<0&&(ot+=1),1<ot&&--ot,ot<1/6?K+6*(V-K)*ot:ot<.5?V:ot<2/3?K+(V-K)*(2/3-ot)*6:K}function bs(gt){var V,et,ot,gt=wa.get(gt);return gt?({model:gt,value:V}=gt,gt==="rgb"?V:gt==="hsl"?(V=(gt=V)[0]/360,et=gt[1]/100,ot=gt[2]/100,gt=gt[3],et==0?[255*ot,255*ot,255*ot,gt]:[255*xc(et=2*ot-(ot=ot<.5?ot*(1+et):ot+et-ot*et),ot,V+1/3),255*xc(et,ot,V),255*xc(et,ot,V-1/3),gt]):null):null}const Qa=(K,V)=>et=>K*(1-et)+V*et,Mu=(K,V)=>{if(typeof K=="number"&&typeof V=="number")return Qa(K,V);if(typeof K!="string"||typeof V!="string")return()=>K;{var et=K,ot=V;const gt=bs(et),vt=bs(ot);return gt===null||vt===null?gt?()=>et:()=>ot:lt=>{var ct=new Array(4);for(let ie=0;ie<4;ie+=1){var Bt=gt[ie],Et=vt[ie];ct[ie]=Bt*(1-lt)+Et*lt}var[Xt,te,Be,zt]=ct;return`rgba(${Math.round(Xt)}, ${Math.round(te)}, ${Math.round(Be)}, ${zt})`}}},aa=(K,V)=>{const et=Qa(K,V);return ot=>Math.round(et(ot))};function oa({map:K,initKey:V},et){return V=V(et),K.has(V)?K.get(V):et}function We(K){return typeof K=="object"?K.valueOf():K}class Qt extends Map{constructor(V){if(super(),this.map=new Map,this.initKey=We,V!==null)for(var[et,ot]of V)this.set(et,ot)}get(V){return super.get(oa({map:this.map,initKey:this.initKey},V))}has(V){return super.has(oa({map:this.map,initKey:this.initKey},V))}set(V,et){return super.set(([{map:V,initKey:ot},gt]=[{map:this.map,initKey:this.initKey},V],ot=ot(gt),V.has(ot)?V.get(ot):(V.set(ot,gt),gt)),et);var ot,gt}delete(V){return super.delete(([{map:V,initKey:et},ot]=[{map:this.map,initKey:this.initKey},V],et=et(ot),V.has(et)&&(ot=V.get(et),V.delete(et)),ot));var et,ot}}class Pt{constructor(V){this.options=xe({},this.getDefaultOptions()),this.update(V)}getOptions(){return this.options}update(V={}){this.options=xe({},this.options,V),this.rescale(V)}rescale(V){}}const tn=Symbol("defaultUnknown");function je(K,V,et){for(let ot=0;ot<V.length;ot+=1)K.has(V[ot])||K.set(et(V[ot]),ot)}function Te(V){var{value:V,from:et,to:ot,mapper:gt,notFoundReturn:vt}=V;let lt=gt.get(V);if(lt===void 0){if(vt!==tn)return vt;lt=et.push(V)-1,gt.set(V,lt)}return ot[lt%ot.length]}function Ge(K){return K instanceof Date?V=>""+V:typeof K=="object"?V=>JSON.stringify(V):V=>V}class eo extends Pt{getDefaultOptions(){return{domain:[],range:[],unknown:tn}}constructor(V){super(V)}map(V){return this.domainIndexMap.size===0&&je(this.domainIndexMap,this.getDomain(),this.domainKey),Te({value:this.domainKey(V),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(V){return this.rangeIndexMap.size===0&&je(this.rangeIndexMap,this.getRange(),this.rangeKey),Te({value:this.rangeKey(V),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(V){var[et]=this.options.domain,[ot]=this.options.range;this.domainKey=Ge(et),this.rangeKey=Ge(ot),this.rangeIndexMap?(V&&!V.range||this.rangeIndexMap.clear(),V&&!V.domain&&!V.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new eo(this.options)}getRange(){return this.options.range}getDomain(){var V,et;return this.sortedDomain||({domain:V,compare:et}=this.options,this.sortedDomain=et?[...V].sort(et):V),this.sortedDomain}}function Fu(Dt){const{domain:V,range:et,paddingOuter:ot,paddingInner:gt,flex:vt,round:lt,align:ct}=Dt;var Bt=V.length,zt=0<(zt=(Dt=Bt)-(Et=vt).length)?[...Et,...new Array(zt).fill(1)]:zt<0?Et.slice(0,Dt):Et,[Dt,Et]=et,Et=Et-Dt,ne=Et/(2/Bt*ot+1-1/Bt*gt);const Xt=ne*gt/Bt;ne-=Bt*Xt;const te=function(ae){const Pe=Math.min(...ae);return ae.map(fn=>fn/Pe)}(zt),Be=ne/te.reduce((ae,Pe)=>ae+Pe);var zt=new Qt(V.map((ae,Pe)=>(Pe=te[Pe]*Be,[ae,lt?Math.floor(Pe):Pe]))),ie=new Qt(V.map((ae,Pe)=>(Pe=te[Pe]*Be+Xt,[ae,lt?Math.floor(Pe):Pe]))),ne=Array.from(ie.values()).reduce((ae,Pe)=>ae+Pe),Dt=Dt+(Et-(ne-ne/Bt*gt))*ct;let ve=lt?Math.round(Dt):Dt;var le=new Array(Bt);for(let ae=0;ae<Bt;ae+=1){le[ae]=(Ie=ve,Math.round(1e12*Ie)/1e12);var Ie=V[ae];ve+=ie.get(Ie)}return{valueBandWidth:zt,valueStep:ie,adjustedRange:le}}class Mn extends eo{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:tn,flex:[]}}constructor(V){super(V)}clone(){return new Mn(this.options)}getStep(V){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:V===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(V)}getBandWidth(V){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:V===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(V)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:V,paddingInner:et}=this.options;return 0<V?V:et}getPaddingOuter(){var{padding:V,paddingOuter:et}=this.options;return 0<V?V:et}rescale(){super.rescale();var{align:ot,domain:V,range:gt,round:vt,flex:et}=this.options,{adjustedRange:ot,valueBandWidth:gt,valueStep:vt}=function(Et){var ct=Et.domain;if((ct=ct.length)===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!((Bt=Et.flex)==null||!Bt.length))return Fu(Et);var{range:Bt,paddingOuter:Et,paddingInner:Xt,round:te,align:Be}=Et;let zt,ie,ne=Bt[0];return Bt=Bt[1]-ne,zt=Bt/Math.max(1,2*Et+(ct-Xt)),te&&(zt=Math.floor(zt)),ne+=(Bt-zt*(ct-Xt))*Be,ie=zt*(1-Xt),te&&(ne=Math.round(ne),ie=Math.round(ie)),Et=new Array(ct).fill(0).map((Dt,ve)=>ne+ve*zt),{valueStep:zt,valueBandWidth:ie,adjustedRange:Et}}({align:ot,range:gt,round:vt,flex:et,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:V});this.valueStep=vt,this.valueBandWidth=gt,this.adjustedRange=ot}}const er=(K,V,et)=>{let ot,gt,vt=K,lt=V;if(vt===lt&&0<et)return[vt];let ct=Wo(vt,lt,et);if(ct===0||!Number.isFinite(ct))return[];if(0<ct){vt=Math.ceil(vt/ct),lt=Math.floor(lt/ct),gt=new Array(ot=Math.ceil(lt-vt+1));for(let Bt=0;Bt<ot;Bt+=1)gt[Bt]=(vt+Bt)*ct}else{ct=-ct,vt=Math.ceil(vt*ct),lt=Math.floor(lt*ct),gt=new Array(ot=Math.ceil(lt-vt+1));for(let Bt=0;Bt<ot;Bt+=1)gt[Bt]=(vt+Bt)/ct}return gt},Zo=(ot,vt,et)=>{var[ot,gt]=ot,[vt,lt]=vt;let ct,Bt;return Ui(Bt=ot<gt?(ct=ma(ot,gt),et(vt,lt)):(ct=ma(gt,ot),et(lt,vt)),ct)},Yo=(K,V,et)=>{const ot=Math.min(K.length,V.length)-1,gt=new Array(ot),vt=new Array(ot);var lt=K[0]>K[ot],ct=lt?[...K].reverse():K,Bt=lt?[...V].reverse():V;for(let Et=0;Et<ot;Et+=1)gt[Et]=ma(ct[Et],ct[Et+1]),vt[Et]=et(Bt[Et],Bt[Et+1]);return Et=>{var Xt=function(Be,zt,ie,ne,Dt){let ve=ie||0,le=ne||Be.length;for(var Ie=Dt||(Pe=>Pe);ve<le;){var ae=Math.floor((ve+le)/2);Ie(Be[ae])>zt?le=ae:ve=ae+1}return ve}(K,Et,1,ot)-1,te=gt[Xt];return Ui(vt[Xt],te)(Et)}},$o=(K,V,et,ot)=>(2<Math.min(K.length,V.length)?Yo:Zo)(K,V,ot?aa:et);class sa extends Pt{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Qa,tickCount:5}}map(V){return Vs(V)?this.output(V):this.options.unknown}invert(V){return Vs(V)?this.input(V):this.options.unknown}nice(){var V,et,ot,gt;this.options.nice&&([V,et,ot,...gt]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(V,et,ot,...gt))}getTicks(){var V=this.options.tickMethod,[et,ot,gt,...vt]=this.getTickMethodOptions();return V(et,ot,gt,...vt)}getTickMethodOptions(){var{domain:V,tickCount:et}=this.options;return[V[0],V[V.length-1],et]}chooseNice(){return UA}rescale(){this.nice();var[V,et]=this.chooseTransforms();this.composeOutput(V,this.chooseClamp(V)),this.composeInput(V,et,this.chooseClamp(et))}chooseClamp(ot){var{clamp:et,range:gt}=this.options,ot=this.options.domain.map(ot),gt=Math.min(ot.length,gt.length);if(et){et=ot[0],ot=ot[gt-1];const vt=ot<et?ot:et,lt=ot<et?et:ot;return ct=>Math.min(Math.max(vt,ct),lt)}return gn}composeOutput(V,et){var{domain:lt,range:ot,round:gt,interpolate:vt}=this.options,lt=$o(lt.map(V),ot,vt,gt);this.output=Ui(lt,et,V)}composeInput(V,et,ot){var{domain:gt,range:vt}=this.options,vt=$o(vt,gt.map(V),Qa);this.input=Ui(et,ot,vt)}}class Cr extends sa{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Mu,tickMethod:er,tickCount:5}}chooseTransforms(){return[gn,gn]}clone(){return new Cr(this.options)}}class To extends Mn{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:tn,paddingInner:1,paddingOuter:0}}constructor(V){super(V)}getPaddingInner(){return 1}clone(){return new To(this.options)}update(V){super.update(V)}getPaddingOuter(){return this.options.padding}}function Xo(K,V){for(var et=[],ot=0,gt=K.length;ot<gt;ot++)et.push(K[ot].substr(0,V));return et}var _c,Aa=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ue=["January","February","March","April","May","June","July","August","September","October","November","December"],Pi=Xo(Ue,3);(function(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];for(var ot=0,gt=V;ot<gt.length;ot++){var vt,lt=gt[ot];for(vt in lt)K[vt]=lt[vt]}})({},{dayNamesShort:Xo(Aa,3),dayNames:Aa,monthNamesShort:Pi,monthNames:Ue,amPm:["am","pm"],DoFn:function(K){return K+["th","st","nd","rd"][3<K%10?0:(K-K%10!=10?1:0)*K%10]}});var ca;let vn=_c=class extends Cr{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:gn,tickMethod:er,tickCount:5}}constructor(K){super(K)}clone(){return new _c(this.options)}};vn=_c=function(K,V,et,ot){var gt,vt=arguments.length,lt=vt<3?V:ot===null?ot=Object.getOwnPropertyDescriptor(V,et):ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(K,V,et,ot);else for(var ct=K.length-1;0<=ct;ct--)(gt=K[ct])&&(lt=(vt<3?gt(lt):3<vt?gt(V,et,lt):gt(V,et))||lt);return 3<vt&&lt&&Object.defineProperty(V,et,lt),lt}([ms(function(K){return[K(0),K(1)]},V=>{var[V,et]=V;return Ui(Qa(0,1),ma(V,et))})],vn);let ba=ca=class extends Cr{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:gn,tickMethod:er,tickCount:5}}constructor(K){super(K)}clone(){return new ca(this.options)}};ba=ca=function(K,V,et,ot){var gt,vt=arguments.length,lt=vt<3?V:ot===null?ot=Object.getOwnPropertyDescriptor(V,et):ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(K,V,et,ot);else for(var ct=K.length-1;0<=ct;ct--)(gt=K[ct])&&(lt=(vt<3?gt(lt):3<vt?gt(V,et,lt):gt(V,et))||lt);return 3<vt&&lt&&Object.defineProperty(V,et,lt),lt}([ms(function(K){return[K(0),K(.5),K(1)]},K=>{const[V,et,ot]=K,gt=Ui(Qa(0,.5),ma(V,et)),vt=Ui(Qa(.5,1),ma(et,ot));return lt=>(V>ot?lt<et?vt:gt:lt<et?gt:vt)(lt)})],ba);function ri(K,V,et,ot,gt){var vt=new Cr({range:[V,V+ot]}),lt=new Cr({range:[et,et+gt]});return{transform:function(Et){var Et=J(Et,2),Bt=Et[0],Et=Et[1];return[vt.map(Bt),lt.map(Et)]},untransform:function(Et){var Et=J(Et,2),Bt=Et[0],Et=Et[1];return[vt.invert(Bt),lt.invert(Et)]}}}function Ba(K,V,et,ot,gt){return(0,J(K,1)[0])(V,et,ot,gt)}function RA(K,V,et,ot,gt){return J(K,1)[0]}function Cc(Bt,V,et,ot,gt){var vt=(Bt=J(Bt,4))[0],lt=Bt[1],ct=Bt[2],Bt=Bt[3],Et=new Cr({range:[ct,Bt]}),Xt=new Cr({range:[vt,lt]}),te=1<(ct=gt/ot)?1:ct,Be=1<ct?1/ct:1;return{transform:function(ne){var ne=J(ne,2),ie=ne[0],ne=ne[1],ie=Xt.map(ie),ne=Et.map(ne);return[.5*(ne*Math.cos(ie)*te)+.5,.5*(ne*Math.sin(ie)*Be)+.5]},untransform:function(Dt){var Dt=J(Dt,2),ie=Dt[0],Dt=Dt[1],ie=2*(ie-.5)/te,Dt=2*(Dt-.5)/Be,ne=Math.sqrt(Math.pow(ie,2)+Math.pow(Dt,2)),Dt=Ia(Math.atan2(Dt,ie),vt,lt);return[Xt.invert(Dt),Et.invert(ne)]}}}function ml(K,V,et,ot,gt){return{transform:function(lt){var lt=J(lt,2),ct=lt[0];return[lt[1],ct]},untransform:function(lt){var lt=J(lt,2),ct=lt[0];return[lt[1],ct]}}}function ku(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];return Ys.apply(void 0,De([[-1,-1]],J(V),!1))}function Tu(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];return Ys.apply(void 0,De([[-1,1]],J(V),!1))}function qf(K){for(var V=[],et=1;et<arguments.length;et++)V[et-1]=arguments[et];return Ys.apply(void 0,De([[1,-1]],J(V),!1))}function Jf(lt,V,et,ot,gt){var vt,lt=J(lt,1)[0],ct=ke();return ct=ct,lt=lt,vt=Math.sin(lt),lt=Math.cos(lt),ct[0]=lt,ct[1]=vt,ct[2]=0,ct[3]=-vt,ct[4]=lt,ct[5]=0,ct[6]=0,ct[7]=0,ct[8]=1,ct}function td(K,V,et,ot,gt){var vt=(K=J(K,4))[0],lt=K[1],ct=K[2],Bt=(K[3]-ct)/(+lt/(2*Math.PI)+1),Et=Bt/(2*Math.PI),Xt=new Cr({range:[ct,ct+.99*Bt]}),te=new Cr({range:[vt,lt]}),Be=1<(K=gt/ot)?1:K,zt=1<K?1/K:1;return{transform:function(Dt){var Dt=J(Dt,2),ne=Dt[0],Dt=Dt[1],ne=te.map(ne),Dt=Xt.map(Dt);return[.5*(Math.cos(ne)*(Et*ne+Dt)*Be)+.5,.5*(Math.sin(ne)*(Et*ne+Dt)*zt)+.5]},untransform:function(Dt){var Dt=J(Dt,2),ve=Dt[0],Dt=Dt[1],ve=2*(ve-.5)/Be,Dt=2*(Dt-.5)/zt,ne=Math.sqrt(Math.pow(ve,2)+Math.pow(Dt,2)),Dt=Ia(Math.atan2(Dt,ve)+Math.floor(ne/Bt)*Math.PI*2,vt,lt),ve=ne-Et*Dt;return[te.invert(Dt),Xt.invert(ve)]}}}function ln(Bt,V,et,ot,gt){var vt=(Bt=J(Bt,4))[0],lt=Bt[1],ct=Bt[2],Bt=Bt[3],Et=new Cr({range:[ct,Bt]});return{transform:function(Xt){for(var te=[],Be=Xt.length,zt=new To({domain:new Array(Be).fill(0).map(function(ve,le){return le}),range:[vt,lt]}),ie=0;ie<Be;ie++){var Dt=Xt[ie],ne=zt.map(ie),Dt=Et.map(Dt);te.push(ne,Dt)}return te},untransform:function(Xt){for(var te=[],Be=0;Be<Xt.length;Be+=2){var zt=Xt[Be+1];te.push(Et.invert(zt))}return te}}}var Ys=function(lt,V,et,ot,gt){var lt=J(lt,2),vt=lt[0],lt=lt[1],ct=ke();return vt=[vt,lt],(lt=ct)[0]=vt[0],lt[1]=0,lt[2]=0,lt[3]=0,lt[4]=vt[1],lt[5]=0,lt[6]=0,lt[7]=0,lt[8]=1,lt};function $s(K){return 1/Math.tan(K)}function qo(K,V,et,ot,gt){var vt=$s(J(K,1)[0]);return{transform:function(Bt){var Bt=J(Bt,2),ct=Bt[0],Bt=Bt[1];return[ct+Bt*vt,Bt]},untransform:function(Bt){var Bt=J(Bt,2),ct=Bt[0],Bt=Bt[1];return[ct-Bt*vt,Bt]}}}function Iu(K,V,et,ot,gt){var vt=$s(J(K,1)[0]);return{transform:function(ct){var ct=J(ct,2),Bt=ct[0];return[Bt,ct[1]+Bt*vt]},untransform:function(ct){var ct=J(ct,2),Bt=ct[0];return[Bt,ct[1]-Bt*vt]}}}function NA(K,V,et,ct,lt){var vt=K<V,lt=(vt?V-ct:lt-V)||lt-ct,ct=vt?-1:1;return ct*lt*(et+1)/(et+lt/((K-V)*ct))+V}function DA(K,V,et,ot,lt){var vt=K<V,lt=(vt?V-ot:lt-V)||lt-ot;return lt/(lt*(et+1)/(K-V)-et*(vt?-1:1))+V}function no(K,V,et){return et?new Cr({range:[0,1],domain:[0,V]}).map(K):K}function xa(ct,V,et,ot,gt){var vt=(ct=J(ct,3))[0],lt=ct[1],ct=ct[2],Bt=no(vt,ot,ct!==void 0&&ct);return{transform:function(te){var te=J(te,2),Xt=te[0],te=te[1];return[NA(Xt,Bt,lt,0,1),te]},untransform:function(te){var te=J(te,2),Xt=te[0],te=te[1];return[DA(Xt,Bt,lt,0,1),te]}}}function Oc(ct,V,et,ot,gt){var vt=(ct=J(ct,3))[0],lt=ct[1],ct=ct[2],Bt=no(vt,gt,ct!==void 0&&ct);return{transform:function(Et){return Et=J(Et,2),[Et[0],NA(Et[1],Bt,lt,0,1)]},untransform:function(Et){return Et=J(Et,2),[Et[0],DA(Et[1],Bt,lt,0,1)]}}}function wl(Et,V,et,ot,gt){var vt=(Et=J(Et,5))[0],lt=Et[1],ct=Et[2],Bt=Et[3],Et=Et[4],Xt=no(vt,ot,Et=Et!==void 0&&Et),te=no(lt,gt,Et);return{transform:function(ie){var ie=J(ie,2),zt=ie[0],ie=ie[1];return[NA(zt,Xt,ct,0,1),NA(ie,te,Bt,0,1)]},untransform:function(ie){var ie=J(ie,2),zt=ie[0],ie=ie[1];return[DA(zt,Xt,ct,0,1),DA(ie,te,Bt,0,1)]}}}function bl(Et,V,et,ot,gt){var vt=(Et=J(Et,5))[0],lt=Et[1],ct=Et[2],Bt=Et[3],Et=(Et=Et[4])!==void 0&&Et,Xt=new Cr({range:[0,ot]}),te=new Cr({range:[0,gt]}),Be=Et?vt:Xt.map(vt),zt=Et?lt:te.map(lt);return{transform:function(Dt){var Dt=J(Dt,2),ne=Dt[0],Dt=Dt[1],ve=Xt.map(ne)-Be,le=te.map(Dt)-zt,Ie=Math.sqrt(ve*ve+le*le);return ct<Ie?[ne,Dt]:(ne=NA(Ie,0,Bt,0,ct),Dt=Math.atan2(le,ve),Ie=Be+ne*Math.cos(Dt),le=zt+ne*Math.sin(Dt),[Xt.invert(Ie),te.invert(le)])},untransform:function(Dt){var Dt=J(Dt,2),ne=Dt[0],Dt=Dt[1],ve=Xt.map(ne)-Be,le=te.map(Dt)-zt,Ie=Math.sqrt(ve*ve+le*le);return ct<Ie?[ne,Dt]:(ne=DA(Ie,0,Bt,0,ct),Dt=Math.atan2(le,ve),Ie=Be+ne*Math.cos(Dt),le=zt+ne*Math.sin(Dt),[Xt.invert(Ie),te.invert(le)])}}}function ed(K,V,et,ot,gt,vt,lt){var ct=new Cr({range:[V,V+gt]}),Bt=new Cr({range:[et,et+vt]}),Et=new Cr({range:[ot,ot+lt]});return{transform:function(zt){var zt=J(zt,3),te=zt[0],Be=zt[1],zt=zt[2];return[ct.map(te),Bt.map(Be),Et.map(zt)]},untransform:function(zt){var zt=J(zt,3),te=zt[0],Be=zt[1],zt=zt[2];return[ct.invert(te),Bt.invert(Be),Et.invert(zt)]}}}function Xh(Xt,V,et,ot,gt,vt,lt){var ct,Bt=(Xt=J(Xt,3))[0],Et=Xt[1],Xt=Xt[2];return ct=ci(),Bt=[Bt,Et,Xt],ct[0]=1,ct[1]=0,ct[2]=0,ct[3]=0,ct[4]=0,ct[5]=1,ct[6]=0,ct[7]=0,ct[8]=0,ct[9]=0,ct[10]=1,ct[11]=0,ct[12]=Bt[0],ct[13]=Bt[1],ct[14]=Bt[2],ct[15]=1,ct}function qh(K,V,et,ot,gt,vt,lt){return{transform:function(Bt){var Bt=J(Bt,3),Et=Bt[0];return[Bt[1],Et,Bt[2]]},untransform:function(Bt){var Bt=J(Bt,3),Et=Bt[0];return[Bt[1],Et,Bt[2]]}}}function Or(Xt,V,et,ot,gt,vt,lt){var ct,Bt=(Xt=J(Xt,3))[0],Et=Xt[1],Xt=Xt[2];return ct=ci(),Bt=[Bt,Et,Xt],ct[0]=Bt[0],ct[1]=0,ct[2]=0,ct[3]=0,ct[4]=0,ct[5]=Bt[1],ct[6]=0,ct[7]=0,ct[8]=0,ct[9]=0,ct[10]=Bt[2],ct[11]=0,ct[12]=0,ct[13]=0,ct[14]=0,ct[15]=1,ct}la.prototype.update=function(K){this.options=xe({},this.options,K),this.recoordinate()},la.prototype.clone=function(){return new la(this.options)},la.prototype.getOptions=function(){return this.options},la.prototype.clear=function(){this.update({transformations:[]})},la.prototype.getSize=function(){var K=this.options;return[K.width,K.height]},la.prototype.getCenter=function(){var K=this.options,V=K.x,et=K.y;return[(2*V+K.width)/2,(2*et+K.height)/2]},la.prototype.transform=function(){for(var K=[],V=0;V<arguments.length;V++)K[V]=arguments[V];var et=this.options.transformations;return this.update({transformations:De(De([],J(et),!1),[De([],J(K),!1)],!1)}),this},la.prototype.map=function(K){return this.output(K)},la.prototype.invert=function(K){return this.input(K)},la.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},la.prototype.compose=function(K){function V(ae,Pe){var fn;ct.push((Pe=Pe===void 0?!0:Pe)?(fn=ae,function(_a){for(var Ca=[],fa=0;fa<_a.length-1;fa+=2){var Ri=[_a[fa],_a[fa+1]],Ri=fn(Ri);Ca.push.apply(Ca,De([],J(Ri),!1))}return Ca}):ae)}var et,ot,gt=(K=K===void 0?!1:K)?De([],J(this.options.transformations),!1).reverse():this.options.transformations,vt=K?function(ae){return ae.untransform}:function(ae){return ae.transform},lt=[],ct=[];try{for(var Bt=ze(gt),Et=Bt.next();!Et.done;Et=Bt.next()){var Xt,te,Be,zt,ie,ne,Dt=J(Et.value),ve=Dt[0],le=Dt.slice(1),Ie=this.transformers[ve];Ie&&(te=(Xt=this.options).x,Be=Xt.y,zt=Xt.width,ie=Xt.height,ei(ne=Ie(De([],J(le),!1),te,Be,zt,ie))?lt.push(ne):(lt.length&&(V(this.createMatrixTransform(lt,K)),lt.splice(0,lt.length)),V(vt(ne)||gn,ve!=="parallel")))}}catch(ae){et={error:ae}}finally{try{Et&&!Et.done&&(ot=Bt.return)&&ot.call(Bt)}finally{if(et)throw et.error}}return lt.length&&V(this.createMatrixTransform(lt,K)),ra.apply(void 0,De([],J(ct),!1))},la.prototype.createMatrixTransform=function(K,V){var et,ot,gt,vt,lt,ct,Bt,Et,Xt,te,Be,zt,ie=ke();return V&&K.reverse(),K.forEach(function(ne){return de(ie,ie,ne)}),V&&(V=K=ie,(zt=new Ne(9))[0]=V[0],zt[1]=V[1],zt[2]=V[2],zt[3]=V[3],zt[4]=V[4],zt[5]=V[5],zt[6]=V[6],zt[7]=V[7],zt[8]=V[8],zt=(V=zt)[0],et=V[1],ot=V[2],gt=V[3],vt=V[4],lt=V[5],ct=V[6],Bt=V[7],Et=(V=V[8])*vt-lt*Bt,Be=zt*Et+et*(Xt=-V*gt+lt*ct)+ot*(te=Bt*gt-vt*ct))&&(K[0]=Et*(Be=1/Be),K[1]=(-V*et+ot*Bt)*Be,K[2]=(lt*et-ot*vt)*Be,K[3]=Xt*Be,K[4]=(V*zt-ot*ct)*Be,K[5]=(-lt*zt+ot*gt)*Be,K[6]=te*Be,K[7]=(-Bt*zt+et*ct)*Be,K[8]=(vt*zt-et*gt)*Be),function(Pe){var Dt,ve,le,Ie,ae,Pe=[Pe[0],Pe[1],1];return le=ie,Ie=(ve=Dt=Pe)[0],ae=ve[1],ve=ve[2],Dt[0]=Ie*le[0]+ae*le[3]+ve*le[6],Dt[1]=Ie*le[1]+ae*le[4]+ve*le[7],Dt[2]=Ie*le[2]+ae*le[5]+ve*le[8],[Pe[0],Pe[1]]}},Aa=la;function la(K){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ri,translate:Yi,custom:Ba,matrix:RA,polar:Cc,transpose:ml,scale:Ys,"shear.x":qo,"shear.y":Iu,reflect:ku,"reflect.x":Tu,"reflect.y":qf,rotate:Jf,helix:td,parallel:ln,fisheye:wl,"fisheye.x":xa,"fisheye.y":Oc,"fisheye.circular":bl},this.update(K)}ua.prototype.update=function(K){this.options=xe({},this.options,K),this.recoordinate()},ua.prototype.clone=function(){return new ua(this.options)},ua.prototype.getOptions=function(){return this.options},ua.prototype.clear=function(){this.update({transformations:[]})},ua.prototype.getSize=function(){var K=this.options;return[K.width,K.height,K.depth]},ua.prototype.getCenter=function(){var K=this.options,V=K.x,et=K.y,ot=K.z;return[(2*V+K.width)/2,(2*et+K.height)/2,(2*ot+K.depth)/2]},ua.prototype.transform=function(){for(var K=[],V=0;V<arguments.length;V++)K[V]=arguments[V];var et=this.options.transformations;return this.update({transformations:De(De([],J(et),!1),[De([],J(K),!1)],!1)}),this},ua.prototype.map=function(K){return this.output(K)},ua.prototype.invert=function(K){return this.input(K)},ua.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},ua.prototype.compose=function(K){function V(fn,_a){var Ca;ct.push((_a=_a===void 0?!0:_a)?(Ca=fn,function(fa){for(var Ri=[],Ua=0;Ua<fa.length-1;Ua+=3){var vr=[fa[Ua],fa[Ua+1],fa[Ua+2]],vr=Ca(vr);Ri.push.apply(Ri,De([],J(vr),!1))}return Ri}):fn)}var et,ot,gt=(K=K===void 0?!1:K)?De([],J(this.options.transformations),!1).reverse():this.options.transformations,vt=K?function(fn){return fn.untransform}:function(fn){return fn.transform},lt=[],ct=[];try{for(var Bt=ze(gt),Et=Bt.next();!Et.done;Et=Bt.next()){var Xt,te,Be,zt,ie,ne,Dt,ve,le=J(Et.value),Ie=le[0],ae=le.slice(1),Pe=this.transformers[Ie];Pe&&(te=(Xt=this.options).x,Be=Xt.y,zt=Xt.z,ie=Xt.width,ne=Xt.height,Dt=Xt.depth,ei(ve=Pe(De([],J(ae),!1),te,Be,zt,ie,ne,Dt))?lt.push(ve):(lt.length&&(V(this.createMatrixTransform(lt,K)),lt.splice(0,lt.length)),V(vt(ve)||gn,!0)))}}catch(fn){et={error:fn}}finally{try{Et&&!Et.done&&(ot=Bt.return)&&ot.call(Bt)}finally{if(et)throw et.error}}return lt.length&&V(this.createMatrixTransform(lt,K)),ra.apply(void 0,De([],J(ct),!1))},ua.prototype.createMatrixTransform=function(K,V){var et,ot,gt,vt,lt,ct,Bt,Et,Xt,te,Be,zt,ie,ne,Dt,ve,le,Ie,ae,Pe,fn,_a,Ca,fa,Ri,Ua,vr,Vn,HA=ci();return V&&K.reverse(),K.forEach(function(Lu){return Xn(HA,HA,Lu)}),V&&(V=K=HA,(Vn=new Ne(16))[0]=V[0],Vn[1]=V[1],Vn[2]=V[2],Vn[3]=V[3],Vn[4]=V[4],Vn[5]=V[5],Vn[6]=V[6],Vn[7]=V[7],Vn[8]=V[8],Vn[9]=V[9],Vn[10]=V[10],Vn[11]=V[11],Vn[12]=V[12],Vn[13]=V[13],Vn[14]=V[14],Vn[15]=V[15],Vn=(V=Vn)[0],et=V[1],ot=V[2],gt=V[3],vt=V[4],lt=V[5],ct=V[6],Bt=V[7],Et=V[8],Xt=V[9],te=V[10],Be=V[11],zt=V[12],ie=V[13],ne=V[14],V=V[15],vr=(Dt=Vn*lt-et*vt)*(Ua=te*V-Be*ne)-(ve=Vn*ct-ot*vt)*(Ri=Xt*V-Be*ie)+(le=Vn*Bt-gt*vt)*(fa=Xt*ne-te*ie)+(Ie=et*ct-ot*lt)*(Ca=Et*V-Be*zt)-(ae=et*Bt-gt*lt)*(_a=Et*ne-te*zt)+(Pe=ot*Bt-gt*ct)*(fn=Et*ie-Xt*zt))&&(K[0]=(lt*Ua-ct*Ri+Bt*fa)*(vr=1/vr),K[1]=(ot*Ri-et*Ua-gt*fa)*vr,K[2]=(ie*Pe-ne*ae+V*Ie)*vr,K[3]=(te*ae-Xt*Pe-Be*Ie)*vr,K[4]=(ct*Ca-vt*Ua-Bt*_a)*vr,K[5]=(Vn*Ua-ot*Ca+gt*_a)*vr,K[6]=(ne*le-zt*Pe-V*ve)*vr,K[7]=(Et*Pe-te*le+Be*ve)*vr,K[8]=(vt*Ri-lt*Ca+Bt*fn)*vr,K[9]=(et*Ca-Vn*Ri-gt*fn)*vr,K[10]=(zt*ae-ie*le+V*Dt)*vr,K[11]=(Xt*le-Et*ae-Be*Dt)*vr,K[12]=(lt*_a-vt*fa-ct*fn)*vr,K[13]=(Vn*fa-et*_a+ot*fn)*vr,K[14]=(ie*ve-zt*Ie-ne*Dt)*vr,K[15]=(Et*Ie-Xt*ve+te*Dt)*vr),function(ts){var Xs,$i,li,qs,jA,Jo,ts=[ts[0],ts[1],ts[2],1];return li=HA,qs=($i=Xs=ts)[0],jA=$i[1],Jo=$i[2],$i=$i[3],Xs[0]=li[0]*qs+li[4]*jA+li[8]*Jo+li[12]*$i,Xs[1]=li[1]*qs+li[5]*jA+li[9]*Jo+li[13]*$i,Xs[2]=li[2]*qs+li[6]*jA+li[10]*Jo+li[14]*$i,Xs[3]=li[3]*qs+li[7]*jA+li[11]*Jo+li[15]*$i,[ts[0],ts[1],ts[2]]}},Pi=ua;function ua(K){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:ed,translate3D:Xh,scale3D:Or,transpose3D:qh},this.update(K)}Ft.Coordinate=Aa,Ft.Coordinate3D=Pi,Object.defineProperty(Ft,"__esModule",{value:!0})})},38554:function(Ke){"use strict";var $e=Object.prototype.hasOwnProperty,Ft="~";function ze(){}Object.create&&(ze.prototype=Object.create(null),new ze().__proto__||(Ft=!1));function J(Jt,He,ee){this.fn=Jt,this.context=He,this.once=ee||!1}function De(Jt,He,ee,Ot,we){if(typeof ee!="function")throw new TypeError("The listener must be a function");var re=new J(ee,Ot||Jt,we),xe=Ft?Ft+He:He;return Jt._events[xe]?Jt._events[xe].fn?Jt._events[xe]=[Jt._events[xe],re]:Jt._events[xe].push(re):(Jt._events[xe]=re,Jt._eventsCount++),Jt}function jn(Jt,He){--Jt._eventsCount===0?Jt._events=new ze:delete Jt._events[He]}function Ye(){this._events=new ze,this._eventsCount=0}Ye.prototype.eventNames=function(){var He=[],ee,Ot;if(this._eventsCount===0)return He;for(Ot in ee=this._events)$e.call(ee,Ot)&&He.push(Ft?Ot.slice(1):Ot);return Object.getOwnPropertySymbols?He.concat(Object.getOwnPropertySymbols(ee)):He},Ye.prototype.listeners=function(He){var ee=Ft?Ft+He:He,Ot=this._events[ee];if(!Ot)return[];if(Ot.fn)return[Ot.fn];for(var we=0,re=Ot.length,xe=new Array(re);we<re;we++)xe[we]=Ot[we].fn;return xe},Ye.prototype.listenerCount=function(He){var ee=Ft?Ft+He:He,Ot=this._events[ee];return Ot?Ot.fn?1:Ot.length:0},Ye.prototype.emit=function(He,ee,Ot,we,re,xe){var gn=Ft?Ft+He:He;if(!this._events[gn])return!1;var Oe=this._events[gn],Ne=arguments.length,ke,de;if(Oe.fn){switch(Oe.once&&this.removeListener(He,Oe.fn,void 0,!0),Ne){case 1:return Oe.fn.call(Oe.context),!0;case 2:return Oe.fn.call(Oe.context,ee),!0;case 3:return Oe.fn.call(Oe.context,ee,Ot),!0;case 4:return Oe.fn.call(Oe.context,ee,Ot,we),!0;case 5:return Oe.fn.call(Oe.context,ee,Ot,we,re),!0;case 6:return Oe.fn.call(Oe.context,ee,Ot,we,re,xe),!0}for(de=1,ke=new Array(Ne-1);de<Ne;de++)ke[de-1]=arguments[de];Oe.fn.apply(Oe.context,ke)}else{var ci=Oe.length,Xn;for(de=0;de<ci;de++)switch(Oe[de].once&&this.removeListener(He,Oe[de].fn,void 0,!0),Ne){case 1:Oe[de].fn.call(Oe[de].context);break;case 2:Oe[de].fn.call(Oe[de].context,ee);break;case 3:Oe[de].fn.call(Oe[de].context,ee,Ot);break;case 4:Oe[de].fn.call(Oe[de].context,ee,Ot,we);break;default:if(!ke)for(Xn=1,ke=new Array(Ne-1);Xn<Ne;Xn++)ke[Xn-1]=arguments[Xn];Oe[de].fn.apply(Oe[de].context,ke)}}return!0},Ye.prototype.on=function(He,ee,Ot){return De(this,He,ee,Ot,!1)},Ye.prototype.once=function(He,ee,Ot){return De(this,He,ee,Ot,!0)},Ye.prototype.removeListener=function(He,ee,Ot,we){var re=Ft?Ft+He:He;if(!this._events[re])return this;if(!ee)return jn(this,re),this;var xe=this._events[re];if(xe.fn)xe.fn===ee&&(!we||xe.once)&&(!Ot||xe.context===Ot)&&jn(this,re);else{for(var gn=0,Oe=[],Ne=xe.length;gn<Ne;gn++)(xe[gn].fn!==ee||we&&!xe[gn].once||Ot&&xe[gn].context!==Ot)&&Oe.push(xe[gn]);Oe.length?this._events[re]=Oe.length===1?Oe[0]:Oe:jn(this,re)}return this},Ye.prototype.removeAllListeners=function(He){var ee;return He?(ee=Ft?Ft+He:He,this._events[ee]&&jn(this,ee)):(this._events=new ze,this._eventsCount=0),this},Ye.prototype.off=Ye.prototype.removeListener,Ye.prototype.addListener=Ye.prototype.on,Ye.prefixed=Ft,Ye.EventEmitter=Ye,Ke.exports=Ye},8874:function(Ke){"use strict";Ke.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(Ke,$e,Ft){var ze=Ft(8874),J=Ft(86851),De=Object.hasOwnProperty,jn=Object.create(null);for(var Ye in ze)De.call(ze,Ye)&&(jn[ze[Ye]]=Ye);var Jt=Ke.exports={to:{},get:{}};Jt.get=function(Ot){var we=Ot.substring(0,3).toLowerCase(),re,xe;switch(we){case"hsl":re=Jt.get.hsl(Ot),xe="hsl";break;case"hwb":re=Jt.get.hwb(Ot),xe="hwb";break;default:re=Jt.get.rgb(Ot),xe="rgb";break}return re?{model:xe,value:re}:null},Jt.get.rgb=function(Ot){if(!Ot)return null;var we=/^#([a-f0-9]{3,4})$/i,re=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,xe=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,gn=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,Oe=/^(\w+)$/,Ne=[0,0,0,1],ke,de,ci;if(ke=Ot.match(re)){for(ci=ke[2],ke=ke[1],de=0;de<3;de++){var Xn=de*2;Ne[de]=parseInt(ke.slice(Xn,Xn+2),16)}ci&&(Ne[3]=parseInt(ci,16)/255)}else if(ke=Ot.match(we)){for(ke=ke[1],ci=ke[3],de=0;de<3;de++)Ne[de]=parseInt(ke[de]+ke[de],16);ci&&(Ne[3]=parseInt(ci+ci,16)/255)}else if(ke=Ot.match(xe)){for(de=0;de<3;de++)Ne[de]=parseInt(ke[de+1],0);ke[4]&&(ke[5]?Ne[3]=parseFloat(ke[4])*.01:Ne[3]=parseFloat(ke[4]))}else if(ke=Ot.match(gn)){for(de=0;de<3;de++)Ne[de]=Math.round(parseFloat(ke[de+1])*2.55);ke[4]&&(ke[5]?Ne[3]=parseFloat(ke[4])*.01:Ne[3]=parseFloat(ke[4]))}else return(ke=Ot.match(Oe))?ke[1]==="transparent"?[0,0,0,0]:De.call(ze,ke[1])?(Ne=ze[ke[1]],Ne[3]=1,Ne):null:null;for(de=0;de<3;de++)Ne[de]=He(Ne[de],0,255);return Ne[3]=He(Ne[3],0,1),Ne},Jt.get.hsl=function(Ot){if(!Ot)return null;var we=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,re=Ot.match(we);if(re){var xe=parseFloat(re[4]),gn=(parseFloat(re[1])%360+360)%360,Oe=He(parseFloat(re[2]),0,100),Ne=He(parseFloat(re[3]),0,100),ke=He(isNaN(xe)?1:xe,0,1);return[gn,Oe,Ne,ke]}return null},Jt.get.hwb=function(Ot){if(!Ot)return null;var we=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,re=Ot.match(we);if(re){var xe=parseFloat(re[4]),gn=(parseFloat(re[1])%360+360)%360,Oe=He(parseFloat(re[2]),0,100),Ne=He(parseFloat(re[3]),0,100),ke=He(isNaN(xe)?1:xe,0,1);return[gn,Oe,Ne,ke]}return null},Jt.to.hex=function(){var Ot=J(arguments);return"#"+ee(Ot[0])+ee(Ot[1])+ee(Ot[2])+(Ot[3]<1?ee(Math.round(Ot[3]*255)):"")},Jt.to.rgb=function(){var Ot=J(arguments);return Ot.length<4||Ot[3]===1?"rgb("+Math.round(Ot[0])+", "+Math.round(Ot[1])+", "+Math.round(Ot[2])+")":"rgba("+Math.round(Ot[0])+", "+Math.round(Ot[1])+", "+Math.round(Ot[2])+", "+Ot[3]+")"},Jt.to.rgb.percent=function(){var Ot=J(arguments),we=Math.round(Ot[0]/255*100),re=Math.round(Ot[1]/255*100),xe=Math.round(Ot[2]/255*100);return Ot.length<4||Ot[3]===1?"rgb("+we+"%, "+re+"%, "+xe+"%)":"rgba("+we+"%, "+re+"%, "+xe+"%, "+Ot[3]+")"},Jt.to.hsl=function(){var Ot=J(arguments);return Ot.length<4||Ot[3]===1?"hsl("+Ot[0]+", "+Ot[1]+"%, "+Ot[2]+"%)":"hsla("+Ot[0]+", "+Ot[1]+"%, "+Ot[2]+"%, "+Ot[3]+")"},Jt.to.hwb=function(){var Ot=J(arguments),we="";return Ot.length>=4&&Ot[3]!==1&&(we=", "+Ot[3]),"hwb("+Ot[0]+", "+Ot[1]+"%, "+Ot[2]+"%"+we+")"},Jt.to.keyword=function(Ot){return jn[Ot.slice(0,3)]};function He(Ot,we,re){return Math.min(Math.max(we,Ot),re)}function ee(Ot){var we=Math.round(Ot).toString(16).toUpperCase();return we.length<2?"0"+we:we}},46020:function(Ke){(function($e,Ft){Ke.exports=Ft()})(this,function(){"use strict";var $e=function(_,x){return $e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,C){O.__proto__=C}||function(O,C){for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(O[I]=C[I])},$e(_,x)};function Ft(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");$e(_,x);function O(){this.constructor=_}_.prototype=x===null?Object.create(x):(O.prototype=x.prototype,new O)}var ze=function(){return ze=Object.assign||function(x){for(var O,C=1,I=arguments.length;C<I;C++){O=arguments[C];for(var H in O)Object.prototype.hasOwnProperty.call(O,H)&&(x[H]=O[H])}return x},ze.apply(this,arguments)};function J(_,x,O,C){function I(H){return H instanceof O?H:new O(function($){$(H)})}return new(O||(O=Promise))(function(H,$){function rt(yt){try{dt(C.next(yt))}catch(xt){$(xt)}}function nt(yt){try{dt(C.throw(yt))}catch(xt){$(xt)}}function dt(yt){yt.done?H(yt.value):I(yt.value).then(rt,nt)}dt((C=C.apply(_,x||[])).next())})}function De(_,x){var O={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},C,I,H,$;return $={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function rt(dt){return function(yt){return nt([dt,yt])}}function nt(dt){if(C)throw new TypeError("Generator is already executing.");for(;O;)try{if(C=1,I&&(H=dt[0]&2?I.return:dt[0]?I.throw||((H=I.return)&&H.call(I),0):I.next)&&!(H=H.call(I,dt[1])).done)return H;switch(I=0,H&&(dt=[dt[0]&2,H.value]),dt[0]){case 0:case 1:H=dt;break;case 4:return O.label++,{value:dt[1],done:!1};case 5:O.label++,I=dt[1],dt=[0];continue;case 7:dt=O.ops.pop(),O.trys.pop();continue;default:if(H=O.trys,!(H=H.length>0&&H[H.length-1])&&(dt[0]===6||dt[0]===2)){O=0;continue}if(dt[0]===3&&(!H||dt[1]>H[0]&&dt[1]<H[3])){O.label=dt[1];break}if(dt[0]===6&&O.label<H[1]){O.label=H[1],H=dt;break}if(H&&O.label<H[2]){O.label=H[2],O.ops.push(dt);break}H[2]&&O.ops.pop(),O.trys.pop();continue}dt=x.call(_,O)}catch(yt){dt=[6,yt],I=0}finally{C=H=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}function jn(_,x,O){if(O||arguments.length===2)for(var C=0,I=x.length,H;C<I;C++)(H||!(C in x))&&(H||(H=Array.prototype.slice.call(x,0,C)),H[C]=x[C]);return _.concat(H||x)}for(var Ye=function(){function _(x,O,C,I){this.left=x,this.top=O,this.width=C,this.height=I}return _.prototype.add=function(x,O,C,I){return new _(this.left+x,this.top+O,this.width+C,this.height+I)},_.fromClientRect=function(x,O){return new _(O.left+x.windowBounds.left,O.top+x.windowBounds.top,O.width,O.height)},_.fromDOMRectList=function(x,O){var C=Array.from(O).find(function(I){return I.width!==0});return C?new _(C.left+x.windowBounds.left,C.top+x.windowBounds.top,C.width,C.height):_.EMPTY},_.EMPTY=new _(0,0,0,0),_}(),Jt=function(_,x){return Ye.fromClientRect(_,x.getBoundingClientRect())},He=function(_){var x=_.body,O=_.documentElement;if(!x||!O)throw new Error("Unable to get document size");var C=Math.max(Math.max(x.scrollWidth,O.scrollWidth),Math.max(x.offsetWidth,O.offsetWidth),Math.max(x.clientWidth,O.clientWidth)),I=Math.max(Math.max(x.scrollHeight,O.scrollHeight),Math.max(x.offsetHeight,O.offsetHeight),Math.max(x.clientHeight,O.clientHeight));return new Ye(0,0,C,I)},ee=function(_){for(var x=[],O=0,C=_.length;O<C;){var I=_.charCodeAt(O++);if(I>=55296&&I<=56319&&O<C){var H=_.charCodeAt(O++);(H&64512)===56320?x.push(((I&1023)<<10)+(H&1023)+65536):(x.push(I),O--)}else x.push(I)}return x},Ot=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var O=_.length;if(!O)return"";for(var C=[],I=-1,H="";++I<O;){var $=_[I];$<=65535?C.push($):($-=65536,C.push(($>>10)+55296,$%1024+56320)),(I+1===O||C.length>16384)&&(H+=String.fromCharCode.apply(String,C),C.length=0)}return H},we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),xe=0;xe<we.length;xe++)re[we.charCodeAt(xe)]=xe;for(var gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oe=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),Ne=0;Ne<gn.length;Ne++)Oe[gn.charCodeAt(Ne)]=Ne;for(var ke=function(_){var x=_.length*.75,O=_.length,C,I=0,H,$,rt,nt;_[_.length-1]==="="&&(x--,_[_.length-2]==="="&&x--);var dt=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(x):new Array(x),yt=Array.isArray(dt)?dt:new Uint8Array(dt);for(C=0;C<O;C+=4)H=Oe[_.charCodeAt(C)],$=Oe[_.charCodeAt(C+1)],rt=Oe[_.charCodeAt(C+2)],nt=Oe[_.charCodeAt(C+3)],yt[I++]=H<<2|$>>4,yt[I++]=($&15)<<4|rt>>2,yt[I++]=(rt&3)<<6|nt&63;return dt},de=function(_){for(var x=_.length,O=[],C=0;C<x;C+=2)O.push(_[C+1]<<8|_[C]);return O},ci=function(_){for(var x=_.length,O=[],C=0;C<x;C+=4)O.push(_[C+3]<<24|_[C+2]<<16|_[C+1]<<8|_[C]);return O},Xn=5,ra=11,ei=2,Ia=ra-Xn,Yi=65536>>Xn,Ui=1<<Xn,ma=Ui-1,Ws=1024>>Xn,Wa=Yi+Ws,pt=Wa,Wo=32,UA=pt+Wo,Vs=65536>>ra,ms=1<<Ia,Va=ms-1,to=function(_,x,O){return _.slice?_.slice(x,O):new Uint16Array(Array.prototype.slice.call(_,x,O))},yl=function(_,x,O){return _.slice?_.slice(x,O):new Uint32Array(Array.prototype.slice.call(_,x,O))},Za=function(_,x){var O=ke(_),C=Array.isArray(O)?ci(O):new Uint32Array(O),I=Array.isArray(O)?de(O):new Uint16Array(O),H=24,$=to(I,H/2,C[4]/2),rt=C[5]===2?to(I,(H+C[4])/2):yl(C,Math.ceil((H+C[4])/4));return new ia(C[0],C[1],C[2],C[3],$,rt)},ia=function(){function _(x,O,C,I,H,$){this.initialValue=x,this.errorValue=O,this.highStart=C,this.highValueIndex=I,this.index=H,this.data=$}return _.prototype.get=function(x){var O;if(x>=0){if(x<55296||x>56319&&x<=65535)return O=this.index[x>>Xn],O=(O<<ei)+(x&ma),this.data[O];if(x<=65535)return O=this.index[Yi+(x-55296>>Xn)],O=(O<<ei)+(x&ma),this.data[O];if(x<this.highStart)return O=UA-Vs+(x>>ra),O=this.index[O],O+=x>>Xn&Va,O=this.index[O],O=(O<<ei)+(x&ma),this.data[O];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_}(),Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PA=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),ws=0;ws<Zs.length;ws++)PA[Zs.charCodeAt(ws)]=ws;var Vo="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ni=50,bi=1,La=2,wa=3,xc=4,bs=5,Qa=7,Mu=8,aa=9,oa=10,We=11,Qt=12,Pt=13,tn=14,je=15,Te=16,Ge=17,eo=18,Fu=19,Mn=20,er=21,Zo=22,Yo=23,$o=24,sa=25,Cr=26,To=27,Xo=28,_c=29,Aa=30,Ue=31,Pi=32,ca=33,vn=34,ba=35,ri=36,Ba=37,RA=38,Cc=39,ml=40,ku=41,Tu=42,qf=43,Jf=[9001,65288],td="!",ln="\xD7",Ys="\xF7",$s=Za(Vo),qo=[Aa,ri],Iu=[bi,La,wa,bs],NA=[oa,Mu],DA=[To,Cr],no=Iu.concat(NA),xa=[RA,Cc,ml,vn,ba],Oc=[je,Pt],wl=function(_,x){x===void 0&&(x="strict");var O=[],C=[],I=[];return _.forEach(function(H,$){var rt=$s.get(H);if(rt>ni?(I.push(!0),rt-=ni):I.push(!1),["normal","auto","loose"].indexOf(x)!==-1&&[8208,8211,12316,12448].indexOf(H)!==-1)return C.push($),O.push(Te);if(rt===xc||rt===We){if($===0)return C.push($),O.push(Aa);var nt=O[$-1];return no.indexOf(nt)===-1?(C.push(C[$-1]),O.push(nt)):(C.push($),O.push(Aa))}if(C.push($),rt===Ue)return O.push(x==="strict"?er:Ba);if(rt===Tu||rt===_c)return O.push(Aa);if(rt===qf)return H>=131072&&H<=196605||H>=196608&&H<=262141?O.push(Ba):O.push(Aa);O.push(rt)}),[C,O,I]},bl=function(_,x,O,C){var I=C[O];if(Array.isArray(_)?_.indexOf(I)!==-1:_===I)for(var H=O;H<=C.length;){H++;var $=C[H];if($===x)return!0;if($!==oa)break}if(I===oa)for(var H=O;H>0;){H--;var rt=C[H];if(Array.isArray(_)?_.indexOf(rt)!==-1:_===rt)for(var nt=O;nt<=C.length;){nt++;var $=C[nt];if($===x)return!0;if($!==oa)break}if(rt!==oa)break}return!1},ed=function(_,x){for(var O=_;O>=0;){var C=x[O];if(C===oa)O--;else return C}return 0},Xh=function(_,x,O,C,I){if(O[C]===0)return ln;var H=C-1;if(Array.isArray(I)&&I[H]===!0)return ln;var $=H-1,rt=H+1,nt=x[H],dt=$>=0?x[$]:0,yt=x[rt];if(nt===La&&yt===wa)return ln;if(Iu.indexOf(nt)!==-1)return td;if(Iu.indexOf(yt)!==-1||NA.indexOf(yt)!==-1)return ln;if(ed(H,x)===Mu)return Ys;if($s.get(_[H])===We||(nt===Pi||nt===ca)&&$s.get(_[rt])===We||nt===Qa||yt===Qa||nt===aa||[oa,Pt,je].indexOf(nt)===-1&&yt===aa||[Ge,eo,Fu,$o,Xo].indexOf(yt)!==-1||ed(H,x)===Zo||bl(Yo,Zo,H,x)||bl([Ge,eo],er,H,x)||bl(Qt,Qt,H,x))return ln;if(nt===oa)return Ys;if(nt===Yo||yt===Yo)return ln;if(yt===Te||nt===Te)return Ys;if([Pt,je,er].indexOf(yt)!==-1||nt===tn||dt===ri&&Oc.indexOf(nt)!==-1||nt===Xo&&yt===ri||yt===Mn||qo.indexOf(yt)!==-1&&nt===sa||qo.indexOf(nt)!==-1&&yt===sa||nt===To&&[Ba,Pi,ca].indexOf(yt)!==-1||[Ba,Pi,ca].indexOf(nt)!==-1&&yt===Cr||qo.indexOf(nt)!==-1&&DA.indexOf(yt)!==-1||DA.indexOf(nt)!==-1&&qo.indexOf(yt)!==-1||[To,Cr].indexOf(nt)!==-1&&(yt===sa||[Zo,je].indexOf(yt)!==-1&&x[rt+1]===sa)||[Zo,je].indexOf(nt)!==-1&&yt===sa||nt===sa&&[sa,Xo,$o].indexOf(yt)!==-1)return ln;if([sa,Xo,$o,Ge,eo].indexOf(yt)!==-1)for(var xt=H;xt>=0;){var It=x[xt];if(It===sa)return ln;if([Xo,$o].indexOf(It)!==-1)xt--;else break}if([To,Cr].indexOf(yt)!==-1)for(var xt=[Ge,eo].indexOf(nt)!==-1?$:H;xt>=0;){var It=x[xt];if(It===sa)return ln;if([Xo,$o].indexOf(It)!==-1)xt--;else break}if(RA===nt&&[RA,Cc,vn,ba].indexOf(yt)!==-1||[Cc,vn].indexOf(nt)!==-1&&[Cc,ml].indexOf(yt)!==-1||[ml,ba].indexOf(nt)!==-1&&yt===ml||xa.indexOf(nt)!==-1&&[Mn,Cr].indexOf(yt)!==-1||xa.indexOf(yt)!==-1&&nt===To||qo.indexOf(nt)!==-1&&qo.indexOf(yt)!==-1||nt===$o&&qo.indexOf(yt)!==-1||qo.concat(sa).indexOf(nt)!==-1&&yt===Zo&&Jf.indexOf(_[rt])===-1||qo.concat(sa).indexOf(yt)!==-1&&nt===eo)return ln;if(nt===ku&&yt===ku){for(var ge=O[H],$t=1;ge>0&&(ge--,x[ge]===ku);)$t++;if($t%2!==0)return ln}return nt===Pi&&yt===ca?ln:Ys},qh=function(_,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var O=wl(_,x.lineBreak),C=O[0],I=O[1],H=O[2];(x.wordBreak==="break-all"||x.wordBreak==="break-word")&&(I=I.map(function(rt){return[sa,Aa,Tu].indexOf(rt)!==-1?Ba:rt}));var $=x.wordBreak==="keep-all"?H.map(function(rt,nt){return rt&&_[nt]>=19968&&_[nt]<=40959}):void 0;return[C,I,$]},Or=function(){function _(x,O,C,I){this.codePoints=x,this.required=O===td,this.start=C,this.end=I}return _.prototype.slice=function(){return Ot.apply(void 0,this.codePoints.slice(this.start,this.end))},_}(),la=function(_,x){var O=ee(_),C=qh(O,x),I=C[0],H=C[1],$=C[2],rt=O.length,nt=0,dt=0;return{next:function(){if(dt>=rt)return{done:!0,value:null};for(var yt=ln;dt<rt&&(yt=Xh(O,H,I,++dt,$))===ln;);if(yt!==ln||dt===rt){var xt=new Or(O,yt,nt,dt);return nt=dt,{value:xt,done:!1}}return{done:!0,value:null}}}},ua=1,K=2,V=4,et=8,ot=10,gt=47,vt=92,lt=9,ct=32,Bt=34,Et=61,Xt=35,te=36,Be=37,zt=39,ie=40,ne=41,Dt=95,ve=45,le=33,Ie=60,ae=62,Pe=64,fn=91,_a=93,Ca=61,fa=123,Ri=63,Ua=125,vr=124,Vn=126,HA=128,Lu=65533,Xs=42,$i=43,li=44,qs=58,jA=59,Jo=46,ts=0,n0=8,r0=11,i0=14,Am=31,Bs=127,xs=-1,nd=48,a0=97,Jh=101,cm=102,lm=117,um=122,Er=65,yr=69,o0=70,fm=85,dm=90,Oa=function(_){return _>=nd&&_<=57},nr=function(_){return _>=55296&&_<=57343},GA=function(_){return Oa(_)||_>=Er&&_<=o0||_>=a0&&_<=cm},KA=function(_){return _>=a0&&_<=um},tp=function(_){return _>=Er&&_<=dm},Bi=function(_){return KA(_)||tp(_)},_s=function(_){return _>=HA},Cs=function(_){return _===ot||_===lt||_===ct},Pa=function(_){return Bi(_)||_s(_)||_===Dt},Qu=function(_){return Pa(_)||Oa(_)||_===ve},Ya=function(_){return _>=ts&&_<=n0||_===r0||_>=i0&&_<=Am||_===Bs},Ur=function(_,x){return _!==vt?!1:x!==ot},es=function(_,x,O){return _===ve?Pa(x)||Ur(x,O):Pa(_)?!0:!!(_===vt&&Ur(_,x))},Bl=function(_,x,O){return _===$i||_===ve?Oa(x)?!0:x===Jo&&Oa(O):Oa(_===Jo?x:_)},ep=function(_){var x=0,O=1;(_[x]===$i||_[x]===ve)&&(_[x]===ve&&(O=-1),x++);for(var C=[];Oa(_[x]);)C.push(_[x++]);var I=C.length?parseInt(Ot.apply(void 0,C),10):0;_[x]===Jo&&x++;for(var H=[];Oa(_[x]);)H.push(_[x++]);var $=H.length,rt=$?parseInt(Ot.apply(void 0,H),10):0;(_[x]===yr||_[x]===Jh)&&x++;var nt=1;(_[x]===$i||_[x]===ve)&&(_[x]===ve&&(nt=-1),x++);for(var dt=[];Oa(_[x]);)dt.push(_[x++]);var yt=dt.length?parseInt(Ot.apply(void 0,dt),10):0;return O*(I+rt*Math.pow(10,-$))*Math.pow(10,nt*yt)},rd={type:2},id={type:3},$a={type:4},Js={type:13},Ni={type:8},np={type:21},ad={type:9},Os={type:10},Ec={type:11},Uu={type:12},Pr={type:14},Ra={type:23},tA={type:1},Pu={type:25},od={type:24},s0={type:26},xl={type:27},sd={type:28},rp={type:29},_l={type:31},eA={type:32},ip=function(){function _(){this._value=[]}return _.prototype.write=function(x){this._value=this._value.concat(ee(x))},_.prototype.read=function(){for(var x=[],O=this.consumeToken();O!==eA;)x.push(O),O=this.consumeToken();return x},_.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case Bt:return this.consumeStringToken(Bt);case Xt:var O=this.peekCodePoint(0),C=this.peekCodePoint(1),I=this.peekCodePoint(2);if(Qu(O)||Ur(C,I)){var H=es(O,C,I)?K:ua,$=this.consumeName();return{type:5,value:$,flags:H}}break;case te:if(this.peekCodePoint(0)===Et)return this.consumeCodePoint(),Js;break;case zt:return this.consumeStringToken(zt);case ie:return rd;case ne:return id;case Xs:if(this.peekCodePoint(0)===Et)return this.consumeCodePoint(),Pr;break;case $i:if(Bl(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case li:return $a;case ve:var rt=x,nt=this.peekCodePoint(0),dt=this.peekCodePoint(1);if(Bl(rt,nt,dt))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(es(rt,nt,dt))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(nt===ve&&dt===ae)return this.consumeCodePoint(),this.consumeCodePoint(),od;break;case Jo:if(Bl(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case gt:if(this.peekCodePoint(0)===Xs)for(this.consumeCodePoint();;){var yt=this.consumeCodePoint();if(yt===Xs&&(yt=this.consumeCodePoint(),yt===gt))return this.consumeToken();if(yt===xs)return this.consumeToken()}break;case qs:return s0;case jA:return xl;case Ie:if(this.peekCodePoint(0)===le&&this.peekCodePoint(1)===ve&&this.peekCodePoint(2)===ve)return this.consumeCodePoint(),this.consumeCodePoint(),Pu;break;case Pe:var xt=this.peekCodePoint(0),It=this.peekCodePoint(1),ge=this.peekCodePoint(2);if(es(xt,It,ge)){var $=this.consumeName();return{type:7,value:$}}break;case fn:return sd;case vt:if(Ur(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case _a:return rp;case Ca:if(this.peekCodePoint(0)===Et)return this.consumeCodePoint(),Ni;break;case fa:return Ec;case Ua:return Uu;case lm:case fm:var $t=this.peekCodePoint(0),ue=this.peekCodePoint(1);return $t===$i&&(GA(ue)||ue===Ri)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case vr:if(this.peekCodePoint(0)===Et)return this.consumeCodePoint(),ad;if(this.peekCodePoint(0)===vr)return this.consumeCodePoint(),np;break;case Vn:if(this.peekCodePoint(0)===Et)return this.consumeCodePoint(),Os;break;case xs:return eA}return Cs(x)?(this.consumeWhiteSpace(),_l):Oa(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):Pa(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:Ot(x)}},_.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x=="undefined"?-1:x},_.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},_.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},_.prototype.consumeUnicodeRangeToken=function(){for(var x=[],O=this.consumeCodePoint();GA(O)&&x.length<6;)x.push(O),O=this.consumeCodePoint();for(var C=!1;O===Ri&&x.length<6;)x.push(O),O=this.consumeCodePoint(),C=!0;if(C){var I=parseInt(Ot.apply(void 0,x.map(function(nt){return nt===Ri?nd:nt})),16),H=parseInt(Ot.apply(void 0,x.map(function(nt){return nt===Ri?o0:nt})),16);return{type:30,start:I,end:H}}var $=parseInt(Ot.apply(void 0,x),16);if(this.peekCodePoint(0)===ve&&GA(this.peekCodePoint(1))){this.consumeCodePoint(),O=this.consumeCodePoint();for(var rt=[];GA(O)&&rt.length<6;)rt.push(O),O=this.consumeCodePoint();var H=parseInt(Ot.apply(void 0,rt),16);return{type:30,start:$,end:H}}else return{type:30,start:$,end:$}},_.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return x.toLowerCase()==="url"&&this.peekCodePoint(0)===ie?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ie?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},_.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===xs)return{type:22,value:""};var O=this.peekCodePoint(0);if(O===zt||O===Bt){var C=this.consumeStringToken(this.consumeCodePoint());return C.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===xs||this.peekCodePoint(0)===ne)?(this.consumeCodePoint(),{type:22,value:C.value}):(this.consumeBadUrlRemnants(),Ra)}for(;;){var I=this.consumeCodePoint();if(I===xs||I===ne)return{type:22,value:Ot.apply(void 0,x)};if(Cs(I))return this.consumeWhiteSpace(),this.peekCodePoint(0)===xs||this.peekCodePoint(0)===ne?(this.consumeCodePoint(),{type:22,value:Ot.apply(void 0,x)}):(this.consumeBadUrlRemnants(),Ra);if(I===Bt||I===zt||I===ie||Ya(I))return this.consumeBadUrlRemnants(),Ra;if(I===vt)if(Ur(I,this.peekCodePoint(0)))x.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ra;else x.push(I)}},_.prototype.consumeWhiteSpace=function(){for(;Cs(this.peekCodePoint(0));)this.consumeCodePoint()},_.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(x===ne||x===xs)return;Ur(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},_.prototype.consumeStringSlice=function(x){for(var O=5e4,C="";x>0;){var I=Math.min(O,x);C+=Ot.apply(void 0,this._value.splice(0,I)),x-=I}return this._value.shift(),C},_.prototype.consumeStringToken=function(x){var O="",C=0;do{var I=this._value[C];if(I===xs||I===void 0||I===x)return O+=this.consumeStringSlice(C),{type:0,value:O};if(I===ot)return this._value.splice(0,C),tA;if(I===vt){var H=this._value[C+1];H!==xs&&H!==void 0&&(H===ot?(O+=this.consumeStringSlice(C),C=-1,this._value.shift()):Ur(I,H)&&(O+=this.consumeStringSlice(C),O+=Ot(this.consumeEscapedCodePoint()),C=-1))}C++}while(!0)},_.prototype.consumeNumber=function(){var x=[],O=V,C=this.peekCodePoint(0);for((C===$i||C===ve)&&x.push(this.consumeCodePoint());Oa(this.peekCodePoint(0));)x.push(this.consumeCodePoint());C=this.peekCodePoint(0);var I=this.peekCodePoint(1);if(C===Jo&&Oa(I))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),O=et;Oa(this.peekCodePoint(0));)x.push(this.consumeCodePoint());C=this.peekCodePoint(0),I=this.peekCodePoint(1);var H=this.peekCodePoint(2);if((C===yr||C===Jh)&&((I===$i||I===ve)&&Oa(H)||Oa(I)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),O=et;Oa(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[ep(x),O]},_.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),O=x[0],C=x[1],I=this.peekCodePoint(0),H=this.peekCodePoint(1),$=this.peekCodePoint(2);if(es(I,H,$)){var rt=this.consumeName();return{type:15,number:O,flags:C,unit:rt}}return I===Be?(this.consumeCodePoint(),{type:16,number:O,flags:C}):{type:17,number:O,flags:C}},_.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(GA(x)){for(var O=Ot(x);GA(this.peekCodePoint(0))&&O.length<6;)O+=Ot(this.consumeCodePoint());Cs(this.peekCodePoint(0))&&this.consumeCodePoint();var C=parseInt(O,16);return C===0||nr(C)||C>1114111?Lu:C}return x===xs?Lu:x},_.prototype.consumeName=function(){for(var x="";;){var O=this.consumeCodePoint();if(Qu(O))x+=Ot(O);else if(Ur(O,this.peekCodePoint(0)))x+=Ot(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(O),x}},_}(),Ad=function(){function _(x){this._tokens=x}return _.create=function(x){var O=new ip;return O.write(x),new _(O.read())},_.parseValue=function(x){return _.create(x).parseComponentValue()},_.parseValues=function(x){return _.create(x).parseComponentValues()},_.prototype.parseComponentValue=function(){for(var x=this.consumeToken();x.type===31;)x=this.consumeToken();if(x.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var O=this.consumeComponentValue();do x=this.consumeToken();while(x.type===31);if(x.type===32)return O;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},_.prototype.parseComponentValues=function(){for(var x=[];;){var O=this.consumeComponentValue();if(O.type===32)return x;x.push(O),x.push()}},_.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},_.prototype.consumeSimpleBlock=function(x){for(var O={type:x,values:[]},C=this.consumeToken();;){if(C.type===32||ud(C,x))return O;this.reconsumeToken(C),O.values.push(this.consumeComponentValue()),C=this.consumeToken()}},_.prototype.consumeFunction=function(x){for(var O={name:x.value,values:[],type:18};;){var C=this.consumeToken();if(C.type===32||C.type===3)return O;this.reconsumeToken(C),O.values.push(this.consumeComponentValue())}},_.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x=="undefined"?eA:x},_.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},_}(),zA=function(_){return _.type===15},Es=function(_){return _.type===17},Gn=function(_){return _.type===20},cd=function(_){return _.type===0},ld=function(_,x){return Gn(_)&&_.value===x},Ru=function(_){return _.type!==31},nA=function(_){return _.type!==31&&_.type!==4},ns=function(_){var x=[],O=[];return _.forEach(function(C){if(C.type===4){if(O.length===0)throw new Error("Error parsing function args, zero tokens for arg");x.push(O),O=[];return}C.type!==31&&O.push(C)}),O.length&&x.push(O),x},ud=function(_,x){return x===11&&_.type===12||x===28&&_.type===29?!0:x===2&&_.type===3},ui=function(_){return _.type===17||_.type===15},Yr=function(_){return _.type===16||ui(_)},rA=function(_){return _.length>1?[_[0],_[1]]:[_[0]]},Di={type:17,number:0,flags:V},Cl={type:16,number:50,flags:V},iA={type:16,number:100,flags:V},Sc=function(_,x,O){var C=_[0],I=_[1];return[mr(C,x),mr(typeof I!="undefined"?I:C,O)]},mr=function(_,x){if(_.type===16)return _.number/100*x;if(zA(_))switch(_.unit){case"rem":case"em":return 16*_.number;case"px":default:return _.number}return _.number},A0="deg",c0="grad",WA="rad",l0="turn",fd={name:"angle",parse:function(_,x){if(x.type===15)switch(x.unit){case A0:return Math.PI*x.number/180;case c0:return Math.PI/200*x.number;case WA:return x.number;case l0:return Math.PI*2*x.number}throw new Error("Unsupported angle type")}},dd=function(_){return _.type===15&&(_.unit===A0||_.unit===c0||_.unit===WA||_.unit===l0)},ap=function(_){var x=_.filter(Gn).map(function(O){return O.value}).join(" ");switch(x){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Di,Di];case"to top":case"bottom":return Hi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Di,iA];case"to right":case"left":return Hi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[iA,iA];case"to bottom":case"top":return Hi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[iA,Di];case"to left":case"right":return Hi(270)}return 0},Hi=function(_){return Math.PI*_/180},rs={name:"color",parse:function(_,x){if(x.type===18){var O=hm[x.name];if(typeof O=="undefined")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return O(_,x.values)}if(x.type===5){if(x.value.length===3){var C=x.value.substring(0,1),I=x.value.substring(1,2),H=x.value.substring(2,3);return ZA(parseInt(C+C,16),parseInt(I+I,16),parseInt(H+H,16),1)}if(x.value.length===4){var C=x.value.substring(0,1),I=x.value.substring(1,2),H=x.value.substring(2,3),$=x.value.substring(3,4);return ZA(parseInt(C+C,16),parseInt(I+I,16),parseInt(H+H,16),parseInt($+$,16)/255)}if(x.value.length===6){var C=x.value.substring(0,2),I=x.value.substring(2,4),H=x.value.substring(4,6);return ZA(parseInt(C,16),parseInt(I,16),parseInt(H,16),1)}if(x.value.length===8){var C=x.value.substring(0,2),I=x.value.substring(2,4),H=x.value.substring(4,6),$=x.value.substring(6,8);return ZA(parseInt(C,16),parseInt(I,16),parseInt(H,16),parseInt($,16)/255)}}if(x.type===20){var rt=aA[x.value.toUpperCase()];if(typeof rt!="undefined")return rt}return aA.TRANSPARENT}},VA=function(_){return(255&_)===0},Xi=function(_){var x=255&_,O=255&_>>8,C=255&_>>16,I=255&_>>24;return x<255?"rgba("+I+","+C+","+O+","+x/255+")":"rgb("+I+","+C+","+O+")"},ZA=function(_,x,O,C){return(_<<24|x<<16|O<<8|Math.round(C*255)<<0)>>>0},Mc=function(_,x){if(_.type===17)return _.number;if(_.type===16){var O=x===3?1:255;return x===3?_.number/100*O:Math.round(_.number/100*O)}return 0},Io=function(_,x){var O=x.filter(nA);if(O.length===3){var C=O.map(Mc),I=C[0],H=C[1],$=C[2];return ZA(I,H,$,1)}if(O.length===4){var rt=O.map(Mc),I=rt[0],H=rt[1],$=rt[2],nt=rt[3];return ZA(I,H,$,nt)}return 0};function hd(_,x,O){return O<0&&(O+=1),O>=1&&(O-=1),O<1/6?(x-_)*O*6+_:O<1/2?x:O<2/3?(x-_)*6*(2/3-O)+_:_}var u0=function(_,x){var O=x.filter(nA),C=O[0],I=O[1],H=O[2],$=O[3],rt=(C.type===17?Hi(C.number):fd.parse(_,C))/(Math.PI*2),nt=Yr(I)?I.number/100:0,dt=Yr(H)?H.number/100:0,yt=typeof $!="undefined"&&Yr($)?mr($,1):1;if(nt===0)return ZA(dt*255,dt*255,dt*255,1);var xt=dt<=.5?dt*(nt+1):dt+nt-dt*nt,It=dt*2-xt,ge=hd(It,xt,rt+1/3),$t=hd(It,xt,rt),ue=hd(It,xt,rt-1/3);return ZA(ge*255,$t*255,ue*255,yt)},hm={hsl:u0,hsla:u0,rgb:Io,rgba:Io},Nu=function(_,x){return rs.parse(_,Ad.create(x).parseComponentValue())},aA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pm={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(_,x){return x.map(function(O){if(Gn(O))switch(O.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pd={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wt=function(_,x){var O=rs.parse(_,x[0]),C=x[1];return C&&Yr(C)?{color:O,stop:C}:{color:O,stop:null}},Ut=function(_,x){var O=_[0],C=_[_.length-1];O.stop===null&&(O.stop=Di),C.stop===null&&(C.stop=iA);for(var I=[],H=0,$=0;$<_.length;$++){var rt=_[$].stop;if(rt!==null){var nt=mr(rt,x);nt>H?I.push(nt):I.push(H),H=nt}else I.push(null)}for(var dt=null,$=0;$<I.length;$++){var yt=I[$];if(yt===null)dt===null&&(dt=$);else if(dt!==null){for(var xt=$-dt,It=I[dt-1],ge=(yt-It)/(xt+1),$t=1;$t<=xt;$t++)I[dt+$t-1]=ge*$t;dt=null}}return _.map(function(ue,sn){var fe=ue.color;return{color:fe,stop:Math.max(Math.min(1,I[sn]/x),0)}})},kt=function(_,x,O){var C=x/2,I=O/2,H=mr(_[0],x)-C,$=I-mr(_[1],O);return(Math.atan2($,H)+Math.PI*2)%(Math.PI*2)},_e=function(_,x,O){var C=typeof _=="number"?_:kt(_,x,O),I=Math.abs(x*Math.sin(C))+Math.abs(O*Math.cos(C)),H=x/2,$=O/2,rt=I/2,nt=Math.sin(C-Math.PI/2)*rt,dt=Math.cos(C-Math.PI/2)*rt;return[I,H-dt,H+dt,$-nt,$+nt]},Ve=function(_,x){return Math.sqrt(_*_+x*x)},Kn=function(_,x,O,C,I){var H=[[0,0],[0,x],[_,0],[_,x]];return H.reduce(function($,rt){var nt=rt[0],dt=rt[1],yt=Ve(O-nt,C-dt);return(I?yt<$.optimumDistance:yt>$.optimumDistance)?{optimumCorner:rt,optimumDistance:yt}:$},{optimumDistance:I?1/0:-1/0,optimumCorner:null}).optimumCorner},ji=function(_,x,O,C,I){var H=0,$=0;switch(_.size){case 0:_.shape===0?H=$=Math.min(Math.abs(x),Math.abs(x-C),Math.abs(O),Math.abs(O-I)):_.shape===1&&(H=Math.min(Math.abs(x),Math.abs(x-C)),$=Math.min(Math.abs(O),Math.abs(O-I)));break;case 2:if(_.shape===0)H=$=Math.min(Ve(x,O),Ve(x,O-I),Ve(x-C,O),Ve(x-C,O-I));else if(_.shape===1){var rt=Math.min(Math.abs(O),Math.abs(O-I))/Math.min(Math.abs(x),Math.abs(x-C)),nt=Kn(C,I,x,O,!0),dt=nt[0],yt=nt[1];H=Ve(dt-x,(yt-O)/rt),$=rt*H}break;case 1:_.shape===0?H=$=Math.max(Math.abs(x),Math.abs(x-C),Math.abs(O),Math.abs(O-I)):_.shape===1&&(H=Math.max(Math.abs(x),Math.abs(x-C)),$=Math.max(Math.abs(O),Math.abs(O-I)));break;case 3:if(_.shape===0)H=$=Math.max(Ve(x,O),Ve(x,O-I),Ve(x-C,O),Ve(x-C,O-I));else if(_.shape===1){var rt=Math.max(Math.abs(O),Math.abs(O-I))/Math.max(Math.abs(x),Math.abs(x-C)),xt=Kn(C,I,x,O,!1),dt=xt[0],yt=xt[1];H=Ve(dt-x,(yt-O)/rt),$=rt*H}break}return Array.isArray(_.size)&&(H=mr(_.size[0],C),$=_.size.length===2?mr(_.size[1],I):H),[H,$]},wr=function(_,x){var O=Hi(180),C=[];return ns(x).forEach(function(I,H){if(H===0){var $=I[0];if($.type===20&&$.value==="to"){O=ap(I);return}else if(dd($)){O=fd.parse(_,$);return}}var rt=wt(_,I);C.push(rt)}),{angle:O,stops:C,type:1}},Ol=function(_,x){var O=Hi(180),C=[];return ns(x).forEach(function(I,H){if(H===0){var $=I[0];if($.type===20&&["top","left","right","bottom"].indexOf($.value)!==-1){O=ap(I);return}else if(dd($)){O=(fd.parse(_,$)+Hi(270))%Hi(360);return}}var rt=wt(_,I);C.push(rt)}),{angle:O,stops:C,type:1}},fi=function(_,x){var O=Hi(180),C=[],I=1,H=0,$=3,rt=[];return ns(x).forEach(function(nt,dt){var yt=nt[0];if(dt===0){if(Gn(yt)&&yt.value==="linear"){I=1;return}else if(Gn(yt)&&yt.value==="radial"){I=2;return}}if(yt.type===18){if(yt.name==="from"){var xt=rs.parse(_,yt.values[0]);C.push({stop:Di,color:xt})}else if(yt.name==="to"){var xt=rs.parse(_,yt.values[0]);C.push({stop:iA,color:xt})}else if(yt.name==="color-stop"){var It=yt.values.filter(nA);if(It.length===2){var xt=rs.parse(_,It[1]),ge=It[0];Es(ge)&&C.push({stop:{type:16,number:ge.number*100,flags:ge.flags},color:xt})}}}}),I===1?{angle:(O+Hi(180))%Hi(360),stops:C,type:I}:{size:$,shape:H,stops:C,position:rt,type:I}},ro="closest-side",io="farthest-side",f0="closest-corner",Fc="farthest-corner",ao="circle",Du="ellipse",Zn="cover",d0="contain",h0=function(_,x){var O=0,C=3,I=[],H=[];return ns(x).forEach(function($,rt){var nt=!0;if(rt===0){var dt=!1;nt=$.reduce(function(xt,It){if(dt)if(Gn(It))switch(It.value){case"center":return H.push(Cl),xt;case"top":case"left":return H.push(Di),xt;case"right":case"bottom":return H.push(iA),xt}else(Yr(It)||ui(It))&&H.push(It);else if(Gn(It))switch(It.value){case ao:return O=0,!1;case Du:return O=1,!1;case"at":return dt=!0,!1;case ro:return C=0,!1;case Zn:case io:return C=1,!1;case d0:case f0:return C=2,!1;case Fc:return C=3,!1}else if(ui(It)||Yr(It))return Array.isArray(C)||(C=[]),C.push(It),!1;return xt},nt)}if(nt){var yt=wt(_,$);I.push(yt)}}),{size:C,shape:O,stops:I,position:H,type:2}},YA=function(_,x){var O=0,C=3,I=[],H=[];return ns(x).forEach(function($,rt){var nt=!0;if(rt===0?nt=$.reduce(function(yt,xt){if(Gn(xt))switch(xt.value){case"center":return H.push(Cl),!1;case"top":case"left":return H.push(Di),!1;case"right":case"bottom":return H.push(iA),!1}else if(Yr(xt)||ui(xt))return H.push(xt),!1;return yt},nt):rt===1&&(nt=$.reduce(function(yt,xt){if(Gn(xt))switch(xt.value){case ao:return O=0,!1;case Du:return O=1,!1;case d0:case ro:return C=0,!1;case io:return C=1,!1;case f0:return C=2,!1;case Zn:case Fc:return C=3,!1}else if(ui(xt)||Yr(xt))return Array.isArray(C)||(C=[]),C.push(xt),!1;return yt},nt)),nt){var dt=wt(_,$);I.push(dt)}}),{size:C,shape:O,stops:I,position:H,type:2}},p0=function(_){return _.type===1},gm=function(_){return _.type===2},El={name:"image",parse:function(_,x){if(x.type===22){var O={url:x.value,type:0};return _.cache.addImage(x.value),O}if(x.type===18){var C=Lo[x.name];if(typeof C=="undefined")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return C(_,x.values)}throw new Error("Unsupported image type "+x.type)}};function gd(_){return!(_.type===20&&_.value==="none")&&(_.type!==18||!!Lo[_.name])}var Lo={"linear-gradient":wr,"-moz-linear-gradient":Ol,"-ms-linear-gradient":Ol,"-o-linear-gradient":Ol,"-webkit-linear-gradient":Ol,"radial-gradient":h0,"-moz-radial-gradient":YA,"-ms-radial-gradient":YA,"-o-radial-gradient":YA,"-webkit-radial-gradient":YA,"-webkit-gradient":fi},vd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(_,x){if(x.length===0)return[];var O=x[0];return O.type===20&&O.value==="none"?[]:x.filter(function(C){return nA(C)&&gd(C)}).map(function(C){return El.parse(_,C)})}},op={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(_,x){return x.map(function(O){if(Gn(O))switch(O.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$A={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(_,x){return ns(x).map(function(O){return O.filter(Yr)}).map(rA)}},g0={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(_,x){return ns(x).map(function(O){return O.filter(Gn).map(function(C){return C.value}).join(" ")}).map(v0)}},v0=function(_){switch(_){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ss;(function(_){_.AUTO="auto",_.CONTAIN="contain",_.COVER="cover"})(Ss||(Ss={}));var Sl={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(_,x){return ns(x).map(function(O){return O.filter(kc)})}},kc=function(_){return Gn(_)||Yr(_)},Ms=function(_){return{name:"border-"+_+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ml=Ms("top"),y0=Ms("right"),m0=Ms("bottom"),vm=Ms("left"),Tc=function(_){return{name:"border-radius-"+_,initialValue:"0 0",prefix:!1,type:1,parse:function(x,O){return rA(O.filter(Yr))}}},yd=Tc("top-left"),sp=Tc("top-right"),ym=Tc("bottom-right"),Fl=Tc("bottom-left"),md=function(_){return{name:"border-"+_+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,O){switch(O){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mm=md("top"),Gi=md("right"),Ea=md("bottom"),wm=md("left"),Ic=function(_){return{name:"border-"+_+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,O){return zA(O)?O.number:0}}},w0=Ic("top"),bm=Ic("right"),wd=Ic("bottom"),kl=Ic("left"),Ap={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Tl={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(_,x){switch(x){case"rtl":return 1;case"ltr":default:return 0}}},Hu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(_,x){return x.filter(Gn).reduce(function(O,C){return O|ju(C.value)},0)}},ju=function(_){switch(_){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bd={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(_,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Il={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(_,x){return x.type===20&&x.value==="normal"?0:x.type===17||x.type===15?x.number:0}},Bd;(function(_){_.NORMAL="normal",_.STRICT="strict"})(Bd||(Bd={}));var Bm={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,x){switch(x){case"strict":return Bd.STRICT;case"normal":default:return Bd.NORMAL}}},xm={name:"line-height",initialValue:"normal",prefix:!1,type:4},b0=function(_,x){return Gn(_)&&_.value==="normal"?1.2*x:_.type===17?x*_.number:Yr(_)?mr(_,x):x},_m={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(_,x){return x.type===20&&x.value==="none"?null:El.parse(_,x)}},xd={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(_,x){switch(x){case"inside":return 0;case"outside":default:return 1}}},Lc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(_,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Gu=function(_){return{name:"margin-"+_,initialValue:"0",prefix:!1,type:4}},tt=Gu("top"),Ll=Gu("right"),_d=Gu("bottom"),oo=Gu("left"),On={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(_,x){return x.filter(Gn).map(function(O){switch(O.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Cm={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(_,x){switch(x){case"break-word":return"break-word";case"normal":default:return"normal"}}},Cd=function(_){return{name:"padding-"+_,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Om=Cd("top"),Qc=Cd("right"),Em=Cd("bottom"),Sm=Cd("left"),Mm={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(_,x){switch(x){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Fm={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(_,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},km={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,x){return x.length===1&&ld(x[0],"none")?[]:ns(x).map(function(O){for(var C={color:aA.TRANSPARENT,offsetX:Di,offsetY:Di,blur:Di},I=0,H=0;H<O.length;H++){var $=O[H];ui($)?(I===0?C.offsetX=$:I===1?C.offsetY=$:C.blur=$,I++):C.color=rs.parse(_,$)}return C})}},oA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(_,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Tm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(_,x){if(x.type===20&&x.value==="none")return null;if(x.type===18){var O=Lm[x.name];if(typeof O=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return O(x.values)}return null}},Im=function(_){var x=_.filter(function(O){return O.type===17}).map(function(O){return O.number});return x.length===6?x:null},B0=function(_){var x=_.filter(function(nt){return nt.type===17}).map(function(nt){return nt.number}),O=x[0],C=x[1];x[2],x[3];var I=x[4],H=x[5];x[6],x[7],x[8],x[9],x[10],x[11];var $=x[12],rt=x[13];return x[14],x[15],x.length===16?[O,C,I,H,$,rt]:null},Lm={matrix:Im,matrix3d:B0},x0={type:16,number:50,flags:V},sA=[x0,x0],Qm={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(_,x){var O=x.filter(Yr);return O.length!==2?sA:[O[0],O[1]]}},Um={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(_,x){switch(x){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ku;(function(_){_.NORMAL="normal",_.BREAK_ALL="break-all",_.KEEP_ALL="keep-all"})(Ku||(Ku={}));for(var Pm={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,x){switch(x){case"break-all":return Ku.BREAK_ALL;case"keep-all":return Ku.KEEP_ALL;case"normal":default:return Ku.NORMAL}}},Rm={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(_,x){if(x.type===20)return{auto:!0,order:0};if(Es(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},XA={name:"time",parse:function(_,x){if(x.type===15)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},rr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(_,x){return Es(x)?x.number:1}},Na={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},be={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(_,x){return x.filter(Gn).map(function(O){switch(O.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(O){return O!==0})}},fr={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(_,x){var O=[],C=[];return x.forEach(function(I){switch(I.type){case 20:case 0:O.push(I.value);break;case 17:O.push(I.number.toString());break;case 4:C.push(O.join(" ")),O.length=0;break}}),O.length&&C.push(O.join(" ")),C.map(function(I){return I.indexOf(" ")===-1?I:"'"+I+"'"})}},_0={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Gr={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(_,x){if(Es(x))return x.number;if(Gn(x))switch(x.value){case"bold":return 700;case"normal":default:return 400}return 400}},Od={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(_,x){return x.filter(Gn).map(function(O){return O.value})}},dr={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(_,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Tt=function(_,x){return(_&x)!==0},Kr={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(_,x){if(x.length===0)return[];var O=x[0];return O.type===20&&O.value==="none"?[]:x}},C0={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(_,x){if(x.length===0)return null;var O=x[0];if(O.type===20&&O.value==="none")return null;for(var C=[],I=x.filter(Ru),H=0;H<I.length;H++){var $=I[H],rt=I[H+1];if($.type===20){var nt=rt&&Es(rt)?rt.number:1;C.push({counter:$.value,increment:nt})}}return C}},O0={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(_,x){if(x.length===0)return[];for(var O=[],C=x.filter(Ru),I=0;I<C.length;I++){var H=C[I],$=C[I+1];if(Gn(H)&&H.value!=="none"){var rt=$&&Es($)?$.number:0;O.push({counter:H.value,reset:rt})}}return O}},Ed={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(_,x){return x.filter(zA).map(function(O){return XA.parse(_,O)})}},Ql={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(_,x){if(x.length===0)return null;var O=x[0];if(O.type===20&&O.value==="none")return null;var C=[],I=x.filter(cd);if(I.length%2!==0)return null;for(var H=0;H<I.length;H+=2){var $=I[H].value,rt=I[H+1].value;C.push({open:$,close:rt})}return C}},Ul=function(_,x,O){if(!_)return"";var C=_[Math.min(x,_.length-1)];return C?O?C.open:C.close:""},E0={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,x){return x.length===1&&ld(x[0],"none")?[]:ns(x).map(function(O){for(var C={color:255,offsetX:Di,offsetY:Di,blur:Di,spread:Di,inset:!1},I=0,H=0;H<O.length;H++){var $=O[H];ld($,"inset")?C.inset=!0:ui($)?(I===0?C.offsetX=$:I===1?C.offsetY=$:I===2?C.blur=$:C.spread=$,I++):C.color=rs.parse(_,$)}return C})}},cp={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(_,x){var O=[0,1,2],C=[];return x.filter(Gn).forEach(function(I){switch(I.value){case"stroke":C.push(1);break;case"fill":C.push(0);break;case"markers":C.push(2);break}}),O.forEach(function(I){C.indexOf(I)===-1&&C.push(I)}),C}},S0={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Fs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(_,x){return zA(x)?x.number:0}},Pl=function(){function _(x,O){var C,I;this.animationDuration=q(x,Ed,O.animationDuration),this.backgroundClip=q(x,pm,O.backgroundClip),this.backgroundColor=q(x,pd,O.backgroundColor),this.backgroundImage=q(x,vd,O.backgroundImage),this.backgroundOrigin=q(x,op,O.backgroundOrigin),this.backgroundPosition=q(x,$A,O.backgroundPosition),this.backgroundRepeat=q(x,g0,O.backgroundRepeat),this.backgroundSize=q(x,Sl,O.backgroundSize),this.borderTopColor=q(x,Ml,O.borderTopColor),this.borderRightColor=q(x,y0,O.borderRightColor),this.borderBottomColor=q(x,m0,O.borderBottomColor),this.borderLeftColor=q(x,vm,O.borderLeftColor),this.borderTopLeftRadius=q(x,yd,O.borderTopLeftRadius),this.borderTopRightRadius=q(x,sp,O.borderTopRightRadius),this.borderBottomRightRadius=q(x,ym,O.borderBottomRightRadius),this.borderBottomLeftRadius=q(x,Fl,O.borderBottomLeftRadius),this.borderTopStyle=q(x,mm,O.borderTopStyle),this.borderRightStyle=q(x,Gi,O.borderRightStyle),this.borderBottomStyle=q(x,Ea,O.borderBottomStyle),this.borderLeftStyle=q(x,wm,O.borderLeftStyle),this.borderTopWidth=q(x,w0,O.borderTopWidth),this.borderRightWidth=q(x,bm,O.borderRightWidth),this.borderBottomWidth=q(x,wd,O.borderBottomWidth),this.borderLeftWidth=q(x,kl,O.borderLeftWidth),this.boxShadow=q(x,E0,O.boxShadow),this.color=q(x,Ap,O.color),this.direction=q(x,Tl,O.direction),this.display=q(x,Hu,O.display),this.float=q(x,bd,O.cssFloat),this.fontFamily=q(x,fr,O.fontFamily),this.fontSize=q(x,_0,O.fontSize),this.fontStyle=q(x,dr,O.fontStyle),this.fontVariant=q(x,Od,O.fontVariant),this.fontWeight=q(x,Gr,O.fontWeight),this.letterSpacing=q(x,Il,O.letterSpacing),this.lineBreak=q(x,Bm,O.lineBreak),this.lineHeight=q(x,xm,O.lineHeight),this.listStyleImage=q(x,_m,O.listStyleImage),this.listStylePosition=q(x,xd,O.listStylePosition),this.listStyleType=q(x,Lc,O.listStyleType),this.marginTop=q(x,tt,O.marginTop),this.marginRight=q(x,Ll,O.marginRight),this.marginBottom=q(x,_d,O.marginBottom),this.marginLeft=q(x,oo,O.marginLeft),this.opacity=q(x,rr,O.opacity);var H=q(x,On,O.overflow);this.overflowX=H[0],this.overflowY=H[H.length>1?1:0],this.overflowWrap=q(x,Cm,O.overflowWrap),this.paddingTop=q(x,Om,O.paddingTop),this.paddingRight=q(x,Qc,O.paddingRight),this.paddingBottom=q(x,Em,O.paddingBottom),this.paddingLeft=q(x,Sm,O.paddingLeft),this.paintOrder=q(x,cp,O.paintOrder),this.position=q(x,Fm,O.position),this.textAlign=q(x,Mm,O.textAlign),this.textDecorationColor=q(x,Na,(C=O.textDecorationColor)!==null&&C!==void 0?C:O.color),this.textDecorationLine=q(x,be,(I=O.textDecorationLine)!==null&&I!==void 0?I:O.textDecoration),this.textShadow=q(x,km,O.textShadow),this.textTransform=q(x,oA,O.textTransform),this.transform=q(x,Tm,O.transform),this.transformOrigin=q(x,Qm,O.transformOrigin),this.visibility=q(x,Um,O.visibility),this.webkitTextStrokeColor=q(x,S0,O.webkitTextStrokeColor),this.webkitTextStrokeWidth=q(x,Fs,O.webkitTextStrokeWidth),this.wordBreak=q(x,Pm,O.wordBreak),this.zIndex=q(x,Rm,O.zIndex)}return _.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},_.prototype.isTransparent=function(){return VA(this.backgroundColor)},_.prototype.isTransformed=function(){return this.transform!==null},_.prototype.isPositioned=function(){return this.position!==0},_.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},_.prototype.isFloating=function(){return this.float!==0},_.prototype.isInlineLevel=function(){return Tt(this.display,4)||Tt(this.display,33554432)||Tt(this.display,268435456)||Tt(this.display,536870912)||Tt(this.display,67108864)||Tt(this.display,134217728)},_}(),qA=function(){function _(x,O){this.content=q(x,Kr,O.content),this.quotes=q(x,Ql,O.quotes)}return _}(),di=function(){function _(x,O){this.counterIncrement=q(x,C0,O.counterIncrement),this.counterReset=q(x,O0,O.counterReset)}return _}(),q=function(_,x,O){var C=new ip,I=O!==null&&typeof O!="undefined"?O.toString():x.initialValue;C.write(I);var H=new Ad(C.read());switch(x.type){case 2:var $=H.parseComponentValue();return x.parse(_,Gn($)?$.value:x.initialValue);case 0:return x.parse(_,H.parseComponentValue());case 1:return x.parse(_,H.parseComponentValues());case 4:return H.parseComponentValue();case 3:switch(x.format){case"angle":return fd.parse(_,H.parseComponentValue());case"color":return rs.parse(_,H.parseComponentValue());case"image":return El.parse(_,H.parseComponentValue());case"length":var rt=H.parseComponentValue();return ui(rt)?rt:Di;case"length-percentage":var nt=H.parseComponentValue();return Yr(nt)?nt:Di;case"time":return XA.parse(_,H.parseComponentValue())}break}},lp="data-html2canvas-debug",up=function(_){var x=_.getAttribute(lp);switch(x){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ye=function(_,x){var O=up(_);return O===1||x===O},ii=function(){function _(x,O){if(this.context=x,this.textNodes=[],this.elements=[],this.flags=0,ye(O,3))debugger;this.styles=new Pl(x,window.getComputedStyle(O,null)),Gd(O)&&(this.styles.animationDuration.some(function(C){return C>0})&&(O.style.animationDuration="0s"),this.styles.transform!==null&&(O.style.transform="none")),this.bounds=Jt(this.context,O),ye(O,4)&&(this.flags|=16)}return _}(),fp="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",dp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AA=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),zu=0;zu<dp.length;zu++)AA[dp.charCodeAt(zu)]=zu;for(var hp=function(_){var x=_.length*.75,O=_.length,C,I=0,H,$,rt,nt;_[_.length-1]==="="&&(x--,_[_.length-2]==="="&&x--);var dt=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(x):new Array(x),yt=Array.isArray(dt)?dt:new Uint8Array(dt);for(C=0;C<O;C+=4)H=AA[_.charCodeAt(C)],$=AA[_.charCodeAt(C+1)],rt=AA[_.charCodeAt(C+2)],nt=AA[_.charCodeAt(C+3)],yt[I++]=H<<2|$>>4,yt[I++]=($&15)<<4|rt>>2,yt[I++]=(rt&3)<<6|nt&63;return dt},xi=function(_){for(var x=_.length,O=[],C=0;C<x;C+=2)O.push(_[C+1]<<8|_[C]);return O},Sd=function(_){for(var x=_.length,O=[],C=0;C<x;C+=4)O.push(_[C+3]<<24|_[C+2]<<16|_[C+1]<<8|_[C]);return O},cA=5,Sa=11,Rl=2,Wu=Sa-cA,lA=65536>>cA,pp=1<<cA,qi=pp-1,Md=1024>>cA,Nm=lA+Md,Nl=Nm,gp=32,Vu=Nl+gp,vp=65536>>Sa,Uc=1<<Wu,Fd=Uc-1,yp=function(_,x,O){return _.slice?_.slice(x,O):new Uint16Array(Array.prototype.slice.call(_,x,O))},M0=function(_,x,O){return _.slice?_.slice(x,O):new Uint32Array(Array.prototype.slice.call(_,x,O))},is=function(_,x){var O=hp(_),C=Array.isArray(O)?Sd(O):new Uint32Array(O),I=Array.isArray(O)?xi(O):new Uint16Array(O),H=24,$=yp(I,H/2,C[4]/2),rt=C[5]===2?yp(I,(H+C[4])/2):M0(C,Math.ceil((H+C[4])/4));return new F0(C[0],C[1],C[2],C[3],$,rt)},F0=function(){function _(x,O,C,I,H,$){this.initialValue=x,this.errorValue=O,this.highStart=C,this.highValueIndex=I,this.index=H,this.data=$}return _.prototype.get=function(x){var O;if(x>=0){if(x<55296||x>56319&&x<=65535)return O=this.index[x>>cA],O=(O<<Rl)+(x&qi),this.data[O];if(x<=65535)return O=this.index[lA+(x-55296>>cA)],O=(O<<Rl)+(x&qi),this.data[O];if(x<this.highStart)return O=Vu-vp+(x>>Sa),O=this.index[O],O+=x>>cA&Fd,O=this.index[O],O=(O<<Rl)+(x&qi),this.data[O];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_}(),mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pc=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),Dl=0;Dl<mp.length;Dl++)Pc[mp.charCodeAt(Dl)]=Dl;var k0=1,kd=2,Td=3,Id=4,Zu=5,T0=7,JA=8,Qo=9,Rc=10,Yu=11,Hl=12,wp=13,Ld=14,jl=15,I0=function(_){for(var x=[],O=0,C=_.length;O<C;){var I=_.charCodeAt(O++);if(I>=55296&&I<=56319&&O<C){var H=_.charCodeAt(O++);(H&64512)===56320?x.push(((I&1023)<<10)+(H&1023)+65536):(x.push(I),O--)}else x.push(I)}return x},bp=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var O=_.length;if(!O)return"";for(var C=[],I=-1,H="";++I<O;){var $=_[I];$<=65535?C.push($):($-=65536,C.push(($>>10)+55296,$%1024+56320)),(I+1===O||C.length>16384)&&(H+=String.fromCharCode.apply(String,C),C.length=0)}return H},Bp=is(fp),Da="\xD7",Sr="\xF7",Nc=function(_){return Bp.get(_)},$u=function(_,x,O){var C=O-2,I=x[C],H=x[O-1],$=x[O];if(H===kd&&$===Td)return Da;if(H===kd||H===Td||H===Id||$===kd||$===Td||$===Id)return Sr;if(H===JA&&[JA,Qo,Yu,Hl].indexOf($)!==-1||(H===Yu||H===Qo)&&($===Qo||$===Rc)||(H===Hl||H===Rc)&&$===Rc||$===wp||$===Zu||$===T0||H===k0)return Da;if(H===wp&&$===Ld){for(;I===Zu;)I=x[--C];if(I===Ld)return Da}if(H===jl&&$===jl){for(var rt=0;I===jl;)rt++,I=x[--C];if(rt%2===0)return Da}return Sr},Qd=function(_){var x=I0(_),O=x.length,C=0,I=0,H=x.map(Nc);return{next:function(){if(C>=O)return{done:!0,value:null};for(var $=Da;C<O&&($=$u(x,H,++C))===Da;);if($!==Da||C===O){var rt=bp.apply(null,x.slice(I,C));return I=C,{value:rt,done:!1}}return{done:!0,value:null}}}},on=function(_){for(var x=Qd(_),O=[],C;!(C=x.next()).done;)C.value&&O.push(C.value.slice());return O},L0=function(_){var x=123;if(_.createRange){var O=_.createRange();if(O.getBoundingClientRect){var C=_.createElement("boundtest");C.style.height=x+"px",C.style.display="block",_.body.appendChild(C),O.selectNode(C);var I=O.getBoundingClientRect(),H=Math.round(I.height);if(_.body.removeChild(C),H===x)return!0}}return!1},xp=function(_){var x=_.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",_.body.appendChild(x);var O=_.createRange();x.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var C=x.firstChild,I=ee(C.data).map(function(nt){return Ot(nt)}),H=0,$={},rt=I.every(function(nt,dt){O.setStart(C,H),O.setEnd(C,H+nt.length);var yt=O.getBoundingClientRect();H+=nt.length;var xt=yt.x>$.x||yt.y>$.y;return $=yt,dt===0?!0:xt});return _.body.removeChild(x),rt},Gl=function(){return typeof new Image().crossOrigin!="undefined"},_p=function(){return typeof new XMLHttpRequest().responseType=="string"},Xu=function(_){var x=new Image,O=_.createElement("canvas"),C=O.getContext("2d");if(!C)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{C.drawImage(x,0,0),O.toDataURL()}catch(I){return!1}return!0},qu=function(_){return _[0]===0&&_[1]===255&&_[2]===0&&_[3]===255},so=function(_){var x=_.createElement("canvas"),O=100;x.width=O,x.height=O;var C=x.getContext("2d");if(!C)return Promise.reject(!1);C.fillStyle="rgb(0, 255, 0)",C.fillRect(0,0,O,O);var I=new Image,H=x.toDataURL();I.src=H;var $=Ju(O,O,0,0,I);return C.fillStyle="red",C.fillRect(0,0,O,O),Kl($).then(function(rt){C.drawImage(rt,0,0);var nt=C.getImageData(0,0,O,O).data;C.fillStyle="red",C.fillRect(0,0,O,O);var dt=_.createElement("div");return dt.style.backgroundImage="url("+H+")",dt.style.height=O+"px",qu(nt)?Kl(Ju(O,O,0,0,dt)):Promise.reject(!1)}).then(function(rt){return C.drawImage(rt,0,0),qu(C.getImageData(0,0,O,O).data)}).catch(function(){return!1})},Ju=function(_,x,O,C,I){var H="http://www.w3.org/2000/svg",$=document.createElementNS(H,"svg"),rt=document.createElementNS(H,"foreignObject");return $.setAttributeNS(null,"width",_.toString()),$.setAttributeNS(null,"height",x.toString()),rt.setAttributeNS(null,"width","100%"),rt.setAttributeNS(null,"height","100%"),rt.setAttributeNS(null,"x",O.toString()),rt.setAttributeNS(null,"y",C.toString()),rt.setAttributeNS(null,"externalResourcesRequired","true"),$.appendChild(rt),rt.appendChild(I),$},Kl=function(_){return new Promise(function(x,O){var C=new Image;C.onload=function(){return x(C)},C.onerror=O,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(_))})},ai={get SUPPORT_RANGE_BOUNDS(){var _=L0(document);return Object.defineProperty(ai,"SUPPORT_RANGE_BOUNDS",{value:_}),_},get SUPPORT_WORD_BREAKING(){var _=ai.SUPPORT_RANGE_BOUNDS&&xp(document);return Object.defineProperty(ai,"SUPPORT_WORD_BREAKING",{value:_}),_},get SUPPORT_SVG_DRAWING(){var _=Xu(document);return Object.defineProperty(ai,"SUPPORT_SVG_DRAWING",{value:_}),_},get SUPPORT_FOREIGNOBJECT_DRAWING(){var _=typeof Array.from=="function"&&typeof window.fetch=="function"?so(document):Promise.resolve(!1);return Object.defineProperty(ai,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:_}),_},get SUPPORT_CORS_IMAGES(){var _=Gl();return Object.defineProperty(ai,"SUPPORT_CORS_IMAGES",{value:_}),_},get SUPPORT_RESPONSE_TYPE(){var _=_p();return Object.defineProperty(ai,"SUPPORT_RESPONSE_TYPE",{value:_}),_},get SUPPORT_CORS_XHR(){var _="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ai,"SUPPORT_CORS_XHR",{value:_}),_},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var _=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(ai,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:_}),_}},Dc=function(){function _(x,O){this.text=x,this.bounds=O}return _}(),Cp=function(_,x,O,C){var I=Wl(x,O),H=[],$=0;return I.forEach(function(rt){if(O.textDecorationLine.length||rt.trim().length>0)if(ai.SUPPORT_RANGE_BOUNDS){var nt=as(C,$,rt.length).getClientRects();if(nt.length>1){var dt=zl(rt),yt=0;dt.forEach(function(It){H.push(new Dc(It,Ye.fromDOMRectList(_,as(C,yt+$,It.length).getClientRects()))),yt+=It.length})}else H.push(new Dc(rt,Ye.fromDOMRectList(_,nt)))}else{var xt=C.splitText(rt.length);H.push(new Dc(rt,Ha(_,C))),C=xt}else ai.SUPPORT_RANGE_BOUNDS||(C=C.splitText(rt.length));$+=rt.length}),H},Ha=function(_,x){var O=x.ownerDocument;if(O){var C=O.createElement("html2canvaswrapper");C.appendChild(x.cloneNode(!0));var I=x.parentNode;if(I){I.replaceChild(C,x);var H=Jt(_,C);return C.firstChild&&I.replaceChild(C.firstChild,C),H}}return Ye.EMPTY},as=function(_,x,O){var C=_.ownerDocument;if(!C)throw new Error("Node has no owner document");var I=C.createRange();return I.setStart(_,x),I.setEnd(_,x+O),I},zl=function(_){if(ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(_)).map(function(O){return O.segment})}return on(_)},Op=function(_,x){if(ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var O=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(O.segment(_)).map(function(C){return C.segment})}return Ud(_,x)},Wl=function(_,x){return x.letterSpacing!==0?zl(_):Op(_,x)},Ep=[32,160,4961,65792,65793,4153,4241],Ud=function(_,x){for(var O=la(_,{lineBreak:x.lineBreak,wordBreak:x.overflowWrap==="break-word"?"break-word":x.wordBreak}),C=[],I,H=function(){if(I.value){var $=I.value.slice(),rt=ee($),nt="";rt.forEach(function(dt){Ep.indexOf(dt)===-1?nt+=Ot(dt):(nt.length&&C.push(nt),C.push(Ot(dt)),nt="")}),nt.length&&C.push(nt)}};!(I=O.next()).done;)H();return C},Sp=function(){function _(x,O,C){this.text=Pd(O.data,C.textTransform),this.textBounds=Cp(x,this.text,C,O)}return _}(),Pd=function(_,x){switch(x){case 1:return _.toLowerCase();case 3:return _.replace(Rd,_n);case 2:return _.toUpperCase();default:return _}},Rd=/(^|\s|:|-|\(|\))([a-z])/g,_n=function(_,x,O){return _.length>0?x+O.toUpperCase():_},Mp=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.src=C.currentSrc||C.src,I.intrinsicWidth=C.naturalWidth,I.intrinsicHeight=C.naturalHeight,I.context.cache.addImage(I.src),I}return x}(ii),ks=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.canvas=C,I.intrinsicWidth=C.width,I.intrinsicHeight=C.height,I}return x}(ii),tf=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this,H=new XMLSerializer,$=Jt(O,C);return C.setAttribute("width",$.width+"px"),C.setAttribute("height",$.height+"px"),I.svg="data:image/svg+xml,"+encodeURIComponent(H.serializeToString(C)),I.intrinsicWidth=C.width.baseVal.value,I.intrinsicHeight=C.height.baseVal.value,I.context.cache.addImage(I.svg),I}return x}(ii),Nd=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.value=C.value,I}return x}(ii),Hc=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.start=C.start,I.reversed=typeof C.reversed=="boolean"&&C.reversed===!0,I}return x}(ii),hi=[{type:15,flags:0,unit:"px",number:3}],Vl=[{type:16,flags:0,number:50}],Q0=function(_){return _.width>_.height?new Ye(_.left+(_.width-_.height)/2,_.top,_.height,_.height):_.width<_.height?new Ye(_.left,_.top+(_.height-_.width)/2,_.width,_.width):_},Ae=function(_){var x=_.type===nf?new Array(_.value.length+1).join("\u2022"):_.value;return x.length===0?_.placeholder||"":x},jc="checkbox",ef="radio",nf="password",Gc=707406591,da=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;switch(I.type=C.type.toLowerCase(),I.checked=C.checked,I.value=Ae(C),(I.type===jc||I.type===ef)&&(I.styles.backgroundColor=3739148031,I.styles.borderTopColor=I.styles.borderRightColor=I.styles.borderBottomColor=I.styles.borderLeftColor=2779096575,I.styles.borderTopWidth=I.styles.borderRightWidth=I.styles.borderBottomWidth=I.styles.borderLeftWidth=1,I.styles.borderTopStyle=I.styles.borderRightStyle=I.styles.borderBottomStyle=I.styles.borderLeftStyle=1,I.styles.backgroundClip=[0],I.styles.backgroundOrigin=[0],I.bounds=Q0(I.bounds)),I.type){case jc:I.styles.borderTopRightRadius=I.styles.borderTopLeftRadius=I.styles.borderBottomRightRadius=I.styles.borderBottomLeftRadius=hi;break;case ef:I.styles.borderTopRightRadius=I.styles.borderTopLeftRadius=I.styles.borderBottomRightRadius=I.styles.borderBottomLeftRadius=Vl;break}return I}return x}(ii),br=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this,H=C.options[C.selectedIndex||0];return I.value=H&&H.text||"",I}return x}(ii),Zl=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.value=C.value,I}return x}(ii),Dd=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;I.src=C.src,I.width=parseInt(C.width,10)||0,I.height=parseInt(C.height,10)||0,I.backgroundColor=I.styles.backgroundColor;try{if(C.contentWindow&&C.contentWindow.document&&C.contentWindow.document.documentElement){I.tree=jd(O,C.contentWindow.document.documentElement);var H=C.contentWindow.document.documentElement?Nu(O,getComputedStyle(C.contentWindow.document.documentElement).backgroundColor):aA.TRANSPARENT,$=C.contentWindow.document.body?Nu(O,getComputedStyle(C.contentWindow.document.body).backgroundColor):aA.TRANSPARENT;I.backgroundColor=VA(H)?VA($)?I.styles.backgroundColor:$:H}}catch(rt){}return I}return x}(ii),Yl=["OL","UL","MENU"],Ts=function(_,x,O,C){for(var I=x.firstChild,H=void 0;I;I=H)if(H=I.nextSibling,tc(I)&&I.data.trim().length>0)O.textNodes.push(new Sp(_,I,O.styles));else if(os(I))if(Af(I)&&I.assignedNodes)I.assignedNodes().forEach(function(rt){return Ts(_,rt,O,C)});else{var $=Hd(_,I);$.styles.isVisible()&&(U0(I,$,C)?$.flags|=4:Fp($.styles)&&($.flags|=2),Yl.indexOf(I.tagName)!==-1&&($.flags|=8),O.elements.push($),I.slot,I.shadowRoot?Ts(_,I.shadowRoot,$,C):!sf(I)&&!af(I)&&!Ki(I)&&Ts(_,I,$,C))}},Hd=function(_,x){return nc(x)?new Mp(_,x):kp(x)?new ks(_,x):af(x)?new tf(_,x):Kd(x)?new Nd(_,x):rf(x)?new Hc(_,x):P0(x)?new da(_,x):Ki(x)?new br(_,x):sf(x)?new Zl(_,x):Ao(x)?new Dd(_,x):new ii(_,x)},jd=function(_,x){var O=Hd(_,x);return O.flags|=4,Ts(_,x,O,O),O},U0=function(_,x,O){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||ec(_)&&O.styles.isTransparent()},Fp=function(_){return _.isPositioned()||_.isFloating()},tc=function(_){return _.nodeType===Node.TEXT_NODE},os=function(_){return _.nodeType===Node.ELEMENT_NODE},Gd=function(_){return os(_)&&typeof _.style!="undefined"&&!Kc(_)},Kc=function(_){return typeof _.className=="object"},Kd=function(_){return _.tagName==="LI"},rf=function(_){return _.tagName==="OL"},P0=function(_){return _.tagName==="INPUT"},zd=function(_){return _.tagName==="HTML"},af=function(_){return _.tagName==="svg"},ec=function(_){return _.tagName==="BODY"},kp=function(_){return _.tagName==="CANVAS"},Tp=function(_){return _.tagName==="VIDEO"},nc=function(_){return _.tagName==="IMG"},Ao=function(_){return _.tagName==="IFRAME"},of=function(_){return _.tagName==="STYLE"},Ip=function(_){return _.tagName==="SCRIPT"},sf=function(_){return _.tagName==="TEXTAREA"},Ki=function(_){return _.tagName==="SELECT"},Af=function(_){return _.tagName==="SLOT"},cf=function(_){return _.tagName.indexOf("-")>0},R0=function(){function _(){this.counters={}}return _.prototype.getCounterValue=function(x){var O=this.counters[x];return O&&O.length?O[O.length-1]:1},_.prototype.getCounterValues=function(x){var O=this.counters[x];return O||[]},_.prototype.pop=function(x){var O=this;x.forEach(function(C){return O.counters[C].pop()})},_.prototype.parse=function(x){var O=this,C=x.counterIncrement,I=x.counterReset,H=!0;C!==null&&C.forEach(function(rt){var nt=O.counters[rt.counter];nt&&rt.increment!==0&&(H=!1,nt.length||nt.push(1),nt[Math.max(0,nt.length-1)]+=rt.increment)});var $=[];return H&&I.forEach(function(rt){var nt=O.counters[rt.counter];$.push(rt.counter),nt||(nt=O.counters[rt.counter]=[]),nt.push(rt.reset)}),$},_}(),$l={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Lp={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Dm={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},Is={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Ls=function(_,x,O,C,I,H){return _<x||_>O?fA(_,I,H.length>0):C.integers.reduce(function($,rt,nt){for(;_>=rt;)_-=rt,$+=C.values[nt];return $},"")+H},Wd=function(_,x,O,C){var I="";do O||_--,I=C(_)+I,_/=x;while(_*x>=x);return I},$r=function(_,x,O,C,I){var H=O-x+1;return(_<0?"-":"")+(Wd(Math.abs(_),H,C,function($){return Ot(Math.floor($%H)+x)})+I)},Uo=function(_,x,O){O===void 0&&(O=". ");var C=x.length;return Wd(Math.abs(_),C,!1,function(I){return x[Math.floor(I%C)]})+O},co=1,Re=2,lo=4,uA=8,Ma=function(_,x,O,C,I,H){if(_<-9999||_>9999)return fA(_,4,I.length>0);var $=Math.abs(_),rt=I;if($===0)return x[0]+rt;for(var nt=0;$>0&&nt<=4;nt++){var dt=$%10;dt===0&&Tt(H,co)&&rt!==""?rt=x[dt]+rt:dt>1||dt===1&&nt===0||dt===1&&nt===1&&Tt(H,Re)||dt===1&&nt===1&&Tt(H,lo)&&_>100||dt===1&&nt>1&&Tt(H,uA)?rt=x[dt]+(nt>0?O[nt-1]:"")+rt:dt===1&&nt>0&&(rt=O[nt-1]+rt),$=Math.floor($/10)}return(_<0?C:"")+rt},Qp="\u5341\u767E\u5343\u842C",Vd="\u62FE\u4F70\u4EDF\u842C",Up="\u30DE\u30A4\u30CA\u30B9",Ji="\uB9C8\uC774\uB108\uC2A4",fA=function(_,x,O){var C=O?". ":"",I=O?"\u3001":"",H=O?", ":"",$=O?" ":"";switch(x){case 0:return"\u2022"+$;case 1:return"\u25E6"+$;case 2:return"\u25FE"+$;case 5:var rt=$r(_,48,57,!0,C);return rt.length<4?"0"+rt:rt;case 4:return Uo(_,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",I);case 6:return Ls(_,1,3999,$l,3,C).toLowerCase();case 7:return Ls(_,1,3999,$l,3,C);case 8:return $r(_,945,969,!1,C);case 9:return $r(_,97,122,!1,C);case 10:return $r(_,65,90,!1,C);case 11:return $r(_,1632,1641,!0,C);case 12:case 49:return Ls(_,1,9999,Lp,3,C);case 35:return Ls(_,1,9999,Lp,3,C).toLowerCase();case 13:return $r(_,2534,2543,!0,C);case 14:case 30:return $r(_,6112,6121,!0,C);case 15:return Uo(_,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",I);case 16:return Uo(_,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",I);case 17:case 48:return Ma(_,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",Qp,"\u8CA0",I,Re|lo|uA);case 47:return Ma(_,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",Vd,"\u8CA0",I,co|Re|lo|uA);case 42:return Ma(_,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",Qp,"\u8D1F",I,Re|lo|uA);case 41:return Ma(_,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",Vd,"\u8D1F",I,co|Re|lo|uA);case 26:return Ma(_,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",Up,I,0);case 25:return Ma(_,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",Up,I,co|Re|lo);case 31:return Ma(_,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",Ji,H,co|Re|lo);case 33:return Ma(_,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",Ji,H,0);case 32:return Ma(_,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",Ji,H,co|Re|lo);case 18:return $r(_,2406,2415,!0,C);case 20:return Ls(_,1,19999,Is,3,C);case 21:return $r(_,2790,2799,!0,C);case 22:return $r(_,2662,2671,!0,C);case 22:return Ls(_,1,10999,Dm,3,C);case 23:return Uo(_,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Uo(_,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return $r(_,3302,3311,!0,C);case 28:return Uo(_,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",I);case 29:return Uo(_,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",I);case 34:return $r(_,3792,3801,!0,C);case 37:return $r(_,6160,6169,!0,C);case 38:return $r(_,4160,4169,!0,C);case 39:return $r(_,2918,2927,!0,C);case 40:return $r(_,1776,1785,!0,C);case 43:return $r(_,3046,3055,!0,C);case 44:return $r(_,3174,3183,!0,C);case 45:return $r(_,3664,3673,!0,C);case 46:return $r(_,3872,3881,!0,C);case 3:default:return $r(_,48,57,!0,C)}},N0="data-html2canvas-ignore",Pp=function(){function _(x,O,C){if(this.context=x,this.options=C,this.scrolledElements=[],this.referenceElement=O,this.counters=new R0,this.quoteDepth=0,!O.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(O.ownerDocument.documentElement,!1)}return _.prototype.toIFrame=function(x,O){var C=this,I=D0(x,O);if(!I.contentWindow)return Promise.reject("Unable to find iframe window");var H=x.defaultView.pageXOffset,$=x.defaultView.pageYOffset,rt=I.contentWindow,nt=rt.document,dt=Rp(I).then(function(){return J(C,void 0,void 0,function(){var yt,xt;return De(this,function(It){switch(It.label){case 0:return this.scrolledElements.forEach(Yd),rt&&(rt.scrollTo(O.left,O.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(rt.scrollY!==O.top||rt.scrollX!==O.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(rt.scrollX-O.left,rt.scrollY-O.top,0,0))),yt=this.options.onclone,xt=this.clonedReferenceElement,typeof xt=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:nt.fonts&&nt.fonts.ready?[4,nt.fonts.ready]:[3,2];case 1:It.sent(),It.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xl(nt)]:[3,4];case 3:It.sent(),It.label=4;case 4:return typeof yt=="function"?[2,Promise.resolve().then(function(){return yt(nt,xt)}).then(function(){return I})]:[2,I]}})})});return nt.open(),nt.write(Zd(document.doctype)+"<html></html>"),jm(this.referenceElement.ownerDocument,H,$),nt.replaceChild(nt.adoptNode(this.documentElement),nt.documentElement),nt.close(),dt},_.prototype.createElementClone=function(x){if(ye(x,2))debugger;if(kp(x))return this.createCanvasClone(x);if(Tp(x))return this.createVideoClone(x);if(of(x))return this.createStyleClone(x);var O=x.cloneNode(!1);return nc(O)&&(nc(x)&&x.currentSrc&&x.currentSrc!==x.src&&(O.src=x.currentSrc,O.srcset=""),O.loading==="lazy"&&(O.loading="eager")),cf(O)?this.createCustomElementClone(O):O},_.prototype.createCustomElementClone=function(x){var O=document.createElement("html2canvascustomelement");return _i(x.style,O),O},_.prototype.createStyleClone=function(x){try{var O=x.sheet;if(O&&O.cssRules){var C=[].slice.call(O.cssRules,0).reduce(function(H,$){return $&&typeof $.cssText=="string"?H+$.cssText:H},""),I=x.cloneNode(!1);return I.textContent=C,I}}catch(H){if(this.context.logger.error("Unable to access cssRules property",H),H.name!=="SecurityError")throw H}return x.cloneNode(!1)},_.prototype.createCanvasClone=function(x){var O;if(this.options.inlineImages&&x.ownerDocument){var C=x.ownerDocument.createElement("img");try{return C.src=x.toDataURL(),C}catch(dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var I=x.cloneNode(!1);try{I.width=x.width,I.height=x.height;var H=x.getContext("2d"),$=I.getContext("2d");if($)if(!this.options.allowTaint&&H)$.putImageData(H.getImageData(0,0,x.width,x.height),0,0);else{var rt=(O=x.getContext("webgl2"))!==null&&O!==void 0?O:x.getContext("webgl");if(rt){var nt=rt.getContextAttributes();(nt==null?void 0:nt.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}$.drawImage(x,0,0)}return I}catch(dt){this.context.logger.info("Unable to clone canvas as it is tainted",x)}return I},_.prototype.createVideoClone=function(x){var O=x.ownerDocument.createElement("canvas");O.width=x.offsetWidth,O.height=x.offsetHeight;var C=O.getContext("2d");try{return C&&(C.drawImage(x,0,0,O.width,O.height),this.options.allowTaint||C.getImageData(0,0,O.width,O.height)),O}catch(H){this.context.logger.info("Unable to clone video as it is tainted",x)}var I=x.ownerDocument.createElement("canvas");return I.width=x.offsetWidth,I.height=x.offsetHeight,I},_.prototype.appendChildNode=function(x,O,C){(!os(O)||!Ip(O)&&!O.hasAttribute(N0)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(O)))&&(!this.options.copyStyles||!os(O)||!of(O))&&x.appendChild(this.cloneNode(O,C))},_.prototype.cloneChildNodes=function(x,O,C){for(var I=this,H=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;H;H=H.nextSibling)if(os(H)&&Af(H)&&typeof H.assignedNodes=="function"){var $=H.assignedNodes();$.length&&$.forEach(function(rt){return I.appendChildNode(O,rt,C)})}else this.appendChildNode(O,H,C)},_.prototype.cloneNode=function(x,O){if(tc(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var C=x.ownerDocument.defaultView;if(C&&os(x)&&(Gd(x)||Kc(x))){var I=this.createElementClone(x);I.style.transitionProperty="none";var H=C.getComputedStyle(x),$=C.getComputedStyle(x,":before"),rt=C.getComputedStyle(x,":after");this.referenceElement===x&&Gd(I)&&(this.clonedReferenceElement=I),ec(I)&&St(I);var nt=this.counters.parse(new di(this.context,H)),dt=this.resolvePseudoContent(x,I,$,lf.BEFORE);cf(x)&&(O=!0),Tp(x)||this.cloneChildNodes(x,I,O),dt&&I.insertBefore(dt,I.firstChild);var yt=this.resolvePseudoContent(x,I,rt,lf.AFTER);return yt&&I.appendChild(yt),this.counters.pop(nt),(H&&(this.options.copyStyles||Kc(x))&&!Ao(x)||O)&&_i(H,I),(x.scrollTop!==0||x.scrollLeft!==0)&&this.scrolledElements.push([I,x.scrollLeft,x.scrollTop]),(sf(x)||Ki(x))&&(sf(I)||Ki(I))&&(I.value=x.value),I}return x.cloneNode(!1)},_.prototype.resolvePseudoContent=function(x,O,C,I){var H=this;if(C){var $=C.content,rt=O.ownerDocument;if(!(!rt||!$||$==="none"||$==="-moz-alt-content"||C.display==="none")){this.counters.parse(new di(this.context,C));var nt=new qA(this.context,C),dt=rt.createElement("html2canvaspseudoelement");_i(C,dt),nt.content.forEach(function(xt){if(xt.type===0)dt.appendChild(rt.createTextNode(xt.value));else if(xt.type===22){var It=rt.createElement("img");It.src=xt.value,It.style.opacity="1",dt.appendChild(It)}else if(xt.type===18){if(xt.name==="attr"){var ge=xt.values.filter(Gn);ge.length&&dt.appendChild(rt.createTextNode(x.getAttribute(ge[0].value)||""))}else if(xt.name==="counter"){var $t=xt.values.filter(nA),ue=$t[0],sn=$t[1];if(ue&&Gn(ue)){var fe=H.counters.getCounterValue(ue.value),Ee=sn&&Gn(sn)?Lc.parse(H.context,sn.value):3;dt.appendChild(rt.createTextNode(fA(fe,Ee,!1)))}}else if(xt.name==="counters"){var Dn=xt.values.filter(nA),ue=Dn[0],dn=Dn[1],sn=Dn[2];if(ue&&Gn(ue)){var Xe=H.counters.getCounterValues(ue.value),ce=sn&&Gn(sn)?Lc.parse(H.context,sn.value):3,yn=dn&&dn.type===0?dn.value:"",Tn=Xe.map(function(Nr){return fA(Nr,ce,!1)}).join(yn);dt.appendChild(rt.createTextNode(Tn))}}}else if(xt.type===20)switch(xt.value){case"open-quote":dt.appendChild(rt.createTextNode(Ul(nt.quotes,H.quoteDepth++,!0)));break;case"close-quote":dt.appendChild(rt.createTextNode(Ul(nt.quotes,--H.quoteDepth,!1)));break;default:dt.appendChild(rt.createTextNode(xt.value))}}),dt.className=ja+" "+Po;var yt=I===lf.BEFORE?" "+ja:" "+Po;return Kc(O)?O.className.baseValue+=yt:O.className+=yt,dt}}},_.destroy=function(x){return x.parentNode?(x.parentNode.removeChild(x),!0):!1},_}(),lf;(function(_){_[_.BEFORE=0]="BEFORE",_[_.AFTER=1]="AFTER"})(lf||(lf={}));var D0=function(_,x){var O=_.createElement("iframe");return O.className="html2canvas-container",O.style.visibility="hidden",O.style.position="fixed",O.style.left="-10000px",O.style.top="0px",O.style.border="0",O.width=x.width.toString(),O.height=x.height.toString(),O.scrolling="no",O.setAttribute(N0,"true"),_.body.appendChild(O),O},Hm=function(_){return new Promise(function(x){if(_.complete){x();return}if(!_.src){x();return}_.onload=x,_.onerror=x})},Xl=function(_){return Promise.all([].slice.call(_.images,0).map(Hm))},Rp=function(_){return new Promise(function(x,O){var C=_.contentWindow;if(!C)return O("No window assigned for iframe");var I=C.document;C.onload=_.onload=function(){C.onload=_.onload=null;var H=setInterval(function(){I.body.childNodes.length>0&&I.readyState==="complete"&&(clearInterval(H),x(_))},50)}})},Qs=["all","d","content"],_i=function(_,x){for(var O=_.length-1;O>=0;O--){var C=_.item(O);Qs.indexOf(C)===-1&&x.style.setProperty(C,_.getPropertyValue(C))}return x},Zd=function(_){var x="";return _&&(x+="<!DOCTYPE ",_.name&&(x+=_.name),_.internalSubset&&(x+=_.internalSubset),_.publicId&&(x+='"'+_.publicId+'"'),_.systemId&&(x+='"'+_.systemId+'"'),x+=">"),x},jm=function(_,x,O){_&&_.defaultView&&(x!==_.defaultView.pageXOffset||O!==_.defaultView.pageYOffset)&&_.defaultView.scrollTo(x,O)},Yd=function(_){var x=_[0],O=_[1],C=_[2];x.scrollLeft=O,x.scrollTop=C},H0=":before",ha=":after",ja="___html2canvas___pseudoelement_before",Po="___html2canvas___pseudoelement_after",uo=`{
    content: "" !important;
    display: none !important;
}`,St=function(_){uf(_,"."+ja+H0+uo+`
         .`+Po+ha+uo)},uf=function(_,x){var O=_.ownerDocument;if(O){var C=O.createElement("style");C.textContent=x,_.appendChild(C)}},ss=function(){function _(){}return _.getOrigin=function(x){var O=_._link;return O?(O.href=x,O.href=O.href,O.protocol+O.hostname+O.port):"about:blank"},_.isSameOrigin=function(x){return _.getOrigin(x)===_._origin},_.setContext=function(x){_._link=x.document.createElement("a"),_._origin=_.getOrigin(x.location.href)},_._origin="about:blank",_}(),j0=function(){function _(x,O){this.context=x,this._options=O,this._cache={}}return _.prototype.addImage=function(x){var O=Promise.resolve();return this.has(x)||(Rr(x)||$d(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),O},_.prototype.match=function(x){return this._cache[x]},_.prototype.loadImage=function(x){return J(this,void 0,void 0,function(){var O,C,I,H,$=this;return De(this,function(rt){switch(rt.label){case 0:return O=ss.isSameOrigin(x),C=!ql(x)&&this._options.useCORS===!0&&ai.SUPPORT_CORS_IMAGES&&!O,I=!ql(x)&&!O&&!Rr(x)&&typeof this._options.proxy=="string"&&ai.SUPPORT_CORS_XHR&&!C,!O&&this._options.allowTaint===!1&&!ql(x)&&!Rr(x)&&!I&&!C?[2]:(H=x,I?[4,this.proxy(H)]:[3,2]);case 1:H=rt.sent(),rt.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(nt,dt){var yt=new Image;yt.onload=function(){return nt(yt)},yt.onerror=dt,(ic(H)||C)&&(yt.crossOrigin="anonymous"),yt.src=H,yt.complete===!0&&setTimeout(function(){return nt(yt)},500),$._options.imageTimeout>0&&setTimeout(function(){return dt("Timed out ("+$._options.imageTimeout+"ms) loading image")},$._options.imageTimeout)})];case 3:return[2,rt.sent()]}})})},_.prototype.has=function(x){return typeof this._cache[x]!="undefined"},_.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},_.prototype.proxy=function(x){var O=this,C=this._options.proxy;if(!C)throw new Error("No proxy defined");var I=x.substring(0,256);return new Promise(function(H,$){var rt=ai.SUPPORT_RESPONSE_TYPE?"blob":"text",nt=new XMLHttpRequest;nt.onload=function(){if(nt.status===200)if(rt==="text")H(nt.response);else{var xt=new FileReader;xt.addEventListener("load",function(){return H(xt.result)},!1),xt.addEventListener("error",function(It){return $(It)},!1),xt.readAsDataURL(nt.response)}else $("Failed to proxy resource "+I+" with status code "+nt.status)},nt.onerror=$;var dt=C.indexOf("?")>-1?"&":"?";if(nt.open("GET",""+C+dt+"url="+encodeURIComponent(x)+"&responseType="+rt),rt!=="text"&&nt instanceof XMLHttpRequest&&(nt.responseType=rt),O._options.imageTimeout){var yt=O._options.imageTimeout;nt.timeout=yt,nt.ontimeout=function(){return $("Timed out ("+yt+"ms) proxying "+I)}}nt.send()})},_}(),ff=/^data:image\/svg\+xml/i,rc=/^data:image\/.*;base64,/i,G0=/^data:image\/.*/i,$d=function(_){return ai.SUPPORT_SVG_DRAWING||!Np(_)},ql=function(_){return G0.test(_)},ic=function(_){return rc.test(_)},Rr=function(_){return _.substr(0,4)==="blob"},Np=function(_){return _.substr(-3).toLowerCase()==="svg"||ff.test(_)},oe=function(){function _(x,O){this.type=0,this.x=x,this.y=O}return _.prototype.add=function(x,O){return new _(this.x+x,this.y+O)},_}(),Us=function(_,x,O){return new oe(_.x+(x.x-_.x)*O,_.y+(x.y-_.y)*O)},oi=function(){function _(x,O,C,I){this.type=1,this.start=x,this.startControl=O,this.endControl=C,this.end=I}return _.prototype.subdivide=function(x,O){var C=Us(this.start,this.startControl,x),I=Us(this.startControl,this.endControl,x),H=Us(this.endControl,this.end,x),$=Us(C,I,x),rt=Us(I,H,x),nt=Us($,rt,x);return O?new _(this.start,C,$,nt):new _(nt,rt,H,this.end)},_.prototype.add=function(x,O){return new _(this.start.add(x,O),this.startControl.add(x,O),this.endControl.add(x,O),this.end.add(x,O))},_.prototype.reverse=function(){return new _(this.end,this.endControl,this.startControl,this.start)},_}(),Br=function(_){return _.type===1},Fn=function(){function _(x){var O=x.styles,C=x.bounds,I=Sc(O.borderTopLeftRadius,C.width,C.height),H=I[0],$=I[1],rt=Sc(O.borderTopRightRadius,C.width,C.height),nt=rt[0],dt=rt[1],yt=Sc(O.borderBottomRightRadius,C.width,C.height),xt=yt[0],It=yt[1],ge=Sc(O.borderBottomLeftRadius,C.width,C.height),$t=ge[0],ue=ge[1],sn=[];sn.push((H+nt)/C.width),sn.push(($t+xt)/C.width),sn.push(($+ue)/C.height),sn.push((dt+It)/C.height);var fe=Math.max.apply(Math,sn);fe>1&&(H/=fe,$/=fe,nt/=fe,dt/=fe,xt/=fe,It/=fe,$t/=fe,ue/=fe);var Ee=C.width-nt,Dn=C.height-It,dn=C.width-xt,Xe=C.height-ue,ce=O.borderTopWidth,yn=O.borderRightWidth,Tn=O.borderBottomWidth,en=O.borderLeftWidth,pi=mr(O.paddingTop,x.bounds.width),Nr=mr(O.paddingRight,x.bounds.width),Ga=mr(O.paddingBottom,x.bounds.width),zn=mr(O.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=H>0||$>0?Mr(C.left+en/3,C.top+ce/3,H-en/3,$-ce/3,kn.TOP_LEFT):new oe(C.left+en/3,C.top+ce/3),this.topRightBorderDoubleOuterBox=H>0||$>0?Mr(C.left+Ee,C.top+ce/3,nt-yn/3,dt-ce/3,kn.TOP_RIGHT):new oe(C.left+C.width-yn/3,C.top+ce/3),this.bottomRightBorderDoubleOuterBox=xt>0||It>0?Mr(C.left+dn,C.top+Dn,xt-yn/3,It-Tn/3,kn.BOTTOM_RIGHT):new oe(C.left+C.width-yn/3,C.top+C.height-Tn/3),this.bottomLeftBorderDoubleOuterBox=$t>0||ue>0?Mr(C.left+en/3,C.top+Xe,$t-en/3,ue-Tn/3,kn.BOTTOM_LEFT):new oe(C.left+en/3,C.top+C.height-Tn/3),this.topLeftBorderDoubleInnerBox=H>0||$>0?Mr(C.left+en*2/3,C.top+ce*2/3,H-en*2/3,$-ce*2/3,kn.TOP_LEFT):new oe(C.left+en*2/3,C.top+ce*2/3),this.topRightBorderDoubleInnerBox=H>0||$>0?Mr(C.left+Ee,C.top+ce*2/3,nt-yn*2/3,dt-ce*2/3,kn.TOP_RIGHT):new oe(C.left+C.width-yn*2/3,C.top+ce*2/3),this.bottomRightBorderDoubleInnerBox=xt>0||It>0?Mr(C.left+dn,C.top+Dn,xt-yn*2/3,It-Tn*2/3,kn.BOTTOM_RIGHT):new oe(C.left+C.width-yn*2/3,C.top+C.height-Tn*2/3),this.bottomLeftBorderDoubleInnerBox=$t>0||ue>0?Mr(C.left+en*2/3,C.top+Xe,$t-en*2/3,ue-Tn*2/3,kn.BOTTOM_LEFT):new oe(C.left+en*2/3,C.top+C.height-Tn*2/3),this.topLeftBorderStroke=H>0||$>0?Mr(C.left+en/2,C.top+ce/2,H-en/2,$-ce/2,kn.TOP_LEFT):new oe(C.left+en/2,C.top+ce/2),this.topRightBorderStroke=H>0||$>0?Mr(C.left+Ee,C.top+ce/2,nt-yn/2,dt-ce/2,kn.TOP_RIGHT):new oe(C.left+C.width-yn/2,C.top+ce/2),this.bottomRightBorderStroke=xt>0||It>0?Mr(C.left+dn,C.top+Dn,xt-yn/2,It-Tn/2,kn.BOTTOM_RIGHT):new oe(C.left+C.width-yn/2,C.top+C.height-Tn/2),this.bottomLeftBorderStroke=$t>0||ue>0?Mr(C.left+en/2,C.top+Xe,$t-en/2,ue-Tn/2,kn.BOTTOM_LEFT):new oe(C.left+en/2,C.top+C.height-Tn/2),this.topLeftBorderBox=H>0||$>0?Mr(C.left,C.top,H,$,kn.TOP_LEFT):new oe(C.left,C.top),this.topRightBorderBox=nt>0||dt>0?Mr(C.left+Ee,C.top,nt,dt,kn.TOP_RIGHT):new oe(C.left+C.width,C.top),this.bottomRightBorderBox=xt>0||It>0?Mr(C.left+dn,C.top+Dn,xt,It,kn.BOTTOM_RIGHT):new oe(C.left+C.width,C.top+C.height),this.bottomLeftBorderBox=$t>0||ue>0?Mr(C.left,C.top+Xe,$t,ue,kn.BOTTOM_LEFT):new oe(C.left,C.top+C.height),this.topLeftPaddingBox=H>0||$>0?Mr(C.left+en,C.top+ce,Math.max(0,H-en),Math.max(0,$-ce),kn.TOP_LEFT):new oe(C.left+en,C.top+ce),this.topRightPaddingBox=nt>0||dt>0?Mr(C.left+Math.min(Ee,C.width-yn),C.top+ce,Ee>C.width+yn?0:Math.max(0,nt-yn),Math.max(0,dt-ce),kn.TOP_RIGHT):new oe(C.left+C.width-yn,C.top+ce),this.bottomRightPaddingBox=xt>0||It>0?Mr(C.left+Math.min(dn,C.width-en),C.top+Math.min(Dn,C.height-Tn),Math.max(0,xt-yn),Math.max(0,It-Tn),kn.BOTTOM_RIGHT):new oe(C.left+C.width-yn,C.top+C.height-Tn),this.bottomLeftPaddingBox=$t>0||ue>0?Mr(C.left+en,C.top+Math.min(Xe,C.height-Tn),Math.max(0,$t-en),Math.max(0,ue-Tn),kn.BOTTOM_LEFT):new oe(C.left+en,C.top+C.height-Tn),this.topLeftContentBox=H>0||$>0?Mr(C.left+en+zn,C.top+ce+pi,Math.max(0,H-(en+zn)),Math.max(0,$-(ce+pi)),kn.TOP_LEFT):new oe(C.left+en+zn,C.top+ce+pi),this.topRightContentBox=nt>0||dt>0?Mr(C.left+Math.min(Ee,C.width+en+zn),C.top+ce+pi,Ee>C.width+en+zn?0:nt-en+zn,dt-(ce+pi),kn.TOP_RIGHT):new oe(C.left+C.width-(yn+Nr),C.top+ce+pi),this.bottomRightContentBox=xt>0||It>0?Mr(C.left+Math.min(dn,C.width-(en+zn)),C.top+Math.min(Dn,C.height+ce+pi),Math.max(0,xt-(yn+Nr)),It-(Tn+Ga),kn.BOTTOM_RIGHT):new oe(C.left+C.width-(yn+Nr),C.top+C.height-(Tn+Ga)),this.bottomLeftContentBox=$t>0||ue>0?Mr(C.left+en+zn,C.top+Xe,Math.max(0,$t-(en+zn)),ue-(Tn+Ga),kn.BOTTOM_LEFT):new oe(C.left+en+zn,C.top+C.height-(Tn+Ga))}return _}(),kn;(function(_){_[_.TOP_LEFT=0]="TOP_LEFT",_[_.TOP_RIGHT=1]="TOP_RIGHT",_[_.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",_[_.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(kn||(kn={}));var Mr=function(_,x,O,C,I){var H=4*((Math.sqrt(2)-1)/3),$=O*H,rt=C*H,nt=_+O,dt=x+C;switch(I){case kn.TOP_LEFT:return new oi(new oe(_,dt),new oe(_,dt-rt),new oe(nt-$,x),new oe(nt,x));case kn.TOP_RIGHT:return new oi(new oe(_,x),new oe(_+$,x),new oe(nt,dt-rt),new oe(nt,dt));case kn.BOTTOM_RIGHT:return new oi(new oe(nt,x),new oe(nt,x+rt),new oe(_+$,dt),new oe(_,dt));case kn.BOTTOM_LEFT:default:return new oi(new oe(nt,dt),new oe(nt-$,dt),new oe(_,x+rt),new oe(_,x))}},Ps=function(_){return[_.topLeftBorderBox,_.topRightBorderBox,_.bottomRightBorderBox,_.bottomLeftBorderBox]},Xd=function(_){return[_.topLeftContentBox,_.topRightContentBox,_.bottomRightContentBox,_.bottomLeftContentBox]},zi=function(_){return[_.topLeftPaddingBox,_.topRightPaddingBox,_.bottomRightPaddingBox,_.bottomLeftPaddingBox]},K0=function(){function _(x,O,C){this.offsetX=x,this.offsetY=O,this.matrix=C,this.type=0,this.target=6}return _}(),Qn=function(){function _(x,O){this.path=x,this.target=O,this.type=1}return _}(),z0=function(){function _(x){this.opacity=x,this.type=2,this.target=6}return _}(),fo=function(_){return _.type===0},Dp=function(_){return _.type===1},Gm=function(_){return _.type===2},W0=function(_,x){return _.length===x.length?_.some(function(O,C){return O===x[C]}):!1},V0=function(_,x,O,C,I){return _.map(function(H,$){switch($){case 0:return H.add(x,O);case 1:return H.add(x+C,O);case 2:return H.add(x+C,O+I);case 3:return H.add(x,O+I)}return H})},zc=function(){function _(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return _}(),qd=function(){function _(x,O){if(this.container=x,this.parent=O,this.effects=[],this.curves=new Fn(this.container),this.container.styles.opacity<1&&this.effects.push(new z0(this.container.styles.opacity)),this.container.styles.transform!==null){var C=this.container.bounds.left+this.container.styles.transformOrigin[0].number,I=this.container.bounds.top+this.container.styles.transformOrigin[1].number,H=this.container.styles.transform;this.effects.push(new K0(C,I,H))}if(this.container.styles.overflowX!==0){var $=Ps(this.curves),rt=zi(this.curves);W0($,rt)?this.effects.push(new Qn($,6)):(this.effects.push(new Qn($,2)),this.effects.push(new Qn(rt,4)))}}return _.prototype.getEffects=function(x){for(var O=[2,3].indexOf(this.container.styles.position)===-1,C=this.parent,I=this.effects.slice(0);C;){var H=C.effects.filter(function(nt){return!Dp(nt)});if(O||C.container.styles.position!==0||!C.parent){if(I.unshift.apply(I,H),O=[2,3].indexOf(C.container.styles.position)===-1,C.container.styles.overflowX!==0){var $=Ps(C.curves),rt=zi(C.curves);W0($,rt)||I.unshift(new Qn(rt,6))}}else I.unshift.apply(I,H);C=C.parent}return I.filter(function(nt){return Tt(nt.target,x)})},_}(),df=function(_,x,O,C){_.container.elements.forEach(function(I){var H=Tt(I.flags,4),$=Tt(I.flags,2),rt=new qd(I,_);Tt(I.styles.display,2048)&&C.push(rt);var nt=Tt(I.flags,8)?[]:C;if(H||$){var dt=H||I.styles.isPositioned()?O:x,yt=new zc(rt);if(I.styles.isPositioned()||I.styles.opacity<1||I.styles.isTransformed()){var xt=I.styles.zIndex.order;if(xt<0){var It=0;dt.negativeZIndex.some(function($t,ue){return xt>$t.element.container.styles.zIndex.order?(It=ue,!1):It>0}),dt.negativeZIndex.splice(It,0,yt)}else if(xt>0){var ge=0;dt.positiveZIndex.some(function($t,ue){return xt>=$t.element.container.styles.zIndex.order?(ge=ue+1,!1):ge>0}),dt.positiveZIndex.splice(ge,0,yt)}else dt.zeroOrAutoZIndexOrTransformedOrOpacity.push(yt)}else I.styles.isFloating()?dt.nonPositionedFloats.push(yt):dt.nonPositionedInlineLevel.push(yt);df(rt,yt,H?yt:O,nt)}else I.styles.isInlineLevel()?x.inlineLevel.push(rt):x.nonInlineLevel.push(rt),df(rt,x,O,nt);Tt(I.flags,8)&&hf(I,nt)})},hf=function(_,x){for(var O=_ instanceof Hc?_.start:1,C=_ instanceof Hc?_.reversed:!1,I=0;I<x.length;I++){var H=x[I];H.container instanceof Nd&&typeof H.container.value=="number"&&H.container.value!==0&&(O=H.container.value),H.listValue=fA(O,H.container.styles.listStyleType,!0),O+=C?-1:1}},Z0=function(_){var x=new qd(_,null),O=new zc(x),C=[];return df(x,O,O,C),hf(x.container,C),O},Hp=function(_,x){switch(x){case 0:return Le(_.topLeftBorderBox,_.topLeftPaddingBox,_.topRightBorderBox,_.topRightPaddingBox);case 1:return Le(_.topRightBorderBox,_.topRightPaddingBox,_.bottomRightBorderBox,_.bottomRightPaddingBox);case 2:return Le(_.bottomRightBorderBox,_.bottomRightPaddingBox,_.bottomLeftBorderBox,_.bottomLeftPaddingBox);case 3:default:return Le(_.bottomLeftBorderBox,_.bottomLeftPaddingBox,_.topLeftBorderBox,_.topLeftPaddingBox)}},Jd=function(_,x){switch(x){case 0:return Le(_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox,_.topRightBorderBox,_.topRightBorderDoubleOuterBox);case 1:return Le(_.topRightBorderBox,_.topRightBorderDoubleOuterBox,_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox);case 2:return Le(_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox,_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox);case 3:default:return Le(_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox,_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox)}},As=function(_,x){switch(x){case 0:return Le(_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox,_.topRightBorderDoubleInnerBox,_.topRightPaddingBox);case 1:return Le(_.topRightBorderDoubleInnerBox,_.topRightPaddingBox,_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox);case 2:return Le(_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox,_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox);case 3:default:return Le(_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox,_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox)}},Ro=function(_,x){switch(x){case 0:return dA(_.topLeftBorderStroke,_.topRightBorderStroke);case 1:return dA(_.topRightBorderStroke,_.bottomRightBorderStroke);case 2:return dA(_.bottomRightBorderStroke,_.bottomLeftBorderStroke);case 3:default:return dA(_.bottomLeftBorderStroke,_.topLeftBorderStroke)}},dA=function(_,x){var O=[];return Br(_)?O.push(_.subdivide(.5,!1)):O.push(_),Br(x)?O.push(x.subdivide(.5,!0)):O.push(x),O},Le=function(_,x,O,C){var I=[];return Br(_)?I.push(_.subdivide(.5,!1)):I.push(_),Br(O)?I.push(O.subdivide(.5,!0)):I.push(O),Br(C)?I.push(C.subdivide(.5,!0).reverse()):I.push(C),Br(x)?I.push(x.subdivide(.5,!1).reverse()):I.push(x),I},th=function(_){var x=_.bounds,O=_.styles;return x.add(O.borderLeftWidth,O.borderTopWidth,-(O.borderRightWidth+O.borderLeftWidth),-(O.borderTopWidth+O.borderBottomWidth))},pf=function(_){var x=_.styles,O=_.bounds,C=mr(x.paddingLeft,O.width),I=mr(x.paddingRight,O.width),H=mr(x.paddingTop,O.width),$=mr(x.paddingBottom,O.width);return O.add(C+x.borderLeftWidth,H+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+C+I),-(x.borderTopWidth+x.borderBottomWidth+H+$))},ho=function(_,x){return _===0?x.bounds:_===2?pf(x):th(x)},Y0=function(_,x){return _===0?x.bounds:_===2?pf(x):th(x)},Jl=function(_,x,O){var C=ho(oc(_.styles.backgroundOrigin,x),_),I=Y0(oc(_.styles.backgroundClip,x),_),H=po(oc(_.styles.backgroundSize,x),O,C),$=H[0],rt=H[1],nt=Sc(oc(_.styles.backgroundPosition,x),C.width-$,C.height-rt),dt=jp(oc(_.styles.backgroundRepeat,x),nt,H,C,I),yt=Math.round(C.left+nt[0]),xt=Math.round(C.top+nt[1]);return[dt,yt,xt,$,rt]},Un=function(_){return Gn(_)&&_.value===Ss.AUTO},ac=function(_){return typeof _=="number"},po=function(_,x,O){var C=x[0],I=x[1],H=x[2],$=_[0],rt=_[1];if(!$)return[0,0];if(Yr($)&&rt&&Yr(rt))return[mr($,O.width),mr(rt,O.height)];var nt=ac(H);if(Gn($)&&($.value===Ss.CONTAIN||$.value===Ss.COVER)){if(ac(H)){var dt=O.width/O.height;return dt<H!=($.value===Ss.COVER)?[O.width,O.width/H]:[O.height*H,O.height]}return[O.width,O.height]}var yt=ac(C),xt=ac(I),It=yt||xt;if(Un($)&&(!rt||Un(rt))){if(yt&&xt)return[C,I];if(!nt&&!It)return[O.width,O.height];if(It&&nt){var ge=yt?C:I*H,$t=xt?I:C/H;return[ge,$t]}var ue=yt?C:O.width,sn=xt?I:O.height;return[ue,sn]}if(nt){var fe=0,Ee=0;return Yr($)?fe=mr($,O.width):Yr(rt)&&(Ee=mr(rt,O.height)),Un($)?fe=Ee*H:(!rt||Un(rt))&&(Ee=fe/H),[fe,Ee]}var Dn=null,dn=null;if(Yr($)?Dn=mr($,O.width):rt&&Yr(rt)&&(dn=mr(rt,O.height)),Dn!==null&&(!rt||Un(rt))&&(dn=yt&&xt?Dn/C*I:O.height),dn!==null&&Un($)&&(Dn=yt&&xt?dn/I*C:O.width),Dn!==null&&dn!==null)return[Dn,dn];throw new Error("Unable to calculate background-size for element")},oc=function(_,x){var O=_[x];return typeof O=="undefined"?_[0]:O},jp=function(_,x,O,C,I){var H=x[0],$=x[1],rt=O[0],nt=O[1];switch(_){case 2:return[new oe(Math.round(C.left),Math.round(C.top+$)),new oe(Math.round(C.left+C.width),Math.round(C.top+$)),new oe(Math.round(C.left+C.width),Math.round(nt+C.top+$)),new oe(Math.round(C.left),Math.round(nt+C.top+$))];case 3:return[new oe(Math.round(C.left+H),Math.round(C.top)),new oe(Math.round(C.left+H+rt),Math.round(C.top)),new oe(Math.round(C.left+H+rt),Math.round(C.height+C.top)),new oe(Math.round(C.left+H),Math.round(C.height+C.top))];case 1:return[new oe(Math.round(C.left+H),Math.round(C.top+$)),new oe(Math.round(C.left+H+rt),Math.round(C.top+$)),new oe(Math.round(C.left+H+rt),Math.round(C.top+$+nt)),new oe(Math.round(C.left+H),Math.round(C.top+$+nt))];default:return[new oe(Math.round(I.left),Math.round(I.top)),new oe(Math.round(I.left+I.width),Math.round(I.top)),new oe(Math.round(I.left+I.width),Math.round(I.height+I.top)),new oe(Math.round(I.left),Math.round(I.height+I.top))]}},Gp="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",gf="Hidden Text",vf=function(){function _(x){this._data={},this._document=x}return _.prototype.parseMetrics=function(x,O){var C=this._document.createElement("div"),I=this._document.createElement("img"),H=this._document.createElement("span"),$=this._document.body;C.style.visibility="hidden",C.style.fontFamily=x,C.style.fontSize=O,C.style.margin="0",C.style.padding="0",C.style.whiteSpace="nowrap",$.appendChild(C),I.src=Gp,I.width=1,I.height=1,I.style.margin="0",I.style.padding="0",I.style.verticalAlign="baseline",H.style.fontFamily=x,H.style.fontSize=O,H.style.margin="0",H.style.padding="0",H.appendChild(this._document.createTextNode(gf)),C.appendChild(H),C.appendChild(I);var rt=I.offsetTop-H.offsetTop+2;C.removeChild(H),C.appendChild(this._document.createTextNode(gf)),C.style.lineHeight="normal",I.style.verticalAlign="super";var nt=I.offsetTop-C.offsetTop+2;return $.removeChild(C),{baseline:rt,middle:nt}},_.prototype.getMetrics=function(x,O){var C=x+" "+O;return typeof this._data[C]=="undefined"&&(this._data[C]=this.parseMetrics(x,O)),this._data[C]},_}(),Kp=function(){function _(x,O){this.context=x,this.options=O}return _}(),tu=1e4,$0=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I._activeEffects=[],I.canvas=C.canvas?C.canvas:document.createElement("canvas"),I.ctx=I.canvas.getContext("2d"),C.canvas||(I.canvas.width=Math.floor(C.width*C.scale),I.canvas.height=Math.floor(C.height*C.scale),I.canvas.style.width=C.width+"px",I.canvas.style.height=C.height+"px"),I.fontMetrics=new vf(document),I.ctx.scale(I.options.scale,I.options.scale),I.ctx.translate(-C.x,-C.y),I.ctx.textBaseline="bottom",I._activeEffects=[],I.context.logger.debug("Canvas renderer initialized ("+C.width+"x"+C.height+") with scale "+C.scale),I}return x.prototype.applyEffects=function(O){for(var C=this;this._activeEffects.length;)this.popEffect();O.forEach(function(I){return C.applyEffect(I)})},x.prototype.applyEffect=function(O){this.ctx.save(),Gm(O)&&(this.ctx.globalAlpha=O.opacity),fo(O)&&(this.ctx.translate(O.offsetX,O.offsetY),this.ctx.transform(O.matrix[0],O.matrix[1],O.matrix[2],O.matrix[3],O.matrix[4],O.matrix[5]),this.ctx.translate(-O.offsetX,-O.offsetY)),Dp(O)&&(this.path(O.path),this.ctx.clip()),this._activeEffects.push(O)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(O){return J(this,void 0,void 0,function(){var C;return De(this,function(I){switch(I.label){case 0:return C=O.element.container.styles,C.isVisible()?[4,this.renderStackContent(O)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(O){return J(this,void 0,void 0,function(){return De(this,function(C){switch(C.label){case 0:if(Tt(O.container.flags,16))debugger;return O.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(O)]:[3,3];case 1:return C.sent(),[4,this.renderNodeContent(O)];case 2:C.sent(),C.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(O,C,I){var H=this;if(C===0)this.ctx.fillText(O.text,O.bounds.left,O.bounds.top+I);else{var $=zl(O.text);$.reduce(function(rt,nt){return H.ctx.fillText(nt,rt,O.bounds.top+I),rt+H.ctx.measureText(nt).width},O.bounds.left)}},x.prototype.createFontStyle=function(O){var C=O.fontVariant.filter(function($){return $==="normal"||$==="small-caps"}).join(""),I=eh(O.fontFamily).join(", "),H=zA(O.fontSize)?""+O.fontSize.number+O.fontSize.unit:O.fontSize.number+"px";return[[O.fontStyle,C,O.fontWeight,H,I].join(" "),I,H]},x.prototype.renderTextNode=function(O,C){return J(this,void 0,void 0,function(){var I,H,$,rt,nt,dt,yt,xt,It=this;return De(this,function(ge){return I=this.createFontStyle(C),H=I[0],$=I[1],rt=I[2],this.ctx.font=H,this.ctx.direction=C.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",nt=this.fontMetrics.getMetrics($,rt),dt=nt.baseline,yt=nt.middle,xt=C.paintOrder,O.textBounds.forEach(function($t){xt.forEach(function(ue){switch(ue){case 0:It.ctx.fillStyle=Xi(C.color),It.renderTextWithLetterSpacing($t,C.letterSpacing,dt);var sn=C.textShadow;sn.length&&$t.text.trim().length&&(sn.slice(0).reverse().forEach(function(fe){It.ctx.shadowColor=Xi(fe.color),It.ctx.shadowOffsetX=fe.offsetX.number*It.options.scale,It.ctx.shadowOffsetY=fe.offsetY.number*It.options.scale,It.ctx.shadowBlur=fe.blur.number,It.renderTextWithLetterSpacing($t,C.letterSpacing,dt)}),It.ctx.shadowColor="",It.ctx.shadowOffsetX=0,It.ctx.shadowOffsetY=0,It.ctx.shadowBlur=0),C.textDecorationLine.length&&(It.ctx.fillStyle=Xi(C.textDecorationColor||C.color),C.textDecorationLine.forEach(function(fe){switch(fe){case 1:It.ctx.fillRect($t.bounds.left,Math.round($t.bounds.top+dt),$t.bounds.width,1);break;case 2:It.ctx.fillRect($t.bounds.left,Math.round($t.bounds.top),$t.bounds.width,1);break;case 3:It.ctx.fillRect($t.bounds.left,Math.ceil($t.bounds.top+yt),$t.bounds.width,1);break}}));break;case 1:C.webkitTextStrokeWidth&&$t.text.trim().length&&(It.ctx.strokeStyle=Xi(C.webkitTextStrokeColor),It.ctx.lineWidth=C.webkitTextStrokeWidth,It.ctx.lineJoin=window.chrome?"miter":"round",It.ctx.strokeText($t.text,$t.bounds.left,$t.bounds.top+dt)),It.ctx.strokeStyle="",It.ctx.lineWidth=0,It.ctx.lineJoin="miter";break}})}),[2]})})},x.prototype.renderReplacedElement=function(O,C,I){if(I&&O.intrinsicWidth>0&&O.intrinsicHeight>0){var H=pf(O),$=zi(C);this.path($),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(I,0,0,O.intrinsicWidth,O.intrinsicHeight,H.left,H.top,H.width,H.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(O){return J(this,void 0,void 0,function(){var C,I,H,$,rt,nt,Ee,Ee,dt,yt,xt,It,dn,ge,$t,Xe,ue,sn,fe,Ee,Dn,dn,Xe;return De(this,function(ce){switch(ce.label){case 0:this.applyEffects(O.getEffects(4)),C=O.container,I=O.curves,H=C.styles,$=0,rt=C.textNodes,ce.label=1;case 1:return $<rt.length?(nt=rt[$],[4,this.renderTextNode(nt,H)]):[3,4];case 2:ce.sent(),ce.label=3;case 3:return $++,[3,1];case 4:if(!(C instanceof Mp))return[3,8];ce.label=5;case 5:return ce.trys.push([5,7,,8]),[4,this.context.cache.match(C.src)];case 6:return Ee=ce.sent(),this.renderReplacedElement(C,I,Ee),[3,8];case 7:return ce.sent(),this.context.logger.error("Error loading image "+C.src),[3,8];case 8:if(C instanceof ks&&this.renderReplacedElement(C,I,C.canvas),!(C instanceof tf))return[3,12];ce.label=9;case 9:return ce.trys.push([9,11,,12]),[4,this.context.cache.match(C.svg)];case 10:return Ee=ce.sent(),this.renderReplacedElement(C,I,Ee),[3,12];case 11:return ce.sent(),this.context.logger.error("Error loading svg "+C.svg.substring(0,255)),[3,12];case 12:return C instanceof Dd&&C.tree?(dt=new x(this.context,{scale:this.options.scale,backgroundColor:C.backgroundColor,x:0,y:0,width:C.width,height:C.height}),[4,dt.render(C.tree)]):[3,14];case 13:yt=ce.sent(),C.width&&C.height&&this.ctx.drawImage(yt,0,0,C.width,C.height,C.bounds.left,C.bounds.top,C.bounds.width,C.bounds.height),ce.label=14;case 14:if(C instanceof da&&(xt=Math.min(C.bounds.width,C.bounds.height),C.type===jc?C.checked&&(this.ctx.save(),this.path([new oe(C.bounds.left+xt*.39363,C.bounds.top+xt*.79),new oe(C.bounds.left+xt*.16,C.bounds.top+xt*.5549),new oe(C.bounds.left+xt*.27347,C.bounds.top+xt*.44071),new oe(C.bounds.left+xt*.39694,C.bounds.top+xt*.5649),new oe(C.bounds.left+xt*.72983,C.bounds.top+xt*.23),new oe(C.bounds.left+xt*.84,C.bounds.top+xt*.34085),new oe(C.bounds.left+xt*.39363,C.bounds.top+xt*.79)]),this.ctx.fillStyle=Xi(Gc),this.ctx.fill(),this.ctx.restore()):C.type===ef&&C.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(C.bounds.left+xt/2,C.bounds.top+xt/2,xt/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xi(Gc),this.ctx.fill(),this.ctx.restore())),zp(C)&&C.value.length){switch(It=this.createFontStyle(H),dn=It[0],ge=It[1],$t=this.fontMetrics.getMetrics(dn,ge).baseline,this.ctx.font=dn,this.ctx.fillStyle=Xi(H.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Wp(C.styles.textAlign),Xe=pf(C),ue=0,C.styles.textAlign){case 1:ue+=Xe.width/2;break;case 2:ue+=Xe.width;break}sn=Xe.add(ue,0,0,-Xe.height/2+1),this.ctx.save(),this.path([new oe(Xe.left,Xe.top),new oe(Xe.left+Xe.width,Xe.top),new oe(Xe.left+Xe.width,Xe.top+Xe.height),new oe(Xe.left,Xe.top+Xe.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Dc(C.value,sn),H.letterSpacing,$t),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Tt(C.styles.display,2048))return[3,20];if(C.styles.listStyleImage===null)return[3,19];if(fe=C.styles.listStyleImage,fe.type!==0)return[3,18];Ee=void 0,Dn=fe.url,ce.label=15;case 15:return ce.trys.push([15,17,,18]),[4,this.context.cache.match(Dn)];case 16:return Ee=ce.sent(),this.ctx.drawImage(Ee,C.bounds.left-(Ee.width+10),C.bounds.top),[3,18];case 17:return ce.sent(),this.context.logger.error("Error loading list-style-image "+Dn),[3,18];case 18:return[3,20];case 19:O.listValue&&C.styles.listStyleType!==-1&&(dn=this.createFontStyle(H)[0],this.ctx.font=dn,this.ctx.fillStyle=Xi(H.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Xe=new Ye(C.bounds.left,C.bounds.top+mr(C.styles.paddingTop,C.bounds.width),C.bounds.width,b0(H.lineHeight,H.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Dc(O.listValue,Xe),H.letterSpacing,b0(H.lineHeight,H.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ce.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(O){return J(this,void 0,void 0,function(){var C,I,fe,H,$,fe,rt,nt,fe,dt,yt,fe,xt,It,fe,ge,$t,fe,ue,sn,fe;return De(this,function(Ee){switch(Ee.label){case 0:if(Tt(O.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(O.element)];case 1:Ee.sent(),C=0,I=O.negativeZIndex,Ee.label=2;case 2:return C<I.length?(fe=I[C],[4,this.renderStack(fe)]):[3,5];case 3:Ee.sent(),Ee.label=4;case 4:return C++,[3,2];case 5:return[4,this.renderNodeContent(O.element)];case 6:Ee.sent(),H=0,$=O.nonInlineLevel,Ee.label=7;case 7:return H<$.length?(fe=$[H],[4,this.renderNode(fe)]):[3,10];case 8:Ee.sent(),Ee.label=9;case 9:return H++,[3,7];case 10:rt=0,nt=O.nonPositionedFloats,Ee.label=11;case 11:return rt<nt.length?(fe=nt[rt],[4,this.renderStack(fe)]):[3,14];case 12:Ee.sent(),Ee.label=13;case 13:return rt++,[3,11];case 14:dt=0,yt=O.nonPositionedInlineLevel,Ee.label=15;case 15:return dt<yt.length?(fe=yt[dt],[4,this.renderStack(fe)]):[3,18];case 16:Ee.sent(),Ee.label=17;case 17:return dt++,[3,15];case 18:xt=0,It=O.inlineLevel,Ee.label=19;case 19:return xt<It.length?(fe=It[xt],[4,this.renderNode(fe)]):[3,22];case 20:Ee.sent(),Ee.label=21;case 21:return xt++,[3,19];case 22:ge=0,$t=O.zeroOrAutoZIndexOrTransformedOrOpacity,Ee.label=23;case 23:return ge<$t.length?(fe=$t[ge],[4,this.renderStack(fe)]):[3,26];case 24:Ee.sent(),Ee.label=25;case 25:return ge++,[3,23];case 26:ue=0,sn=O.positiveZIndex,Ee.label=27;case 27:return ue<sn.length?(fe=sn[ue],[4,this.renderStack(fe)]):[3,30];case 28:Ee.sent(),Ee.label=29;case 29:return ue++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(O){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(O.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(O){this.ctx.beginPath(),this.formatPath(O),this.ctx.closePath()},x.prototype.formatPath=function(O){var C=this;O.forEach(function(I,H){var $=Br(I)?I.start:I;H===0?C.ctx.moveTo($.x,$.y):C.ctx.lineTo($.x,$.y),Br(I)&&C.ctx.bezierCurveTo(I.startControl.x,I.startControl.y,I.endControl.x,I.endControl.y,I.end.x,I.end.y)})},x.prototype.renderRepeat=function(O,C,I,H){this.path(O),this.ctx.fillStyle=C,this.ctx.translate(I,H),this.ctx.fill(),this.ctx.translate(-I,-H)},x.prototype.resizeImage=function(O,C,I){var H;if(O.width===C&&O.height===I)return O;var $=(H=this.canvas.ownerDocument)!==null&&H!==void 0?H:document,rt=$.createElement("canvas");rt.width=Math.max(1,C),rt.height=Math.max(1,I);var nt=rt.getContext("2d");return nt.drawImage(O,0,0,O.width,O.height,0,0,C,I),rt},x.prototype.renderBackgroundImage=function(O){return J(this,void 0,void 0,function(){var C,I,H,$,rt,nt;return De(this,function(dt){switch(dt.label){case 0:C=O.styles.backgroundImage.length-1,I=function(yt){var xt,It,ge,pi,Kt,Fr,zn,Ci,Tn,$t,pi,Kt,Fr,zn,Ci,ue,sn,fe,Ee,Dn,dn,Xe,ce,yn,Tn,en,pi,Nr,Ga,zn,Ci,ir,Kt,Fr,hA,ls,pA,go,sc,vo,Ac,Rs;return De(this,function(cc){switch(cc.label){case 0:if(yt.type!==0)return[3,5];xt=void 0,It=yt.url,cc.label=1;case 1:return cc.trys.push([1,3,,4]),[4,H.context.cache.match(It)];case 2:return xt=cc.sent(),[3,4];case 3:return cc.sent(),H.context.logger.error("Error loading background-image "+It),[3,4];case 4:return xt&&(ge=Jl(O,C,[xt.width,xt.height,xt.width/xt.height]),pi=ge[0],Kt=ge[1],Fr=ge[2],zn=ge[3],Ci=ge[4],Tn=H.ctx.createPattern(H.resizeImage(xt,zn,Ci),"repeat"),H.renderRepeat(pi,Tn,Kt,Fr)),[3,6];case 5:p0(yt)?($t=Jl(O,C,[null,null,null]),pi=$t[0],Kt=$t[1],Fr=$t[2],zn=$t[3],Ci=$t[4],ue=_e(yt.angle,zn,Ci),sn=ue[0],fe=ue[1],Ee=ue[2],Dn=ue[3],dn=ue[4],Xe=document.createElement("canvas"),Xe.width=zn,Xe.height=Ci,ce=Xe.getContext("2d"),yn=ce.createLinearGradient(fe,Dn,Ee,dn),Ut(yt.stops,sn).forEach(function(lc){return yn.addColorStop(lc.stop,Xi(lc.color))}),ce.fillStyle=yn,ce.fillRect(0,0,zn,Ci),zn>0&&Ci>0&&(Tn=H.ctx.createPattern(Xe,"repeat"),H.renderRepeat(pi,Tn,Kt,Fr))):gm(yt)&&(en=Jl(O,C,[null,null,null]),pi=en[0],Nr=en[1],Ga=en[2],zn=en[3],Ci=en[4],ir=yt.position.length===0?[Cl]:yt.position,Kt=mr(ir[0],zn),Fr=mr(ir[ir.length-1],Ci),hA=ji(yt,Kt,Fr,zn,Ci),ls=hA[0],pA=hA[1],ls>0&&pA>0&&(go=H.ctx.createRadialGradient(Nr+Kt,Ga+Fr,0,Nr+Kt,Ga+Fr,ls),Ut(yt.stops,ls*2).forEach(function(lc){return go.addColorStop(lc.stop,Xi(lc.color))}),H.path(pi),H.ctx.fillStyle=go,ls!==pA?(sc=O.bounds.left+.5*O.bounds.width,vo=O.bounds.top+.5*O.bounds.height,Ac=pA/ls,Rs=1/Ac,H.ctx.save(),H.ctx.translate(sc,vo),H.ctx.transform(1,0,0,Ac,0,0),H.ctx.translate(-sc,-vo),H.ctx.fillRect(Nr,Rs*(Ga-vo)+vo,zn,Ci*Rs),H.ctx.restore()):H.ctx.fill())),cc.label=6;case 6:return C--,[2]}})},H=this,$=0,rt=O.styles.backgroundImage.slice(0).reverse(),dt.label=1;case 1:return $<rt.length?(nt=rt[$],[5,I(nt)]):[3,4];case 2:dt.sent(),dt.label=3;case 3:return $++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(O,C,I){return J(this,void 0,void 0,function(){return De(this,function(H){return this.path(Hp(I,C)),this.ctx.fillStyle=Xi(O),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(O,C,I,H){return J(this,void 0,void 0,function(){var $,rt;return De(this,function(nt){switch(nt.label){case 0:return C<3?[4,this.renderSolidBorder(O,I,H)]:[3,2];case 1:return nt.sent(),[2];case 2:return $=Jd(H,I),this.path($),this.ctx.fillStyle=Xi(O),this.ctx.fill(),rt=As(H,I),this.path(rt),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(O){return J(this,void 0,void 0,function(){var C,I,H,$,rt,nt,dt,yt,xt=this;return De(this,function(It){switch(It.label){case 0:return this.applyEffects(O.getEffects(2)),C=O.container.styles,I=!VA(C.backgroundColor)||C.backgroundImage.length,H=[{style:C.borderTopStyle,color:C.borderTopColor,width:C.borderTopWidth},{style:C.borderRightStyle,color:C.borderRightColor,width:C.borderRightWidth},{style:C.borderBottomStyle,color:C.borderBottomColor,width:C.borderBottomWidth},{style:C.borderLeftStyle,color:C.borderLeftColor,width:C.borderLeftWidth}],$=X0(oc(C.backgroundClip,0),O.curves),I||C.boxShadow.length?(this.ctx.save(),this.path($),this.ctx.clip(),VA(C.backgroundColor)||(this.ctx.fillStyle=Xi(C.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(O.container)]):[3,2];case 1:It.sent(),this.ctx.restore(),C.boxShadow.slice(0).reverse().forEach(function(ge){xt.ctx.save();var $t=Ps(O.curves),ue=ge.inset?0:tu,sn=V0($t,-ue+(ge.inset?1:-1)*ge.spread.number,(ge.inset?1:-1)*ge.spread.number,ge.spread.number*(ge.inset?-2:2),ge.spread.number*(ge.inset?-2:2));ge.inset?(xt.path($t),xt.ctx.clip(),xt.mask(sn)):(xt.mask($t),xt.ctx.clip(),xt.path(sn)),xt.ctx.shadowOffsetX=ge.offsetX.number+ue,xt.ctx.shadowOffsetY=ge.offsetY.number,xt.ctx.shadowColor=Xi(ge.color),xt.ctx.shadowBlur=ge.blur.number,xt.ctx.fillStyle=ge.inset?Xi(ge.color):"rgba(0,0,0,1)",xt.ctx.fill(),xt.ctx.restore()}),It.label=2;case 2:rt=0,nt=0,dt=H,It.label=3;case 3:return nt<dt.length?(yt=dt[nt],yt.style!==0&&!VA(yt.color)&&yt.width>0?yt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(yt.color,yt.width,rt,O.curves,2)]:[3,11]):[3,13];case 4:return It.sent(),[3,11];case 5:return yt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(yt.color,yt.width,rt,O.curves,3)];case 6:return It.sent(),[3,11];case 7:return yt.style!==4?[3,9]:[4,this.renderDoubleBorder(yt.color,yt.width,rt,O.curves)];case 8:return It.sent(),[3,11];case 9:return[4,this.renderSolidBorder(yt.color,rt,O.curves)];case 10:It.sent(),It.label=11;case 11:rt++,It.label=12;case 12:return nt++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(O,C,I,H,$){return J(this,void 0,void 0,function(){var rt,nt,dt,yt,xt,It,ge,$t,ue,sn,fe,Ee,Dn,dn,Xe,ce,Xe,ce;return De(this,function(yn){return this.ctx.save(),rt=Ro(H,I),nt=Hp(H,I),$===2&&(this.path(nt),this.ctx.clip()),Br(nt[0])?(dt=nt[0].start.x,yt=nt[0].start.y):(dt=nt[0].x,yt=nt[0].y),Br(nt[1])?(xt=nt[1].end.x,It=nt[1].end.y):(xt=nt[1].x,It=nt[1].y),I===0||I===2?ge=Math.abs(dt-xt):ge=Math.abs(yt-It),this.ctx.beginPath(),$===3?this.formatPath(rt):this.formatPath(nt.slice(0,2)),$t=C<3?C*3:C*2,ue=C<3?C*2:C,$===3&&($t=C,ue=C),sn=!0,ge<=$t*2?sn=!1:ge<=$t*2+ue?(fe=ge/(2*$t+ue),$t*=fe,ue*=fe):(Ee=Math.floor((ge+ue)/($t+ue)),Dn=(ge-Ee*$t)/(Ee-1),dn=(ge-(Ee+1)*$t)/Ee,ue=dn<=0||Math.abs(ue-Dn)<Math.abs(ue-dn)?Dn:dn),sn&&($===3?this.ctx.setLineDash([0,$t+ue]):this.ctx.setLineDash([$t,ue])),$===3?(this.ctx.lineCap="round",this.ctx.lineWidth=C):this.ctx.lineWidth=C*2+1.1,this.ctx.strokeStyle=Xi(O),this.ctx.stroke(),this.ctx.setLineDash([]),$===2&&(Br(nt[0])&&(Xe=nt[3],ce=nt[0],this.ctx.beginPath(),this.formatPath([new oe(Xe.end.x,Xe.end.y),new oe(ce.start.x,ce.start.y)]),this.ctx.stroke()),Br(nt[1])&&(Xe=nt[1],ce=nt[2],this.ctx.beginPath(),this.formatPath([new oe(Xe.end.x,Xe.end.y),new oe(ce.start.x,ce.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(O){return J(this,void 0,void 0,function(){var C;return De(this,function(I){switch(I.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),C=Z0(O),[4,this.renderStack(C)];case 1:return I.sent(),this.applyEffects([]),[2,this.canvas]}})})},x}(Kp),zp=function(_){return _ instanceof Zl||_ instanceof br?!0:_ instanceof da&&_.type!==ef&&_.type!==jc},X0=function(_,x){switch(_){case 0:return Ps(x);case 2:return Xd(x);case 1:default:return zi(x)}},Wp=function(_){switch(_){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Yt=["-apple-system","system-ui"],eh=function(_){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?_.filter(function(x){return Yt.indexOf(x)===-1}):_},Vp=function(_){Ft(x,_);function x(O,C){var I=_.call(this,O,C)||this;return I.canvas=C.canvas?C.canvas:document.createElement("canvas"),I.ctx=I.canvas.getContext("2d"),I.options=C,I.canvas.width=Math.floor(C.width*C.scale),I.canvas.height=Math.floor(C.height*C.scale),I.canvas.style.width=C.width+"px",I.canvas.style.height=C.height+"px",I.ctx.scale(I.options.scale,I.options.scale),I.ctx.translate(-C.x,-C.y),I.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+C.width+"x"+C.height+" at "+C.x+","+C.y+") with scale "+C.scale),I}return x.prototype.render=function(O){return J(this,void 0,void 0,function(){var C,I;return De(this,function(H){switch(H.label){case 0:return C=Ju(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,O),[4,eu(C)];case 1:return I=H.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(I,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x}(Kp),eu=function(_){return new Promise(function(x,O){var C=new Image;C.onload=function(){x(C)},C.onerror=O,C.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(_))})},nu=function(){function _(x){var O=x.id,C=x.enabled;this.id=O,this.enabled=C,this.start=Date.now()}return _.prototype.debug=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},_.prototype.getTime=function(){return Date.now()-this.start},_.prototype.info=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jn([this.id,this.getTime()+"ms"],x))},_.prototype.warn=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},_.prototype.error=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,jn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},_.instances={},_}(),yf=function(){function _(x,O){var C;this.windowBounds=O,this.instanceName="#"+_.instanceCount++,this.logger=new nu({id:this.instanceName,enabled:x.logging}),this.cache=(C=x.cache)!==null&&C!==void 0?C:new j0(this,x)}return _.instanceCount=1,_}(),Wc=function(_,x){return x===void 0&&(x={}),ru(_,x)};typeof window!="undefined"&&ss.setContext(window);var ru=function(_,x){return J(void 0,void 0,void 0,function(){var O,C,I,H,$,rt,nt,dt,yt,xt,It,ge,$t,ue,sn,fe,Ee,Dn,dn,Xe,yn,ce,yn,Tn,en,pi,Nr,Ga,zn,Ci,ir,Kt,Fr,hA,ls,pA,go,sc,vo,Ac;return De(this,function(Rs){switch(Rs.label){case 0:if(!_||typeof _!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(O=_.ownerDocument,!O)throw new Error("Element is not attached to a Document");if(C=O.defaultView,!C)throw new Error("Document is not attached to a Window");return I={allowTaint:(Tn=x.allowTaint)!==null&&Tn!==void 0?Tn:!1,imageTimeout:(en=x.imageTimeout)!==null&&en!==void 0?en:15e3,proxy:x.proxy,useCORS:(pi=x.useCORS)!==null&&pi!==void 0?pi:!1},H=ze({logging:(Nr=x.logging)!==null&&Nr!==void 0?Nr:!0,cache:x.cache},I),$={windowWidth:(Ga=x.windowWidth)!==null&&Ga!==void 0?Ga:C.innerWidth,windowHeight:(zn=x.windowHeight)!==null&&zn!==void 0?zn:C.innerHeight,scrollX:(Ci=x.scrollX)!==null&&Ci!==void 0?Ci:C.pageXOffset,scrollY:(ir=x.scrollY)!==null&&ir!==void 0?ir:C.pageYOffset},rt=new Ye($.scrollX,$.scrollY,$.windowWidth,$.windowHeight),nt=new yf(H,rt),dt=(Kt=x.foreignObjectRendering)!==null&&Kt!==void 0?Kt:!1,yt={allowTaint:(Fr=x.allowTaint)!==null&&Fr!==void 0?Fr:!1,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:dt,copyStyles:dt},nt.logger.debug("Starting document clone with size "+rt.width+"x"+rt.height+" scrolled to "+-rt.left+","+-rt.top),xt=new Pp(nt,_,yt),It=xt.clonedReferenceElement,It?[4,xt.toIFrame(O,rt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return ge=Rs.sent(),$t=ec(It)||zd(It)?He(It.ownerDocument):Jt(nt,It),ue=$t.width,sn=$t.height,fe=$t.left,Ee=$t.top,Dn=cs(nt,It,x.backgroundColor),dn={canvas:x.canvas,backgroundColor:Dn,scale:(ls=(hA=x.scale)!==null&&hA!==void 0?hA:C.devicePixelRatio)!==null&&ls!==void 0?ls:1,x:((pA=x.x)!==null&&pA!==void 0?pA:0)+fe,y:((go=x.y)!==null&&go!==void 0?go:0)+Ee,width:(sc=x.width)!==null&&sc!==void 0?sc:Math.ceil(ue),height:(vo=x.height)!==null&&vo!==void 0?vo:Math.ceil(sn)},dt?(nt.logger.debug("Document cloned, using foreign object rendering"),yn=new Vp(nt,dn),[4,yn.render(It)]):[3,3];case 2:return Xe=Rs.sent(),[3,5];case 3:return nt.logger.debug("Document cloned, element located at "+fe+","+Ee+" with size "+ue+"x"+sn+" using computed rendering"),nt.logger.debug("Starting DOM parsing"),ce=jd(nt,It),Dn===ce.styles.backgroundColor&&(ce.styles.backgroundColor=aA.TRANSPARENT),nt.logger.debug("Starting renderer for element at "+dn.x+","+dn.y+" with size "+dn.width+"x"+dn.height),yn=new $0(nt,dn),[4,yn.render(ce)];case 4:Xe=Rs.sent(),Rs.label=5;case 5:return(!((Ac=x.removeContainer)!==null&&Ac!==void 0)||Ac)&&(Pp.destroy(ge)||nt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),nt.logger.debug("Finished rendering"),[2,Xe]}})})},cs=function(_,x,O){var C=x.ownerDocument,I=C.documentElement?Nu(_,getComputedStyle(C.documentElement).backgroundColor):aA.TRANSPARENT,H=C.body?Nu(_,getComputedStyle(C.body).backgroundColor):aA.TRANSPARENT,$=typeof O=="string"?Nu(_,O):O===null?aA.TRANSPARENT:4294967295;return x===C.documentElement?VA(I)?VA(H)?$:H:I:$};return Wc})},96486:function(Ke,$e,Ft){Ke=Ft.nmd(Ke);var ze;(function(){var J,De="4.17.23",jn=200,Ye="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Jt="Expected a function",He="Invalid `variable` option passed into `_.template`",ee="__lodash_hash_undefined__",Ot=500,we="__lodash_placeholder__",re=1,xe=2,gn=4,Oe=1,Ne=2,ke=1,de=2,ci=4,Xn=8,ra=16,ei=32,Ia=64,Yi=128,Ui=256,ma=512,Ws=30,Wa="...",pt=800,Wo=16,UA=1,Vs=2,ms=3,Va=1/0,to=9007199254740991,yl=17976931348623157e292,Za=NaN,ia=4294967295,Zs=ia-1,PA=ia>>>1,ws=[["ary",Yi],["bind",ke],["bindKey",de],["curry",Xn],["curryRight",ra],["flip",ma],["partial",ei],["partialRight",Ia],["rearg",Ui]],Vo="[object Arguments]",ni="[object Array]",bi="[object AsyncFunction]",La="[object Boolean]",wa="[object Date]",xc="[object DOMException]",bs="[object Error]",Qa="[object Function]",Mu="[object GeneratorFunction]",aa="[object Map]",oa="[object Number]",We="[object Null]",Qt="[object Object]",Pt="[object Promise]",tn="[object Proxy]",je="[object RegExp]",Te="[object Set]",Ge="[object String]",eo="[object Symbol]",Fu="[object Undefined]",Mn="[object WeakMap]",er="[object WeakSet]",Zo="[object ArrayBuffer]",Yo="[object DataView]",$o="[object Float32Array]",sa="[object Float64Array]",Cr="[object Int8Array]",To="[object Int16Array]",Xo="[object Int32Array]",_c="[object Uint8Array]",Aa="[object Uint8ClampedArray]",Ue="[object Uint16Array]",Pi="[object Uint32Array]",ca=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,ba=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ri=/&(?:amp|lt|gt|quot|#39);/g,Ba=/[&<>"']/g,RA=RegExp(ri.source),Cc=RegExp(Ba.source),ml=/<%-([\s\S]+?)%>/g,ku=/<%([\s\S]+?)%>/g,Tu=/<%=([\s\S]+?)%>/g,qf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jf=/^\w*$/,td=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/[\\^$.*+?()[\]{}|]/g,Ys=RegExp(ln.source),$s=/^\s+/,qo=/\s/,Iu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,NA=/\{\n\/\* \[wrapped with (.+)\] \*/,DA=/,? & /,no=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xa=/[()=,{}\[\]\/\s]/,Oc=/\\(\\)?/g,wl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bl=/\w*$/,ed=/^[-+]0x[0-9a-f]+$/i,Xh=/^0b[01]+$/i,qh=/^\[object .+?Constructor\]$/,Or=/^0o[0-7]+$/i,la=/^(?:0|[1-9]\d*)$/,ua=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,K=/($^)/,V=/['\n\r\u2028\u2029\\]/g,et="\\ud800-\\udfff",ot="\\u0300-\\u036f",gt="\\ufe20-\\ufe2f",vt="\\u20d0-\\u20ff",lt=ot+gt+vt,ct="\\u2700-\\u27bf",Bt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",te="\\u2000-\\u206f",Be=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zt="A-Z\\xc0-\\xd6\\xd8-\\xde",ie="\\ufe0e\\ufe0f",ne=Et+Xt+te+Be,Dt="['\u2019]",ve="["+et+"]",le="["+ne+"]",Ie="["+lt+"]",ae="\\d+",Pe="["+ct+"]",fn="["+Bt+"]",_a="[^"+et+ne+ae+ct+Bt+zt+"]",Ca="\\ud83c[\\udffb-\\udfff]",fa="(?:"+Ie+"|"+Ca+")",Ri="[^"+et+"]",Ua="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+zt+"]",HA="\\u200d",Lu="(?:"+fn+"|"+_a+")",Xs="(?:"+Vn+"|"+_a+")",$i="(?:"+Dt+"(?:d|ll|m|re|s|t|ve))?",li="(?:"+Dt+"(?:D|LL|M|RE|S|T|VE))?",qs=fa+"?",jA="["+ie+"]?",Jo="(?:"+HA+"(?:"+[Ri,Ua,vr].join("|")+")"+jA+qs+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",r0=jA+qs+Jo,i0="(?:"+[Pe,Ua,vr].join("|")+")"+r0,Am="(?:"+[Ri+Ie+"?",Ie,Ua,vr,ve].join("|")+")",Bs=RegExp(Dt,"g"),xs=RegExp(Ie,"g"),nd=RegExp(Ca+"(?="+Ca+")|"+Am+r0,"g"),a0=RegExp([Vn+"?"+fn+"+"+$i+"(?="+[le,Vn,"$"].join("|")+")",Xs+"+"+li+"(?="+[le,Vn+Lu,"$"].join("|")+")",Vn+"?"+Lu+"+"+$i,Vn+"+"+li,n0,ts,ae,i0].join("|"),"g"),Jh=RegExp("["+HA+et+lt+ie+"]"),cm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],um=-1,Er={};Er[$o]=Er[sa]=Er[Cr]=Er[To]=Er[Xo]=Er[_c]=Er[Aa]=Er[Ue]=Er[Pi]=!0,Er[Vo]=Er[ni]=Er[Zo]=Er[La]=Er[Yo]=Er[wa]=Er[bs]=Er[Qa]=Er[aa]=Er[oa]=Er[Qt]=Er[je]=Er[Te]=Er[Ge]=Er[Mn]=!1;var yr={};yr[Vo]=yr[ni]=yr[Zo]=yr[Yo]=yr[La]=yr[wa]=yr[$o]=yr[sa]=yr[Cr]=yr[To]=yr[Xo]=yr[aa]=yr[oa]=yr[Qt]=yr[je]=yr[Te]=yr[Ge]=yr[eo]=yr[_c]=yr[Aa]=yr[Ue]=yr[Pi]=!0,yr[bs]=yr[Qa]=yr[Mn]=!1;var o0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nr=parseFloat,GA=parseInt,KA=typeof Ft.g=="object"&&Ft.g&&Ft.g.Object===Object&&Ft.g,tp=typeof self=="object"&&self&&self.Object===Object&&self,Bi=KA||tp||Function("return this")(),_s=$e&&!$e.nodeType&&$e,Cs=_s&&!0&&Ke&&!Ke.nodeType&&Ke,Pa=Cs&&Cs.exports===_s,Qu=Pa&&KA.process,Ya=function(){try{var wt=Cs&&Cs.require&&Cs.require("util").types;return wt||Qu&&Qu.binding&&Qu.binding("util")}catch(Ut){}}(),Ur=Ya&&Ya.isArrayBuffer,es=Ya&&Ya.isDate,Bl=Ya&&Ya.isMap,ep=Ya&&Ya.isRegExp,rd=Ya&&Ya.isSet,id=Ya&&Ya.isTypedArray;function $a(wt,Ut,kt){switch(kt.length){case 0:return wt.call(Ut);case 1:return wt.call(Ut,kt[0]);case 2:return wt.call(Ut,kt[0],kt[1]);case 3:return wt.call(Ut,kt[0],kt[1],kt[2])}return wt.apply(Ut,kt)}function Js(wt,Ut,kt,_e){for(var Ve=-1,Kn=wt==null?0:wt.length;++Ve<Kn;){var ji=wt[Ve];Ut(_e,ji,kt(ji),wt)}return _e}function Ni(wt,Ut){for(var kt=-1,_e=wt==null?0:wt.length;++kt<_e&&Ut(wt[kt],kt,wt)!==!1;);return wt}function np(wt,Ut){for(var kt=wt==null?0:wt.length;kt--&&Ut(wt[kt],kt,wt)!==!1;);return wt}function ad(wt,Ut){for(var kt=-1,_e=wt==null?0:wt.length;++kt<_e;)if(!Ut(wt[kt],kt,wt))return!1;return!0}function Os(wt,Ut){for(var kt=-1,_e=wt==null?0:wt.length,Ve=0,Kn=[];++kt<_e;){var ji=wt[kt];Ut(ji,kt,wt)&&(Kn[Ve++]=ji)}return Kn}function Ec(wt,Ut){var kt=wt==null?0:wt.length;return!!kt&&eA(wt,Ut,0)>-1}function Uu(wt,Ut,kt){for(var _e=-1,Ve=wt==null?0:wt.length;++_e<Ve;)if(kt(Ut,wt[_e]))return!0;return!1}function Pr(wt,Ut){for(var kt=-1,_e=wt==null?0:wt.length,Ve=Array(_e);++kt<_e;)Ve[kt]=Ut(wt[kt],kt,wt);return Ve}function Ra(wt,Ut){for(var kt=-1,_e=Ut.length,Ve=wt.length;++kt<_e;)wt[Ve+kt]=Ut[kt];return wt}function tA(wt,Ut,kt,_e){var Ve=-1,Kn=wt==null?0:wt.length;for(_e&&Kn&&(kt=wt[++Ve]);++Ve<Kn;)kt=Ut(kt,wt[Ve],Ve,wt);return kt}function Pu(wt,Ut,kt,_e){var Ve=wt==null?0:wt.length;for(_e&&Ve&&(kt=wt[--Ve]);Ve--;)kt=Ut(kt,wt[Ve],Ve,wt);return kt}function od(wt,Ut){for(var kt=-1,_e=wt==null?0:wt.length;++kt<_e;)if(Ut(wt[kt],kt,wt))return!0;return!1}var s0=Es("length");function xl(wt){return wt.split("")}function sd(wt){return wt.match(no)||[]}function rp(wt,Ut,kt){var _e;return kt(wt,function(Ve,Kn,ji){if(Ut(Ve,Kn,ji))return _e=Kn,!1}),_e}function _l(wt,Ut,kt,_e){for(var Ve=wt.length,Kn=kt+(_e?1:-1);_e?Kn--:++Kn<Ve;)if(Ut(wt[Kn],Kn,wt))return Kn;return-1}function eA(wt,Ut,kt){return Ut===Ut?Xi(wt,Ut,kt):_l(wt,Ad,kt)}function ip(wt,Ut,kt,_e){for(var Ve=kt-1,Kn=wt.length;++Ve<Kn;)if(_e(wt[Ve],Ut))return Ve;return-1}function Ad(wt){return wt!==wt}function zA(wt,Ut){var kt=wt==null?0:wt.length;return kt?Ru(wt,Ut)/kt:Za}function Es(wt){return function(Ut){return Ut==null?J:Ut[wt]}}function Gn(wt){return function(Ut){return wt==null?J:wt[Ut]}}function cd(wt,Ut,kt,_e,Ve){return Ve(wt,function(Kn,ji,wr){kt=_e?(_e=!1,Kn):Ut(kt,Kn,ji,wr)}),kt}function ld(wt,Ut){var kt=wt.length;for(wt.sort(Ut);kt--;)wt[kt]=wt[kt].value;return wt}function Ru(wt,Ut){for(var kt,_e=-1,Ve=wt.length;++_e<Ve;){var Kn=Ut(wt[_e]);Kn!==J&&(kt=kt===J?Kn:kt+Kn)}return kt}function nA(wt,Ut){for(var kt=-1,_e=Array(wt);++kt<wt;)_e[kt]=Ut(kt);return _e}function ns(wt,Ut){return Pr(Ut,function(kt){return[kt,wt[kt]]})}function ud(wt){return wt&&wt.slice(0,hd(wt)+1).replace($s,"")}function ui(wt){return function(Ut){return wt(Ut)}}function Yr(wt,Ut){return Pr(Ut,function(kt){return wt[kt]})}function rA(wt,Ut){return wt.has(Ut)}function Di(wt,Ut){for(var kt=-1,_e=wt.length;++kt<_e&&eA(Ut,wt[kt],0)>-1;);return kt}function Cl(wt,Ut){for(var kt=wt.length;kt--&&eA(Ut,wt[kt],0)>-1;);return kt}function iA(wt,Ut){for(var kt=wt.length,_e=0;kt--;)wt[kt]===Ut&&++_e;return _e}var Sc=Gn(o0),mr=Gn(fm);function A0(wt){return"\\"+Oa[wt]}function c0(wt,Ut){return wt==null?J:wt[Ut]}function WA(wt){return Jh.test(wt)}function l0(wt){return cm.test(wt)}function fd(wt){for(var Ut,kt=[];!(Ut=wt.next()).done;)kt.push(Ut.value);return kt}function dd(wt){var Ut=-1,kt=Array(wt.size);return wt.forEach(function(_e,Ve){kt[++Ut]=[Ve,_e]}),kt}function ap(wt,Ut){return function(kt){return wt(Ut(kt))}}function Hi(wt,Ut){for(var kt=-1,_e=wt.length,Ve=0,Kn=[];++kt<_e;){var ji=wt[kt];(ji===Ut||ji===we)&&(wt[kt]=we,Kn[Ve++]=kt)}return Kn}function rs(wt){var Ut=-1,kt=Array(wt.size);return wt.forEach(function(_e){kt[++Ut]=_e}),kt}function VA(wt){var Ut=-1,kt=Array(wt.size);return wt.forEach(function(_e){kt[++Ut]=[_e,_e]}),kt}function Xi(wt,Ut,kt){for(var _e=kt-1,Ve=wt.length;++_e<Ve;)if(wt[_e]===Ut)return _e;return-1}function ZA(wt,Ut,kt){for(var _e=kt+1;_e--;)if(wt[_e]===Ut)return _e;return _e}function Mc(wt){return WA(wt)?hm(wt):s0(wt)}function Io(wt){return WA(wt)?Nu(wt):xl(wt)}function hd(wt){for(var Ut=wt.length;Ut--&&qo.test(wt.charAt(Ut)););return Ut}var u0=Gn(dm);function hm(wt){for(var Ut=nd.lastIndex=0;nd.test(wt);)++Ut;return Ut}function Nu(wt){return wt.match(nd)||[]}function aA(wt){return wt.match(a0)||[]}var pm=function wt(Ut){Ut=Ut==null?Bi:pd.defaults(Bi.Object(),Ut,pd.pick(Bi,lm));var kt=Ut.Array,_e=Ut.Date,Ve=Ut.Error,Kn=Ut.Function,ji=Ut.Math,wr=Ut.Object,Ol=Ut.RegExp,fi=Ut.String,ro=Ut.TypeError,io=kt.prototype,f0=Kn.prototype,Fc=wr.prototype,ao=Ut["__core-js_shared__"],Du=f0.toString,Zn=Fc.hasOwnProperty,d0=0,h0=function(){var p=/[^.]+$/.exec(ao&&ao.keys&&ao.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),YA=Fc.toString,p0=Du.call(wr),gm=Bi._,El=Ol("^"+Du.call(Zn).replace(ln,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gd=Pa?Ut.Buffer:J,Lo=Ut.Symbol,vd=Ut.Uint8Array,op=gd?gd.allocUnsafe:J,$A=ap(wr.getPrototypeOf,wr),g0=wr.create,v0=Fc.propertyIsEnumerable,Ss=io.splice,Sl=Lo?Lo.isConcatSpreadable:J,kc=Lo?Lo.iterator:J,Ms=Lo?Lo.toStringTag:J,Ml=function(){try{var p=Ma(wr,"defineProperty");return p({},"",{}),p}catch(m){}}(),y0=Ut.clearTimeout!==Bi.clearTimeout&&Ut.clearTimeout,m0=_e&&_e.now!==Bi.Date.now&&_e.now,vm=Ut.setTimeout!==Bi.setTimeout&&Ut.setTimeout,Tc=ji.ceil,yd=ji.floor,sp=wr.getOwnPropertySymbols,ym=gd?gd.isBuffer:J,Fl=Ut.isFinite,md=io.join,mm=ap(wr.keys,wr),Gi=ji.max,Ea=ji.min,wm=_e.now,Ic=Ut.parseInt,w0=ji.random,bm=io.reverse,wd=Ma(Ut,"DataView"),kl=Ma(Ut,"Map"),Ap=Ma(Ut,"Promise"),Tl=Ma(Ut,"Set"),Hu=Ma(Ut,"WeakMap"),ju=Ma(wr,"create"),bd=Hu&&new Hu,Il={},Bd=Fn(wd),Bm=Fn(kl),xm=Fn(Ap),b0=Fn(Tl),_m=Fn(Hu),xd=Lo?Lo.prototype:J,Lc=xd?xd.valueOf:J,Gu=xd?xd.toString:J;function tt(p){if(Xr(p)&&!un(p)&&!(p instanceof On)){if(p instanceof oo)return p;if(Zn.call(p,"__wrapped__"))return Mr(p)}return new oo(p)}var Ll=function(){function p(){}return function(m){if(!zr(m))return{};if(g0)return g0(m);p.prototype=m;var M=new p;return p.prototype=J,M}}();function _d(){}function oo(p,m){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=J}tt.templateSettings={escape:ml,evaluate:ku,interpolate:Tu,variable:"",imports:{_:tt}},tt.prototype=_d.prototype,tt.prototype.constructor=tt,oo.prototype=Ll(_d.prototype),oo.prototype.constructor=oo;function On(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ia,this.__views__=[]}function Cm(){var p=new On(this.__wrapped__);return p.__actions__=da(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=da(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=da(this.__views__),p}function Cd(){if(this.__filtered__){var p=new On(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Om(){var p=this.__wrapped__.value(),m=this.__dir__,M=un(p),Q=m<0,Z=M?p.length:0,X=fA(0,Z,this.__views__),st=X.start,ft=X.end,bt=ft-st,Rt=Q?ft:st-1,Ht=this.__iteratees__,Gt=Ht.length,he=0,Se=Ea(bt,this.__takeCount__);if(!M||!Q&&Z==bt&&Se==bt)return Ep(p,this.__actions__);var qe=[];t:for(;bt--&&he<Se;){Rt+=m;for(var An=-1,Je=p[Rt];++An<Gt;){var In=Ht[An],Rn=In.iteratee,Fa=In.type,Ei=Rn(Je);if(Fa==Vs)Je=Ei;else if(!Ei){if(Fa==UA)continue t;break t}}qe[he++]=Je}return qe}On.prototype=Ll(_d.prototype),On.prototype.constructor=On;function Qc(p){var m=-1,M=p==null?0:p.length;for(this.clear();++m<M;){var Q=p[m];this.set(Q[0],Q[1])}}function Em(){this.__data__=ju?ju(null):{},this.size=0}function Sm(p){var m=this.has(p)&&delete this.__data__[p];return this.size-=m?1:0,m}function Mm(p){var m=this.__data__;if(ju){var M=m[p];return M===ee?J:M}return Zn.call(m,p)?m[p]:J}function Fm(p){var m=this.__data__;return ju?m[p]!==J:Zn.call(m,p)}function km(p,m){var M=this.__data__;return this.size+=this.has(p)?0:1,M[p]=ju&&m===J?ee:m,this}Qc.prototype.clear=Em,Qc.prototype.delete=Sm,Qc.prototype.get=Mm,Qc.prototype.has=Fm,Qc.prototype.set=km;function oA(p){var m=-1,M=p==null?0:p.length;for(this.clear();++m<M;){var Q=p[m];this.set(Q[0],Q[1])}}function Tm(){this.__data__=[],this.size=0}function Im(p){var m=this.__data__,M=Ul(m,p);if(M<0)return!1;var Q=m.length-1;return M==Q?m.pop():Ss.call(m,M,1),--this.size,!0}function B0(p){var m=this.__data__,M=Ul(m,p);return M<0?J:m[M][1]}function Lm(p){return Ul(this.__data__,p)>-1}function x0(p,m){var M=this.__data__,Q=Ul(M,p);return Q<0?(++this.size,M.push([p,m])):M[Q][1]=m,this}oA.prototype.clear=Tm,oA.prototype.delete=Im,oA.prototype.get=B0,oA.prototype.has=Lm,oA.prototype.set=x0;function sA(p){var m=-1,M=p==null?0:p.length;for(this.clear();++m<M;){var Q=p[m];this.set(Q[0],Q[1])}}function Qm(){this.size=0,this.__data__={hash:new Qc,map:new(kl||oA),string:new Qc}}function Um(p){var m=lo(this,p).delete(p);return this.size-=m?1:0,m}function Ku(p){return lo(this,p).get(p)}function Pm(p){return lo(this,p).has(p)}function Rm(p,m){var M=lo(this,p),Q=M.size;return M.set(p,m),this.size+=M.size==Q?0:1,this}sA.prototype.clear=Qm,sA.prototype.delete=Um,sA.prototype.get=Ku,sA.prototype.has=Pm,sA.prototype.set=Rm;function XA(p){var m=-1,M=p==null?0:p.length;for(this.__data__=new sA;++m<M;)this.add(p[m])}function rr(p){return this.__data__.set(p,ee),this}function Na(p){return this.__data__.has(p)}XA.prototype.add=XA.prototype.push=rr,XA.prototype.has=Na;function be(p){var m=this.__data__=new oA(p);this.size=m.size}function fr(){this.__data__=new oA,this.size=0}function _0(p){var m=this.__data__,M=m.delete(p);return this.size=m.size,M}function Gr(p){return this.__data__.get(p)}function Od(p){return this.__data__.has(p)}function dr(p,m){var M=this.__data__;if(M instanceof oA){var Q=M.__data__;if(!kl||Q.length<jn-1)return Q.push([p,m]),this.size=++M.size,this;M=this.__data__=new sA(Q)}return M.set(p,m),this.size=M.size,this}be.prototype.clear=fr,be.prototype.delete=_0,be.prototype.get=Gr,be.prototype.has=Od,be.prototype.set=dr;function Tt(p,m){var M=un(p),Q=!M&&Ds(p),Z=!M&&!Q&&uc(p),X=!M&&!Q&&!Z&&au(p),st=M||Q||Z||X,ft=st?nA(p.length,fi):[],bt=ft.length;for(var Rt in p)(m||Zn.call(p,Rt))&&!(st&&(Rt=="length"||Z&&(Rt=="offset"||Rt=="parent")||X&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||Qs(Rt,bt)))&&ft.push(Rt);return ft}function Kr(p){var m=p.length;return m?p[Nc(0,m-1)]:J}function C0(p,m){return Us(da(p),qA(m,0,p.length))}function O0(p){return Us(da(p))}function Ed(p,m,M){(M!==J&&!yo(p[m],M)||M===J&&!(m in p))&&Fs(p,m,M)}function Ql(p,m,M){var Q=p[m];(!(Zn.call(p,m)&&yo(Q,M))||M===J&&!(m in p))&&Fs(p,m,M)}function Ul(p,m){for(var M=p.length;M--;)if(yo(p[M][0],m))return M;return-1}function E0(p,m,M,Q){return ii(p,function(Z,X,st){m(Q,Z,M(Z),st)}),Q}function cp(p,m){return p&&br(m,Wi(m),p)}function S0(p,m){return p&&br(m,Bo(m),p)}function Fs(p,m,M){m=="__proto__"&&Ml?Ml(p,m,{configurable:!0,enumerable:!0,value:M,writable:!0}):p[m]=M}function Pl(p,m){for(var M=-1,Q=m.length,Z=kt(Q),X=p==null;++M<Q;)Z[M]=X?J:ov(p,m[M]);return Z}function qA(p,m,M){return p===p&&(M!==J&&(p=p<=M?p:M),m!==J&&(p=p>=m?p:m)),p}function di(p,m,M,Q,Z,X){var st,ft=m&re,bt=m&xe,Rt=m&gn;if(M&&(st=Z?M(p,Q,Z,X):M(p)),st!==J)return st;if(!zr(p))return p;var Ht=un(p);if(Ht){if(st=lf(p),!ft)return da(p,st)}else{var Gt=Ji(p),he=Gt==Qa||Gt==Mu;if(uc(p))return Nd(p,ft);if(Gt==Qt||Gt==Vo||he&&!Z){if(st=bt||he?{}:D0(p),!ft)return bt?Dd(p,S0(st,p)):Zl(p,cp(st,p))}else{if(!yr[Gt])return Z?p:{};st=Hm(p,Gt,ft)}}X||(X=new be);var Se=X.get(p);if(Se)return Se;X.set(p,st),iv(p)?p.forEach(function(Je){st.add(di(Je,m,M,Je,p,X))}):tg(p)&&p.forEach(function(Je,In){st.set(In,di(Je,m,M,In,p,X))});var qe=Rt?bt?Wd:Ls:bt?Bo:Wi,An=Ht?J:qe(p);return Ni(An||p,function(Je,In){An&&(In=Je,Je=p[In]),Ql(st,In,di(Je,m,M,In,p,X))}),st}function q(p){var m=Wi(p);return function(M){return lp(M,p,m)}}function lp(p,m,M){var Q=M.length;if(p==null)return!Q;for(p=wr(p);Q--;){var Z=M[Q],X=m[Z],st=p[Z];if(st===J&&!(Z in p)||!X(st))return!1}return!0}function up(p,m,M){if(typeof p!="function")throw new ro(Jt);return ic(function(){p.apply(J,M)},m)}function ye(p,m,M,Q){var Z=-1,X=Ec,st=!0,ft=p.length,bt=[],Rt=m.length;if(!ft)return bt;M&&(m=Pr(m,ui(M))),Q?(X=Uu,st=!1):m.length>=jn&&(X=rA,st=!1,m=new XA(m));t:for(;++Z<ft;){var Ht=p[Z],Gt=M==null?Ht:M(Ht);if(Ht=Q||Ht!==0?Ht:0,st&&Gt===Gt){for(var he=Rt;he--;)if(m[he]===Gt)continue t;bt.push(Ht)}else X(m,Gt,Q)||bt.push(Ht)}return bt}var ii=Hd(Sa),fp=Hd(Rl,!0);function dp(p,m){var M=!0;return ii(p,function(Q,Z,X){return M=!!m(Q,Z,X),M}),M}function AA(p,m,M){for(var Q=-1,Z=p.length;++Q<Z;){var X=p[Q],st=m(X);if(st!=null&&(ft===J?st===st&&!Do(st):M(st,ft)))var ft=st,bt=X}return bt}function zu(p,m,M,Q){var Z=p.length;for(M=bn(M),M<0&&(M=-M>Z?0:Z+M),Q=Q===J||Q>Z?Z:bn(Q),Q<0&&(Q+=Z),Q=M>Q?0:n1(Q);M<Q;)p[M++]=m;return p}function hp(p,m){var M=[];return ii(p,function(Q,Z,X){m(Q,Z,X)&&M.push(Q)}),M}function xi(p,m,M,Q,Z){var X=-1,st=p.length;for(M||(M=Rp),Z||(Z=[]);++X<st;){var ft=p[X];m>0&&M(ft)?m>1?xi(ft,m-1,M,Q,Z):Ra(Z,ft):Q||(Z[Z.length]=ft)}return Z}var Sd=jd(),cA=jd(!0);function Sa(p,m){return p&&Sd(p,m,Wi)}function Rl(p,m){return p&&cA(p,m,Wi)}function Wu(p,m){return Os(m,function(M){return fc(p[M])})}function lA(p,m){m=_n(m,p);for(var M=0,Q=m.length;p!=null&&M<Q;)p=p[Br(m[M++])];return M&&M==Q?p:J}function pp(p,m,M){var Q=m(p);return un(p)?Q:Ra(Q,M(p))}function qi(p){return p==null?p===J?Fu:We:Ms&&Ms in wr(p)?Qp(p):j0(p)}function Md(p,m){return p>m}function Nm(p,m){return p!=null&&Zn.call(p,m)}function Nl(p,m){return p!=null&&m in wr(p)}function gp(p,m,M){return p>=Ea(m,M)&&p<Gi(m,M)}function Vu(p,m,M){for(var Q=M?Uu:Ec,Z=p[0].length,X=p.length,st=X,ft=kt(X),bt=1/0,Rt=[];st--;){var Ht=p[st];st&&m&&(Ht=Pr(Ht,ui(m))),bt=Ea(Ht.length,bt),ft[st]=!M&&(m||Z>=120&&Ht.length>=120)?new XA(st&&Ht):J}Ht=p[0];var Gt=-1,he=ft[0];t:for(;++Gt<Z&&Rt.length<bt;){var Se=Ht[Gt],qe=m?m(Se):Se;if(Se=M||Se!==0?Se:0,!(he?rA(he,qe):Q(Rt,qe,M))){for(st=X;--st;){var An=ft[st];if(!(An?rA(An,qe):Q(p[st],qe,M)))continue t}he&&he.push(qe),Rt.push(Se)}}return Rt}function vp(p,m,M,Q){return Sa(p,function(Z,X,st){m(Q,M(Z),X,st)}),Q}function Uc(p,m,M){m=_n(m,p),p=rc(p,m);var Q=p==null?p:p[Br(ho(m))];return Q==null?J:$a(Q,p,M)}function Fd(p){return Xr(p)&&qi(p)==Vo}function yp(p){return Xr(p)&&qi(p)==Zo}function M0(p){return Xr(p)&&qi(p)==wa}function is(p,m,M,Q,Z){return p===m?!0:p==null||m==null||!Xr(p)&&!Xr(m)?p!==p&&m!==m:F0(p,m,M,Q,is,Z)}function F0(p,m,M,Q,Z,X){var st=un(p),ft=un(m),bt=st?ni:Ji(p),Rt=ft?ni:Ji(m);bt=bt==Vo?Qt:bt,Rt=Rt==Vo?Qt:Rt;var Ht=bt==Qt,Gt=Rt==Qt,he=bt==Rt;if(he&&uc(p)){if(!uc(m))return!1;st=!0,Ht=!1}if(he&&!Ht)return X||(X=new be),st||au(p)?$l(p,m,M,Q,Z,X):Lp(p,m,bt,M,Q,Z,X);if(!(M&Oe)){var Se=Ht&&Zn.call(p,"__wrapped__"),qe=Gt&&Zn.call(m,"__wrapped__");if(Se||qe){var An=Se?p.value():p,Je=qe?m.value():m;return X||(X=new be),Z(An,Je,M,Q,X)}}return he?(X||(X=new be),Dm(p,m,M,Q,Z,X)):!1}function mp(p){return Xr(p)&&Ji(p)==aa}function Pc(p,m,M,Q){var Z=M.length,X=Z,st=!Q;if(p==null)return!X;for(p=wr(p);Z--;){var ft=M[Z];if(st&&ft[2]?ft[1]!==p[ft[0]]:!(ft[0]in p))return!1}for(;++Z<X;){ft=M[Z];var bt=ft[0],Rt=p[bt],Ht=ft[1];if(st&&ft[2]){if(Rt===J&&!(bt in p))return!1}else{var Gt=new be;if(Q)var he=Q(Rt,Ht,bt,p,m,Gt);if(!(he===J?is(Ht,Rt,Oe|Ne,Q,Gt):he))return!1}}return!0}function Dl(p){if(!zr(p)||H0(p))return!1;var m=fc(p)?El:qh;return m.test(Fn(p))}function k0(p){return Xr(p)&&qi(p)==je}function kd(p){return Xr(p)&&Ji(p)==Te}function Td(p){return Xr(p)&&nh(p.length)&&!!Er[qi(p)]}function Id(p){return typeof p=="function"?p:p==null?xo:typeof p=="object"?un(p)?Yu(p[0],p[1]):Rc(p):S1(p)}function Zu(p){if(!ja(p))return mm(p);var m=[];for(var M in wr(p))Zn.call(p,M)&&M!="constructor"&&m.push(M);return m}function T0(p){if(!zr(p))return ss(p);var m=ja(p),M=[];for(var Q in p)Q=="constructor"&&(m||!Zn.call(p,Q))||M.push(Q);return M}function JA(p,m){return p<m}function Qo(p,m){var M=-1,Q=mo(p)?kt(p.length):[];return ii(p,function(Z,X,st){Q[++M]=m(Z,X,st)}),Q}function Rc(p){var m=uA(p);return m.length==1&&m[0][2]?uo(m[0][0],m[0][1]):function(M){return M===p||Pc(M,p,m)}}function Yu(p,m){return Zd(p)&&Po(m)?uo(Br(p),m):function(M){var Q=ov(M,p);return Q===J&&Q===m?sh(M,p):is(m,Q,Oe|Ne)}}function Hl(p,m,M,Q,Z){p!==m&&Sd(m,function(X,st){if(Z||(Z=new be),zr(X))wp(p,m,st,M,Hl,Q,Z);else{var ft=Q?Q($d(p,st),X,st+"",p,m,Z):J;ft===J&&(ft=X),Ed(p,st,ft)}},Bo)}function wp(p,m,M,Q,Z,X,st){var ft=$d(p,M),bt=$d(m,M),Rt=st.get(bt);if(Rt){Ed(p,M,Rt);return}var Ht=X?X(ft,bt,M+"",p,m,st):J,Gt=Ht===J;if(Gt){var he=un(bt),Se=!he&&uc(bt),qe=!he&&!Se&&au(bt);Ht=bt,he||Se||qe?un(ft)?Ht=ft:gi(ft)?Ht=da(ft):Se?(Gt=!1,Ht=Nd(bt,!0)):qe?(Gt=!1,Ht=Ae(bt,!0)):Ht=[]:ih(bt)||Ds(bt)?(Ht=ft,Ds(ft)?Ht=mx(ft):(!zr(ft)||fc(ft))&&(Ht=D0(bt))):Gt=!1}Gt&&(st.set(bt,Ht),Z(Ht,bt,Q,X,st),st.delete(bt)),Ed(p,M,Ht)}function Ld(p,m){var M=p.length;if(M)return m+=m<0?M:0,Qs(m,M)?p[m]:J}function jl(p,m,M){m.length?m=Pr(m,function(X){return un(X)?function(st){return lA(st,X.length===1?X[0]:X)}:X}):m=[xo];var Q=-1;m=Pr(m,ui(Re()));var Z=Qo(p,function(X,st,ft){var bt=Pr(m,function(Rt){return Rt(X)});return{criteria:bt,index:++Q,value:X}});return ld(Z,function(X,st){return ef(X,st,M)})}function I0(p,m){return bp(p,m,function(M,Q){return sh(p,Q)})}function bp(p,m,M){for(var Q=-1,Z=m.length,X={};++Q<Z;){var st=m[Q],ft=lA(p,st);M(ft,st)&&Gl(X,_n(st,p),ft)}return X}function Bp(p){return function(m){return lA(m,p)}}function Da(p,m,M,Q){var Z=Q?ip:eA,X=-1,st=m.length,ft=p;for(p===m&&(m=da(m)),M&&(ft=Pr(p,ui(M)));++X<st;)for(var bt=0,Rt=m[X],Ht=M?M(Rt):Rt;(bt=Z(ft,Ht,bt,Q))>-1;)ft!==p&&Ss.call(ft,bt,1),Ss.call(p,bt,1);return p}function Sr(p,m){for(var M=p?m.length:0,Q=M-1;M--;){var Z=m[M];if(M==Q||Z!==X){var X=Z;Qs(Z)?Ss.call(p,Z,1):zl(p,Z)}}return p}function Nc(p,m){return p+yd(w0()*(m-p+1))}function $u(p,m,M,Q){for(var Z=-1,X=Gi(Tc((m-p)/(M||1)),0),st=kt(X);X--;)st[Q?X:++Z]=p,p+=M;return st}function Qd(p,m){var M="";if(!p||m<1||m>to)return M;do m%2&&(M+=p),m=yd(m/2),m&&(p+=p);while(m);return M}function on(p,m){return Rr(ff(p,m,xo),p+"")}function L0(p){return Kr(bf(p))}function xp(p,m){var M=bf(p);return Us(M,qA(m,0,M.length))}function Gl(p,m,M,Q){if(!zr(p))return p;m=_n(m,p);for(var Z=-1,X=m.length,st=X-1,ft=p;ft!=null&&++Z<X;){var bt=Br(m[Z]),Rt=M;if(bt==="__proto__"||bt==="constructor"||bt==="prototype")return p;if(Z!=st){var Ht=ft[bt];Rt=Q?Q(Ht,bt,ft):J,Rt===J&&(Rt=zr(Ht)?Ht:Qs(m[Z+1])?[]:{})}Ql(ft,bt,Rt),ft=ft[bt]}return p}var _p=bd?function(p,m){return bd.set(p,m),p}:xo,Xu=Ml?function(p,m){return Ml(p,"toString",{configurable:!0,enumerable:!1,value:fv(m),writable:!0})}:xo;function qu(p){return Us(bf(p))}function so(p,m,M){var Q=-1,Z=p.length;m<0&&(m=-m>Z?0:Z+m),M=M>Z?Z:M,M<0&&(M+=Z),Z=m>M?0:M-m>>>0,m>>>=0;for(var X=kt(Z);++Q<Z;)X[Q]=p[Q+m];return X}function Ju(p,m){var M;return ii(p,function(Q,Z,X){return M=m(Q,Z,X),!M}),!!M}function Kl(p,m,M){var Q=0,Z=p==null?Q:p.length;if(typeof m=="number"&&m===m&&Z<=PA){for(;Q<Z;){var X=Q+Z>>>1,st=p[X];st!==null&&!Do(st)&&(M?st<=m:st<m)?Q=X+1:Z=X}return Z}return ai(p,m,xo,M)}function ai(p,m,M,Q){var Z=0,X=p==null?0:p.length;if(X===0)return 0;m=M(m);for(var st=m!==m,ft=m===null,bt=Do(m),Rt=m===J;Z<X;){var Ht=yd((Z+X)/2),Gt=M(p[Ht]),he=Gt!==J,Se=Gt===null,qe=Gt===Gt,An=Do(Gt);if(st)var Je=Q||qe;else Rt?Je=qe&&(Q||he):ft?Je=qe&&he&&(Q||!Se):bt?Je=qe&&he&&!Se&&(Q||!An):Se||An?Je=!1:Je=Q?Gt<=m:Gt<m;Je?Z=Ht+1:X=Ht}return Ea(X,Zs)}function Dc(p,m){for(var M=-1,Q=p.length,Z=0,X=[];++M<Q;){var st=p[M],ft=m?m(st):st;if(!M||!yo(ft,bt)){var bt=ft;X[Z++]=st===0?0:st}}return X}function Cp(p){return typeof p=="number"?p:Do(p)?Za:+p}function Ha(p){if(typeof p=="string")return p;if(un(p))return Pr(p,Ha)+"";if(Do(p))return Gu?Gu.call(p):"";var m=p+"";return m=="0"&&1/p==-Va?"-0":m}function as(p,m,M){var Q=-1,Z=Ec,X=p.length,st=!0,ft=[],bt=ft;if(M)st=!1,Z=Uu;else if(X>=jn){var Rt=m?null:Ip(p);if(Rt)return rs(Rt);st=!1,Z=rA,bt=new XA}else bt=m?[]:ft;t:for(;++Q<X;){var Ht=p[Q],Gt=m?m(Ht):Ht;if(Ht=M||Ht!==0?Ht:0,st&&Gt===Gt){for(var he=bt.length;he--;)if(bt[he]===Gt)continue t;m&&bt.push(Gt),ft.push(Ht)}else Z(bt,Gt,M)||(bt!==ft&&bt.push(Gt),ft.push(Ht))}return ft}function zl(p,m){m=_n(m,p);var M=-1,Q=m.length;if(!Q)return!0;for(var Z=p==null||typeof p!="object"&&typeof p!="function";++M<Q;){var X=m[M];if(typeof X=="string"){if(X==="__proto__"&&!Zn.call(p,"__proto__"))return!1;if(X==="constructor"&&M+1<Q&&typeof m[M+1]=="string"&&m[M+1]==="prototype"){if(Z&&M===0)continue;return!1}}}var st=rc(p,m);return st==null||delete st[Br(ho(m))]}function Op(p,m,M,Q){return Gl(p,m,M(lA(p,m)),Q)}function Wl(p,m,M,Q){for(var Z=p.length,X=Q?Z:-1;(Q?X--:++X<Z)&&m(p[X],X,p););return M?so(p,Q?0:X,Q?X+1:Z):so(p,Q?X+1:0,Q?Z:X)}function Ep(p,m){var M=p;return M instanceof On&&(M=M.value()),tA(m,function(Q,Z){return Z.func.apply(Z.thisArg,Ra([Q],Z.args))},M)}function Ud(p,m,M){var Q=p.length;if(Q<2)return Q?as(p[0]):[];for(var Z=-1,X=kt(Q);++Z<Q;)for(var st=p[Z],ft=-1;++ft<Q;)ft!=Z&&(X[Z]=ye(X[Z]||st,p[ft],m,M));return as(xi(X,1),m,M)}function Sp(p,m,M){for(var Q=-1,Z=p.length,X=m.length,st={};++Q<Z;){var ft=Q<X?m[Q]:J;M(st,p[Q],ft)}return st}function Pd(p){return gi(p)?p:[]}function Rd(p){return typeof p=="function"?p:xo}function _n(p,m){return un(p)?p:Zd(p,m)?[p]:oi(ar(p))}var Mp=on;function ks(p,m,M){var Q=p.length;return M=M===J?Q:M,!m&&M>=Q?p:so(p,m,M)}var tf=y0||function(p){return Bi.clearTimeout(p)};function Nd(p,m){if(m)return p.slice();var M=p.length,Q=op?op(M):new p.constructor(M);return p.copy(Q),Q}function Hc(p){var m=new p.constructor(p.byteLength);return new vd(m).set(new vd(p)),m}function hi(p,m){var M=m?Hc(p.buffer):p.buffer;return new p.constructor(M,p.byteOffset,p.byteLength)}function Vl(p){var m=new p.constructor(p.source,bl.exec(p));return m.lastIndex=p.lastIndex,m}function Q0(p){return Lc?wr(Lc.call(p)):{}}function Ae(p,m){var M=m?Hc(p.buffer):p.buffer;return new p.constructor(M,p.byteOffset,p.length)}function jc(p,m){if(p!==m){var M=p!==J,Q=p===null,Z=p===p,X=Do(p),st=m!==J,ft=m===null,bt=m===m,Rt=Do(m);if(!ft&&!Rt&&!X&&p>m||X&&st&&bt&&!ft&&!Rt||Q&&st&&bt||!M&&bt||!Z)return 1;if(!Q&&!X&&!Rt&&p<m||Rt&&M&&Z&&!Q&&!X||ft&&M&&Z||!st&&Z||!bt)return-1}return 0}function ef(p,m,M){for(var Q=-1,Z=p.criteria,X=m.criteria,st=Z.length,ft=M.length;++Q<st;){var bt=jc(Z[Q],X[Q]);if(bt){if(Q>=ft)return bt;var Rt=M[Q];return bt*(Rt=="desc"?-1:1)}}return p.index-m.index}function nf(p,m,M,Q){for(var Z=-1,X=p.length,st=M.length,ft=-1,bt=m.length,Rt=Gi(X-st,0),Ht=kt(bt+Rt),Gt=!Q;++ft<bt;)Ht[ft]=m[ft];for(;++Z<st;)(Gt||Z<X)&&(Ht[M[Z]]=p[Z]);for(;Rt--;)Ht[ft++]=p[Z++];return Ht}function Gc(p,m,M,Q){for(var Z=-1,X=p.length,st=-1,ft=M.length,bt=-1,Rt=m.length,Ht=Gi(X-ft,0),Gt=kt(Ht+Rt),he=!Q;++Z<Ht;)Gt[Z]=p[Z];for(var Se=Z;++bt<Rt;)Gt[Se+bt]=m[bt];for(;++st<ft;)(he||Z<X)&&(Gt[Se+M[st]]=p[Z++]);return Gt}function da(p,m){var M=-1,Q=p.length;for(m||(m=kt(Q));++M<Q;)m[M]=p[M];return m}function br(p,m,M,Q){var Z=!M;M||(M={});for(var X=-1,st=m.length;++X<st;){var ft=m[X],bt=Q?Q(M[ft],p[ft],ft,M,p):J;bt===J&&(bt=p[ft]),Z?Fs(M,ft,bt):Ql(M,ft,bt)}return M}function Zl(p,m){return br(p,Vd(p),m)}function Dd(p,m){return br(p,Up(p),m)}function Yl(p,m){return function(M,Q){var Z=un(M)?Js:E0,X=m?m():{};return Z(M,p,Re(Q,2),X)}}function Ts(p){return on(function(m,M){var Q=-1,Z=M.length,X=Z>1?M[Z-1]:J,st=Z>2?M[2]:J;for(X=p.length>3&&typeof X=="function"?(Z--,X):J,st&&_i(M[0],M[1],st)&&(X=Z<3?J:X,Z=1),m=wr(m);++Q<Z;){var ft=M[Q];ft&&p(m,ft,Q,X)}return m})}function Hd(p,m){return function(M,Q){if(M==null)return M;if(!mo(M))return p(M,Q);for(var Z=M.length,X=m?Z:-1,st=wr(M);(m?X--:++X<Z)&&Q(st[X],X,st)!==!1;);return M}}function jd(p){return function(m,M,Q){for(var Z=-1,X=wr(m),st=Q(m),ft=st.length;ft--;){var bt=st[p?ft:++Z];if(M(X[bt],bt,X)===!1)break}return m}}function U0(p,m,M){var Q=m&ke,Z=os(p);function X(){var st=this&&this!==Bi&&this instanceof X?Z:p;return st.apply(Q?M:this,arguments)}return X}function Fp(p){return function(m){m=ar(m);var M=WA(m)?Io(m):J,Q=M?M[0]:m.charAt(0),Z=M?ks(M,1).join(""):m.slice(1);return Q[p]()+Z}}function tc(p){return function(m){return tA(B1(v1(m).replace(Bs,"")),p,"")}}function os(p){return function(){var m=arguments;switch(m.length){case 0:return new p;case 1:return new p(m[0]);case 2:return new p(m[0],m[1]);case 3:return new p(m[0],m[1],m[2]);case 4:return new p(m[0],m[1],m[2],m[3]);case 5:return new p(m[0],m[1],m[2],m[3],m[4]);case 6:return new p(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new p(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var M=Ll(p.prototype),Q=p.apply(M,m);return zr(Q)?Q:M}}function Gd(p,m,M){var Q=os(p);function Z(){for(var X=arguments.length,st=kt(X),ft=X,bt=co(Z);ft--;)st[ft]=arguments[ft];var Rt=X<3&&st[0]!==bt&&st[X-1]!==bt?[]:Hi(st,bt);if(X-=Rt.length,X<M)return Ao(p,m,rf,Z.placeholder,J,st,Rt,J,J,M-X);var Ht=this&&this!==Bi&&this instanceof Z?Q:p;return $a(Ht,this,st)}return Z}function Kc(p){return function(m,M,Q){var Z=wr(m);if(!mo(m)){var X=Re(M,3);m=Wi(m),M=function(ft){return X(Z[ft],ft,Z)}}var st=p(m,M,Q);return st>-1?Z[X?m[st]:st]:J}}function Kd(p){return Is(function(m){var M=m.length,Q=M,Z=oo.prototype.thru;for(p&&m.reverse();Q--;){var X=m[Q];if(typeof X!="function")throw new ro(Jt);if(Z&&!st&&Uo(X)=="wrapper")var st=new oo([],!0)}for(Q=st?Q:M;++Q<M;){X=m[Q];var ft=Uo(X),bt=ft=="wrapper"?$r(X):J;bt&&Yd(bt[0])&&bt[1]==(Yi|Xn|ei|Ui)&&!bt[4].length&&bt[9]==1?st=st[Uo(bt[0])].apply(st,bt[3]):st=X.length==1&&Yd(X)?st[ft]():st.thru(X)}return function(){var Rt=arguments,Ht=Rt[0];if(st&&Rt.length==1&&un(Ht))return st.plant(Ht).value();for(var Gt=0,he=M?m[Gt].apply(this,Rt):Ht;++Gt<M;)he=m[Gt].call(this,he);return he}})}function rf(p,m,M,Q,Z,X,st,ft,bt,Rt){var Ht=m&Yi,Gt=m&ke,he=m&de,Se=m&(Xn|ra),qe=m&ma,An=he?J:os(p);function Je(){for(var In=arguments.length,Rn=kt(In),Fa=In;Fa--;)Rn[Fa]=arguments[Fa];if(Se)var Ei=co(Je),Ka=iA(Rn,Ei);if(Q&&(Rn=nf(Rn,Q,Z,Se)),X&&(Rn=Gc(Rn,X,st,Se)),In-=Ka,Se&&In<Rt){var vi=Hi(Rn,Ei);return Ao(p,m,rf,Je.placeholder,M,Rn,vi,ft,bt,Rt-In)}var ds=Gt?M:this,hs=he?ds[p]:p;return In=Rn.length,ft?Rn=G0(Rn,ft):qe&&In>1&&Rn.reverse(),Ht&&bt<In&&(Rn.length=bt),this&&this!==Bi&&this instanceof Je&&(hs=An||os(hs)),hs.apply(ds,Rn)}return Je}function P0(p,m){return function(M,Q){return vp(M,p,m(Q),{})}}function zd(p,m){return function(M,Q){var Z;if(M===J&&Q===J)return m;if(M!==J&&(Z=M),Q!==J){if(Z===J)return Q;typeof M=="string"||typeof Q=="string"?(M=Ha(M),Q=Ha(Q)):(M=Cp(M),Q=Cp(Q)),Z=p(M,Q)}return Z}}function af(p){return Is(function(m){return m=Pr(m,ui(Re())),on(function(M){var Q=this;return p(m,function(Z){return $a(Z,Q,M)})})})}function ec(p,m){m=m===J?" ":Ha(m);var M=m.length;if(M<2)return M?Qd(m,p):m;var Q=Qd(m,Tc(p/Mc(m)));return WA(m)?ks(Io(Q),0,p).join(""):Q.slice(0,p)}function kp(p,m,M,Q){var Z=m&ke,X=os(p);function st(){for(var ft=-1,bt=arguments.length,Rt=-1,Ht=Q.length,Gt=kt(Ht+bt),he=this&&this!==Bi&&this instanceof st?X:p;++Rt<Ht;)Gt[Rt]=Q[Rt];for(;bt--;)Gt[Rt++]=arguments[++ft];return $a(he,Z?M:this,Gt)}return st}function Tp(p){return function(m,M,Q){return Q&&typeof Q!="number"&&_i(m,M,Q)&&(M=Q=J),m=gA(m),M===J?(M=m,m=0):M=gA(M),Q=Q===J?m<M?1:-1:gA(Q),$u(m,M,Q,p)}}function nc(p){return function(m,M){return typeof m=="string"&&typeof M=="string"||(m=fs(m),M=fs(M)),p(m,M)}}function Ao(p,m,M,Q,Z,X,st,ft,bt,Rt){var Ht=m&Xn,Gt=Ht?st:J,he=Ht?J:st,Se=Ht?X:J,qe=Ht?J:X;m|=Ht?ei:Ia,m&=~(Ht?Ia:ei),m&ci||(m&=~(ke|de));var An=[p,m,Z,Se,Gt,qe,he,ft,bt,Rt],Je=M.apply(J,An);return Yd(p)&&ql(Je,An),Je.placeholder=Q,Np(Je,p,m)}function of(p){var m=ji[p];return function(M,Q){if(M=fs(M),Q=Q==null?0:Ea(bn(Q),292),Q&&Fl(M)){var Z=(ar(M)+"e").split("e"),X=m(Z[0]+"e"+(+Z[1]+Q));return Z=(ar(X)+"e").split("e"),+(Z[0]+"e"+(+Z[1]-Q))}return m(M)}}var Ip=Tl&&1/rs(new Tl([,-0]))[1]==Va?function(p){return new Tl(p)}:gv;function sf(p){return function(m){var M=Ji(m);return M==aa?dd(m):M==Te?VA(m):ns(m,p(m))}}function Ki(p,m,M,Q,Z,X,st,ft){var bt=m&de;if(!bt&&typeof p!="function")throw new ro(Jt);var Rt=Q?Q.length:0;if(Rt||(m&=~(ei|Ia),Q=Z=J),st=st===J?st:Gi(bn(st),0),ft=ft===J?ft:bn(ft),Rt-=Z?Z.length:0,m&Ia){var Ht=Q,Gt=Z;Q=Z=J}var he=bt?J:$r(p),Se=[p,m,M,Q,Z,Ht,Gt,X,st,ft];if(he&&uf(Se,he),p=Se[0],m=Se[1],M=Se[2],Q=Se[3],Z=Se[4],ft=Se[9]=Se[9]===J?bt?0:p.length:Gi(Se[9]-Rt,0),!ft&&m&(Xn|ra)&&(m&=~(Xn|ra)),!m||m==ke)var qe=U0(p,m,M);else m==Xn||m==ra?qe=Gd(p,m,ft):(m==ei||m==(ke|ei))&&!Z.length?qe=kp(p,m,M,Q):qe=rf.apply(J,Se);var An=he?_p:ql;return Np(An(qe,Se),p,m)}function Af(p,m,M,Q){return p===J||yo(p,Fc[M])&&!Zn.call(Q,M)?m:p}function cf(p,m,M,Q,Z,X){return zr(p)&&zr(m)&&(X.set(m,p),Hl(p,m,J,cf,X),X.delete(m)),p}function R0(p){return ih(p)?J:p}function $l(p,m,M,Q,Z,X){var st=M&Oe,ft=p.length,bt=m.length;if(ft!=bt&&!(st&&bt>ft))return!1;var Rt=X.get(p),Ht=X.get(m);if(Rt&&Ht)return Rt==m&&Ht==p;var Gt=-1,he=!0,Se=M&Ne?new XA:J;for(X.set(p,m),X.set(m,p);++Gt<ft;){var qe=p[Gt],An=m[Gt];if(Q)var Je=st?Q(An,qe,Gt,m,p,X):Q(qe,An,Gt,p,m,X);if(Je!==J){if(Je)continue;he=!1;break}if(Se){if(!od(m,function(In,Rn){if(!rA(Se,Rn)&&(qe===In||Z(qe,In,M,Q,X)))return Se.push(Rn)})){he=!1;break}}else if(!(qe===An||Z(qe,An,M,Q,X))){he=!1;break}}return X.delete(p),X.delete(m),he}function Lp(p,m,M,Q,Z,X,st){switch(M){case Yo:if(p.byteLength!=m.byteLength||p.byteOffset!=m.byteOffset)return!1;p=p.buffer,m=m.buffer;case Zo:return!(p.byteLength!=m.byteLength||!X(new vd(p),new vd(m)));case La:case wa:case oa:return yo(+p,+m);case bs:return p.name==m.name&&p.message==m.message;case je:case Ge:return p==m+"";case aa:var ft=dd;case Te:var bt=Q&Oe;if(ft||(ft=rs),p.size!=m.size&&!bt)return!1;var Rt=st.get(p);if(Rt)return Rt==m;Q|=Ne,st.set(p,m);var Ht=$l(ft(p),ft(m),Q,Z,X,st);return st.delete(p),Ht;case eo:if(Lc)return Lc.call(p)==Lc.call(m)}return!1}function Dm(p,m,M,Q,Z,X){var st=M&Oe,ft=Ls(p),bt=ft.length,Rt=Ls(m),Ht=Rt.length;if(bt!=Ht&&!st)return!1;for(var Gt=bt;Gt--;){var he=ft[Gt];if(!(st?he in m:Zn.call(m,he)))return!1}var Se=X.get(p),qe=X.get(m);if(Se&&qe)return Se==m&&qe==p;var An=!0;X.set(p,m),X.set(m,p);for(var Je=st;++Gt<bt;){he=ft[Gt];var In=p[he],Rn=m[he];if(Q)var Fa=st?Q(Rn,In,he,m,p,X):Q(In,Rn,he,p,m,X);if(!(Fa===J?In===Rn||Z(In,Rn,M,Q,X):Fa)){An=!1;break}Je||(Je=he=="constructor")}if(An&&!Je){var Ei=p.constructor,Ka=m.constructor;Ei!=Ka&&"constructor"in p&&"constructor"in m&&!(typeof Ei=="function"&&Ei instanceof Ei&&typeof Ka=="function"&&Ka instanceof Ka)&&(An=!1)}return X.delete(p),X.delete(m),An}function Is(p){return Rr(ff(p,J,df),p+"")}function Ls(p){return pp(p,Wi,Vd)}function Wd(p){return pp(p,Bo,Up)}var $r=bd?function(p){return bd.get(p)}:gv;function Uo(p){for(var m=p.name+"",M=Il[m],Q=Zn.call(Il,m)?M.length:0;Q--;){var Z=M[Q],X=Z.func;if(X==null||X==p)return Z.name}return m}function co(p){var m=Zn.call(tt,"placeholder")?tt:p;return m.placeholder}function Re(){var p=tt.iteratee||hv;return p=p===hv?Id:p,arguments.length?p(arguments[0],arguments[1]):p}function lo(p,m){var M=p.__data__;return jm(m)?M[typeof m=="string"?"string":"hash"]:M.map}function uA(p){for(var m=Wi(p),M=m.length;M--;){var Q=m[M],Z=p[Q];m[M]=[Q,Z,Po(Z)]}return m}function Ma(p,m){var M=c0(p,m);return Dl(M)?M:J}function Qp(p){var m=Zn.call(p,Ms),M=p[Ms];try{p[Ms]=J;var Q=!0}catch(X){}var Z=YA.call(p);return Q&&(m?p[Ms]=M:delete p[Ms]),Z}var Vd=sp?function(p){return p==null?[]:(p=wr(p),Os(sp(p),function(m){return v0.call(p,m)}))}:sg,Up=sp?function(p){for(var m=[];p;)Ra(m,Vd(p)),p=$A(p);return m}:sg,Ji=qi;(wd&&Ji(new wd(new ArrayBuffer(1)))!=Yo||kl&&Ji(new kl)!=aa||Ap&&Ji(Ap.resolve())!=Pt||Tl&&Ji(new Tl)!=Te||Hu&&Ji(new Hu)!=Mn)&&(Ji=function(p){var m=qi(p),M=m==Qt?p.constructor:J,Q=M?Fn(M):"";if(Q)switch(Q){case Bd:return Yo;case Bm:return aa;case xm:return Pt;case b0:return Te;case _m:return Mn}return m});function fA(p,m,M){for(var Q=-1,Z=M.length;++Q<Z;){var X=M[Q],st=X.size;switch(X.type){case"drop":p+=st;break;case"dropRight":m-=st;break;case"take":m=Ea(m,p+st);break;case"takeRight":p=Gi(p,m-st);break}}return{start:p,end:m}}function N0(p){var m=p.match(NA);return m?m[1].split(DA):[]}function Pp(p,m,M){m=_n(m,p);for(var Q=-1,Z=m.length,X=!1;++Q<Z;){var st=Br(m[Q]);if(!(X=p!=null&&M(p,st)))break;p=p[st]}return X||++Q!=Z?X:(Z=p==null?0:p.length,!!Z&&nh(Z)&&Qs(st,Z)&&(un(p)||Ds(p)))}function lf(p){var m=p.length,M=new p.constructor(m);return m&&typeof p[0]=="string"&&Zn.call(p,"index")&&(M.index=p.index,M.input=p.input),M}function D0(p){return typeof p.constructor=="function"&&!ja(p)?Ll($A(p)):{}}function Hm(p,m,M){var Q=p.constructor;switch(m){case Zo:return Hc(p);case La:case wa:return new Q(+p);case Yo:return hi(p,M);case $o:case sa:case Cr:case To:case Xo:case _c:case Aa:case Ue:case Pi:return Ae(p,M);case aa:return new Q;case oa:case Ge:return new Q(p);case je:return Vl(p);case Te:return new Q;case eo:return Q0(p)}}function Xl(p,m){var M=m.length;if(!M)return p;var Q=M-1;return m[Q]=(M>1?"& ":"")+m[Q],m=m.join(M>2?", ":" "),p.replace(Iu,`{
/* [wrapped with `+m+`] */
`)}function Rp(p){return un(p)||Ds(p)||!!(Sl&&p&&p[Sl])}function Qs(p,m){var M=typeof p;return m=m==null?to:m,!!m&&(M=="number"||M!="symbol"&&la.test(p))&&p>-1&&p%1==0&&p<m}function _i(p,m,M){if(!zr(M))return!1;var Q=typeof m;return(Q=="number"?mo(M)&&Qs(m,M.length):Q=="string"&&m in M)?yo(M[m],p):!1}function Zd(p,m){if(un(p))return!1;var M=typeof p;return M=="number"||M=="symbol"||M=="boolean"||p==null||Do(p)?!0:Jf.test(p)||!qf.test(p)||m!=null&&p in wr(m)}function jm(p){var m=typeof p;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?p!=="__proto__":p===null}function Yd(p){var m=Uo(p),M=tt[m];if(typeof M!="function"||!(m in On.prototype))return!1;if(p===M)return!0;var Q=$r(M);return!!Q&&p===Q[0]}function H0(p){return!!h0&&h0 in p}var ha=ao?fc:yv;function ja(p){var m=p&&p.constructor,M=typeof m=="function"&&m.prototype||Fc;return p===M}function Po(p){return p===p&&!zr(p)}function uo(p,m){return function(M){return M==null?!1:M[p]===m&&(m!==J||p in wr(M))}}function St(p){var m=xr(p,function(Q){return M.size===Ot&&M.clear(),Q}),M=m.cache;return m}function uf(p,m){var M=p[1],Q=m[1],Z=M|Q,X=Z<(ke|de|Yi),st=Q==Yi&&M==Xn||Q==Yi&&M==Ui&&p[7].length<=m[8]||Q==(Yi|Ui)&&m[7].length<=m[8]&&M==Xn;if(!(X||st))return p;Q&ke&&(p[2]=m[2],Z|=M&ke?0:ci);var ft=m[3];if(ft){var bt=p[3];p[3]=bt?nf(bt,ft,m[4]):ft,p[4]=bt?Hi(p[3],we):m[4]}return ft=m[5],ft&&(bt=p[5],p[5]=bt?Gc(bt,ft,m[6]):ft,p[6]=bt?Hi(p[5],we):m[6]),ft=m[7],ft&&(p[7]=ft),Q&Yi&&(p[8]=p[8]==null?m[8]:Ea(p[8],m[8])),p[9]==null&&(p[9]=m[9]),p[0]=m[0],p[1]=Z,p}function ss(p){var m=[];if(p!=null)for(var M in wr(p))m.push(M);return m}function j0(p){return YA.call(p)}function ff(p,m,M){return m=Gi(m===J?p.length-1:m,0),function(){for(var Q=arguments,Z=-1,X=Gi(Q.length-m,0),st=kt(X);++Z<X;)st[Z]=Q[m+Z];Z=-1;for(var ft=kt(m+1);++Z<m;)ft[Z]=Q[Z];return ft[m]=M(st),$a(p,this,ft)}}function rc(p,m){return m.length<2?p:lA(p,so(m,0,-1))}function G0(p,m){for(var M=p.length,Q=Ea(m.length,M),Z=da(p);Q--;){var X=m[Q];p[Q]=Qs(X,M)?Z[X]:J}return p}function $d(p,m){if(!(m==="constructor"&&typeof p[m]=="function")&&m!="__proto__")return p[m]}var ql=oe(_p),ic=vm||function(p,m){return Bi.setTimeout(p,m)},Rr=oe(Xu);function Np(p,m,M){var Q=m+"";return Rr(p,Xl(Q,kn(N0(Q),M)))}function oe(p){var m=0,M=0;return function(){var Q=wm(),Z=Wo-(Q-M);if(M=Q,Z>0){if(++m>=pt)return arguments[0]}else m=0;return p.apply(J,arguments)}}function Us(p,m){var M=-1,Q=p.length,Z=Q-1;for(m=m===J?Q:m;++M<m;){var X=Nc(M,Z),st=p[X];p[X]=p[M],p[M]=st}return p.length=m,p}var oi=St(function(p){var m=[];return p.charCodeAt(0)===46&&m.push(""),p.replace(td,function(M,Q,Z,X){m.push(Z?X.replace(Oc,"$1"):Q||M)}),m});function Br(p){if(typeof p=="string"||Do(p))return p;var m=p+"";return m=="0"&&1/p==-Va?"-0":m}function Fn(p){if(p!=null){try{return Du.call(p)}catch(m){}try{return p+""}catch(m){}}return""}function kn(p,m){return Ni(ws,function(M){var Q="_."+M[0];m&M[1]&&!Ec(p,Q)&&p.push(Q)}),p.sort()}function Mr(p){if(p instanceof On)return p.clone();var m=new oo(p.__wrapped__,p.__chain__);return m.__actions__=da(p.__actions__),m.__index__=p.__index__,m.__values__=p.__values__,m}function Ps(p,m,M){(M?_i(p,m,M):m===J)?m=1:m=Gi(bn(m),0);var Q=p==null?0:p.length;if(!Q||m<1)return[];for(var Z=0,X=0,st=kt(Tc(Q/m));Z<Q;)st[X++]=so(p,Z,Z+=m);return st}function Xd(p){for(var m=-1,M=p==null?0:p.length,Q=0,Z=[];++m<M;){var X=p[m];X&&(Z[Q++]=X)}return Z}function zi(){var p=arguments.length;if(!p)return[];for(var m=kt(p-1),M=arguments[0],Q=p;Q--;)m[Q-1]=arguments[Q];return Ra(un(M)?da(M):[M],xi(m,1))}var K0=on(function(p,m){return gi(p)?ye(p,xi(m,1,gi,!0)):[]}),Qn=on(function(p,m){var M=ho(m);return gi(M)&&(M=J),gi(p)?ye(p,xi(m,1,gi,!0),Re(M,2)):[]}),z0=on(function(p,m){var M=ho(m);return gi(M)&&(M=J),gi(p)?ye(p,xi(m,1,gi,!0),J,M):[]});function fo(p,m,M){var Q=p==null?0:p.length;return Q?(m=M||m===J?1:bn(m),so(p,m<0?0:m,Q)):[]}function Dp(p,m,M){var Q=p==null?0:p.length;return Q?(m=M||m===J?1:bn(m),m=Q-m,so(p,0,m<0?0:m)):[]}function Gm(p,m){return p&&p.length?Wl(p,Re(m,3),!0,!0):[]}function W0(p,m){return p&&p.length?Wl(p,Re(m,3),!0):[]}function V0(p,m,M,Q){var Z=p==null?0:p.length;return Z?(M&&typeof M!="number"&&_i(p,m,M)&&(M=0,Q=Z),zu(p,m,M,Q)):[]}function zc(p,m,M){var Q=p==null?0:p.length;if(!Q)return-1;var Z=M==null?0:bn(M);return Z<0&&(Z=Gi(Q+Z,0)),_l(p,Re(m,3),Z)}function qd(p,m,M){var Q=p==null?0:p.length;if(!Q)return-1;var Z=Q-1;return M!==J&&(Z=bn(M),Z=M<0?Gi(Q+Z,0):Ea(Z,Q-1)),_l(p,Re(m,3),Z,!0)}function df(p){var m=p==null?0:p.length;return m?xi(p,1):[]}function hf(p){var m=p==null?0:p.length;return m?xi(p,Va):[]}function Z0(p,m){var M=p==null?0:p.length;return M?(m=m===J?1:bn(m),xi(p,m)):[]}function Hp(p){for(var m=-1,M=p==null?0:p.length,Q={};++m<M;){var Z=p[m];Q[Z[0]]=Z[1]}return Q}function Jd(p){return p&&p.length?p[0]:J}function As(p,m,M){var Q=p==null?0:p.length;if(!Q)return-1;var Z=M==null?0:bn(M);return Z<0&&(Z=Gi(Q+Z,0)),eA(p,m,Z)}function Ro(p){var m=p==null?0:p.length;return m?so(p,0,-1):[]}var dA=on(function(p){var m=Pr(p,Pd);return m.length&&m[0]===p[0]?Vu(m):[]}),Le=on(function(p){var m=ho(p),M=Pr(p,Pd);return m===ho(M)?m=J:M.pop(),M.length&&M[0]===p[0]?Vu(M,Re(m,2)):[]}),th=on(function(p){var m=ho(p),M=Pr(p,Pd);return m=typeof m=="function"?m:J,m&&M.pop(),M.length&&M[0]===p[0]?Vu(M,J,m):[]});function pf(p,m){return p==null?"":md.call(p,m)}function ho(p){var m=p==null?0:p.length;return m?p[m-1]:J}function Y0(p,m,M){var Q=p==null?0:p.length;if(!Q)return-1;var Z=Q;return M!==J&&(Z=bn(M),Z=Z<0?Gi(Q+Z,0):Ea(Z,Q-1)),m===m?ZA(p,m,Z):_l(p,Ad,Z,!0)}function Jl(p,m){return p&&p.length?Ld(p,bn(m)):J}var Un=on(ac);function ac(p,m){return p&&p.length&&m&&m.length?Da(p,m):p}function po(p,m,M){return p&&p.length&&m&&m.length?Da(p,m,Re(M,2)):p}function oc(p,m,M){return p&&p.length&&m&&m.length?Da(p,m,J,M):p}var jp=Is(function(p,m){var M=p==null?0:p.length,Q=Pl(p,m);return Sr(p,Pr(m,function(Z){return Qs(Z,M)?+Z:Z}).sort(jc)),Q});function Gp(p,m){var M=[];if(!(p&&p.length))return M;var Q=-1,Z=[],X=p.length;for(m=Re(m,3);++Q<X;){var st=p[Q];m(st,Q,p)&&(M.push(st),Z.push(Q))}return Sr(p,Z),M}function gf(p){return p==null?p:bm.call(p)}function vf(p,m,M){var Q=p==null?0:p.length;return Q?(M&&typeof M!="number"&&_i(p,m,M)?(m=0,M=Q):(m=m==null?0:bn(m),M=M===J?Q:bn(M)),so(p,m,M)):[]}function Kp(p,m){return Kl(p,m)}function tu(p,m,M){return ai(p,m,Re(M,2))}function $0(p,m){var M=p==null?0:p.length;if(M){var Q=Kl(p,m);if(Q<M&&yo(p[Q],m))return Q}return-1}function zp(p,m){return Kl(p,m,!0)}function X0(p,m,M){return ai(p,m,Re(M,2),!0)}function Wp(p,m){var M=p==null?0:p.length;if(M){var Q=Kl(p,m,!0)-1;if(yo(p[Q],m))return Q}return-1}function Yt(p){return p&&p.length?Dc(p):[]}function eh(p,m){return p&&p.length?Dc(p,Re(m,2)):[]}function Vp(p){var m=p==null?0:p.length;return m?so(p,1,m):[]}function eu(p,m,M){return p&&p.length?(m=M||m===J?1:bn(m),so(p,0,m<0?0:m)):[]}function nu(p,m,M){var Q=p==null?0:p.length;return Q?(m=M||m===J?1:bn(m),m=Q-m,so(p,m<0?0:m,Q)):[]}function yf(p,m){return p&&p.length?Wl(p,Re(m,3),!1,!0):[]}function Wc(p,m){return p&&p.length?Wl(p,Re(m,3)):[]}var ru=on(function(p){return as(xi(p,1,gi,!0))}),cs=on(function(p){var m=ho(p);return gi(m)&&(m=J),as(xi(p,1,gi,!0),Re(m,2))}),_=on(function(p){var m=ho(p);return m=typeof m=="function"?m:J,as(xi(p,1,gi,!0),J,m)});function x(p){return p&&p.length?as(p):[]}function O(p,m){return p&&p.length?as(p,Re(m,2)):[]}function C(p,m){return m=typeof m=="function"?m:J,p&&p.length?as(p,J,m):[]}function I(p){if(!(p&&p.length))return[];var m=0;return p=Os(p,function(M){if(gi(M))return m=Gi(M.length,m),!0}),nA(m,function(M){return Pr(p,Es(M))})}function H(p,m){if(!(p&&p.length))return[];var M=I(p);return m==null?M:Pr(M,function(Q){return $a(m,J,Q)})}var $=on(function(p,m){return gi(p)?ye(p,m):[]}),rt=on(function(p){return Ud(Os(p,gi))}),nt=on(function(p){var m=ho(p);return gi(m)&&(m=J),Ud(Os(p,gi),Re(m,2))}),dt=on(function(p){var m=ho(p);return m=typeof m=="function"?m:J,Ud(Os(p,gi),J,m)}),yt=on(I);function xt(p,m){return Sp(p||[],m||[],Ql)}function It(p,m){return Sp(p||[],m||[],Gl)}var ge=on(function(p){var m=p.length,M=m>1?p[m-1]:J;return M=typeof M=="function"?(p.pop(),M):J,H(p,M)});function $t(p){var m=tt(p);return m.__chain__=!0,m}function ue(p,m){return m(p),p}function sn(p,m){return m(p)}var fe=Is(function(p){var m=p.length,M=m?p[0]:0,Q=this.__wrapped__,Z=function(X){return Pl(X,p)};return m>1||this.__actions__.length||!(Q instanceof On)||!Qs(M)?this.thru(Z):(Q=Q.slice(M,+M+(m?1:0)),Q.__actions__.push({func:sn,args:[Z],thisArg:J}),new oo(Q,this.__chain__).thru(function(X){return m&&!X.length&&X.push(J),X}))});function Ee(){return $t(this)}function Dn(){return new oo(this.value(),this.__chain__)}function dn(){this.__values__===J&&(this.__values__=e1(this.value()));var p=this.__index__>=this.__values__.length,m=p?J:this.__values__[this.__index__++];return{done:p,value:m}}function Xe(){return this}function ce(p){for(var m,M=this;M instanceof _d;){var Q=Mr(M);Q.__index__=0,Q.__values__=J,m?Z.__wrapped__=Q:m=Q;var Z=Q;M=M.__wrapped__}return Z.__wrapped__=p,m}function yn(){var p=this.__wrapped__;if(p instanceof On){var m=p;return this.__actions__.length&&(m=new On(this)),m=m.reverse(),m.__actions__.push({func:sn,args:[gf],thisArg:J}),new oo(m,this.__chain__)}return this.thru(gf)}function Tn(){return Ep(this.__wrapped__,this.__actions__)}var en=Yl(function(p,m,M){Zn.call(p,M)?++p[M]:Fs(p,M,1)});function pi(p,m,M){var Q=un(p)?ad:dp;return M&&_i(p,m,M)&&(m=J),Q(p,Re(m,3))}function Nr(p,m){var M=un(p)?Os:hp;return M(p,Re(m,3))}var Ga=Kc(zc),zn=Kc(qd);function Ci(p,m){return xi(vo(p,m),1)}function ir(p,m){return xi(vo(p,m),Va)}function Kt(p,m,M){return M=M===J?1:bn(M),xi(vo(p,m),M)}function Fr(p,m){var M=un(p)?Ni:ii;return M(p,Re(m,3))}function hA(p,m){var M=un(p)?np:fp;return M(p,Re(m,3))}var ls=Yl(function(p,m,M){Zn.call(p,M)?p[M].push(m):Fs(p,M,[m])});function pA(p,m,M,Q){p=mo(p)?p:bf(p),M=M&&!Q?bn(M):0;var Z=p.length;return M<0&&(M=Gi(Z+M,0)),ah(p)?M<=Z&&p.indexOf(m,M)>-1:!!Z&&eA(p,m,M)>-1}var go=on(function(p,m,M){var Q=-1,Z=typeof m=="function",X=mo(p)?kt(p.length):[];return ii(p,function(st){X[++Q]=Z?$a(m,st,M):Uc(st,m,M)}),X}),sc=Yl(function(p,m,M){Fs(p,M,m)});function vo(p,m){var M=un(p)?Pr:Qo;return M(p,Re(m,3))}function Ac(p,m,M,Q){return p==null?[]:(un(m)||(m=m==null?[]:[m]),M=Q?J:M,un(M)||(M=M==null?[]:[M]),jl(p,m,M))}var Rs=Yl(function(p,m,M){p[M?0:1].push(m)},function(){return[[],[]]});function cc(p,m,M){var Q=un(p)?tA:cd,Z=arguments.length<3;return Q(p,Re(m,4),M,Z,ii)}function lc(p,m,M){var Q=un(p)?Pu:cd,Z=arguments.length<3;return Q(p,Re(m,4),M,Z,fp)}function Zp(p,m){var M=un(p)?Os:hp;return M(p,Jp(Re(m,3)))}function ZB(p){var m=un(p)?Kr:L0;return m(p)}function Vc(p,m,M){(M?_i(p,m,M):m===J)?m=1:m=bn(m);var Q=un(p)?C0:xp;return Q(p,m)}function Yp(p){var m=un(p)?O0:qu;return m(p)}function us(p){if(p==null)return 0;if(mo(p))return ah(p)?Mc(p):p.length;var m=Ji(p);return m==aa||m==Te?p.size:Zu(p).length}function YB(p,m,M){var Q=un(p)?od:Ju;return M&&_i(p,m,M)&&(m=J),Q(p,Re(m,3))}var q0=on(function(p,m){if(p==null)return[];var M=m.length;return M>1&&_i(p,m[0],m[1])?m=[]:M>2&&_i(m[0],m[1],m[2])&&(m=[m[0]]),jl(p,xi(m,1),[])}),Yn=m0||function(){return Bi.Date.now()};function Ns(p,m){if(typeof m!="function")throw new ro(Jt);return p=bn(p),function(){if(--p<1)return m.apply(this,arguments)}}function Zc(p,m,M){return m=M?J:m,m=p&&m==null?p.length:m,Ki(p,Yi,J,J,J,J,m)}function $p(p,m){var M;if(typeof m!="function")throw new ro(Jt);return p=bn(p),function(){return--p>0&&(M=m.apply(this,arguments)),p<=1&&(m=J),M}}var Xp=on(function(p,m,M){var Q=ke;if(M.length){var Z=Hi(M,co(Xp));Q|=ei}return Ki(p,Q,m,M,Z)}),Km=on(function(p,m,M){var Q=ke|de;if(M.length){var Z=Hi(M,co(Km));Q|=ei}return Ki(m,Q,p,M,Z)});function zm(p,m,M){m=M?J:m;var Q=Ki(p,Xn,J,J,J,J,J,m);return Q.placeholder=zm.placeholder,Q}function qp(p,m,M){m=M?J:m;var Q=Ki(p,ra,J,J,J,J,J,m);return Q.placeholder=qp.placeholder,Q}function Wm(p,m,M){var Q,Z,X,st,ft,bt,Rt=0,Ht=!1,Gt=!1,he=!0;if(typeof p!="function")throw new ro(Jt);m=fs(m)||0,zr(M)&&(Ht=!!M.leading,Gt="maxWait"in M,X=Gt?Gi(fs(M.maxWait)||0,m):X,he="trailing"in M?!!M.trailing:he);function Se(vi){var ds=Q,hs=Z;return Q=Z=J,Rt=vi,st=p.apply(hs,ds),st}function qe(vi){return Rt=vi,ft=ic(In,m),Ht?Se(vi):st}function An(vi){var ds=vi-bt,hs=vi-Rt,T1=m-ds;return Gt?Ea(T1,X-hs):T1}function Je(vi){var ds=vi-bt,hs=vi-Rt;return bt===J||ds>=m||ds<0||Gt&&hs>=X}function In(){var vi=Yn();if(Je(vi))return Rn(vi);ft=ic(In,An(vi))}function Rn(vi){return ft=J,he&&Q?Se(vi):(Q=Z=J,st)}function Fa(){ft!==J&&tf(ft),Rt=0,Q=bt=Z=ft=J}function Ei(){return ft===J?st:Rn(Yn())}function Ka(){var vi=Yn(),ds=Je(vi);if(Q=arguments,Z=this,bt=vi,ds){if(ft===J)return qe(bt);if(Gt)return tf(ft),ft=ic(In,m),Se(bt)}return ft===J&&(ft=ic(In,m)),st}return Ka.cancel=Fa,Ka.flush=Ei,Ka}var Vm=on(function(p,m){return up(p,1,m)}),Zm=on(function(p,m,M){return up(p,fs(m)||0,M)});function $B(p){return Ki(p,ma)}function xr(p,m){if(typeof p!="function"||m!=null&&typeof m!="function")throw new ro(Jt);var M=function(){var Q=arguments,Z=m?m.apply(this,Q):Q[0],X=M.cache;if(X.has(Z))return X.get(Z);var st=p.apply(this,Q);return M.cache=X.set(Z,st)||X,st};return M.cache=new(xr.Cache||sA),M}xr.Cache=sA;function Jp(p){if(typeof p!="function")throw new ro(Jt);return function(){var m=arguments;switch(m.length){case 0:return!p.call(this);case 1:return!p.call(this,m[0]);case 2:return!p.call(this,m[0],m[1]);case 3:return!p.call(this,m[0],m[1],m[2])}return!p.apply(this,m)}}function XB(p){return $p(2,p)}var qB=Mp(function(p,m){m=m.length==1&&un(m[0])?Pr(m[0],ui(Re())):Pr(xi(m,1),ui(Re()));var M=m.length;return on(function(Q){for(var Z=-1,X=Ea(Q.length,M);++Z<X;)Q[Z]=m[Z].call(this,Q[Z]);return $a(p,this,Q)})}),J0=on(function(p,m){var M=Hi(m,co(J0));return Ki(p,ei,J,m,M)}),Ym=on(function(p,m){var M=Hi(m,co(Ym));return Ki(p,Ia,J,m,M)}),JB=Is(function(p,m){return Ki(p,Ui,J,J,J,m)});function tx(p,m){if(typeof p!="function")throw new ro(Jt);return m=m===J?m:bn(m),on(p,m)}function $m(p,m){if(typeof p!="function")throw new ro(Jt);return m=m==null?0:Gi(bn(m),0),on(function(M){var Q=M[m],Z=ks(M,0,m);return Q&&Ra(Z,Q),$a(p,this,Z)})}function ex(p,m,M){var Q=!0,Z=!0;if(typeof p!="function")throw new ro(Jt);return zr(M)&&(Q="leading"in M?!!M.leading:Q,Z="trailing"in M?!!M.trailing:Z),Wm(p,m,{leading:Q,maxWait:m,trailing:Z})}function nx(p){return Zc(p,1)}function rx(p,m){return J0(Rd(m),p)}function ix(){if(!arguments.length)return[];var p=arguments[0];return un(p)?p:[p]}function ax(p){return di(p,gn)}function ox(p,m){return m=typeof m=="function"?m:J,di(p,gn,m)}function sx(p){return di(p,re|gn)}function zS(p,m){return m=typeof m=="function"?m:J,di(p,re|gn,m)}function iu(p,m){return m==null||lp(p,m,Wi(m))}function yo(p,m){return p===m||p!==p&&m!==m}var Yc=nc(Md),Ax=nc(function(p,m){return p>=m}),Ds=Fd(function(){return arguments}())?Fd:function(p){return Xr(p)&&Zn.call(p,"callee")&&!v0.call(p,"callee")},un=kt.isArray,cx=Ur?ui(Ur):yp;function mo(p){return p!=null&&nh(p.length)&&!fc(p)}function gi(p){return Xr(p)&&mo(p)}function tv(p){return p===!0||p===!1||Xr(p)&&qi(p)==La}var uc=ym||yv,lx=es?ui(es):M0;function ux(p){return Xr(p)&&p.nodeType===1&&!ih(p)}function wo(p){if(p==null)return!0;if(mo(p)&&(un(p)||typeof p=="string"||typeof p.splice=="function"||uc(p)||au(p)||Ds(p)))return!p.length;var m=Ji(p);if(m==aa||m==Te)return!p.size;if(ja(p))return!Zu(p).length;for(var M in p)if(Zn.call(p,M))return!1;return!0}function Xm(p,m){return is(p,m)}function No(p,m,M){M=typeof M=="function"?M:J;var Q=M?M(p,m):J;return Q===J?is(p,m,J,M):!!Q}function ev(p){if(!Xr(p))return!1;var m=qi(p);return m==bs||m==xc||typeof p.message=="string"&&typeof p.name=="string"&&!ih(p)}function fx(p){return typeof p=="number"&&Fl(p)}function fc(p){if(!zr(p))return!1;var m=qi(p);return m==Qa||m==Mu||m==bi||m==tn}function nv(p){return typeof p=="number"&&p==bn(p)}function nh(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=to}function zr(p){var m=typeof p;return p!=null&&(m=="object"||m=="function")}function Xr(p){return p!=null&&typeof p=="object"}var tg=Bl?ui(Bl):mp;function qm(p,m){return p===m||Pc(p,m,uA(m))}function rv(p,m,M){return M=typeof M=="function"?M:J,Pc(p,m,uA(m),M)}function dx(p){return rh(p)&&p!=+p}function hx(p){if(ha(p))throw new Ve(Ye);return Dl(p)}function px(p){return p===null}function gx(p){return p==null}function rh(p){return typeof p=="number"||Xr(p)&&qi(p)==oa}function ih(p){if(!Xr(p)||qi(p)!=Qt)return!1;var m=$A(p);if(m===null)return!0;var M=Zn.call(m,"constructor")&&m.constructor;return typeof M=="function"&&M instanceof M&&Du.call(M)==p0}var mf=ep?ui(ep):k0;function Jm(p){return nv(p)&&p>=-to&&p<=to}var iv=rd?ui(rd):kd;function ah(p){return typeof p=="string"||!un(p)&&Xr(p)&&qi(p)==Ge}function Do(p){return typeof p=="symbol"||Xr(p)&&qi(p)==eo}var au=id?ui(id):Td;function eg(p){return p===J}function av(p){return Xr(p)&&Ji(p)==Mn}function t1(p){return Xr(p)&&qi(p)==er}var vx=nc(JA),yx=nc(function(p,m){return p<=m});function e1(p){if(!p)return[];if(mo(p))return ah(p)?Io(p):da(p);if(kc&&p[kc])return fd(p[kc]());var m=Ji(p),M=m==aa?dd:m==Te?rs:bf;return M(p)}function gA(p){if(!p)return p===0?p:0;if(p=fs(p),p===Va||p===-Va){var m=p<0?-1:1;return m*yl}return p===p?p:0}function bn(p){var m=gA(p),M=m%1;return m===m?M?m-M:m:0}function n1(p){return p?qA(bn(p),0,ia):0}function fs(p){if(typeof p=="number")return p;if(Do(p))return Za;if(zr(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=zr(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=ud(p);var M=Xh.test(p);return M||Or.test(p)?GA(p.slice(2),M?2:8):ed.test(p)?Za:+p}function mx(p){return br(p,Bo(p))}function r1(p){return p?qA(bn(p),-to,to):p===0?p:0}function ar(p){return p==null?"":Ha(p)}var i1=Ts(function(p,m){if(ja(m)||mo(m)){br(m,Wi(m),p);return}for(var M in m)Zn.call(m,M)&&Ql(p,M,m[M])}),a1=Ts(function(p,m){br(m,Bo(m),p)}),ng=Ts(function(p,m,M,Q){br(m,Bo(m),p,Q)}),wx=Ts(function(p,m,M,Q){br(m,Wi(m),p,Q)}),si=Is(Pl);function wf(p,m){var M=Ll(p);return m==null?M:cp(M,m)}var bo=on(function(p,m){p=wr(p);var M=-1,Q=m.length,Z=Q>2?m[2]:J;for(Z&&_i(m[0],m[1],Z)&&(Q=1);++M<Q;)for(var X=m[M],st=Bo(X),ft=-1,bt=st.length;++ft<bt;){var Rt=st[ft],Ht=p[Rt];(Ht===J||yo(Ht,Fc[Rt])&&!Zn.call(p,Rt))&&(p[Rt]=X[Rt])}return p}),ou=on(function(p){return p.push(J,cf),$a(rg,J,p)});function oh(p,m){return rp(p,Re(m,3),Sa)}function o1(p,m){return rp(p,Re(m,3),Rl)}function s1(p,m){return p==null?p:Sd(p,Re(m,3),Bo)}function bx(p,m){return p==null?p:cA(p,Re(m,3),Bo)}function Bx(p,m){return p&&Sa(p,Re(m,3))}function xx(p,m){return p&&Rl(p,Re(m,3))}function _x(p){return p==null?[]:Wu(p,Wi(p))}function A1(p){return p==null?[]:Wu(p,Bo(p))}function ov(p,m,M){var Q=p==null?J:lA(p,m);return Q===J?M:Q}function Cx(p,m){return p!=null&&Pp(p,m,Nm)}function sh(p,m){return p!=null&&Pp(p,m,Nl)}var Ox=P0(function(p,m,M){m!=null&&typeof m.toString!="function"&&(m=YA.call(m)),p[m]=M},fv(xo)),Ex=P0(function(p,m,M){m!=null&&typeof m.toString!="function"&&(m=YA.call(m)),Zn.call(p,m)?p[m].push(M):p[m]=[M]},Re),sv=on(Uc);function Wi(p){return mo(p)?Tt(p):Zu(p)}function Bo(p){return mo(p)?Tt(p,!0):T0(p)}function Sx(p,m){var M={};return m=Re(m,3),Sa(p,function(Q,Z,X){Fs(M,m(Q,Z,X),Q)}),M}function Mx(p,m){var M={};return m=Re(m,3),Sa(p,function(Q,Z,X){Fs(M,Z,m(Q,Z,X))}),M}var c1=Ts(function(p,m,M){Hl(p,m,M)}),rg=Ts(function(p,m,M,Q){Hl(p,m,M,Q)}),Fx=Is(function(p,m){var M={};if(p==null)return M;var Q=!1;m=Pr(m,function(X){return X=_n(X,p),Q||(Q=X.length>1),X}),br(p,Wd(p),M),Q&&(M=di(M,re|xe|gn,R0));for(var Z=m.length;Z--;)zl(M,m[Z]);return M});function l1(p,m){return u1(p,Jp(Re(m)))}var kx=Is(function(p,m){return p==null?{}:I0(p,m)});function u1(p,m){if(p==null)return{};var M=Pr(Wd(p),function(Q){return[Q]});return m=Re(m),bp(p,M,function(Q,Z){return m(Q,Z[0])})}function f1(p,m,M){m=_n(m,p);var Q=-1,Z=m.length;for(Z||(Z=1,p=J);++Q<Z;){var X=p==null?J:p[Br(m[Q])];X===J&&(Q=Z,X=M),p=fc(X)?X.call(p):X}return p}function Tx(p,m,M){return p==null?p:Gl(p,m,M)}function Ix(p,m,M,Q){return Q=typeof Q=="function"?Q:J,p==null?p:Gl(p,m,M,Q)}var d1=sf(Wi),h1=sf(Bo);function p1(p,m,M){var Q=un(p),Z=Q||uc(p)||au(p);if(m=Re(m,4),M==null){var X=p&&p.constructor;Z?M=Q?new X:[]:zr(p)?M=fc(X)?Ll($A(p)):{}:M={}}return(Z?Ni:Sa)(p,function(st,ft,bt){return m(M,st,ft,bt)}),M}function Av(p,m){return p==null?!0:zl(p,m)}function Lx(p,m,M){return p==null?p:Op(p,m,Rd(M))}function Qx(p,m,M,Q){return Q=typeof Q=="function"?Q:J,p==null?p:Op(p,m,Rd(M),Q)}function bf(p){return p==null?[]:Yr(p,Wi(p))}function Ux(p){return p==null?[]:Yr(p,Bo(p))}function Px(p,m,M){return M===J&&(M=m,m=J),M!==J&&(M=fs(M),M=M===M?M:0),m!==J&&(m=fs(m),m=m===m?m:0),qA(fs(p),m,M)}function Rx(p,m,M){return m=gA(m),M===J?(M=m,m=0):M=gA(M),p=fs(p),gp(p,m,M)}function Nx(p,m,M){if(M&&typeof M!="boolean"&&_i(p,m,M)&&(m=M=J),M===J&&(typeof m=="boolean"?(M=m,m=J):typeof p=="boolean"&&(M=p,p=J)),p===J&&m===J?(p=0,m=1):(p=gA(p),m===J?(m=p,p=0):m=gA(m)),p>m){var Q=p;p=m,m=Q}if(M||p%1||m%1){var Z=w0();return Ea(p+Z*(m-p+nr("1e-"+((Z+"").length-1))),m)}return Nc(p,m)}var Dx=tc(function(p,m,M){return m=m.toLowerCase(),p+(M?g1(m):m)});function g1(p){return ag(ar(p).toLowerCase())}function v1(p){return p=ar(p),p&&p.replace(ua,Sc).replace(xs,"")}function Hx(p,m,M){p=ar(p),m=Ha(m);var Q=p.length;M=M===J?Q:qA(bn(M),0,Q);var Z=M;return M-=m.length,M>=0&&p.slice(M,Z)==m}function WS(p){return p=ar(p),p&&Cc.test(p)?p.replace(Ba,mr):p}function cv(p){return p=ar(p),p&&Ys.test(p)?p.replace(ln,"\\$&"):p}var jx=tc(function(p,m,M){return p+(M?"-":"")+m.toLowerCase()}),lv=tc(function(p,m,M){return p+(M?" ":"")+m.toLowerCase()}),Gx=Fp("toLowerCase");function Kx(p,m,M){p=ar(p),m=bn(m);var Q=m?Mc(p):0;if(!m||Q>=m)return p;var Z=(m-Q)/2;return ec(yd(Z),M)+p+ec(Tc(Z),M)}function y1(p,m,M){p=ar(p),m=bn(m);var Q=m?Mc(p):0;return m&&Q<m?p+ec(m-Q,M):p}function m1(p,m,M){p=ar(p),m=bn(m);var Q=m?Mc(p):0;return m&&Q<m?ec(m-Q,M)+p:p}function w1(p,m,M){return M||m==null?m=0:m&&(m=+m),Ic(ar(p).replace($s,""),m||0)}function zx(p,m,M){return(M?_i(p,m,M):m===J)?m=1:m=bn(m),Qd(ar(p),m)}function b1(){var p=arguments,m=ar(p[0]);return p.length<3?m:m.replace(p[1],p[2])}var Wx=tc(function(p,m,M){return p+(M?"_":"")+m.toLowerCase()});function Vx(p,m,M){return M&&typeof M!="number"&&_i(p,m,M)&&(m=M=J),M=M===J?ia:M>>>0,M?(p=ar(p),p&&(typeof m=="string"||m!=null&&!mf(m))&&(m=Ha(m),!m&&WA(p))?ks(Io(p),0,M):p.split(m,M)):[]}var Zx=tc(function(p,m,M){return p+(M?" ":"")+ag(m)});function Yx(p,m,M){return p=ar(p),M=M==null?0:qA(bn(M),0,p.length),m=Ha(m),p.slice(M,M+m.length)==m}function uv(p,m,M){var Q=tt.templateSettings;M&&_i(p,m,M)&&(m=J),p=ar(p),m=ng({},m,Q,Af);var Z=ng({},m.imports,Q.imports,Af),X=Wi(Z),st=Yr(Z,X),ft,bt,Rt=0,Ht=m.interpolate||K,Gt="__p += '",he=Ol((m.escape||K).source+"|"+Ht.source+"|"+(Ht===Tu?wl:K).source+"|"+(m.evaluate||K).source+"|$","g"),Se="//# sourceURL="+(Zn.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++um+"]")+`
`;p.replace(he,function(Je,In,Rn,Fa,Ei,Ka){return Rn||(Rn=Fa),Gt+=p.slice(Rt,Ka).replace(V,A0),In&&(ft=!0,Gt+=`' +
__e(`+In+`) +
'`),Ei&&(bt=!0,Gt+=`';
`+Ei+`;
__p += '`),Rn&&(Gt+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),Rt=Ka+Je.length,Je}),Gt+=`';
`;var qe=Zn.call(m,"variable")&&m.variable;if(!qe)Gt=`with (obj) {
`+Gt+`
}
`;else if(xa.test(qe))throw new Ve(He);Gt=(bt?Gt.replace(ca,""):Gt).replace(vn,"$1").replace(ba,"$1;"),Gt="function("+(qe||"obj")+`) {
`+(qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ft?", __e = _.escape":"")+(bt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gt+`return __p
}`;var An=x1(function(){return Kn(X,Se+"return "+Gt).apply(J,st)});if(An.source=Gt,ev(An))throw An;return An}function ig(p){return ar(p).toLowerCase()}function su(p){return ar(p).toUpperCase()}function $x(p,m,M){if(p=ar(p),p&&(M||m===J))return ud(p);if(!p||!(m=Ha(m)))return p;var Q=Io(p),Z=Io(m),X=Di(Q,Z),st=Cl(Q,Z)+1;return ks(Q,X,st).join("")}function Xx(p,m,M){if(p=ar(p),p&&(M||m===J))return p.slice(0,hd(p)+1);if(!p||!(m=Ha(m)))return p;var Q=Io(p),Z=Cl(Q,Io(m))+1;return ks(Q,0,Z).join("")}function vA(p,m,M){if(p=ar(p),p&&(M||m===J))return p.replace($s,"");if(!p||!(m=Ha(m)))return p;var Q=Io(p),Z=Di(Q,Io(m));return ks(Q,Z).join("")}function qx(p,m){var M=Ws,Q=Wa;if(zr(m)){var Z="separator"in m?m.separator:Z;M="length"in m?bn(m.length):M,Q="omission"in m?Ha(m.omission):Q}p=ar(p);var X=p.length;if(WA(p)){var st=Io(p);X=st.length}if(M>=X)return p;var ft=M-Mc(Q);if(ft<1)return Q;var bt=st?ks(st,0,ft).join(""):p.slice(0,ft);if(Z===J)return bt+Q;if(st&&(ft+=bt.length-ft),mf(Z)){if(p.slice(ft).search(Z)){var Rt,Ht=bt;for(Z.global||(Z=Ol(Z.source,ar(bl.exec(Z))+"g")),Z.lastIndex=0;Rt=Z.exec(Ht);)var Gt=Rt.index;bt=bt.slice(0,Gt===J?ft:Gt)}}else if(p.indexOf(Ha(Z),ft)!=ft){var he=bt.lastIndexOf(Z);he>-1&&(bt=bt.slice(0,he))}return bt+Q}function Jx(p){return p=ar(p),p&&RA.test(p)?p.replace(ri,u0):p}var Ah=tc(function(p,m,M){return p+(M?" ":"")+m.toUpperCase()}),ag=Fp("toUpperCase");function B1(p,m,M){return p=ar(p),m=M?J:m,m===J?l0(p)?aA(p):sd(p):p.match(m)||[]}var x1=on(function(p,m){try{return $a(p,J,m)}catch(M){return ev(M)?M:new Ve(M)}}),t2=Is(function(p,m){return Ni(m,function(M){M=Br(M),Fs(p,M,Xp(p[M],p))}),p});function _1(p){var m=p==null?0:p.length,M=Re();return p=m?Pr(p,function(Q){if(typeof Q[1]!="function")throw new ro(Jt);return[M(Q[0]),Q[1]]}):[],on(function(Q){for(var Z=-1;++Z<m;){var X=p[Z];if($a(X[0],this,Q))return $a(X[1],this,Q)}})}function e2(p){return q(di(p,re))}function fv(p){return function(){return p}}function C1(p,m){return p==null||p!==p?m:p}var dv=Kd(),O1=Kd(!0);function xo(p){return p}function hv(p){return Id(typeof p=="function"?p:di(p,re))}function Xa(p){return Rc(di(p,re))}function pv(p,m){return Yu(p,di(m,re))}var n2=on(function(p,m){return function(M){return Uc(M,p,m)}}),r2=on(function(p,m){return function(M){return Uc(p,M,m)}});function og(p,m,M){var Q=Wi(m),Z=Wu(m,Q);M==null&&!(zr(m)&&(Z.length||!Q.length))&&(M=m,m=p,p=this,Z=Wu(m,Wi(m)));var X=!(zr(M)&&"chain"in M)||!!M.chain,st=fc(p);return Ni(Z,function(ft){var bt=m[ft];p[ft]=bt,st&&(p.prototype[ft]=function(){var Rt=this.__chain__;if(X||Rt){var Ht=p(this.__wrapped__),Gt=Ht.__actions__=da(this.__actions__);return Gt.push({func:bt,args:arguments,thisArg:p}),Ht.__chain__=Rt,Ht}return bt.apply(p,Ra([this.value()],arguments))})}),p}function E1(){return Bi._===this&&(Bi._=gm),this}function gv(){}function ch(p){return p=bn(p),on(function(m){return Ld(m,p)})}var vv=af(Pr),Oi=af(ad),i2=af(od);function S1(p){return Zd(p)?Es(Br(p)):Bp(p)}function a2(p){return function(m){return p==null?J:lA(p,m)}}var o2=Tp(),M1=Tp(!0);function sg(){return[]}function yv(){return!1}function s2(){return{}}function A2(){return""}function c2(){return!0}function l2(p,m){if(p=bn(p),p<1||p>to)return[];var M=ia,Q=Ea(p,ia);m=Re(m),p-=ia;for(var Z=nA(Q,m);++M<p;)m(M);return Z}function u2(p){return un(p)?Pr(p,Br):Do(p)?[p]:da(oi(ar(p)))}function f2(p){var m=++d0;return ar(p)+m}var d2=zd(function(p,m){return p+m},0),h2=of("ceil"),p2=zd(function(p,m){return p/m},1),g2=of("floor");function v2(p){return p&&p.length?AA(p,xo,Md):J}function VS(p,m){return p&&p.length?AA(p,Re(m,2),Md):J}function Ag(p){return zA(p,xo)}function F1(p,m){return zA(p,Re(m,2))}function mv(p){return p&&p.length?AA(p,xo,JA):J}function wv(p,m){return p&&p.length?AA(p,Re(m,2),JA):J}var or=zd(function(p,m){return p*m},1),k1=of("round"),qr=zd(function(p,m){return p-m},0);function y2(p){return p&&p.length?Ru(p,xo):0}function m2(p,m){return p&&p.length?Ru(p,Re(m,2)):0}return tt.after=Ns,tt.ary=Zc,tt.assign=i1,tt.assignIn=a1,tt.assignInWith=ng,tt.assignWith=wx,tt.at=si,tt.before=$p,tt.bind=Xp,tt.bindAll=t2,tt.bindKey=Km,tt.castArray=ix,tt.chain=$t,tt.chunk=Ps,tt.compact=Xd,tt.concat=zi,tt.cond=_1,tt.conforms=e2,tt.constant=fv,tt.countBy=en,tt.create=wf,tt.curry=zm,tt.curryRight=qp,tt.debounce=Wm,tt.defaults=bo,tt.defaultsDeep=ou,tt.defer=Vm,tt.delay=Zm,tt.difference=K0,tt.differenceBy=Qn,tt.differenceWith=z0,tt.drop=fo,tt.dropRight=Dp,tt.dropRightWhile=Gm,tt.dropWhile=W0,tt.fill=V0,tt.filter=Nr,tt.flatMap=Ci,tt.flatMapDeep=ir,tt.flatMapDepth=Kt,tt.flatten=df,tt.flattenDeep=hf,tt.flattenDepth=Z0,tt.flip=$B,tt.flow=dv,tt.flowRight=O1,tt.fromPairs=Hp,tt.functions=_x,tt.functionsIn=A1,tt.groupBy=ls,tt.initial=Ro,tt.intersection=dA,tt.intersectionBy=Le,tt.intersectionWith=th,tt.invert=Ox,tt.invertBy=Ex,tt.invokeMap=go,tt.iteratee=hv,tt.keyBy=sc,tt.keys=Wi,tt.keysIn=Bo,tt.map=vo,tt.mapKeys=Sx,tt.mapValues=Mx,tt.matches=Xa,tt.matchesProperty=pv,tt.memoize=xr,tt.merge=c1,tt.mergeWith=rg,tt.method=n2,tt.methodOf=r2,tt.mixin=og,tt.negate=Jp,tt.nthArg=ch,tt.omit=Fx,tt.omitBy=l1,tt.once=XB,tt.orderBy=Ac,tt.over=vv,tt.overArgs=qB,tt.overEvery=Oi,tt.overSome=i2,tt.partial=J0,tt.partialRight=Ym,tt.partition=Rs,tt.pick=kx,tt.pickBy=u1,tt.property=S1,tt.propertyOf=a2,tt.pull=Un,tt.pullAll=ac,tt.pullAllBy=po,tt.pullAllWith=oc,tt.pullAt=jp,tt.range=o2,tt.rangeRight=M1,tt.rearg=JB,tt.reject=Zp,tt.remove=Gp,tt.rest=tx,tt.reverse=gf,tt.sampleSize=Vc,tt.set=Tx,tt.setWith=Ix,tt.shuffle=Yp,tt.slice=vf,tt.sortBy=q0,tt.sortedUniq=Yt,tt.sortedUniqBy=eh,tt.split=Vx,tt.spread=$m,tt.tail=Vp,tt.take=eu,tt.takeRight=nu,tt.takeRightWhile=yf,tt.takeWhile=Wc,tt.tap=ue,tt.throttle=ex,tt.thru=sn,tt.toArray=e1,tt.toPairs=d1,tt.toPairsIn=h1,tt.toPath=u2,tt.toPlainObject=mx,tt.transform=p1,tt.unary=nx,tt.union=ru,tt.unionBy=cs,tt.unionWith=_,tt.uniq=x,tt.uniqBy=O,tt.uniqWith=C,tt.unset=Av,tt.unzip=I,tt.unzipWith=H,tt.update=Lx,tt.updateWith=Qx,tt.values=bf,tt.valuesIn=Ux,tt.without=$,tt.words=B1,tt.wrap=rx,tt.xor=rt,tt.xorBy=nt,tt.xorWith=dt,tt.zip=yt,tt.zipObject=xt,tt.zipObjectDeep=It,tt.zipWith=ge,tt.entries=d1,tt.entriesIn=h1,tt.extend=a1,tt.extendWith=ng,og(tt,tt),tt.add=d2,tt.attempt=x1,tt.camelCase=Dx,tt.capitalize=g1,tt.ceil=h2,tt.clamp=Px,tt.clone=ax,tt.cloneDeep=sx,tt.cloneDeepWith=zS,tt.cloneWith=ox,tt.conformsTo=iu,tt.deburr=v1,tt.defaultTo=C1,tt.divide=p2,tt.endsWith=Hx,tt.eq=yo,tt.escape=WS,tt.escapeRegExp=cv,tt.every=pi,tt.find=Ga,tt.findIndex=zc,tt.findKey=oh,tt.findLast=zn,tt.findLastIndex=qd,tt.findLastKey=o1,tt.floor=g2,tt.forEach=Fr,tt.forEachRight=hA,tt.forIn=s1,tt.forInRight=bx,tt.forOwn=Bx,tt.forOwnRight=xx,tt.get=ov,tt.gt=Yc,tt.gte=Ax,tt.has=Cx,tt.hasIn=sh,tt.head=Jd,tt.identity=xo,tt.includes=pA,tt.indexOf=As,tt.inRange=Rx,tt.invoke=sv,tt.isArguments=Ds,tt.isArray=un,tt.isArrayBuffer=cx,tt.isArrayLike=mo,tt.isArrayLikeObject=gi,tt.isBoolean=tv,tt.isBuffer=uc,tt.isDate=lx,tt.isElement=ux,tt.isEmpty=wo,tt.isEqual=Xm,tt.isEqualWith=No,tt.isError=ev,tt.isFinite=fx,tt.isFunction=fc,tt.isInteger=nv,tt.isLength=nh,tt.isMap=tg,tt.isMatch=qm,tt.isMatchWith=rv,tt.isNaN=dx,tt.isNative=hx,tt.isNil=gx,tt.isNull=px,tt.isNumber=rh,tt.isObject=zr,tt.isObjectLike=Xr,tt.isPlainObject=ih,tt.isRegExp=mf,tt.isSafeInteger=Jm,tt.isSet=iv,tt.isString=ah,tt.isSymbol=Do,tt.isTypedArray=au,tt.isUndefined=eg,tt.isWeakMap=av,tt.isWeakSet=t1,tt.join=pf,tt.kebabCase=jx,tt.last=ho,tt.lastIndexOf=Y0,tt.lowerCase=lv,tt.lowerFirst=Gx,tt.lt=vx,tt.lte=yx,tt.max=v2,tt.maxBy=VS,tt.mean=Ag,tt.meanBy=F1,tt.min=mv,tt.minBy=wv,tt.stubArray=sg,tt.stubFalse=yv,tt.stubObject=s2,tt.stubString=A2,tt.stubTrue=c2,tt.multiply=or,tt.nth=Jl,tt.noConflict=E1,tt.noop=gv,tt.now=Yn,tt.pad=Kx,tt.padEnd=y1,tt.padStart=m1,tt.parseInt=w1,tt.random=Nx,tt.reduce=cc,tt.reduceRight=lc,tt.repeat=zx,tt.replace=b1,tt.result=f1,tt.round=k1,tt.runInContext=wt,tt.sample=ZB,tt.size=us,tt.snakeCase=Wx,tt.some=YB,tt.sortedIndex=Kp,tt.sortedIndexBy=tu,tt.sortedIndexOf=$0,tt.sortedLastIndex=zp,tt.sortedLastIndexBy=X0,tt.sortedLastIndexOf=Wp,tt.startCase=Zx,tt.startsWith=Yx,tt.subtract=qr,tt.sum=y2,tt.sumBy=m2,tt.template=uv,tt.times=l2,tt.toFinite=gA,tt.toInteger=bn,tt.toLength=n1,tt.toLower=ig,tt.toNumber=fs,tt.toSafeInteger=r1,tt.toString=ar,tt.toUpper=su,tt.trim=$x,tt.trimEnd=Xx,tt.trimStart=vA,tt.truncate=qx,tt.unescape=Jx,tt.uniqueId=f2,tt.upperCase=Ah,tt.upperFirst=ag,tt.each=Fr,tt.eachRight=hA,tt.first=Jd,og(tt,function(){var p={};return Sa(tt,function(m,M){Zn.call(tt.prototype,M)||(p[M]=m)}),p}(),{chain:!1}),tt.VERSION=De,Ni(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){tt[p].placeholder=tt}),Ni(["drop","take"],function(p,m){On.prototype[p]=function(M){M=M===J?1:Gi(bn(M),0);var Q=this.__filtered__&&!m?new On(this):this.clone();return Q.__filtered__?Q.__takeCount__=Ea(M,Q.__takeCount__):Q.__views__.push({size:Ea(M,ia),type:p+(Q.__dir__<0?"Right":"")}),Q},On.prototype[p+"Right"]=function(M){return this.reverse()[p](M).reverse()}}),Ni(["filter","map","takeWhile"],function(p,m){var M=m+1,Q=M==UA||M==ms;On.prototype[p]=function(Z){var X=this.clone();return X.__iteratees__.push({iteratee:Re(Z,3),type:M}),X.__filtered__=X.__filtered__||Q,X}}),Ni(["head","last"],function(p,m){var M="take"+(m?"Right":"");On.prototype[p]=function(){return this[M](1).value()[0]}}),Ni(["initial","tail"],function(p,m){var M="drop"+(m?"":"Right");On.prototype[p]=function(){return this.__filtered__?new On(this):this[M](1)}}),On.prototype.compact=function(){return this.filter(xo)},On.prototype.find=function(p){return this.filter(p).head()},On.prototype.findLast=function(p){return this.reverse().find(p)},On.prototype.invokeMap=on(function(p,m){return typeof p=="function"?new On(this):this.map(function(M){return Uc(M,p,m)})}),On.prototype.reject=function(p){return this.filter(Jp(Re(p)))},On.prototype.slice=function(p,m){p=bn(p);var M=this;return M.__filtered__&&(p>0||m<0)?new On(M):(p<0?M=M.takeRight(-p):p&&(M=M.drop(p)),m!==J&&(m=bn(m),M=m<0?M.dropRight(-m):M.take(m-p)),M)},On.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},On.prototype.toArray=function(){return this.take(ia)},Sa(On.prototype,function(p,m){var M=/^(?:filter|find|map|reject)|While$/.test(m),Q=/^(?:head|last)$/.test(m),Z=tt[Q?"take"+(m=="last"?"Right":""):m],X=Q||/^find/.test(m);Z&&(tt.prototype[m]=function(){var st=this.__wrapped__,ft=Q?[1]:arguments,bt=st instanceof On,Rt=ft[0],Ht=bt||un(st),Gt=function(In){var Rn=Z.apply(tt,Ra([In],ft));return Q&&he?Rn[0]:Rn};Ht&&M&&typeof Rt=="function"&&Rt.length!=1&&(bt=Ht=!1);var he=this.__chain__,Se=!!this.__actions__.length,qe=X&&!he,An=bt&&!Se;if(!X&&Ht){st=An?st:new On(this);var Je=p.apply(st,ft);return Je.__actions__.push({func:sn,args:[Gt],thisArg:J}),new oo(Je,he)}return qe&&An?p.apply(this,ft):(Je=this.thru(Gt),qe?Q?Je.value()[0]:Je.value():Je)})}),Ni(["pop","push","shift","sort","splice","unshift"],function(p){var m=io[p],M=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",Q=/^(?:pop|shift)$/.test(p);tt.prototype[p]=function(){var Z=arguments;if(Q&&!this.__chain__){var X=this.value();return m.apply(un(X)?X:[],Z)}return this[M](function(st){return m.apply(un(st)?st:[],Z)})}}),Sa(On.prototype,function(p,m){var M=tt[m];if(M){var Q=M.name+"";Zn.call(Il,Q)||(Il[Q]=[]),Il[Q].push({name:m,func:M})}}),Il[rf(J,de).name]=[{name:"wrapper",func:J}],On.prototype.clone=Cm,On.prototype.reverse=Cd,On.prototype.value=Om,tt.prototype.at=fe,tt.prototype.chain=Ee,tt.prototype.commit=Dn,tt.prototype.next=dn,tt.prototype.plant=ce,tt.prototype.reverse=yn,tt.prototype.toJSON=tt.prototype.valueOf=tt.prototype.value=Tn,tt.prototype.first=tt.prototype.head,kc&&(tt.prototype[kc]=Xe),tt},pd=pm();Bi._=pd,ze=function(){return pd}.call($e,Ft,$e,Ke),ze!==J&&(Ke.exports=ze)}).call(this)},73807:function(Ke){"use strict";var $e=Ke.exports;Ke.exports.isNumber=function(Ft){return typeof Ft=="number"},Ke.exports.findMin=function(Ft){if(Ft.length===0)return 1/0;for(var ze=Ft[0],J=1;J<Ft.length;J++)ze=Math.min(ze,Ft[J]);return ze},Ke.exports.findMax=function(Ft){if(Ft.length===0)return-1/0;for(var ze=Ft[0],J=1;J<Ft.length;J++)ze=Math.max(ze,Ft[J]);return ze},Ke.exports.findMinMulti=function(Ft){for(var ze=$e.findMin(Ft[0]),J=1;J<Ft.length;J++)ze=Math.min(ze,$e.findMin(Ft[J]));return ze},Ke.exports.findMaxMulti=function(Ft){for(var ze=$e.findMax(Ft[0]),J=1;J<Ft.length;J++)ze=Math.max(ze,$e.findMax(Ft[J]));return ze},Ke.exports.inside=function(Ft,ze,J){return Ft<=J&&J<=ze}},53843:function(Ke,$e,Ft){"use strict";var ze=50,J=2,De=Math.log(2),jn=Ke.exports,Ye=Ft(73807);function Jt(ee){return 1-Math.abs(ee)}Ke.exports.getUnifiedMinMax=function(ee,Ot){return jn.getUnifiedMinMaxMulti([ee],Ot)},Ke.exports.getUnifiedMinMaxMulti=function(ee,Ot){Ot=Ot||{};var we=!1,re=!1,xe=Ye.isNumber(Ot.width)?Ot.width:J,gn=Ye.isNumber(Ot.size)?Ot.size:ze,Oe=Ye.isNumber(Ot.min)?Ot.min:(we=!0,Ye.findMinMulti(ee)),Ne=Ye.isNumber(Ot.max)?Ot.max:(re=!0,Ye.findMaxMulti(ee)),ke=Ne-Oe,de=ke/(gn-1);return we&&(Oe=Oe-2*xe*de),re&&(Ne=Ne+2*xe*de),{min:Oe,max:Ne}},Ke.exports.create=function(ee,Ot){if(Ot=Ot||{},!ee||ee.length===0)return[];var we=Ye.isNumber(Ot.size)?Ot.size:ze,re=Ye.isNumber(Ot.width)?Ot.width:J,xe=jn.getUnifiedMinMax(ee,{size:we,width:re,min:Ot.min,max:Ot.max}),gn=xe.min,Oe=xe.max,Ne=Oe-gn,ke=Ne/(we-1);if(Ne===0)return[{x:gn,y:1}];for(var de=[],ci=0;ci<we;ci++)de.push({x:gn+ci*ke,y:0});var Xn=function(Wa){return Math.floor((Wa-gn)/ke)},ra=He(Jt,re),ei=ra[re],Ia=ra[re-1]-ra[re-2],Yi=0;ee.forEach(function(Wa){var pt=Xn(Wa);if(!(pt+re<0||pt-re>=de.length)){var Wo=Math.max(pt-re,0),UA=pt,Vs=Math.min(pt+re,de.length-1),ms=Wo-(pt-re),Va=pt+re-Vs,to=ra[-re-1+ms]||0,yl=ra[-re-1+Va]||0,Za=ei/(ei-to-yl);ms>0&&(Yi+=Za*(ms-1)*Ia);var ia=Math.max(0,pt-re+1);Ye.inside(0,de.length-1,ia)&&(de[ia].y+=Za*1*Ia),Ye.inside(0,de.length-1,UA+1)&&(de[UA+1].y-=Za*2*Ia),Ye.inside(0,de.length-1,Vs+1)&&(de[Vs+1].y+=Za*1*Ia)}});var Ui=Yi,ma=0,Ws=0;return de.forEach(function(Wa){ma+=Wa.y,Ui+=ma,Wa.y=Ui,Ws+=Ui}),Ws>0&&de.forEach(function(Wa){Wa.y/=Ws}),de};function He(ee,Ot){for(var we={},re=0,xe=-Ot;xe<=Ot;xe++)re+=ee(xe/Ot),we[xe]=re;return we}Ke.exports.getExpectedValueFromPdf=function(ee){if(!(!ee||ee.length===0)){var Ot=0;return ee.forEach(function(we){Ot+=we.x*we.y}),Ot}},Ke.exports.getXWithLeftTailArea=function(ee,Ot){if(!(!ee||ee.length===0)){for(var we=0,re=0,xe=0;xe<ee.length&&(re=xe,we+=ee[xe].y,!(we>=Ot));xe++);return ee[re].x}},Ke.exports.getPerplexity=function(ee){if(!(!ee||ee.length===0)){var Ot=0;return ee.forEach(function(we){var re=Math.log(we.y);isFinite(re)&&(Ot+=we.y*re)}),Ot=-Ot/De,Math.pow(2,Ot)}}},86851:function(Ke,$e,Ft){"use strict";var ze=Ft(89594),J=Array.prototype.concat,De=Array.prototype.slice,jn=Ke.exports=function(Jt){for(var He=[],ee=0,Ot=Jt.length;ee<Ot;ee++){var we=Jt[ee];ze(we)?He=J.call(He,De.call(we)):He.push(we)}return He};jn.wrap=function(Ye){return function(){return Ye(jn(arguments))}}},89594:function(Ke){Ke.exports=function(Ft){return!Ft||typeof Ft=="string"?!1:Ft instanceof Array||Array.isArray(Ft)||Ft.length>=0&&(Ft.splice instanceof Function||Object.getOwnPropertyDescriptor(Ft,Ft.length-1)&&Ft.constructor.name!=="String")}}}]);
}());