(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(Me,de,n){"use strict";n.d(de,{F:function(){return oe}});var ve=n(15009),f=n.n(ve),ge=n(99289),U=n.n(ge),fe=n(5574),v=n.n(fe),me=n(92276),ce=n(6742),y=n(65763),I=n(94272),A=n(2453),N=n(96068),K=n(96074),r=n(67294),k=n(92861),c={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},L=n(97857),o=n.n(L),O=n(93463),ee=n(48096),e=n(85893),J=function(j){var d,R=j.guid,$=(0,r.useState)("1"),C=v()($,2),D=C[0],P=C[1],w=(0,r.useState)(!1),u=v()(w,2),_=u[0],B=u[1],H=(0,r.useState)([]),E=v()(H,2),G=E[0],m=E[1],Y=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=v()(Y,2),x=V[0],Z=V[1],s=(0,I.useIntl)(),h=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],i=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,T,W){var M;Z({pagination:t}),t.pageSize!==((M=x.pagination)===null||M===void 0?void 0:M.pageSize)&&m([])},g=function(){var l=U()(f()().mark(function t(){var T,W,M,S;return f()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return B(!0),M=Number(D),p.next=4,(0,O.getTierDailyStatisticaPageList)(R,M,(T=(W=x.pagination)===null||W===void 0?void 0:W.current)!==null&&T!==void 0?T:1);case 4:S=p.sent,S.data&&(m(S.data.list),Z(o()(o()({},x),{},{pagination:o()(o()({},x.pagination),{},{total:S.data.total})})),B(!1));case 6:case"end":return p.stop()}},t)}));return function(){return l.apply(this,arguments)}}();return(0,r.useEffect)(function(){g()},[(d=x.pagination)===null||d===void 0?void 0:d.current]),(0,r.useEffect)(function(){g()},[D]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:s.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:D,items:h,onChange:function(t){return P(t)}}),(0,e.jsx)(N.Z,{columns:i,rowKey:function(t){return t.time},dataSource:G,pagination:x.pagination,loading:_,onChange:a})]})},se=J,ae=n(74656),te=n(26915),pe=n(83622),he=n(27484),ne=n.n(he),ie=function(j){var d,R=j.guid,$=(0,r.useState)(!1),C=v()($,2),D=C[0],P=C[1],w=(0,r.useState)([]),u=v()(w,2),_=u[0],B=u[1],H=(0,r.useState)("guid"),E=v()(H,2),G=E[0],m=E[1],Y=(0,r.useState)(""),V=v()(Y,2),x=V[0],Z=V[1],s=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),h=v()(s,2),i=h[0],a=h[1],g=(0,I.useIntl)(),l=[{title:"Register Time",dataIndex:"createTime",render:function(b,p){return ne()(p.createTime).format("YYYY-MM-DD")}},{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"}],t=function(b,p,z){var Q;a({pagination:b}),b.pageSize!==((Q=i.pagination)===null||Q===void 0?void 0:Q.pageSize)&&B([])},T=function(){var S=U()(f()().mark(function b(){var p,z,Q,Se,ye,Ce,ue;return f()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return P(!0),ye=(p=(z=i.pagination)===null||z===void 0?void 0:z.current)!==null&&p!==void 0?p:1,Ce=(Q=(Se=i.pagination)===null||Se===void 0?void 0:Se.pageSize)!==null&&Q!==void 0?Q:10,re.next=5,k.Z.userData.getFirstTirerList(R,ye,Ce,G,x);case 5:ue=re.sent,ue.data&&(B(ue.data.list),a(o()(o()({},i),{},{pagination:o()(o()({},i.pagination),{},{total:ue.data.total})})),P(!1));case 7:case"end":return re.stop()}},b)}));return function(){return S.apply(this,arguments)}}();(0,r.useEffect)(function(){T()},[(d=i.pagination)===null||d===void 0?void 0:d.current]);var W=function(){var S=U()(f()().mark(function b(){return f()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:a(o()(o()({},i),{},{pagination:o()(o()({},i.pagination),{},{current:1})})),T();case 2:case"end":return z.stop()}},b)}));return function(){return S.apply(this,arguments)}}(),M=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:g.formatMessage({id:"pages.vipList.listOfTirer1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(ae.Z,{options:M,value:G,onChange:m})}),(0,e.jsx)("div",{children:(0,e.jsx)(te.Z,{value:x,onChange:function(b){return Z(b.target.value)}})}),(0,e.jsx)("div",{children:(0,e.jsx)(pe.ZP,{onClick:W,children:g.formatMessage({id:"search"})})})]}),(0,e.jsx)(N.Z,{columns:l,rowKey:function(b){return b.guid},dataSource:_,pagination:i.pagination,loading:D,onChange:t})]})},X=ie,le=function(j){var d,R=j.guid,$=(0,r.useState)("1"),C=v()($,2),D=C[0],P=C[1],w=(0,r.useState)(!1),u=v()(w,2),_=u[0],B=u[1],H=(0,r.useState)([]),E=v()(H,2),G=E[0],m=E[1],Y=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=v()(Y,2),x=V[0],Z=V[1],s=(0,I.useIntl)(),h=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],i=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,y.BW)(t,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,T,W){var M;Z({pagination:t}),t.pageSize!==((M=x.pagination)===null||M===void 0?void 0:M.pageSize)&&m([])},g=function(){var l=U()(f()().mark(function t(){var T,W,M,S;return f()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return B(!0),M=Number(D),p.next=4,(0,O.getTierMonthlyStatisticaPageList)(R,M,(T=(W=x.pagination)===null||W===void 0?void 0:W.current)!==null&&T!==void 0?T:1);case 4:S=p.sent,S.data&&(m(S.data.list),Z(o()(o()({},x),{},{pagination:o()(o()({},x.pagination),{},{total:S.data.total})})),B(!1));case 6:case"end":return p.stop()}},t)}));return function(){return l.apply(this,arguments)}}();return(0,r.useEffect)(function(){g()},[(d=x.pagination)===null||d===void 0?void 0:d.current]),(0,r.useEffect)(function(){g()},[D]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:s.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(ee.Z,{defaultActiveKey:D,items:h,onChange:function(t){return P(t)}}),(0,e.jsx)(N.Z,{columns:i,rowKey:function(t){return t.time},dataSource:G,pagination:x.pagination,loading:_,onChange:a})]})},xe=le,q=function(j){var d=j.guid,R=(0,r.useState)(void 0),$=v()(R,2),C=$[0],D=$[1],P=(0,r.useState)(),w=v()(P,2),u=w[0],_=w[1],B=A.ZP.useMessage(),H=v()(B,2),E=H[0],G=H[1],m=(0,I.useIntl)(),Y=[{title:"",dataIndex:"type",key:"type"},{title:m.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],V=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:m.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:m.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:m.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:m.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(i){return"$"+(0,y.BW)(i,6)}},{title:m.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(i){return"$"+(0,y.BW)(i,6)}},{title:m.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(i){return"$"+(0,y.BW)(i,6)}},{},{span:2,render:function(i,a){if(!a||!a.inviteeCountList||!a.inviteeVolume24HList||a.inviteeCountList.length!==5||a.inviteeVolume24HList.length!==5)return(0,e.jsx)("div",{});var g=[{type:m.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:m.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,y.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,y.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,y.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,y.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,y.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,y.BW)(a.inviteeVolume24HList[4],6)}];return(0,e.jsx)(N.Z,{columns:Y,dataSource:g,pagination:!1})}}],x=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:m.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(i,a,g,l){return"$"+(0,y.BW)(i,3)}}],Z=function(){var h=U()(f()().mark(function i(){var a;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,k.Z.rebate.getRebateDetail(d);case 2:a=l.sent,a.data&&D(a.data);case 4:case"end":return l.stop()}},i)}));return function(){return h.apply(this,arguments)}}(),s=function(){if(C){var i=[],a=[];return C.platformList.forEach(function(g){a.push(g.platform);var l="";g.platform=="tg"?l="Channel TG Rebate Ratio:":g.platform=="web"?l="Channel Web Rebate Ratio:":g.platform=="third"&&(l="3rd Party Channel Rebate Ratio:"),i.push((0,e.jsxs)("div",{className:c.row,children:[(0,e.jsx)("span",{className:c.label2,children:l}),(0,e.jsxs)("span",{children:[" ",g.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:c.row,children:[(0,e.jsx)("span",{className:c.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",a.join("/")]})]}),i,(0,e.jsxs)("div",{className:c.row,children:[(0,e.jsx)("span",{className:c.label2,children:"Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(C.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:c.row,children:[(0,e.jsx)("span",{className:c.label2,children:"Third Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,y.BW)(C.thirdCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,r.useEffect)(function(){var h=function(){var i=U()(f()().mark(function a(){var g;return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return E.loading("load..."),t.prev=1,t.next=4,(0,ce.getVipDetail)(d);case 4:g=t.sent,_(g),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),A.ZP.error(m.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:E.destroy();case 12:case"end":return t.stop()}},a,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}();h(),Z()},[]),(0,e.jsxs)("div",{children:[u&&(0,e.jsx)(me.ZP,{column:2,title:m.formatMessage({id:"pages.vipList.detail.view"}),request:U()(f()().mark(function h(){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:u||{}});case 1:case"end":return a.stop()}},h)})),params:{guid:u==null?void 0:u.guid},columns:V}),C&&s(),(0,e.jsx)(K.Z,{}),(0,e.jsx)(se,{guid:d}),(0,e.jsx)(xe,{guid:d}),(0,e.jsx)(K.Z,{}),(0,e.jsx)(X,{guid:d})]})},oe=q},65763:function(Me,de,n){"use strict";n.d(de,{BW:function(){return me},q0:function(){return y},rD:function(){return ce}});var ve=n(64599),f=n.n(ve),ge=n(27484),U=n.n(ge),fe=n(90482),v=n(84105);function me(I,A){if(!I)return"";var N=new fe.Z(I),K=I.split(".");if(K.length!==2)return I;for(var r=K[0],k=K[1],c=0,L="",o=0;o<k.length;o++){var O=k[o];if(L.length>=A)break;O=="0"&&L.length==0?c=c+1:L=L+O}return c>3?r+".0{"+c+"}"+L:r+"."+"0".repeat(c)+L}function ce(I,A,N,K,r,k){var c=new Set,L=new Set,o=f()(K),O;try{for(o.s();!(O=o.n()).done;){var ee=O.value;c.add(ee[I]),L.add(ee[A])}}catch(u){o.e(u)}finally{o.f()}console.log("mainKeyList",c),console.log("timeKeyList",L);var e=new Map,J=f()(K),se;try{for(J.s();!(se=J.n()).done;){var ae=se.value,te=ae[A],pe=ae[I],he=ae[N];e.has(te)||e.set(te,new Map),e.get(te).set(pe,he)}}catch(u){J.e(u)}finally{J.f()}console.log("tempMap",e);var ne=[],ie=[];ie.push("time");var X=f()(c),le;try{for(X.s();!(le=X.n()).done;){var xe=le.value;ie.push(xe)}}catch(u){X.e(u)}finally{X.f()}ne.push(ie);var q=f()(L),oe;try{for(q.s();!(oe=q.n()).done;){var F=oe.value,j=[];j.push(F);var d=f()(c),R;try{for(d.s();!(R=d.n()).done;){var $=R.value;e.has(F)&&e.get(F).has($)?j.push(e.get(F).get($)):j.push("")}}catch(u){d.e(u)}finally{d.f()}ne.push(j)}}catch(u){q.e(u)}finally{q.f()}var C=v.P6.aoa_to_sheet(ne),D=v.P6.book_new();v.P6.book_append_sheet(D,C,"Sheet1");var P="";r=="daily"?P="(\u6BCF\u65E5)":r=="monthly"&&(P="(\u6BCF\u6708)");var w="".concat(U()().format("YYYYMMDDHHmmss")).concat(k.replaceAll(" ","")).concat(P,".xlsx");v.NC(D,w)}function y(I){var A=parseFloat(I);return A.toLocaleString("en-US")}},20067:function(){}}]);
