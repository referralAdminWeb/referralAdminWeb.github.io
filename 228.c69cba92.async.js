(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(ye,oe,n){"use strict";n.d(oe,{F:function(){return pe}});var ue=n(15009),v=n.n(ue),de=n(99289),U=n.n(de),ve=n(5574),u=n.n(ve),ge=n(92276),fe=n(6742),C=n(65763),I=n(94272),A=n(2453),z=n(96068),K=n(96074),r=n(67294),N=n(92861),m={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},P=n(97857),d=n.n(P),_=n(93463),q=n(48096),e=n(85893),J=function(B){var o,T=B.guid,j=(0,r.useState)("1"),x=u()(j,2),L=x[0],R=x[1],E=(0,r.useState)(!1),p=u()(E,2),Z=p[0],g=p[1],H=(0,r.useState)([]),w=u()(H,2),G=w[0],f=w[1],Y=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=u()(Y,2),S=V[0],O=V[1],s=(0,I.useIntl)(),h=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],i=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,C.BW)(t,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,$,W){var M;O({pagination:t}),t.pageSize!==((M=S.pagination)===null||M===void 0?void 0:M.pageSize)&&f([])},c=function(){var l=U()(v()().mark(function t(){var $,W,M,b;return v()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g(!0),M=Number(L),y.next=4,(0,_.getTierDailyStatisticaPageList)(T,M,($=(W=S.pagination)===null||W===void 0?void 0:W.current)!==null&&$!==void 0?$:1);case 4:b=y.sent,b.data&&(f(b.data.list),O(d()(d()({},S),{},{pagination:d()(d()({},S.pagination),{},{total:b.data.total})})),g(!1));case 6:case"end":return y.stop()}},t)}));return function(){return l.apply(this,arguments)}}();return(0,r.useEffect)(function(){c()},[(o=S.pagination)===null||o===void 0?void 0:o.current]),(0,r.useEffect)(function(){c()},[L]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:s.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(q.Z,{defaultActiveKey:L,items:h,onChange:function(t){return R(t)}}),(0,e.jsx)(z.Z,{columns:i,rowKey:function(t){return t.time},dataSource:G,pagination:S.pagination,loading:Z,onChange:a})]})},re=J,ee=n(74656),ae=n(26915),me=n(83622),ce=function(B){var o,T=B.guid,j=(0,r.useState)(!1),x=u()(j,2),L=x[0],R=x[1],E=(0,r.useState)([]),p=u()(E,2),Z=p[0],g=p[1],H=(0,r.useState)("guid"),w=u()(H,2),G=w[0],f=w[1],Y=(0,r.useState)(""),V=u()(Y,2),S=V[0],O=V[1],s=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),h=u()(s,2),i=h[0],a=h[1],c=(0,I.useIntl)(),l=[{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"}],t=function(D,y,k){var Q;a({pagination:D}),D.pageSize!==((Q=i.pagination)===null||Q===void 0?void 0:Q.pageSize)&&g([])},$=function(){var b=U()(v()().mark(function D(){var y,k,Q,he,xe,Se,le;return v()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return R(!0),xe=(y=(k=i.pagination)===null||k===void 0?void 0:k.current)!==null&&y!==void 0?y:1,Se=(Q=(he=i.pagination)===null||he===void 0?void 0:he.pageSize)!==null&&Q!==void 0?Q:10,ie.next=5,N.Z.userData.getFirstTirerList(T,xe,Se,G,S);case 5:le=ie.sent,le.data&&(g(le.data.list),a(d()(d()({},i),{},{pagination:d()(d()({},i.pagination),{},{total:le.data.total})})),R(!1));case 7:case"end":return ie.stop()}},D)}));return function(){return b.apply(this,arguments)}}();(0,r.useEffect)(function(){$()},[(o=i.pagination)===null||o===void 0?void 0:o.current]);var W=function(){var b=U()(v()().mark(function D(){return v()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:$();case 1:case"end":return k.stop()}},D)}));return function(){return b.apply(this,arguments)}}(),M=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:"List Of Tirer 1"}),(0,e.jsx)("div",{children:(0,e.jsx)(ee.Z,{options:M,value:G,onChange:f})}),(0,e.jsx)("div",{children:(0,e.jsx)(ae.Z,{value:S,onChange:function(D){return O(D.target.value)}})}),(0,e.jsx)("div",{children:(0,e.jsx)(me.ZP,{onClick:W,children:"Search"})})]}),(0,e.jsx)(z.Z,{columns:l,rowKey:function(D){return D.guid},dataSource:Z,pagination:i.pagination,loading:L,onChange:t})]})},te=ce,ne=function(B){var o,T=B.guid,j=(0,r.useState)("1"),x=u()(j,2),L=x[0],R=x[1],E=(0,r.useState)(!1),p=u()(E,2),Z=p[0],g=p[1],H=(0,r.useState)([]),w=u()(H,2),G=w[0],f=w[1],Y=(0,r.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),V=u()(Y,2),S=V[0],O=V[1],s=(0,I.useIntl)(),h=[{key:"1",label:s.formatMessage({id:"tier1"})},{key:"2",label:s.formatMessage({id:"tier2"})},{key:"3",label:s.formatMessage({id:"tier3"})},{key:"4",label:s.formatMessage({id:"tier4"})},{key:"5",label:s.formatMessage({id:"tier5"})}],i=[{title:s.formatMessage({id:"date"}),dataIndex:"time"},{title:s.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:s.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:s.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(t){return"$"+(0,C.BW)(t,3)}},{title:s.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],a=function(t,$,W){var M;O({pagination:t}),t.pageSize!==((M=S.pagination)===null||M===void 0?void 0:M.pageSize)&&f([])},c=function(){var l=U()(v()().mark(function t(){var $,W,M,b;return v()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g(!0),M=Number(L),y.next=4,(0,_.getTierMonthlyStatisticaPageList)(T,M,($=(W=S.pagination)===null||W===void 0?void 0:W.current)!==null&&$!==void 0?$:1);case 4:b=y.sent,b.data&&(f(b.data.list),O(d()(d()({},S),{},{pagination:d()(d()({},S.pagination),{},{total:b.data.total})})),g(!1));case 6:case"end":return y.stop()}},t)}));return function(){return l.apply(this,arguments)}}();return(0,r.useEffect)(function(){c()},[(o=S.pagination)===null||o===void 0?void 0:o.current]),(0,r.useEffect)(function(){c()},[L]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:s.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(q.Z,{defaultActiveKey:L,items:h,onChange:function(t){return R(t)}}),(0,e.jsx)(z.Z,{columns:i,rowKey:function(t){return t.time},dataSource:G,pagination:S.pagination,loading:Z,onChange:a})]})},X=ne,se=function(B){var o=B.guid,T=(0,r.useState)(void 0),j=u()(T,2),x=j[0],L=j[1],R=(0,r.useState)(),E=u()(R,2),p=E[0],Z=E[1],g=A.ZP.useMessage(),H=u()(g,2),w=H[0],G=H[1],f=(0,I.useIntl)(),Y=[{title:"",dataIndex:"type",key:"type"},{title:f.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],V=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:f.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:f.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:f.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2},{title:f.formatMessage({id:"pages.vipList.commission"}),dataIndex:"commission",renderText:function(i){return"$"+(0,C.BW)(i,6)}},{title:f.formatMessage({id:"pages.vipList.unclaimedCommission"}),dataIndex:"unclaimedCommission",renderText:function(i){return"$"+(0,C.BW)(i,6)}},{title:f.formatMessage({id:"pages.vipList.claimedCommission"}),dataIndex:"claimedCommission",renderText:function(i){return"$"+(0,C.BW)(i,6)}},{},{span:2,render:function(i,a){if(!a||!a.inviteeCountList||!a.inviteeVolume24HList||a.inviteeCountList.length!==5||a.inviteeVolume24HList.length!==5)return(0,e.jsx)("div",{});var c=[{type:f.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:f.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,C.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,C.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,C.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,C.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,C.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,C.BW)(a.inviteeVolume24HList[4],6)}];return(0,e.jsx)(z.Z,{columns:Y,dataSource:c,pagination:!1})}}],S=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:f.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(i,a,c,l){return"$"+(0,C.BW)(i,3)}}],O=function(){var h=U()(v()().mark(function i(){var a;return v()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,N.Z.rebate.getRebateDetail(o);case 2:a=l.sent,a.data&&L(a.data);case 4:case"end":return l.stop()}},i)}));return function(){return h.apply(this,arguments)}}(),s=function(){if(x){var i=[],a=[];return x.platformList.forEach(function(c){a.push(c.platform);var l="";c.platform=="tg"?l="Channel TG Rebate Ratio:":c.platform=="web"?l="Channel Web Rebate Ratio:":c.platform=="third"&&(l="3rd Party Channel Rebate Ratio:"),i.push((0,e.jsxs)("div",{className:m.row,children:[(0,e.jsx)("span",{className:m.label2,children:l}),(0,e.jsxs)("span",{children:[" ",c.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:m.row,children:[(0,e.jsx)("span",{className:m.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",a.join("/")]})]}),i,(0,e.jsxs)("div",{className:m.row,children:[(0,e.jsx)("span",{className:m.label2,children:"Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(x.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:m.row,children:[(0,e.jsx)("span",{className:m.label2,children:"Third Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,C.BW)(x.thirdCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,r.useEffect)(function(){var h=function(){var i=U()(v()().mark(function a(){var c;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return w.loading("load..."),t.prev=1,t.next=4,(0,fe.getVipDetail)(o);case 4:c=t.sent,Z(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),A.ZP.error(f.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:w.destroy();case 12:case"end":return t.stop()}},a,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}();h(),O()},[]),(0,e.jsxs)("div",{children:[p&&(0,e.jsx)(ge.ZP,{column:2,title:f.formatMessage({id:"pages.vipList.detail.view"}),request:U()(v()().mark(function h(){return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:p||{}});case 1:case"end":return a.stop()}},h)})),params:{guid:p==null?void 0:p.guid},columns:V}),x&&s(),(0,e.jsx)(K.Z,{}),(0,e.jsx)(re,{guid:o}),(0,e.jsx)(X,{guid:o}),(0,e.jsx)(K.Z,{}),(0,e.jsx)(te,{guid:o})]})},pe=se},65763:function(ye,oe,n){"use strict";n.d(oe,{BW:function(){return ge},q0:function(){return C},rD:function(){return fe}});var ue=n(64599),v=n.n(ue),de=n(27484),U=n.n(de),ve=n(90482),u=n(84105);function ge(I,A){if(!I)return"";var z=new ve.Z(I),K=I.split(".");if(K.length!==2)return I;for(var r=K[0],N=K[1],m=0,P="",d=0;d<N.length;d++){var _=N[d];if(P.length>=A)break;_=="0"&&P.length==0?m=m+1:P=P+_}return m>3?r+".0{"+m+"}"+P:r+"."+"0".repeat(m)+P}function fe(I,A,z,K,r,N){var m=new Set,P=new Set,d=v()(K),_;try{for(d.s();!(_=d.n()).done;){var q=_.value;m.add(q[I]),P.add(q[A])}}catch(g){d.e(g)}finally{d.f()}console.log("mainKeyList",m),console.log("timeKeyList",P);var e=new Map,J=v()(K),re;try{for(J.s();!(re=J.n()).done;){var ee=re.value,ae=ee[A],me=ee[I],ce=ee[z];e.has(ae)||e.set(ae,new Map),e.get(ae).set(me,ce)}}catch(g){J.e(g)}finally{J.f()}console.log("tempMap",e);var te=[],ne=[];ne.push("time");var X=v()(m),se;try{for(X.s();!(se=X.n()).done;){var pe=se.value;ne.push(pe)}}catch(g){X.e(g)}finally{X.f()}te.push(ne);var F=v()(P),B;try{for(F.s();!(B=F.n()).done;){var o=B.value,T=[];T.push(o);var j=v()(m),x;try{for(j.s();!(x=j.n()).done;){var L=x.value;e.has(o)&&e.get(o).has(L)?T.push(e.get(o).get(L)):T.push("")}}catch(g){j.e(g)}finally{j.f()}te.push(T)}}catch(g){F.e(g)}finally{F.f()}var R=u.P6.aoa_to_sheet(te),E=u.P6.book_new();u.P6.book_append_sheet(E,R,"Sheet1");var p="";r=="daily"?p="(\u6BCF\u65E5)":r=="monthly"&&(p="(\u6BCF\u6708)");var Z="".concat(U()().format("YYYYMMDDHHmmss")).concat(N.replaceAll(" ","")).concat(p,".xlsx");u.NC(E,Z)}function C(I){var A=parseFloat(I);return A.toLocaleString("en-US")}},20067:function(){}}]);
