(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[45],{5966:function(xe,q,s){"use strict";var ee=s(97685),i=s(1413),re=s(91),m=s(21770),ue=s(53025),C=s(55241),K=s(97435),ae=s(67294),H=s(59348),x=s(85893),P=["fieldProps","proFieldProps"],d=["fieldProps","proFieldProps"],y="text",E=function(c){var l=c.fieldProps,L=c.proFieldProps,p=(0,re.Z)(c,P);return(0,x.jsx)(H.Z,(0,i.Z)({valueType:y,fieldProps:l,filedConfig:{valueType:y},proFieldProps:L},p))},D=function(c){var l=(0,m.Z)(c.open||!1,{value:c.open,onChange:c.onOpenChange}),L=(0,ee.Z)(l,2),p=L[0],j=L[1];return(0,x.jsx)(ue.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(O){var Z,r=O.getFieldValue(c.name||[]);return(0,x.jsx)(C.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(M){return M&&M.parentNode?M.parentNode:M},onOpenChange:function(M){return j(M)},content:(0,x.jsxs)("div",{style:{padding:"4px 0"},children:[(Z=c.statusRender)===null||Z===void 0?void 0:Z.call(c,r),c.strengthText?(0,x.jsx)("div",{style:{marginTop:10},children:(0,x.jsx)("span",{children:c.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},c.popoverProps),{},{open:p,children:c.children}))}})},k=function(c){var l=c.fieldProps,L=c.proFieldProps,p=(0,re.Z)(c,d),j=(0,ae.useState)(!1),z=(0,ee.Z)(j,2),O=z[0],Z=z[1];return l!=null&&l.statusRender&&p.name?(0,x.jsx)(D,{name:p.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:O,onOpenChange:Z,children:(0,x.jsx)("div",{children:(0,x.jsx)(H.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,K.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(U){var M;l==null||(M=l.onBlur)===null||M===void 0||M.call(l,U),Z(!1)},onClick:function(U){var M;l==null||(M=l.onClick)===null||M===void 0||M.call(l,U),Z(!0)}}),proFieldProps:L,filedConfig:{valueType:y}},p))})}):(0,x.jsx)(H.Z,(0,i.Z)({valueType:"password",fieldProps:l,proFieldProps:L,filedConfig:{valueType:y}},p))},S=E;S.Password=k,S.displayName="ProFormComponent",q.Z=S},20776:function(xe,q,s){"use strict";s.r(q),s.d(q,{default:function(){return he}});var ee=s(15009),i=s.n(ee),re=s(99289),m=s.n(re),ue=s(5574),C=s.n(ue),K=s(93463),ae=s(65763),H=s(90930),x=s(38521),P=s(94272),d=s(2453),y=s(83622),E=s(78957),D=s(74656),k=s(26915),S=s(85265),v=s(67294),c=s(92276),l=s(44886),L=s(96074),p=s(86738),j=s(6742),z=s(37476),O=s(5966),Z=s(78045),r=s(85893),U=[{label:"Total",value:"total"},{label:"Solana",value:"solana"},{label:"BSC",value:"bsc"},{label:"ETH",value:"eth"},{label:"Base",value:"base"},{label:"Core",value:"core"},{label:"TON",value:"ton"},{label:"Tron",value:"tron"},{label:"SUI",value:"sui"}],M=function(ne){var w,A=ne.guid,$=(0,v.useState)("daily"),N=C()($,2),Y=N[0],ie=N[1],G=(0,v.useState)("total"),B=C()(G,2),J=B[0],T=B[1],me=(0,l.t)("@@initialState"),oe=me.initialState,Pe=(oe==null||(w=oe.userInfo)===null||w===void 0?void 0:w.role)=="superAdmin",fe=(0,v.useState)(),Q=C()(fe,2),f=Q[0],Me=Q[1],ve=d.ZP.useMessage(),Ce=C()(ve,2),ye=Ce[0],je=Ce[1],a=(0,P.useIntl)(),ge=(0,v.useRef)(),Ze=(0,v.useState)(!1),X=C()(Ze,2),Se=X[0],F=X[1],W=(0,v.useRef)(),R=[{title:"Guid",render:function(t,e){return e.user.guid}},{title:"Tg Username",render:function(t,e){return e.user.tgUsername}},{title:"Email",render:function(t,e){return e.user.email}},{title:a.formatMessage({id:"pages.vipList.refCode"}),render:function(t,e){return e.user.refCode}},{title:a.formatMessage({id:"pages.vipList.vipLevel"}),render:function(t,e){return e.user.vip}},{},{title:a.formatMessage({id:"pages.vipList.remark"}),render:function(t,e){return e.user.remark}},{},{title:a.formatMessage({id:"pages.vipList.ref1Guid"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.guid}},{title:a.formatMessage({id:"pages.vipList.ref1TgUsername"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.tgUsername}},{title:a.formatMessage({id:"pages.vipList.ref1Email"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.email}},{title:a.formatMessage({id:"pages.vipList.ref1RefCode"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.refCode}},{title:a.formatMessage({id:"pages.vipList.ref1VipLevel"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.vip}},{},{title:a.formatMessage({id:"pages.vipList.ref1Remark"}),render:function(t,e){var n;return(n=e.up)===null||n===void 0?void 0:n.remark}}],le=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:a.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Chain",dataIndex:"chain",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(t,e,n,g){return"$"+(0,ae.BW)(t,3)}}],b=function(){var o=m()(i()().mark(function t(e){var n;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,j.resetBotSecurityPassword)(e);case 2:n=h.sent,n.code==0?d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return h.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),Re=function(){var o=m()(i()().mark(function t(e){var n;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,j.resetGoogleSecurityPassword)(e);case 2:n=h.sent,n.code==0?d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return h.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),_=function(){var o=m()(i()().mark(function t(e){var n;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,j.resetLoginPassword)(e);case 2:n=h.sent,n.code==0?d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return h.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),Te=function(){var o=m()(i()().mark(function t(e,n){var g;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,j.freezeAccount)(e,n);case 2:if(g=u.sent,g.code!=0){u.next=9;break}return d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),u.next=7,pe();case 7:u.next=10;break;case 9:d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return u.stop()}},t)}));return function(e,n){return o.apply(this,arguments)}}(),Le=function(){var o=m()(i()().mark(function t(e,n){var g;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,j.unregisterAccount)(e,n);case 2:if(g=u.sent,g.code!=0){u.next=9;break}return d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),u.next=7,pe();case 7:u.next=10;break;case 9:d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return u.stop()}},t)}));return function(e,n){return o.apply(this,arguments)}}(),Ee=function(){var o=m()(i()().mark(function t(e){var n,g;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(f){u.next=2;break}return u.abrupt("return");case 2:if(n=/^[0-9a-zA-Z]{1,10}$/,n.test(e.refCode)){u.next=6;break}return d.ZP.error(a.formatMessage({id:"pages.vipList.refCode.verity.error"})),u.abrupt("return");case 6:return u.next=8,(0,j.editRefCode)(f==null?void 0:f.user.guid,e.refCode);case 8:if(g=u.sent,g.code!=0){u.next=15;break}return d.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),u.next=13,pe();case 13:u.next=16;break;case 15:d.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 16:case"end":return u.stop()}},t)}));return function(e){return o.apply(this,arguments)}}(),pe=function(){var o=m()(i()().mark(function t(){var e;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return ye.loading("load..."),g.prev=1,g.next=4,(0,K.getUserAndUpInfo)(A);case 4:e=g.sent,Me(e.data),g.next=11;break;case 8:g.prev=8,g.t0=g.catch(1),d.ZP.error(a.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:ye.destroy();case 12:case"end":return g.stop()}},t,null,[[1,8]])}));return function(){return o.apply(this,arguments)}}();return(0,v.useEffect)(function(){pe()},[]),(0,r.jsxs)("div",{children:[f&&(0,r.jsx)(c.ZP,{column:2,title:"View",dataSource:f,columns:R}),(0,r.jsx)(L.Z,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{marginBottom:10},children:a.formatMessage({id:"options"})}),f&&(0,r.jsxs)("div",{children:[Pe&&(0,r.jsxs)(r.Fragment,{children:[f.user.tgUid&&(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.resetBotSecurityPassword"}),description:a.formatMessage({id:"pages.resetBotSecurityPassword.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(f.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetBotSecurityPassword"})})}),(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"}),description:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(f.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"})})}),(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.resetLoginPassword"}),description:a.formatMessage({id:"pages.resetLoginPassword.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(f.user.guid);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetLoginPassword"})})}),f.user.transferFreeze?(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.unfreezeAccount"}),description:a.formatMessage({id:"pages.unfreezeAccount.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(f.user.guid,!1);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.unfreezeAccount"})})}):(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.freezeAccount"}),description:a.formatMessage({id:"pages.freezeAccount.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(f.user.guid,!0);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.freezeAccount"})})}),f.user.unregister?(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.restoreUnregisterAccount"}),description:a.formatMessage({id:"pages.restoreUnregisterAccount.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(f.user.guid,!1);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.restoreUnregisterAccount"})})}):(0,r.jsx)(p.Z,{title:a.formatMessage({id:"pages.unregisterAccount"}),description:a.formatMessage({id:"pages.unregisterAccount.comfirm"},{guid:f.user.guid}),onConfirm:m()(i()().mark(function o(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(f.user.guid,!0);case 2:case"end":return e.stop()}},o)})),children:(0,r.jsx)(y.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.unregisterAccount"})})})]}),(0,r.jsx)(y.ZP,{onClick:function(){F(!0)},children:a.formatMessage({id:"pages.editRefCode"})}),(0,r.jsx)(z.Y,{formRef:W,title:a.formatMessage({id:"pages.editRefCode"}),open:Se,onFinish:Ee,onOpenChange:F,children:(0,r.jsx)(O.Z,{name:"refCode",label:"RefCode",fieldProps:{maxLength:10,defaultValue:f.user.refCode}})})]})]}),(0,r.jsx)(L.Z,{}),(0,r.jsx)("div",{children:a.formatMessage({id:"pages.userDailyTradingByChains"})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10},children:"Chain:"}),(0,r.jsx)(D.Z,{options:U,onChange:function(t){var e;T(t),(e=ge.current)===null||e===void 0||e.reload()},value:J})]}),(0,r.jsx)("div",{style:{alignItems:"flex-end"},children:(0,r.jsx)(E.Z,{children:(0,r.jsxs)(Z.ZP.Group,{value:Y,onChange:function(t){var e;ie(t.target.value),(e=ge.current)===null||e===void 0||e.reload()},children:[(0,r.jsx)(Z.ZP.Button,{value:"daily",children:a.formatMessage({id:"daily"})}),(0,r.jsx)(Z.ZP.Button,{value:"monthly",children:a.formatMessage({id:"monthly"})})]})})})]}),(0,r.jsx)(x.Z,{actionRef:ge,rowKey:"index",search:!1,pagination:{pageSize:10,pageSizeOptions:[10]},request:function(){var o=m()(i()().mark(function t(e){var n,g,h,u,V;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(e.page=e==null?void 0:e.current,delete e.current,Y!="daily"){I.next=8;break}return I.next=5,(0,K.getUserDailyTradingPageList)(A,J,e.page);case 5:V=I.sent,I.next=11;break;case 8:return I.next=10,(0,K.getUserDailyTradingMonthlyPageList)(A,J,e.page);case 10:V=I.sent;case 11:return console.log({data:(n=V.data)===null||n===void 0?void 0:n.list,success:V.code==0,total:(g=V.data)===null||g===void 0?void 0:g.total}),I.abrupt("return",{data:(h=V.data)===null||h===void 0?void 0:h.list,success:V.code==0,total:(u=V.data)===null||u===void 0?void 0:u.total});case 13:case"end":return I.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),columns:le})]})},de=M,se=[{label:"RefCode",value:"refCode"},{label:"Guid",value:"guid"},{label:"Email",value:"email"},{label:"TgUsername",value:"tgUsername"},{label:"Evm Addrress",value:"evmAddress"},{label:"Solana Address",value:"solanaAddress"}],ce=function(){var ne=(0,v.useRef)(),w=(0,v.useState)("refCode"),A=C()(w,2),$=A[0],N=A[1],Y=(0,v.useState)(""),ie=C()(Y,2),G=ie[0],B=ie[1],J=(0,v.useState)(!1),T=C()(J,2),me=T[0],oe=T[1],Pe=(0,v.useState)(),fe=C()(Pe,2),Q=fe[0],f=fe[1],Me=(0,v.useState)(),ve=C()(Me,2),Ce=ve[0],ye=ve[1],je=d.ZP.useMessage(),a=C()(je,2),ge=a[0],Ze=a[1],X=(0,P.useIntl)(),Se=[{title:X.formatMessage({id:"rank"}),dataIndex:"rank",hideInSearch:!0},{title:X.formatMessage({id:"name"}),hideInSearch:!0,render:function(W,R){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.ZP,{type:"link",onClick:function(){f(R),oe(!0)},children:R.name})})}},{title:"24H Volume(Txns/Vol)",hideInSearch:!0,render:function(W,R){return R.totalTxns+"/$"+(0,ae.BW)(R.totalVol,3)}},{title:"Ref1 Name",dataIndex:"ref1Name",hideInSearch:!0},{renderFormItem:function(){return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10,whiteSpace:"nowrap"},children:X.formatMessage({id:"pages.searchUser"})}),(0,r.jsxs)(E.Z.Compact,{children:[(0,r.jsx)(D.Z,{style:{width:160},options:se,onChange:function(R){N(R)},value:$}),(0,r.jsx)(k.Z,{style:{width:240},value:G,onChange:function(R){B(R.target.value)}})]})]})}}];return(0,r.jsxs)(H._z,{children:[(0,r.jsx)(x.Z,{actionRef:ne,rowKey:"rank",headerTitle:X.formatMessage({id:"menu.botUserData.tradersRanking"}),pagination:!1,request:m()(i()().mark(function F(){var W,R,le,b;return i()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return le={},G.length>0&&(le[$]=G),_.next=4,(0,K.get24HTraderRanking)(le);case 4:return b=_.sent,console.log({data:b.data,success:b.code==0,total:(W=b.data)===null||W===void 0?void 0:W.length}),_.abrupt("return",{data:b.data,success:b.code==0,total:(R=b.data)===null||R===void 0?void 0:R.length});case 7:case"end":return _.stop()}},F)})),columns:Se,onReset:function(){B("")}}),(0,r.jsx)(S.Z,{width:600,open:me,onClose:function(){f(void 0),oe(!1)},closable:!1,children:Q&&(0,r.jsx)(de,{guid:Q==null?void 0:Q.guid})})]})},he=ce},65763:function(xe,q,s){"use strict";s.d(q,{BW:function(){return K},Cd:function(){return x},q0:function(){return H},rD:function(){return ae}});var ee=s(64599),i=s.n(ee),re=s(27484),m=s.n(re),ue=s(90482),C=s(84105);function K(P,d){if(!P)return"";var y=new ue.Z(P),E=P.split(".");if(E.length!==2)return P;for(var D=E[0],k=E[1],S=0,v="",c=0;c<k.length;c++){var l=k[c];if(v.length>=d)break;l=="0"&&v.length==0?S=S+1:v=v+l}return S>3?D+".0{"+S+"}"+v:D+"."+"0".repeat(S)+v}function ae(P,d,y,E,D,k){var S=new Set,v=new Set,c=i()(E),l;try{for(c.s();!(l=c.n()).done;){var L=l.value;S.add(L[P]),v.add(L[d])}}catch(T){c.e(T)}finally{c.f()}console.log("mainKeyList",S),console.log("timeKeyList",v);var p=new Map,j=i()(E),z;try{for(j.s();!(z=j.n()).done;){var O=z.value,Z=O[d],r=O[P],U=O[y];p.has(Z)||p.set(Z,new Map),p.get(Z).set(r,U)}}catch(T){j.e(T)}finally{j.f()}console.log("tempMap",p);var M=[],de=[];de.push("time");var se=i()(S),ce;try{for(se.s();!(ce=se.n()).done;){var he=ce.value;de.push(he)}}catch(T){se.e(T)}finally{se.f()}M.push(de);var te=i()(v),ne;try{for(te.s();!(ne=te.n()).done;){var w=ne.value,A=[];A.push(w);var $=i()(S),N;try{for($.s();!(N=$.n()).done;){var Y=N.value;p.has(w)&&p.get(w).has(Y)?A.push(p.get(w).get(Y)):A.push("")}}catch(T){$.e(T)}finally{$.f()}M.push(A)}}catch(T){te.e(T)}finally{te.f()}var ie=C.P6.aoa_to_sheet(M),G=C.P6.book_new();C.P6.book_append_sheet(G,ie,"Sheet1");var B="";D=="daily"?B="(\u6BCF\u65E5)":D=="monthly"&&(B="(\u6BCF\u6708)");var J="".concat(m()().format("YYYYMMDDHHmmss")).concat(k.replaceAll(" ","")).concat(B,".xlsx");C.NC(G,J)}function H(P){var d=parseFloat(P);return d.toLocaleString("en-US")}function x(P,d){return P?P.length<=2*d?P:P.slice(0,d)+"***"+P.slice(-d):""}},20067:function(){}}]);
