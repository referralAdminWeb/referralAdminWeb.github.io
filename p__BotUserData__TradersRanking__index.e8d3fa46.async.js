"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[45],{20776:function(Me,J,i){i.r(J),i.d(J,{default:function(){return Se}});var ae=i(15009),l=i.n(ae),te=i(99289),h=i.n(te),se=i(5574),f=i.n(se),E=i(93463),N=i(65763),ne=i(90930),W=i(38521),Y=i(94272),g=i(2453),T=i(83622),ie=i(78957),Q=i(74656),de=i(26915),le=i(85265),c=i(67294),ue=i(20040),oe=i(44886),X=i(96074),q=i(86738),F=i(6742),ve=i(37476),ce=i(5966),t=i(85893),fe=[{label:"Solana",value:"solana"},{label:"BSC",value:"bsc"},{label:"ETH",value:"eth"},{label:"Base",value:"base"},{label:"Core",value:"core"},{label:"TON",value:"ton"},{label:"Tron",value:"tron"},{label:"SUI",value:"sui"}],ge=function(O){var j,$=O.guid,P=(0,c.useState)("solana"),L=f()(P,2),w=L[0],D=L[1],Z=(0,oe.t)("@@initialState"),R=Z.initialState,b=(R==null||(j=R.userInfo)===null||j===void 0?void 0:j.role)=="superAdmin",A=(0,c.useState)(),U=f()(A,2),u=U[0],K=U[1],B=g.ZP.useMessage(),C=f()(B,2),I=C[0],_=C[1],n=(0,Y.useIntl)(),k=(0,c.useRef)(),ee=(0,c.useState)(!1),G=f()(ee,2),V=G[0],H=G[1],re=(0,c.useRef)(),x=[{title:"Guid",render:function(a,e){return e.user.guid}},{title:"Tg Username",render:function(a,e){return e.user.tgUsername}},{title:"Email",render:function(a,e){return e.user.email}},{title:n.formatMessage({id:"pages.vipList.refCode"}),render:function(a,e){return e.user.refCode}},{title:n.formatMessage({id:"pages.vipList.vipLevel"}),render:function(a,e){return e.user.vip}},{},{title:n.formatMessage({id:"pages.vipList.remark"}),render:function(a,e){return e.user.remark}},{},{title:n.formatMessage({id:"pages.vipList.ref1Guid"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.guid}},{title:n.formatMessage({id:"pages.vipList.ref1TgUsername"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.tgUsername}},{title:n.formatMessage({id:"pages.vipList.ref1Email"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.email}},{title:n.formatMessage({id:"pages.vipList.ref1RefCode"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.refCode}},{title:n.formatMessage({id:"pages.vipList.ref1VipLevel"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.vip}},{},{title:n.formatMessage({id:"pages.vipList.ref1Remark"}),render:function(a,e){var r;return(r=e.up)===null||r===void 0?void 0:r.remark}}],z=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:n.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Chain",dataIndex:"chain",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(a,e,r,p){return"$"+(0,N.B)(a,3)}}],S=function(){var s=h()(l()().mark(function a(e){var r;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,F.Jb)(e);case 2:r=d.sent,r.code==0?g.ZP.success(n.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(n.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return d.stop()}},a)}));return function(e){return s.apply(this,arguments)}}(),m=function(){var s=h()(l()().mark(function a(e){var r;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,F.JL)(e);case 2:r=d.sent,r.code==0?g.ZP.success(n.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(n.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return d.stop()}},a)}));return function(e){return s.apply(this,arguments)}}(),o=function(){var s=h()(l()().mark(function a(e){var r,p;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(u){v.next=2;break}return v.abrupt("return");case 2:if(r=/^[0-9a-zA-Z]{1,10}$/,r.test(e.refCode)){v.next=6;break}return g.ZP.error(n.formatMessage({id:"pages.vipList.refCode.verity.error"})),v.abrupt("return");case 6:return v.next=8,(0,F.We)(u==null?void 0:u.user.guid,e.refCode);case 8:p=v.sent,p.code==0?g.ZP.success(n.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(n.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return v.stop()}},a)}));return function(e){return s.apply(this,arguments)}}();return(0,c.useEffect)(function(){var s=function(){var a=h()(l()().mark(function e(){var r;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return I.loading("load..."),d.prev=1,d.next=4,(0,E.$P)($);case 4:r=d.sent,K(r.data),d.next=11;break;case 8:d.prev=8,d.t0=d.catch(1),g.ZP.error(n.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:I.destroy();case 12:case"end":return d.stop()}},e,null,[[1,8]])}));return function(){return a.apply(this,arguments)}}();s()},[]),(0,t.jsxs)("div",{children:[u&&(0,t.jsx)(ue.ZP,{column:2,title:"View",dataSource:u,columns:x}),(0,t.jsx)(X.Z,{}),b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{marginBottom:10},children:n.formatMessage({id:"options"})}),u&&(0,t.jsxs)("div",{children:[u.user.tgUid&&(0,t.jsx)(q.Z,{title:n.formatMessage({id:"pages.resetBotSecurityPassword"}),description:n.formatMessage({id:"pages.resetBotSecurityPassword.comfirm"},{guid:u.user.guid}),onConfirm:h()(l()().mark(function s(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(u.user.guid);case 2:case"end":return e.stop()}},s)})),children:(0,t.jsx)(T.ZP,{style:{marginRight:10},children:n.formatMessage({id:"pages.resetBotSecurityPassword"})})}),(0,t.jsx)(q.Z,{title:n.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"}),description:n.formatMessage({id:"pages.resetGoogleAuthenticatorSecret.comfirm"},{guid:u.user.guid}),onConfirm:h()(l()().mark(function s(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(u.user.guid);case 2:case"end":return e.stop()}},s)})),children:(0,t.jsx)(T.ZP,{style:{marginRight:10},children:n.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"})})}),(0,t.jsx)(T.ZP,{onClick:function(){H(!0)},children:n.formatMessage({id:"pages.editRefCode"})}),(0,t.jsx)(ve.Y,{formRef:re,title:n.formatMessage({id:"pages.editRefCode"}),open:V,onFinish:o,onOpenChange:H,children:(0,t.jsx)(ce.Z,{name:"refCode",label:"RefCode",fieldProps:{maxLength:10,defaultValue:u.user.refCode}})})]})]}),(0,t.jsx)(X.Z,{})]}),(0,t.jsx)("div",{children:n.formatMessage({id:"pages.userDailyTradingByChains"})}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:10},children:[(0,t.jsx)("div",{style:{marginRight:10},children:"Chain:"}),(0,t.jsx)(Q.Z,{options:fe,onChange:function(a){var e;D(a),(e=k.current)===null||e===void 0||e.reload()},value:w})]}),(0,t.jsx)(W.Z,{actionRef:k,rowKey:"index",search:!1,pagination:{pageSize:10,pageSizeOptions:[10]},request:function(){var s=h()(l()().mark(function a(e){var r,p,d,v,M;return l()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return e.page=e==null?void 0:e.current,delete e.current,y.next=4,(0,E.pE)($,w,e.page);case 4:return M=y.sent,console.log({data:(r=M.data)===null||r===void 0?void 0:r.list,success:M.code==0,total:(p=M.data)===null||p===void 0?void 0:p.total}),y.abrupt("return",{data:(d=M.data)===null||d===void 0?void 0:d.list,success:M.code==0,total:(v=M.data)===null||v===void 0?void 0:v.total});case 7:case"end":return y.stop()}},a)}));return function(a){return s.apply(this,arguments)}}(),columns:z})]})},pe=ge,me=[{label:"RefCode",value:"refCode"},{label:"Guid",value:"guid"},{label:"Email",value:"email"},{label:"TgUsername",value:"tgUsername"},{label:"Evm Addrress",value:"evmAddress"},{label:"Solana Address",value:"solanaAddress"}],he=function(){var O=(0,c.useRef)(),j=(0,c.useState)("refCode"),$=f()(j,2),P=$[0],L=$[1],w=(0,c.useState)(""),D=f()(w,2),Z=D[0],R=D[1],b=(0,c.useState)(!1),A=f()(b,2),U=A[0],u=A[1],K=(0,c.useState)(),B=f()(K,2),C=B[0],I=B[1],_=(0,c.useState)(),n=f()(_,2),k=n[0],ee=n[1],G=g.ZP.useMessage(),V=f()(G,2),H=V[0],re=V[1],x=(0,Y.useIntl)(),z=[{title:x.formatMessage({id:"rank"}),dataIndex:"rank",hideInSearch:!0},{title:x.formatMessage({id:"name"}),hideInSearch:!0,render:function(m,o){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(T.ZP,{type:"link",onClick:function(){I(o),u(!0)},children:o.name})})}},{title:"24H Volume(Txns/Vol)",hideInSearch:!0,render:function(m,o){return o.totalTxns+"/$"+(0,N.B)(o.totalVol,3)}},{title:"Ref1 Name",dataIndex:"ref1Name",hideInSearch:!0},{renderFormItem:function(){return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)("div",{style:{marginRight:10,whiteSpace:"nowrap"},children:x.formatMessage({id:"pages.searchUser"})}),(0,t.jsxs)(ie.Z.Compact,{children:[(0,t.jsx)(Q.Z,{style:{width:160},options:me,onChange:function(o){L(o)},value:P}),(0,t.jsx)(de.Z,{style:{width:240},value:Z,onChange:function(o){R(o.target.value)}})]})]})}}];return(0,t.jsxs)(ne._z,{children:[(0,t.jsx)(W.Z,{actionRef:O,rowKey:"rank",headerTitle:x.formatMessage({id:"menu.botUserData.tradersRanking"}),pagination:!1,request:h()(l()().mark(function S(){var m,o,s,a;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s={},Z.length>0&&(s[P]=Z),r.next=4,(0,E.HJ)(s);case 4:return a=r.sent,console.log({data:a.data,success:a.code==0,total:(m=a.data)===null||m===void 0?void 0:m.length}),r.abrupt("return",{data:a.data,success:a.code==0,total:(o=a.data)===null||o===void 0?void 0:o.length});case 7:case"end":return r.stop()}},S)})),columns:z,onReset:function(){R("")}}),(0,t.jsx)(le.Z,{width:600,open:U,onClose:function(){I(void 0),u(!1)},closable:!1,children:C&&(0,t.jsx)(pe,{guid:C==null?void 0:C.guid})})]})},Se=he}}]);
