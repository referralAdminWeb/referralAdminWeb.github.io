"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[697],{5966:function(Q,W,e){var L=e(97685),d=e(1413),B=e(91),j=e(21770),Z=e(53025),C=e(55241),A=e(97435),T=e(67294),R=e(59348),_=e(85893),y=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],O="text",$=function(n){var t=n.fieldProps,r=n.proFieldProps,v=(0,B.Z)(n,y);return(0,_.jsx)(R.Z,(0,d.Z)({valueType:O,fieldProps:t,filedConfig:{valueType:O},proFieldProps:r},v))},U=function(n){var t=(0,j.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),r=(0,L.Z)(t,2),v=r[0],S=r[1];return(0,_.jsx)(Z.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var p,x=M.getFieldValue(n.name||[]);return(0,_.jsx)(C.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return S(s)},content:(0,_.jsxs)("div",{style:{padding:"4px 0"},children:[(p=n.statusRender)===null||p===void 0?void 0:p.call(n,x),n.strengthText?(0,_.jsx)("div",{style:{marginTop:10},children:(0,_.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:v,children:n.children}))}})},K=function(n){var t=n.fieldProps,r=n.proFieldProps,v=(0,B.Z)(n,F),S=(0,T.useState)(!1),h=(0,L.Z)(S,2),M=h[0],p=h[1];return t!=null&&t.statusRender&&v.name?(0,_.jsx)(U,{name:v.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:M,onOpenChange:p,children:(0,_.jsx)("div",{children:(0,_.jsx)(R.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,A.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(P){var s;t==null||(s=t.onBlur)===null||s===void 0||s.call(t,P),p(!1)},onClick:function(P){var s;t==null||(s=t.onClick)===null||s===void 0||s.call(t,P),p(!0)}}),proFieldProps:r,filedConfig:{valueType:O}},v))})}):(0,_.jsx)(R.Z,(0,d.Z)({valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:O}},v))},I=$;I.Password=K,I.displayName="ProFormComponent",W.Z=I},68784:function(Q,W,e){e.r(W);var L=e(15009),d=e.n(L),B=e(99289),j=e.n(B),Z=e(5574),C=e.n(Z),A=e(75359),T=e(65763),R=e(90930),_=e(38521),y=e(37476),F=e(5966),O=e(34994),$=e(94272),U=e(83622),K=e(2453),I=e(37804),b=e(85265),n=e(67294),t=e(21595),r=e(85893),v=function(){var h,M,p=(0,n.useRef)(),x=(0,n.useState)(!1),P=C()(x,2),s=P[0],H=P[1],X=(0,n.useState)(void 0),N=C()(X,2),f=N[0],V=N[1],w=(0,n.useState)(!1),z=C()(w,2),k=z[0],Y=z[1],q=(0,n.useState)(),J=C()(q,2),ne=J[0],ee=J[1],c=(0,$.useIntl)(),te=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:c.formatMessage({id:"email"}),dataIndex:"email"},{title:c.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:c.formatMessage({id:"pages.commissionRate"}),dataIndex:"commissionRate",hideInSearch:!0,render:function(i,a){var l=[];return a.platformList.forEach(function(m){l.push(m.commissionRate/100+"%")}),(0,r.jsx)("div",{children:l.join("/")})}},{title:c.formatMessage({id:"type"}),dataIndex:"type",hideInSearch:!0,render:function(i,a){var l=[];return a.platformList.forEach(function(m){l.push(m.platform)}),(0,r.jsx)("div",{children:l.join("/")})}},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Volume",dataIndex:"volume",hideInSearch:!0,renderText:function(i){return"$"+(0,T.BW)(i,3)}},{title:"Txns24H",dataIndex:"txns24H",hideInSearch:!0},{title:"Volume24H",dataIndex:"volume24H",hideInSearch:!0,renderText:function(i){return"$"+(0,T.BW)(i,3)}},{title:"Commission",dataIndex:"commission",hideInSearch:!0,renderText:function(i){return"$"+(0,T.BW)(i,3)}},{title:c.formatMessage({id:"pages.vipList.options"}),dataIndex:"option",valueType:"option",hideInDescriptions:!0,render:function(i,a){var l=[],m=!1;return a.platformList.forEach(function(E){E.platform=="web"&&(m=!0)}),m&&l.push((0,r.jsx)(U.ZP,{type:"link",onClick:function(){V(a),H(!0)},children:c.formatMessage({id:"edit"})})),l.push((0,r.jsx)(U.ZP,{type:"link",onClick:function(){V(a),Y(!0)},children:c.formatMessage({id:"pages.vipList.detail"})})),l}}];return(0,r.jsxs)(R._z,{children:[(0,r.jsx)(_.Z,{actionRef:p,rowKey:"id",search:{labelWidth:120},request:function(){var u=j()(d()().mark(function i(a,l){var m,E,o,G,g;return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return a.page=a==null?void 0:a.current,delete a.current,D.next=4,A.Z.rebate.getChannelRebatePageList(a);case 4:return g=D.sent,console.log({data:(m=g.data)===null||m===void 0?void 0:m.list,success:g.code==0,total:(E=g.data)===null||E===void 0?void 0:E.total}),D.abrupt("return",{data:(o=g.data)===null||o===void 0?void 0:o.list,success:g.code==0,total:(G=g.data)===null||G===void 0?void 0:G.total});case 7:case"end":return D.stop()}},i)}));return function(i,a){return u.apply(this,arguments)}}(),columns:te}),f&&(0,r.jsxs)(y.Y,{title:"Edit Commission Rate",open:s,onFinish:function(){var u=j()(d()().mark(function i(a){var l,m;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,A.Z.rebate.editWebChannelRefCommissionRate(f.guid,a.commissionRate*100);case 3:return m=o.sent,K.ZP.success(c.formatMessage({id:"pages.vipList.update.success"})),(l=p.current)===null||l===void 0||l.reload(),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(0),K.ZP.error(c.formatMessage({id:"pages.vipList.update.error"})),o.abrupt("return",!1);case 13:case"end":return o.stop()}},i,null,[[0,9]])}));return function(i){return u.apply(this,arguments)}}(),onOpenChange:H,children:[(0,r.jsx)(F.Z,{name:"guid",label:"Guid",disabled:!0,initialValue:f.guid}),(0,r.jsx)(O.A.Item,{name:"commissionRate",label:c.formatMessage({id:"pages.thirdParty.tradingFeeRate"}),rules:[{required:!0,message:"Please enter commission rate!"}],initialValue:((h=(M=f.platformList.find(function(u){return u.platform=="web"}))===null||M===void 0?void 0:M.commissionRate)!==null&&h!==void 0?h:500)/100,children:(0,r.jsx)(I.Z,{size:"large",addonAfter:"%",precision:2,min:0,max:100})})]}),(0,r.jsx)(b.Z,{width:800,open:k,onClose:function(){V(void 0),ee(void 0),Y(!1)},closable:!1,children:f&&(0,r.jsx)(t.F,{guid:f==null?void 0:f.guid})})]})};W.default=v}}]);
