(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[889],{53275:function(De,B,t){"use strict";t.r(B),t.d(B,{default:function(){return ae}});var Q=t(64599),i=t.n(Q),X=t(15009),L=t.n(X),q=t(99289),E=t.n(q),_=t(5574),g=t.n(_),ee=t(21292),a=t(65763),m=t(94272),Y=t(45433),y=t(4393),S=t(83622),R=t(78957),l=t(78045),c=t(74330),h=t(74656),C=t(96068),Z=t(27484),p=t.n(Z),u=t(67294),x=t(84105),n=t(85893),O=Y.default.RangePicker,te=function(){var W=(0,u.useState)("all"),P=g()(W,2),M=P[0],re=P[1],f=(0,m.useIntl)(),K=u.useState(!1),D=g()(K,2),A=D[0],j=D[1],H=u.useState([]),N=g()(H,2),w=N[0],k=N[1],T=u.useState("total"),V=g()(T,2),s=V[0],je=V[1],fe=[{value:"total",label:"\u5168\u90E8"},{value:"zh-cn",label:"\u4E2D\u6587"},{value:"en",label:"\u82F1\u8BED"},{value:"vi",label:"\u8D8A\u5357\u8BED"},{value:"id",label:"\u5370\u5C3C\u8BED"}],ne=p()().startOf("day"),de=ne.add(-7,"day"),Ue=[de,ne],Ie=u.useState(de.format("YYYY-MM-DD")),ce=g()(Ie,2),oe=ce[0],Ee=ce[1],Re=u.useState(ne.format("YYYY-MM-DD")),ve=g()(Re,2),G=ve[0],Ae=ve[1],Oe=function(r,e){Ee(e[0]),Ae(e[1])},le=[{title:f.formatMessage({id:"type"}),dataIndex:"type",key:"type",onCell:function(r,e){return e===void 0?{rowSpan:1}:e===0?{rowSpan:5}:e>0&&e<5?{rowSpan:0}:e===5?{rowSpan:3}:e>5&&e<8?{rowSpan:0}:e===8?{rowSpan:5}:e>8&&e<13?{rowSpan:0}:e===13?{colSpan:2}:{rowSpan:1}}},{title:"\u5E73\u53F0",dataIndex:"platform",key:"platform",onCell:function(r,e){return e===13?{colSpan:0}:{rowSpan:1}}},{title:"\u603B\u4EA4\u6613\u91CF",dataIndex:"totalVolume",key:"totalVolume",render:function(r,e){return(0,a.q0)((0,a.BW)(e.totalVolume,3))}},{title:"\u603B\u4EA4\u6613\u7B14\u6570",dataIndex:"totalCount",key:"totalCount",render:function(r,e){return(0,a.q0)(e.totalCount.toString())}},{title:"\u603B\u624B\u7EED\u8D39\u6536\u5165",dataIndex:"totalFee",key:"totalFee",render:function(r,e){return(0,a.q0)((0,a.BW)(e.totalFee,3))}},{title:"\u603B\u5171\u4EA4\u6613\u4F63\u91D1",dataIndex:"commissionFee",key:"commissionFee",render:function(r,e){return e.type==="tg"||e.type==="total"?(0,a.q0)((0,a.BW)(e.commissionFee,3)):"-"}},{title:"\u603B\u4EA4\u6613\u5229\u6DA6",dataIndex:"platformFee",key:"platformFee",render:function(r,e){return(0,a.q0)((0,a.BW)(e.platformFee,3))}},{title:"\u603B\u6CE8\u518C\u7528\u6237\u6570",dataIndex:"totalUserCount",key:"totalUserCount",render:function(r,e){return e.type==="tg"||e.type==="total"?(0,a.q0)(e.totalUserCount.toString()):"-"}},{title:"\u603B\u6D3B\u8DC3\u5730\u5740",dataIndex:"totalAciveWalletCount",key:"totalAciveWalletCount",render:function(r,e){return(0,a.q0)(e.totalAciveWalletCount.toString())}},{title:"\u65B0\u589E\u6CE8\u518C\u7528\u6237",dataIndex:"NewUserCount",key:"NewUserCount",render:function(r,e){if(e.type=="aveSwapOld"){if(e.platform=="ios")return"\u4E0E\u65B0\u7248IOS\u5171\u7528";if(e.platform=="android")return"\u4E0E\u65B0\u7248Android\u5171\u7528"}return(0,a.q0)(e.NewUserCount.toString())}},{title:"\u65B0\u589E\u4EA4\u6613\u7528\u6237",dataIndex:"NewTransferUserCount",key:"NewTransferUserCount",render:function(r,e){return(0,a.q0)(e.NewTransferUserCount.toString())}},{title:"\u4EA4\u6613\u7528\u6237\u6570",dataIndex:"tradeUserCount",key:"tradeUserCount",render:function(r,e){return(0,a.q0)(e.tradeUserCount.toString())}}],ie=function(){var o=E()(L()().mark(function r(){var e;return L()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return j(!0),U.next=3,(0,ee.getBotData)(s,oe,G,M=="exclude");case 3:e=U.sent,e.code===0&&e.data&&k(e.data),j(!1);case 6:case"end":return U.stop()}},r)}));return function(){return o.apply(this,arguments)}}();(0,u.useEffect)(function(){ie()},[]),(0,u.useEffect)(function(){ie()},[s,oe,G,M]);function We(){var o=[];if(le){var r=[],e=i()(le),se;try{for(e.s();!(se=e.n()).done;){var U=se.value;r.push(U.title)}}catch(I){e.e(I)}finally{e.f()}o.push(r);var b=i()(w),he;try{for(b.s();!(he=b.n()).done;){var v=he.value,d=[];d.push(v.type),d.push(v.platform),d.push(v.totalVolume),d.push(v.totalCount),d.push(v.totalFee),d.push(v.commissionFee),d.push(v.platformFee),d.push(v.totalUserCount),d.push(v.totalAciveWalletCount),d.push(v.NewUserCount),d.push(v.NewTransferUserCount),d.push(v.tradeUserCount),o.push(d)}}catch(I){b.e(I)}finally{b.f()}}var F=x.P6.aoa_to_sheet(o);F["!merges"]=[{s:{r:1,c:0},e:{r:5,c:0}},{s:{r:6,c:0},e:{r:8,c:0}},{s:{r:9,c:0},e:{r:13,c:0}},{s:{r:14,c:0},e:{r:14,c:1}}];for(var Ne=["F","H"],Te=[7,8,9,10,11,12,13,14],ue=0,pe=Ne;ue<pe.length;ue++){var ge=pe[ue],z=i()(Te),me;try{for(z.s();!(me=z.n()).done;){var ye=me.value;F["".concat(ge).concat(ye)].v="-",F["".concat(ge).concat(ye)].t="s"}}catch(I){z.e(I)}finally{z.f()}}console.log("worksheet",F);var Se=x.P6.book_new();x.P6.book_append_sheet(Se,F,"Sheet1");var Ce="";M=="exclude"&&(Ce="(".concat(f.formatMessage({id:"excludeAltcoinPairs"})).concat(G,")"));var xe="",J=i()(fe),Pe;try{for(J.s();!(Pe=J.n()).done;){var Me=Pe.value;if(Me.value===s){xe=Me.label;break}}}catch(I){J.e(I)}finally{J.f()}var Fe="".concat(oe.replaceAll("-",""),"-").concat(G.replaceAll("-","")).concat(xe).concat(Ce,".xlsx");x.NC(Se,Fe)}return(0,n.jsx)(y.Z,{extra:(0,n.jsxs)("div",{className:"card-tools",children:[(0,n.jsx)(S.ZP,{className:"export",onClick:We,type:"link",children:f.formatMessage({id:"export"})}),(0,n.jsx)(R.Z,{children:(0,n.jsxs)(l.ZP.Group,{value:M,onChange:function(r){return re(r.target.value)},children:[(0,n.jsx)(l.ZP.Button,{value:"all",children:f.formatMessage({id:"all"})}),(0,n.jsx)(l.ZP.Button,{value:"exclude",children:f.formatMessage({id:"excludeAltcoinPairs"})})]})})]}),children:(0,n.jsxs)(c.Z,{spinning:A,tip:f.formatMessage({id:"loading"}),children:[(0,n.jsxs)("div",{className:"search",children:[(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("div",{className:"label",children:f.formatMessage({id:"languageZon"})+":"}),(0,n.jsx)(h.Z,{style:{width:120},onChange:function(r){je(r)},options:fe,value:s})]}),(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("div",{className:"label",children:f.formatMessage({id:"period"})+":"}),(0,n.jsx)(O,{onChange:Oe,defaultValue:Ue})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(C.Z,{columns:le,dataSource:w,pagination:!1})})]})})},ae=te},65763:function(De,B,t){"use strict";t.d(B,{BW:function(){return _},q0:function(){return ee},rD:function(){return g}});var Q=t(64599),i=t.n(Q),X=t(27484),L=t.n(X),q=t(90482),E=t(84105);function _(a,m){if(!a)return"";var Y=new q.Z(a),y=a.split(".");if(y.length!==2)return a;for(var S=y[0],R=y[1],l=0,c="",h=0;h<R.length;h++){var C=R[h];if(c.length>=m)break;C=="0"&&c.length==0?l=l+1:c=c+C}return l>3?S+".0{"+l+"}"+c:S+"."+"0".repeat(l)+c}function g(a,m,Y,y,S,R){var l=new Set,c=new Set,h=i()(y),C;try{for(h.s();!(C=h.n()).done;){var Z=C.value;l.add(Z[a]),c.add(Z[m])}}catch(s){h.e(s)}finally{h.f()}console.log("mainKeyList",l),console.log("timeKeyList",c);var p=new Map,u=i()(y),x;try{for(u.s();!(x=u.n()).done;){var n=x.value,O=n[m],te=n[a],ae=n[Y];p.has(O)||p.set(O,new Map),p.get(O).set(te,ae)}}catch(s){u.e(s)}finally{u.f()}console.log("tempMap",p);var $=[],W=[];W.push("time");var P=i()(l),M;try{for(P.s();!(M=P.n()).done;){var re=M.value;W.push(re)}}catch(s){P.e(s)}finally{P.f()}$.push(W);var f=i()(c),K;try{for(f.s();!(K=f.n()).done;){var D=K.value,A=[];A.push(D);var j=i()(l),H;try{for(j.s();!(H=j.n()).done;){var N=H.value;p.has(D)&&p.get(D).has(N)?A.push(p.get(D).get(N)):A.push("")}}catch(s){j.e(s)}finally{j.f()}$.push(A)}}catch(s){f.e(s)}finally{f.f()}var w=E.P6.aoa_to_sheet($),k=E.P6.book_new();E.P6.book_append_sheet(k,w,"Sheet1");var T="";S=="daily"?T="(\u6BCF\u65E5)":S=="monthly"&&(T="(\u6BCF\u6708)");var V="".concat(L()().format("YYYYMMDDHHmmss")).concat(R.replaceAll(" ","")).concat(T,".xlsx");E.NC(k,V)}function ee(a){var m=parseFloat(a);return m.toLocaleString("en-US")}},20067:function(){}}]);
