"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[45],{5966:function(xe,H,n){var J=n(97685),l=n(1413),Y=n(91),m=n(21770),oe=n(53025),C=n(55241),O=n(97435),Q=n(67294),K=n(59348),S=n(85893),X=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],x="text",q=function(f){var o=f.fieldProps,Z=f.proFieldProps,M=(0,Y.Z)(f,X);return(0,S.jsx)(K.Z,(0,l.Z)({valueType:x,fieldProps:o,filedConfig:{valueType:x},proFieldProps:Z},M))},_=function(f){var o=(0,m.Z)(f.open||!1,{value:f.open,onChange:f.onOpenChange}),Z=(0,J.Z)(o,2),M=Z[0],R=Z[1];return(0,S.jsx)(oe.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var y,r=b.getFieldValue(f.name||[]);return(0,S.jsx)(C.Z,(0,l.Z)((0,l.Z)({getPopupContainer:function(h){return h&&h.parentNode?h.parentNode:h},onOpenChange:function(h){return R(h)},content:(0,S.jsxs)("div",{style:{padding:"4px 0"},children:[(y=f.statusRender)===null||y===void 0?void 0:y.call(f,r),f.strengthText?(0,S.jsx)("div",{style:{marginTop:10},children:(0,S.jsx)("span",{children:f.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},f.popoverProps),{},{open:M,children:f.children}))}})},de=function(f){var o=f.fieldProps,Z=f.proFieldProps,M=(0,Y.Z)(f,g),R=(0,Q.useState)(!1),z=(0,J.Z)(R,2),b=z[0],y=z[1];return o!=null&&o.statusRender&&M.name?(0,S.jsx)(_,{name:M.name,statusRender:o==null?void 0:o.statusRender,popoverProps:o==null?void 0:o.popoverProps,strengthText:o==null?void 0:o.strengthText,open:b,onOpenChange:y,children:(0,S.jsx)("div",{children:(0,S.jsx)(K.Z,(0,l.Z)({valueType:"password",fieldProps:(0,l.Z)((0,l.Z)({},(0,O.Z)(o,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(E){var h;o==null||(h=o.onBlur)===null||h===void 0||h.call(o,E),y(!1)},onClick:function(E){var h;o==null||(h=o.onClick)===null||h===void 0||h.call(o,E),y(!0)}}),proFieldProps:Z,filedConfig:{valueType:x}},M))})}):(0,S.jsx)(K.Z,(0,l.Z)({valueType:"password",fieldProps:o,proFieldProps:Z,filedConfig:{valueType:x}},M))},W=q;W.Password=de,W.displayName="ProFormComponent",H.Z=W},20776:function(xe,H,n){n.r(H),n.d(H,{default:function(){return Re}});var J=n(15009),l=n.n(J),Y=n(99289),m=n.n(Y),oe=n(5574),C=n.n(oe),O=n(93463),Q=n(65763),K=n(90930),S=n(38521),X=n(94272),g=n(2453),x=n(83622),q=n(78957),_=n(74656),de=n(26915),W=n(85265),p=n(67294),f=n(92276),o=n(44886),Z=n(96074),M=n(86738),R=n(6742),z=n(37476),b=n(5966),y=n(78045),r=n(85893),E=[{label:"Total",value:"total"},{label:"Solana",value:"solana"},{label:"BSC",value:"bsc"},{label:"ETH",value:"eth"},{label:"Base",value:"base"},{label:"Core",value:"core"},{label:"TON",value:"ton"},{label:"Tron",value:"tron"},{label:"SUI",value:"sui"}],h=function(ue){var G,B=ue.guid,ee=(0,p.useState)("daily"),re=C()(ee,2),ae=re[0],se=re[1],k=(0,p.useState)("total"),V=C()(k,2),N=V[0],te=V[1],ce=(0,o.t)("@@initialState"),U=ce.initialState,ve=(U==null||(G=U.userInfo)===null||G===void 0?void 0:G.role)=="superAdmin",ne=(0,p.useState)(),A=C()(ne,2),c=A[0],fe=A[1],ie=g.ZP.useMessage(),ge=C()(ie,2),pe=ge[0],Pe=ge[1],a=(0,X.useIntl)(),le=(0,p.useRef)(),Me=(0,p.useState)(!1),D=C()(Me,2),he=D[0],T=D[1],w=(0,p.useRef)(),P=[{title:"Guid",render:function(t,e){return e.user.guid}},{title:"Tg Username",render:function(t,e){return e.user.tgUsername}},{title:"Email",render:function(t,e){return e.user.email}},{title:a.formatMessage({id:"pages.vipList.refCode"}),render:function(t,e){return e.user.refCode}},{title:a.formatMessage({id:"pages.vipList.vipLevel"}),render:function(t,e){return e.user.vip}},{},{title:a.formatMessage({id:"pages.vipList.remark"}),render:function(t,e){return e.user.remark}},{},{title:a.formatMessage({id:"pages.vipList.ref1Guid"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.guid}},{title:a.formatMessage({id:"pages.vipList.ref1TgUsername"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.tgUsername}},{title:a.formatMessage({id:"pages.vipList.ref1Email"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.email}},{title:a.formatMessage({id:"pages.vipList.ref1RefCode"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.refCode}},{title:a.formatMessage({id:"pages.vipList.ref1VipLevel"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.vip}},{},{title:a.formatMessage({id:"pages.vipList.ref1Remark"}),render:function(t,e){var s;return(s=e.up)===null||s===void 0?void 0:s.remark}}],F=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:a.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Chain",dataIndex:"chain",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(t,e,s,u){return"$"+(0,Q.BW)(t,3)}}],L=function(){var i=m()(l()().mark(function t(e){var s;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,R.resetBotSecurityPassword)(e);case 2:s=v.sent,s.code==0?g.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return v.stop()}},t)}));return function(e){return i.apply(this,arguments)}}(),Ce=function(){var i=m()(l()().mark(function t(e){var s;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,R.resetGoogleSecurityPassword)(e);case 2:s=v.sent,s.code==0?g.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return v.stop()}},t)}));return function(e){return i.apply(this,arguments)}}(),$=function(){var i=m()(l()().mark(function t(e){var s;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,R.resetLoginPassword)(e);case 2:s=v.sent,s.code==0?g.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})):g.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 4:case"end":return v.stop()}},t)}));return function(e){return i.apply(this,arguments)}}(),Se=function(){var i=m()(l()().mark(function t(e,s){var u;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,R.freezeAccount)(e,s);case 2:if(u=d.sent,u.code!=0){d.next=9;break}return g.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),d.next=7,me();case 7:d.next=10;break;case 9:g.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 10:case"end":return d.stop()}},t)}));return function(e,s){return i.apply(this,arguments)}}(),we=function(){var i=m()(l()().mark(function t(e){var s,u;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(c){d.next=2;break}return d.abrupt("return");case 2:if(s=/^[0-9a-zA-Z]{1,10}$/,s.test(e.refCode)){d.next=6;break}return g.ZP.error(a.formatMessage({id:"pages.vipList.refCode.verity.error"})),d.abrupt("return");case 6:return d.next=8,(0,R.editRefCode)(c==null?void 0:c.user.guid,e.refCode);case 8:if(u=d.sent,u.code!=0){d.next=15;break}return g.ZP.success(a.formatMessage({id:"pages.vipList.update.success"})),d.next=13,me();case 13:d.next=16;break;case 15:g.ZP.error(a.formatMessage({id:"pages.vipList.update.error"}));case 16:case"end":return d.stop()}},t)}));return function(e){return i.apply(this,arguments)}}(),me=function(){var i=m()(l()().mark(function t(){var e;return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return pe.loading("load..."),u.prev=1,u.next=4,(0,O.$P)(B);case 4:e=u.sent,fe(e.data),u.next=11;break;case 8:u.prev=8,u.t0=u.catch(1),g.ZP.error(a.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 11:pe.destroy();case 12:case"end":return u.stop()}},t,null,[[1,8]])}));return function(){return i.apply(this,arguments)}}();return(0,p.useEffect)(function(){me()},[]),(0,r.jsxs)("div",{children:[c&&(0,r.jsx)(f.ZP,{column:2,title:"View",dataSource:c,columns:P}),(0,r.jsx)(Z.Z,{}),ve&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{marginBottom:10},children:a.formatMessage({id:"options"})}),c&&(0,r.jsxs)("div",{children:[c.user.tgUid&&(0,r.jsx)(M.Z,{title:a.formatMessage({id:"pages.resetBotSecurityPassword"}),description:a.formatMessage({id:"pages.resetBotSecurityPassword.comfirm"},{guid:c.user.guid}),onConfirm:m()(l()().mark(function i(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(c.user.guid);case 2:case"end":return e.stop()}},i)})),children:(0,r.jsx)(x.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetBotSecurityPassword"})})}),(0,r.jsx)(M.Z,{title:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"}),description:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret.comfirm"},{guid:c.user.guid}),onConfirm:m()(l()().mark(function i(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(c.user.guid);case 2:case"end":return e.stop()}},i)})),children:(0,r.jsx)(x.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetGoogleAuthenticatorSecret"})})}),(0,r.jsx)(M.Z,{title:a.formatMessage({id:"pages.resetLoginPassword"}),description:a.formatMessage({id:"pages.resetLoginPassword.comfirm"},{guid:c.user.guid}),onConfirm:m()(l()().mark(function i(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(c.user.guid);case 2:case"end":return e.stop()}},i)})),children:(0,r.jsx)(x.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.resetLoginPassword"})})}),c.user.transferFreeze?(0,r.jsx)(M.Z,{title:a.formatMessage({id:"pages.unfreezeAccount"}),description:a.formatMessage({id:"pages.unfreezeAccount.comfirm"},{guid:c.user.guid}),onConfirm:m()(l()().mark(function i(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(c.user.guid,!1);case 2:case"end":return e.stop()}},i)})),children:(0,r.jsx)(x.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.unfreezeAccount"})})}):(0,r.jsx)(M.Z,{title:a.formatMessage({id:"pages.freezeAccount"}),description:a.formatMessage({id:"pages.freezeAccount.comfirm"},{guid:c.user.guid}),onConfirm:m()(l()().mark(function i(){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(c.user.guid,!0);case 2:case"end":return e.stop()}},i)})),children:(0,r.jsx)(x.ZP,{style:{marginRight:10},children:a.formatMessage({id:"pages.freezeAccount"})})}),(0,r.jsx)(x.ZP,{onClick:function(){T(!0)},children:a.formatMessage({id:"pages.editRefCode"})}),(0,r.jsx)(z.Y,{formRef:w,title:a.formatMessage({id:"pages.editRefCode"}),open:he,onFinish:we,onOpenChange:T,children:(0,r.jsx)(b.Z,{name:"refCode",label:"RefCode",fieldProps:{maxLength:10,defaultValue:c.user.refCode}})})]})]}),(0,r.jsx)(Z.Z,{})]}),(0,r.jsx)("div",{children:a.formatMessage({id:"pages.userDailyTradingByChains"})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10},children:"Chain:"}),(0,r.jsx)(_.Z,{options:E,onChange:function(t){var e;te(t),(e=le.current)===null||e===void 0||e.reload()},value:N})]}),(0,r.jsx)("div",{style:{alignItems:"flex-end"},children:(0,r.jsx)(q.Z,{children:(0,r.jsxs)(y.ZP.Group,{value:ae,onChange:function(t){var e;se(t.target.value),(e=le.current)===null||e===void 0||e.reload()},children:[(0,r.jsx)(y.ZP.Button,{value:"daily",children:a.formatMessage({id:"daily"})}),(0,r.jsx)(y.ZP.Button,{value:"monthly",children:a.formatMessage({id:"monthly"})})]})})})]}),(0,r.jsx)(S.Z,{actionRef:le,rowKey:"index",search:!1,pagination:{pageSize:10,pageSizeOptions:[10]},request:function(){var i=m()(l()().mark(function t(e){var s,u,v,d,I;return l()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(e.page=e==null?void 0:e.current,delete e.current,ae!="daily"){j.next=8;break}return j.next=5,(0,O.pE)(B,N,e.page);case 5:I=j.sent,j.next=11;break;case 8:return j.next=10,(0,O.AM)(B,N,e.page);case 10:I=j.sent;case 11:return console.log({data:(s=I.data)===null||s===void 0?void 0:s.list,success:I.code==0,total:(u=I.data)===null||u===void 0?void 0:u.total}),j.abrupt("return",{data:(v=I.data)===null||v===void 0?void 0:v.list,success:I.code==0,total:(d=I.data)===null||d===void 0?void 0:d.total});case 13:case"end":return j.stop()}},t)}));return function(t){return i.apply(this,arguments)}}(),columns:F})]})},ye=h,Ze=[{label:"RefCode",value:"refCode"},{label:"Guid",value:"guid"},{label:"Email",value:"email"},{label:"TgUsername",value:"tgUsername"},{label:"Evm Addrress",value:"evmAddress"},{label:"Solana Address",value:"solanaAddress"}],je=function(){var ue=(0,p.useRef)(),G=(0,p.useState)("refCode"),B=C()(G,2),ee=B[0],re=B[1],ae=(0,p.useState)(""),se=C()(ae,2),k=se[0],V=se[1],N=(0,p.useState)(!1),te=C()(N,2),ce=te[0],U=te[1],ve=(0,p.useState)(),ne=C()(ve,2),A=ne[0],c=ne[1],fe=(0,p.useState)(),ie=C()(fe,2),ge=ie[0],pe=ie[1],Pe=g.ZP.useMessage(),a=C()(Pe,2),le=a[0],Me=a[1],D=(0,X.useIntl)(),he=[{title:D.formatMessage({id:"rank"}),dataIndex:"rank",hideInSearch:!0},{title:D.formatMessage({id:"name"}),hideInSearch:!0,render:function(w,P){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.ZP,{type:"link",onClick:function(){c(P),U(!0)},children:P.name})})}},{title:"24H Volume(Txns/Vol)",hideInSearch:!0,render:function(w,P){return P.totalTxns+"/$"+(0,Q.BW)(P.totalVol,3)}},{title:"Ref1 Name",dataIndex:"ref1Name",hideInSearch:!0},{renderFormItem:function(){return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginRight:10,whiteSpace:"nowrap"},children:D.formatMessage({id:"pages.searchUser"})}),(0,r.jsxs)(q.Z.Compact,{children:[(0,r.jsx)(_.Z,{style:{width:160},options:Ze,onChange:function(P){re(P)},value:ee}),(0,r.jsx)(de.Z,{style:{width:240},value:k,onChange:function(P){V(P.target.value)}})]})]})}}];return(0,r.jsxs)(K._z,{children:[(0,r.jsx)(S.Z,{actionRef:ue,rowKey:"rank",headerTitle:D.formatMessage({id:"menu.botUserData.tradersRanking"}),pagination:!1,request:m()(l()().mark(function T(){var w,P,F,L;return l()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return F={},k.length>0&&(F[ee]=k),$.next=4,(0,O.HJ)(F);case 4:return L=$.sent,console.log({data:L.data,success:L.code==0,total:(w=L.data)===null||w===void 0?void 0:w.length}),$.abrupt("return",{data:L.data,success:L.code==0,total:(P=L.data)===null||P===void 0?void 0:P.length});case 7:case"end":return $.stop()}},T)})),columns:he,onReset:function(){V("")}}),(0,r.jsx)(W.Z,{width:600,open:ce,onClose:function(){c(void 0),U(!1)},closable:!1,children:A&&(0,r.jsx)(ye,{guid:A==null?void 0:A.guid})})]})},Re=je}}]);
